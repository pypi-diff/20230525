# Comparing `tmp/odoo14_addon_scrap_reason_code-14.0.1.0.2.dev2-py3-none-any.whl.zip` & `tmp/odoo14_addon_scrap_reason_code-14.0.1.1.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,31 +1,31 @@
-Zip file size: 31173 bytes, number of entries: 29
--rw-r--r--  2.0 unx     3728 b- defN 22-Oct-25 05:08 odoo/addons/scrap_reason_code/README.rst
--rw-r--r--  2.0 unx       86 b- defN 22-Oct-25 05:07 odoo/addons/scrap_reason_code/__init__.py
--rw-r--r--  2.0 unx      641 b- defN 22-Oct-25 05:07 odoo/addons/scrap_reason_code/__manifest__.py
--rw-r--r--  2.0 unx     4116 b- defN 22-Oct-25 05:07 odoo/addons/scrap_reason_code/i18n/es.po
--rw-r--r--  2.0 unx     4047 b- defN 22-Oct-25 05:07 odoo/addons/scrap_reason_code/i18n/fr.po
--rw-r--r--  2.0 unx     4076 b- defN 22-Oct-25 05:07 odoo/addons/scrap_reason_code/i18n/it.po
--rw-r--r--  2.0 unx     3691 b- defN 22-Oct-25 05:07 odoo/addons/scrap_reason_code/i18n/scrap_reason_code.pot
--rw-r--r--  2.0 unx      142 b- defN 22-Oct-25 05:07 odoo/addons/scrap_reason_code/models/__init__.py
--rw-r--r--  2.0 unx      519 b- defN 22-Oct-25 05:07 odoo/addons/scrap_reason_code/models/reason_code.py
--rw-r--r--  2.0 unx      315 b- defN 22-Oct-25 05:07 odoo/addons/scrap_reason_code/models/stock_move.py
--rw-r--r--  2.0 unx     1433 b- defN 22-Oct-25 05:07 odoo/addons/scrap_reason_code/models/stock_scrap.py
--rw-r--r--  2.0 unx      118 b- defN 22-Oct-25 05:07 odoo/addons/scrap_reason_code/readme/CONFIGURE.rst
--rw-r--r--  2.0 unx      277 b- defN 22-Oct-25 05:07 odoo/addons/scrap_reason_code/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx       93 b- defN 22-Oct-25 05:07 odoo/addons/scrap_reason_code/readme/CREDITS.rst
--rw-r--r--  2.0 unx       96 b- defN 22-Oct-25 05:07 odoo/addons/scrap_reason_code/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx        0 b- defN 22-Oct-25 05:07 odoo/addons/scrap_reason_code/readme/ROADMAP.rst
--rw-r--r--  2.0 unx      169 b- defN 22-Oct-25 05:07 odoo/addons/scrap_reason_code/readme/USAGE.rst
--rw-r--r--  2.0 unx      397 b- defN 22-Oct-25 05:07 odoo/addons/scrap_reason_code/security/ir.model.access.csv
--rw-r--r--  2.0 unx     9455 b- defN 22-Oct-25 05:07 odoo/addons/scrap_reason_code/static/description/icon.png
--rw-r--r--  2.0 unx    13878 b- defN 22-Oct-25 05:08 odoo/addons/scrap_reason_code/static/description/index.html
--rw-r--r--  2.0 unx      102 b- defN 22-Oct-25 05:07 odoo/addons/scrap_reason_code/tests/__init__.py
--rw-r--r--  2.0 unx     6446 b- defN 22-Oct-25 05:07 odoo/addons/scrap_reason_code/tests/test_scrap_reason_code.py
--rw-r--r--  2.0 unx     1685 b- defN 22-Oct-25 05:07 odoo/addons/scrap_reason_code/views/reason_code_view.xml
--rw-r--r--  2.0 unx      806 b- defN 22-Oct-25 05:07 odoo/addons/scrap_reason_code/views/stock_move_views.xml
--rw-r--r--  2.0 unx     1488 b- defN 22-Oct-25 05:07 odoo/addons/scrap_reason_code/views/stock_scrap_views.xml
--rw-r--r--  2.0 unx     4300 b- defN 22-Oct-25 05:09 odoo14_addon_scrap_reason_code-14.0.1.0.2.dev2.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 22-Oct-25 05:09 odoo14_addon_scrap_reason_code-14.0.1.0.2.dev2.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 22-Oct-25 05:09 odoo14_addon_scrap_reason_code-14.0.1.0.2.dev2.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     3086 b- defN 22-Oct-25 05:09 odoo14_addon_scrap_reason_code-14.0.1.0.2.dev2.dist-info/RECORD
-29 files, 65287 bytes uncompressed, 25927 bytes compressed:  60.3%
+Zip file size: 32364 bytes, number of entries: 29
+-rw-r--r--  2.0 unx     3766 b- defN 23-May-24 16:06 odoo/addons/scrap_reason_code/README.rst
+-rw-r--r--  2.0 unx       86 b- defN 23-May-24 16:06 odoo/addons/scrap_reason_code/__init__.py
+-rw-r--r--  2.0 unx      641 b- defN 23-May-24 16:06 odoo/addons/scrap_reason_code/__manifest__.py
+-rw-r--r--  2.0 unx     4116 b- defN 23-May-24 16:06 odoo/addons/scrap_reason_code/i18n/es.po
+-rw-r--r--  2.0 unx     4047 b- defN 23-May-24 16:06 odoo/addons/scrap_reason_code/i18n/fr.po
+-rw-r--r--  2.0 unx     4076 b- defN 23-May-24 16:06 odoo/addons/scrap_reason_code/i18n/it.po
+-rw-r--r--  2.0 unx     4530 b- defN 23-May-24 16:06 odoo/addons/scrap_reason_code/i18n/scrap_reason_code.pot
+-rw-r--r--  2.0 unx      142 b- defN 23-May-24 16:06 odoo/addons/scrap_reason_code/models/__init__.py
+-rw-r--r--  2.0 unx      902 b- defN 23-May-24 16:06 odoo/addons/scrap_reason_code/models/reason_code.py
+-rw-r--r--  2.0 unx      315 b- defN 23-May-24 16:06 odoo/addons/scrap_reason_code/models/stock_move.py
+-rw-r--r--  2.0 unx     2736 b- defN 23-May-24 16:06 odoo/addons/scrap_reason_code/models/stock_scrap.py
+-rw-r--r--  2.0 unx      118 b- defN 23-May-24 16:06 odoo/addons/scrap_reason_code/readme/CONFIGURE.rst
+-rw-r--r--  2.0 unx      315 b- defN 23-May-24 16:06 odoo/addons/scrap_reason_code/readme/CONTRIBUTORS.rst
+-rw-r--r--  2.0 unx       93 b- defN 23-May-24 16:06 odoo/addons/scrap_reason_code/readme/CREDITS.rst
+-rw-r--r--  2.0 unx       96 b- defN 23-May-24 16:06 odoo/addons/scrap_reason_code/readme/DESCRIPTION.rst
+-rw-r--r--  2.0 unx        0 b- defN 23-May-24 16:06 odoo/addons/scrap_reason_code/readme/ROADMAP.rst
+-rw-r--r--  2.0 unx      169 b- defN 23-May-24 16:06 odoo/addons/scrap_reason_code/readme/USAGE.rst
+-rw-r--r--  2.0 unx      397 b- defN 23-May-24 16:06 odoo/addons/scrap_reason_code/security/ir.model.access.csv
+-rw-r--r--  2.0 unx     9455 b- defN 23-May-24 16:06 odoo/addons/scrap_reason_code/static/description/icon.png
+-rw-r--r--  2.0 unx    14009 b- defN 23-May-24 16:06 odoo/addons/scrap_reason_code/static/description/index.html
+-rw-r--r--  2.0 unx      102 b- defN 23-May-24 16:06 odoo/addons/scrap_reason_code/tests/__init__.py
+-rw-r--r--  2.0 unx     8648 b- defN 23-May-24 16:06 odoo/addons/scrap_reason_code/tests/test_scrap_reason_code.py
+-rw-r--r--  2.0 unx     2169 b- defN 23-May-24 16:06 odoo/addons/scrap_reason_code/views/reason_code_view.xml
+-rw-r--r--  2.0 unx      806 b- defN 23-May-24 16:06 odoo/addons/scrap_reason_code/views/stock_move_views.xml
+-rw-r--r--  2.0 unx     1693 b- defN 23-May-24 16:06 odoo/addons/scrap_reason_code/views/stock_scrap_views.xml
+-rw-r--r--  2.0 unx     4333 b- defN 23-May-24 16:07 odoo14_addon_scrap_reason_code-14.0.1.1.0.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-May-24 16:07 odoo14_addon_scrap_reason_code-14.0.1.1.0.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-May-24 16:07 odoo14_addon_scrap_reason_code-14.0.1.1.0.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     3066 b- defN 23-May-24 16:07 odoo14_addon_scrap_reason_code-14.0.1.1.0.dist-info/RECORD
+29 files, 70923 bytes uncompressed, 27158 bytes compressed:  61.7%
```

## zipnote {}

```diff
@@ -69,20 +69,20 @@
 
 Filename: odoo/addons/scrap_reason_code/views/stock_move_views.xml
 Comment: 
 
 Filename: odoo/addons/scrap_reason_code/views/stock_scrap_views.xml
 Comment: 
 
-Filename: odoo14_addon_scrap_reason_code-14.0.1.0.2.dev2.dist-info/METADATA
+Filename: odoo14_addon_scrap_reason_code-14.0.1.1.0.dist-info/METADATA
 Comment: 
 
-Filename: odoo14_addon_scrap_reason_code-14.0.1.0.2.dev2.dist-info/WHEEL
+Filename: odoo14_addon_scrap_reason_code-14.0.1.1.0.dist-info/WHEEL
 Comment: 
 
-Filename: odoo14_addon_scrap_reason_code-14.0.1.0.2.dev2.dist-info/top_level.txt
+Filename: odoo14_addon_scrap_reason_code-14.0.1.1.0.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo14_addon_scrap_reason_code-14.0.1.0.2.dev2.dist-info/RECORD
+Filename: odoo14_addon_scrap_reason_code-14.0.1.1.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/scrap_reason_code/README.rst

```diff
@@ -70,14 +70,15 @@
 ~~~~~~~~~~~~
 
 * Michael Allen <mallen@opensourceintegrators.com>
 * Bhavesh Odedra <bodedra@opensourceintegrators.com>
 * Balaji Kannan <bkannan@opensourceintegrators.com>
 * Serpent Consulting Services Pvt. Ltd. <support@serpentcs.com>
 * Chandresh Thakkar <cthakkar@opensourceintegrators.com>
+* Lois Rilo <lois.rilo@forgeflow.com>
 
 Other credits
 ~~~~~~~~~~~~~
 
 The development of this module has been financially supported by:
 
 * Open Source Integrators
```

## odoo/addons/scrap_reason_code/__manifest__.py

```diff
@@ -1,12 +1,12 @@
 # License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl).
 
 {
     "name": "Scrap Reason Code",
-    "version": "14.0.1.0.1",
+    "version": "14.0.1.1.0",
     "license": "AGPL-3",
     "summary": "Reason code for scrapping",
     "author": "Open Source Integrators, Odoo Community Association (OCA)",
     "website": "https://github.com/OCA/stock-logistics-warehouse",
     "category": "Warehouse Management",
     "depends": ["stock"],
     "data": [
```

## odoo/addons/scrap_reason_code/i18n/scrap_reason_code.pot

```diff
@@ -10,14 +10,24 @@
 "Language-Team: \n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: \n"
 "Plural-Forms: \n"
 
 #. module: scrap_reason_code
+#: model:ir.model.fields,field_description:scrap_reason_code.field_scrap_reason_code__product_category_ids
+msgid "Allowed Product Categories"
+msgstr ""
+
+#. module: scrap_reason_code
+#: model:ir.model.fields,field_description:scrap_reason_code.field_stock_scrap__allowed_reason_code_ids
+msgid "Allowed Reason Code"
+msgstr ""
+
+#. module: scrap_reason_code
 #: model:ir.model.fields,field_description:scrap_reason_code.field_scrap_reason_code__name
 msgid "Code"
 msgstr ""
 
 #. module: scrap_reason_code
 #: model:ir.model.fields,field_description:scrap_reason_code.field_scrap_reason_code__create_uid
 msgid "Created by"
@@ -44,14 +54,21 @@
 #: model:ir.model.fields,field_description:scrap_reason_code.field_scrap_reason_code__id
 #: model:ir.model.fields,field_description:scrap_reason_code.field_stock_move__id
 #: model:ir.model.fields,field_description:scrap_reason_code.field_stock_scrap__id
 msgid "ID"
 msgstr ""
 
 #. module: scrap_reason_code
+#: model:ir.model.fields,help:scrap_reason_code.field_scrap_reason_code__product_category_ids
+msgid ""
+"Indicate the cateogories of products that can use this reason code when "
+"doing a scrap. If left empy, this reason code can be used with any product."
+msgstr ""
+
+#. module: scrap_reason_code
 #: model:ir.model.fields,field_description:scrap_reason_code.field_scrap_reason_code____last_update
 #: model:ir.model.fields,field_description:scrap_reason_code.field_stock_move____last_update
 #: model:ir.model.fields,field_description:scrap_reason_code.field_stock_scrap____last_update
 msgid "Last Modified on"
 msgstr ""
 
 #. module: scrap_reason_code
@@ -99,7 +116,13 @@
 msgid "Scrap Reason Codes"
 msgstr ""
 
 #. module: scrap_reason_code
 #: model:ir.model,name:scrap_reason_code.model_stock_move
 msgid "Stock Move"
 msgstr ""
+
+#. module: scrap_reason_code
+#: code:addons/scrap_reason_code/models/stock_scrap.py:0
+#, python-format
+msgid "The selected reason code is not allowed for this product category."
+msgstr ""
```

## odoo/addons/scrap_reason_code/models/reason_code.py

```diff
@@ -1,9 +1,10 @@
 # Copyright (C) 2019 IBM Corp.
 # Copyright (C) 2019 Open Source Integrators
+# Copyright 2023 ForgeFlow S.L. (https://www.forgeflow.com)
 # License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl).
 
 from odoo import fields, models
 
 
 class ScrapReasonCode(models.Model):
     _name = "scrap.reason.code"
@@ -12,7 +13,14 @@
     name = fields.Char("Code", required=True)
     description = fields.Text("Description")
     location_id = fields.Many2one(
         "stock.location",
         string="Scrap Location",
         domain="[('scrap_location', '=', True)]",
     )
+    product_category_ids = fields.Many2many(
+        string="Allowed Product Categories",
+        comodel_name="product.category",
+        help="Indicate the cateogories of products that can use this reason code "
+        "when doing a scrap. If left empy, this reason code can be used "
+        "with any product.",
+    )
```

## odoo/addons/scrap_reason_code/models/stock_scrap.py

```diff
@@ -1,22 +1,58 @@
 # Copyright (C) 2019 IBM Corp.
 # Copyright (C) 2019 Open Source Integrators
+# Copyright 2023 ForgeFlow S.L. (https://www.forgeflow.com)
 # License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl).
 
-from odoo import api, fields, models
+from odoo import _, api, fields, models
+from odoo.exceptions import ValidationError
 
 
 class StockScrap(models.Model):
     _inherit = "stock.scrap"
 
     reason_code_id = fields.Many2one(
-        "scrap.reason.code", string="Reason Code", states={"done": [("readonly", True)]}
+        comodel_name="scrap.reason.code",
+        string="Reason Code",
+        states={"done": [("readonly", True)]},
+        domain="[('id', 'in', allowed_reason_code_ids)]",
+    )
+    allowed_reason_code_ids = fields.Many2many(
+        comodel_name="scrap.reason.code",
+        compute="_compute_allowed_reason_code_ids",
     )
     scrap_location_id = fields.Many2one(readonly=True)
 
+    @api.depends("product_id")
+    def _compute_allowed_reason_code_ids(self):
+        for rec in self:
+            codes = self.env["scrap.reason.code"]
+            if rec.product_id:
+                codes = codes.search(
+                    [
+                        "|",
+                        ("product_category_ids", "=", False),
+                        ("product_category_ids", "in", rec.product_id.categ_id.id),
+                    ]
+                )
+            rec.allowed_reason_code_ids = codes
+
+    @api.constrains("reason_code_id", "product_id")
+    def _check_reason_code_id(self):
+        for rec in self:
+            if (
+                rec.reason_code_id
+                and rec.reason_code_id not in rec.allowed_reason_code_ids
+            ):
+                raise ValidationError(
+                    _(
+                        "The selected reason code is not allowed for this product category."
+                    )
+                )
+
     def _prepare_move_values(self):
         res = super(StockScrap, self)._prepare_move_values()
         res["reason_code_id"] = self.reason_code_id.id
         return res
 
     @api.onchange("reason_code_id")
     def _onchange_reason_code_id(self):
```

## odoo/addons/scrap_reason_code/readme/CONTRIBUTORS.rst

```diff
@@ -1,5 +1,6 @@
 * Michael Allen <mallen@opensourceintegrators.com>
 * Bhavesh Odedra <bodedra@opensourceintegrators.com>
 * Balaji Kannan <bkannan@opensourceintegrators.com>
 * Serpent Consulting Services Pvt. Ltd. <support@serpentcs.com>
 * Chandresh Thakkar <cthakkar@opensourceintegrators.com>
+* Lois Rilo <lois.rilo@forgeflow.com>
```

## odoo/addons/scrap_reason_code/static/description/index.html

### odoo/addons/scrap_reason_code/static/description/index.html

```diff
@@ -487,14 +487,19 @@
               &gt;
             </li>
             <li>
               Chandresh Thakkar &lt;
               <a class="reference external" href="mailto:cthakkar@opensourceintegrators.com">cthakkar@opensourceintegrators.com</a>
               &gt;
             </li>
+            <li>
+              Lois Rilo &lt;
+              <a class="reference external" href="mailto:lois.rilo@forgeflow.com">lois.rilo@forgeflow.com</a>
+              &gt;
+            </li>
           </ul>
         </div>
         <div class="section" id="other-credits">
           <h2>
             <a class="toc-backref" href="#id7">Other credits</a>
           </h2>
           <p>The development of this module has been financially supported by:</p>
```

## odoo/addons/scrap_reason_code/tests/test_scrap_reason_code.py

```diff
@@ -1,20 +1,23 @@
 # Copyright (C) 2019 IBM Corp.
 # Copyright (C) 2019 Open Source Integrators
 # License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl).
 
+from odoo.exceptions import ValidationError
 from odoo.tests.common import TransactionCase
 
 
 class StockScrap(TransactionCase):
     def setUp(self):
         super(StockScrap, self).setUp()
 
         self.stock_location = self.env.ref("stock.stock_location_stock")
         self.customer_location = self.env.ref("stock.stock_location_customers")
+        self.categ_1 = self.env.ref("product.product_category_all")
+        self.categ_2 = self.env["product.category"].create({"name": "Test category"})
         stock_location_locations_virtual = self.env["stock.location"].create(
             {"name": "Virtual Locations", "usage": "view", "posz": 1}
         )
         self.scrapped_location = self.env["stock.location"].create(
             {
                 "name": "Scrapped",
                 "location_id": stock_location_locations_virtual.id,
@@ -23,25 +26,39 @@
             }
         )
 
         self.scrap_product = self.env["product.product"].create(
             {
                 "name": "Scrap Product A",
                 "type": "product",
-                "categ_id": self.env.ref("product.product_category_all").id,
+                "categ_id": self.categ_1.id,
+            }
+        )
+        self.scrap_product_2 = self.env["product.product"].create(
+            {
+                "name": "Scrap Product A",
+                "type": "product",
+                "categ_id": self.categ_2.id,
             }
         )
 
         self.reason_code = self.env["scrap.reason.code"].create(
             {
                 "name": "DM300",
                 "description": "Product is damage",
                 "location_id": self.scrapped_location.id,
             }
         )
+        self.reason_code_only_categ_2 = self.env["scrap.reason.code"].create(
+            {
+                "name": "Test Code 2",
+                "description": "Test description",
+                "product_category_ids": [(6, 0, self.categ_2.ids)],
+            }
+        )
 
         self.uom_unit = self.env.ref("uom.product_uom_unit")
 
     def test_scrap_reason_code(self):
         """Scrap the product of a picking. Then modify the
         done linked stock move and ensure the scrap quantity is also
         updated and verify scrap reason code
@@ -160,7 +177,44 @@
             "Scrap quantity has been modified and is not " "correct anymore.",
         )
         move = scrap2.move_id
         self.assertEqual(move.reason_code_id.id, self.reason_code.id)
 
         scrapped_move.quantity_done = 8
         self.assertEqual(scrap2.scrap_qty, 8, "Scrap quantity is not updated.")
+
+    def test_allowed_reason_codes(self):
+        with self.assertRaises(ValidationError):
+            self.env["stock.scrap"].create(
+                {
+                    "product_id": self.scrap_product.id,
+                    "product_uom_id": self.scrap_product_2.uom_id.id,
+                    "scrap_qty": 5,
+                    "reason_code_id": self.reason_code_only_categ_2.id,
+                }
+            )
+        scrap = self.env["stock.scrap"].create(
+            {
+                "product_id": self.scrap_product.id,
+                "product_uom_id": self.scrap_product.uom_id.id,
+                "scrap_qty": 5,
+                "reason_code_id": self.reason_code.id,
+            }
+        )
+        self.assertEqual(scrap.allowed_reason_code_ids, self.reason_code)
+        with self.assertRaises(ValidationError):
+            scrap.write({"reason_code_id": self.reason_code_only_categ_2.id})
+        scrap = self.env["stock.scrap"].create(
+            {
+                "product_id": self.scrap_product_2.id,
+                "product_uom_id": self.scrap_product_2.uom_id.id,
+                "scrap_qty": 5,
+                "reason_code_id": self.reason_code_only_categ_2.id,
+            }
+        )
+        with self.assertRaises(ValidationError):
+            scrap.write({"product_id": self.scrap_product.id})
+        self.assertEqual(
+            scrap.allowed_reason_code_ids,
+            (self.reason_code + self.reason_code_only_categ_2),
+        )
+        scrap.write({"reason_code_id": self.reason_code.id})
```

## odoo/addons/scrap_reason_code/views/reason_code_view.xml

### odoo/addons/scrap_reason_code/views/reason_code_view.xml

```diff
@@ -1,37 +1,44 @@
 <?xml version="1.0" encoding="utf-8"?>
 <!-- Copyright 2019 Open Source Integrators
+     Copyright 2023 ForgeFlow S.L. (https://www.forgeflow.com)
      License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl). -->
 <odoo>
   <!-- Scrap Reason Code Type -->
   <record id="view_scrap_reason_code_form" model="ir.ui.view">
     <field name="name">scrap.reason.code.form</field>
     <field name="model">scrap.reason.code</field>
     <field name="arch" type="xml">
       <form string="Reason Code">
-        <group>
-          <field name="name"/>
-        </group>
-        <group>
-          <field name="description"/>
-        </group>
-        <group>
-          <field name="location_id"/>
-        </group>
+        <sheet>
+          <div class="oe_title">
+            <h1>
+              <field name="name" nolabel="1"/>
+            </h1>
+          </div>
+          <group>
+            <field name="description"/>
+          </group>
+          <group>
+            <field name="location_id"/>
+            <field name="product_category_ids" widget="many2many_tags" options="{'no_create': True}"/>
+          </group>
+        </sheet>
       </form>
     </field>
   </record>
   <record id="view_scrap_reason_code_list" model="ir.ui.view">
     <field name="name">scrap.reason.code.list</field>
     <field name="model">scrap.reason.code</field>
     <field name="arch" type="xml">
       <tree string="Reason Codes">
         <field name="name"/>
         <field name="description"/>
         <field name="location_id"/>
+        <field name="product_category_ids" widget="many2many_tags"/>
       </tree>
     </field>
   </record>
   <record id="open_view_scrap_reason_code_form" model="ir.actions.act_window">
     <field name="name">Scrap Reason Codes</field>
     <field name="res_model">scrap.reason.code</field>
     <field name="view_mode">tree,form</field>
```

## odoo/addons/scrap_reason_code/views/stock_scrap_views.xml

### odoo/addons/scrap_reason_code/views/stock_scrap_views.xml

```diff
@@ -1,18 +1,20 @@
 <?xml version="1.0" encoding="utf-8"?>
 <!-- Copyright 2019 Open Source Integrators
+     Copyright 2023 ForgeFlow S.L. (https://www.forgeflow.com)
      License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl). -->
 <odoo>
   <record id="stock_scrap_form_reason_code" model="ir.ui.view">
     <field name="name">stock.scrap.form.reason.code</field>
     <field name="model">stock.scrap</field>
     <field name="inherit_id" ref="stock.stock_scrap_form_view"/>
     <field name="arch" type="xml">
       <xpath expr="//group/group" position="inside">
         <field name="reason_code_id"/>
+        <field name="allowed_reason_code_ids" invisible="1"/>
       </xpath>
     </field>
   </record>
   <record id="stock_scrap_tree_reason_code" model="ir.ui.view">
     <field name="name">stock.scrap.tree.reason.code</field>
     <field name="model">stock.scrap</field>
     <field name="inherit_id" ref="stock.stock_scrap_tree_view"/>
@@ -25,11 +27,12 @@
   <record id="stock_scrap_form2_reason_code" model="ir.ui.view">
     <field name="name">stock.scrap.form2.reason.code</field>
     <field name="model">stock.scrap</field>
     <field name="inherit_id" ref="stock.stock_scrap_form_view2"/>
     <field name="arch" type="xml">
       <xpath expr="//group/group" position="inside">
         <field name="reason_code_id"/>
+        <field name="allowed_reason_code_ids" invisible="1"/>
       </xpath>
     </field>
   </record>
 </odoo>
```

## Comparing `odoo14_addon_scrap_reason_code-14.0.1.0.2.dev2.dist-info/METADATA` & `odoo14_addon_scrap_reason_code-14.0.1.1.0.dist-info/METADATA`

 * *Files 2% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: odoo14-addon-scrap-reason-code
-Version: 14.0.1.0.2.dev2
+Version: 14.0.1.1.0
 Summary: Reason code for scrapping
 Home-page: https://github.com/OCA/stock-logistics-warehouse
 Author: Open Source Integrators, Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
 License: AGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
@@ -86,14 +86,15 @@
 ~~~~~~~~~~~~
 
 * Michael Allen <mallen@opensourceintegrators.com>
 * Bhavesh Odedra <bodedra@opensourceintegrators.com>
 * Balaji Kannan <bkannan@opensourceintegrators.com>
 * Serpent Consulting Services Pvt. Ltd. <support@serpentcs.com>
 * Chandresh Thakkar <cthakkar@opensourceintegrators.com>
+* Lois Rilo <lois.rilo@forgeflow.com>
 
 Other credits
 ~~~~~~~~~~~~~
 
 The development of this module has been financially supported by:
 
 * Open Source Integrators
```

## Comparing `odoo14_addon_scrap_reason_code-14.0.1.0.2.dev2.dist-info/RECORD` & `odoo14_addon_scrap_reason_code-14.0.1.1.0.dist-info/RECORD`

 * *Files 23% similar despite different names*

```diff
@@ -1,29 +1,29 @@
-odoo/addons/scrap_reason_code/README.rst,sha256=uvzsQ-H17H3jXmEYVvKIL1oICQrWvbnI-Ascb_oU-R0,3728
+odoo/addons/scrap_reason_code/README.rst,sha256=lIjdyqOgJlr9zJTCfRd3cKBjLpdyWHuDy3ULo1xIraY,3766
 odoo/addons/scrap_reason_code/__init__.py,sha256=ZGjmXT9q1Wc3A9Eb3pRZjwDcSFijPJcJLFSMyZdyxyU,86
-odoo/addons/scrap_reason_code/__manifest__.py,sha256=rfHz_ACXJxyw6alJpsljzuPpXWsLaGyf4Sy4mdjp1aM,641
+odoo/addons/scrap_reason_code/__manifest__.py,sha256=7-UVaDyR6y7kiLmvEVpOYqRjM2ktSfM1DH42-rw9E34,641
 odoo/addons/scrap_reason_code/i18n/es.po,sha256=TVod_fVU5UyUTbWT4DEVFLbk-u2xGjyTT_V8IbWvhDs,4116
 odoo/addons/scrap_reason_code/i18n/fr.po,sha256=FsXqM43WN6LmtmtNTUJaLJPXj-4eXXSOJA5fuCWCJNc,4047
 odoo/addons/scrap_reason_code/i18n/it.po,sha256=_tXRUJl0R-LvkKI8WWYmbqQboZ1Rbv-ObZWVOy2Sub4,4076
-odoo/addons/scrap_reason_code/i18n/scrap_reason_code.pot,sha256=9KJ9tHq_zSwh-OhYGL-kwwZyn6GKIBnbaxr9GnMjprs,3691
+odoo/addons/scrap_reason_code/i18n/scrap_reason_code.pot,sha256=MlFbeTa0FtxHk5xxAOBTzMZFc-atsCxzPwF1Ju9oKlk,4530
 odoo/addons/scrap_reason_code/models/__init__.py,sha256=giQRBr6nVgPYUJ5c_7nGfQmZiu-cA8_19Ra8vQZPRzc,142
-odoo/addons/scrap_reason_code/models/reason_code.py,sha256=BbTj-lt8xlwh5RgWF7ydyVOH5McDLf1JYUAKVDsGNvw,519
+odoo/addons/scrap_reason_code/models/reason_code.py,sha256=KUzlp_YmpG5TauCCFbSaeoQmtwEPvamuJ7U_zwpk3zQ,902
 odoo/addons/scrap_reason_code/models/stock_move.py,sha256=4sod3yg4D4KBQDuvOR8nMMhrAfS6r-tBx7CF2cPsGqI,315
-odoo/addons/scrap_reason_code/models/stock_scrap.py,sha256=6JktYUv9x06BvqWFmfC4seIqULg4ypRNleBxEdvL8UY,1433
+odoo/addons/scrap_reason_code/models/stock_scrap.py,sha256=dyyeg9k-m1G48Yeg9qGh4bP5Q15pq23h9tBPrJDX3fY,2736
 odoo/addons/scrap_reason_code/readme/CONFIGURE.rst,sha256=e0pCDY8v9P1qr8eos9tP8VYEAC4yrW7zfB3DUHrkD0g,118
-odoo/addons/scrap_reason_code/readme/CONTRIBUTORS.rst,sha256=yM34XvPUwx9KpkrJ6mhZFql7nO74YBTe-oQeDnlu6dI,277
+odoo/addons/scrap_reason_code/readme/CONTRIBUTORS.rst,sha256=58nSHeyl-62sxnEzqj4rbTFtHJ1-zXQRAgEDHsRWGE8,315
 odoo/addons/scrap_reason_code/readme/CREDITS.rst,sha256=XQS3YPSCvj0Q6ajh7S8lAI980JtBdIpd48Qw7lDv-dk,93
 odoo/addons/scrap_reason_code/readme/DESCRIPTION.rst,sha256=yN-LIYnVZ_nUby3GIYvmth_mlBLNrH_AKrybXofF3RM,96
 odoo/addons/scrap_reason_code/readme/ROADMAP.rst,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 odoo/addons/scrap_reason_code/readme/USAGE.rst,sha256=2K_Oakg05L_8C85Vck3OCX8zxSeOyK_4hAYPX7ok4ek,169
 odoo/addons/scrap_reason_code/security/ir.model.access.csv,sha256=TlKwqQcIugo5x96SPxr_PgYRxIGL_vCIwKA3sIaZNWw,397
 odoo/addons/scrap_reason_code/static/description/icon.png,sha256=6xBPJauaFOF0KDHfHgQopSc28kKvxMaeoQFQWZtfZDo,9455
-odoo/addons/scrap_reason_code/static/description/index.html,sha256=AbVRVbCyFPBM9NpQ9VoQ4xRWDRtY_F0xv1vVI6o0Qbc,13878
+odoo/addons/scrap_reason_code/static/description/index.html,sha256=ixDDUmQyZVslsi2xESM3KqmYkHxP7zpp75jwONcedXU,14009
 odoo/addons/scrap_reason_code/tests/__init__.py,sha256=cb209iSITCxyJpG336PtEKajhVNNS5ciQwu-c4gJ2O8,102
-odoo/addons/scrap_reason_code/tests/test_scrap_reason_code.py,sha256=jDMfY95V4Eqge-nOC3wGl2LNNN2XHOHnrVJhi516fh4,6446
-odoo/addons/scrap_reason_code/views/reason_code_view.xml,sha256=T4qEoi2l5iBaQPprFFancXXLUH1qsdAmP7hhTI0MAcs,1685
+odoo/addons/scrap_reason_code/tests/test_scrap_reason_code.py,sha256=G6xVCXmIJn0zWGd3ClvQ9whrxqfHGiRyAKMeQeL1vOY,8648
+odoo/addons/scrap_reason_code/views/reason_code_view.xml,sha256=pjAkUpY3CHleZSs3nlqYYQNOGScGY1U_9MccgUWcjMA,2169
 odoo/addons/scrap_reason_code/views/stock_move_views.xml,sha256=4DeV8tWQVgwrwUKdk0G7lPRRJKRZ6yh_FViCPXVhT5I,806
-odoo/addons/scrap_reason_code/views/stock_scrap_views.xml,sha256=p_U4t-y_nmV5dIob5eK0yCXxD0iBnlXtYyzD8xJCRs8,1488
-odoo14_addon_scrap_reason_code-14.0.1.0.2.dev2.dist-info/METADATA,sha256=zL81GFIGnnPZU78XA1z5br-E20yLOgm_9ZOfkR3v0ag,4300
-odoo14_addon_scrap_reason_code-14.0.1.0.2.dev2.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
-odoo14_addon_scrap_reason_code-14.0.1.0.2.dev2.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo14_addon_scrap_reason_code-14.0.1.0.2.dev2.dist-info/RECORD,,
+odoo/addons/scrap_reason_code/views/stock_scrap_views.xml,sha256=UHsR6c7OZ5tx_Z_f61RITvfQjGFxBgZ_bzL77_WLQ2c,1693
+odoo14_addon_scrap_reason_code-14.0.1.1.0.dist-info/METADATA,sha256=E0S0XElo3l3lvbZ3NaSfTworlcuMBEYvy7MrADXhO30,4333
+odoo14_addon_scrap_reason_code-14.0.1.1.0.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
+odoo14_addon_scrap_reason_code-14.0.1.1.0.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo14_addon_scrap_reason_code-14.0.1.1.0.dist-info/RECORD,,
```

