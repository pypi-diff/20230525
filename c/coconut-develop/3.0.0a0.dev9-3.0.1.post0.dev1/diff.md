# Comparing `tmp/coconut-develop-3.0.0a0.dev9.tar.gz` & `tmp/coconut-develop-3.0.1.post0.dev1.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "coconut-develop-3.0.0a0.dev9.tar", last modified: Sat Feb 11 01:34:33 2023, max compression
+gzip compressed data, was "dist/coconut-develop-3.0.1.post0.dev1.tar", last modified: Thu May 25 05:30:22 2023, max compression
```

## Comparing `coconut-develop-3.0.0a0.dev9.tar` & `coconut-develop-3.0.1.post0.dev1.tar`

### file list

```diff
@@ -1,109 +1,109 @@
-drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-02-11 01:34:33.807755 coconut-develop-3.0.0a0.dev9/
--rw-r--r--   0 runner    (1001) docker     (122)    13686 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/CONTRIBUTING.md
--rw-r--r--   0 runner    (1001) docker     (122)   184613 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/DOCS.md
--rw-r--r--   0 runner    (1001) docker     (122)    11385 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/FAQ.md
--rw-r--r--   0 runner    (1001) docker     (122)    65152 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/HELP.md
--rw-r--r--   0 runner    (1001) docker     (122)    11358 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/LICENSE.txt
--rw-r--r--   0 runner    (1001) docker     (122)      449 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/MANIFEST.in
--rw-r--r--   0 runner    (1001) docker     (122)     6945 2023-02-11 01:34:33.807755 coconut-develop-3.0.0a0.dev9/PKG-INFO
--rw-r--r--   0 runner    (1001) docker     (122)     3569 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/README.rst
-drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-02-11 01:34:33.783753 coconut-develop-3.0.0a0.dev9/__coconut__/
--rw-r--r--   0 runner    (1001) docker     (122)     1245 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/__coconut__/__init__.py
--rw-r--r--   0 runner    (1001) docker     (122)    38900 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/__coconut__/__init__.pyi
--rw-r--r--   0 runner    (1001) docker     (122)        0 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/__coconut__/py.typed
-drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-02-11 01:34:33.783753 coconut-develop-3.0.0a0.dev9/_coconut/
--rw-r--r--   0 runner    (1001) docker     (122)     1253 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/_coconut/__init__.py
--rw-r--r--   0 runner    (1001) docker     (122)     4400 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/_coconut/__init__.pyi
--rw-r--r--   0 runner    (1001) docker     (122)        0 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/_coconut/py.typed
-drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-02-11 01:34:33.787754 coconut-develop-3.0.0a0.dev9/coconut/
--rw-r--r--   0 runner    (1001) docker     (122)     1315 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/__coconut__.py
--rw-r--r--   0 runner    (1001) docker     (122)     1486 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/__coconut__.pyi
--rw-r--r--   0 runner    (1001) docker     (122)     1444 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/__init__.py
--rw-r--r--   0 runner    (1001) docker     (122)      956 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/__init__.pyi
--rw-r--r--   0 runner    (1001) docker     (122)     1210 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/__main__.py
--rw-r--r--   0 runner    (1001) docker     (122)    13505 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/_pyparsing.py
-drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-02-11 01:34:33.791754 coconut-develop-3.0.0a0.dev9/coconut/command/
--rw-r--r--   0 runner    (1001) docker     (122)      778 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/command/__init__.py
--rw-r--r--   0 runner    (1001) docker     (122)        0 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/command/__init__.pyi
--rw-r--r--   0 runner    (1001) docker     (122)     7911 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/command/cli.py
--rw-r--r--   0 runner    (1001) docker     (122)    40558 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/command/command.py
--rw-r--r--   0 runner    (1001) docker     (122)      688 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/command/command.pyi
--rw-r--r--   0 runner    (1001) docker     (122)     2450 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/command/mypy.py
-drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-02-11 01:34:33.791754 coconut-develop-3.0.0a0.dev9/coconut/command/resources/
--rw-r--r--   0 runner    (1001) docker     (122)       27 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/command/resources/zcoconut.pth
--rw-r--r--   0 runner    (1001) docker     (122)    22145 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/command/util.py
--rw-r--r--   0 runner    (1001) docker     (122)     2177 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/command/watch.py
-drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-02-11 01:34:33.795754 coconut-develop-3.0.0a0.dev9/coconut/compiler/
--rw-r--r--   0 runner    (1001) docker     (122)      781 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/compiler/__init__.py
--rw-r--r--   0 runner    (1001) docker     (122)   178564 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/compiler/compiler.py
--rw-r--r--   0 runner    (1001) docker     (122)    91660 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/compiler/grammar.py
--rw-r--r--   0 runner    (1001) docker     (122)    29756 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/compiler/header.py
--rw-r--r--   0 runner    (1001) docker     (122)    58102 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/compiler/matching.py
-drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-02-11 01:34:33.795754 coconut-develop-3.0.0a0.dev9/coconut/compiler/templates/
--rw-r--r--   0 runner    (1001) docker     (122)    89722 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/compiler/templates/header.py_template
--rw-r--r--   0 runner    (1001) docker     (122)    45943 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/compiler/util.py
--rw-r--r--   0 runner    (1001) docker     (122)    33690 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/constants.py
--rw-r--r--   0 runner    (1001) docker     (122)     9212 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/convenience.py
--rw-r--r--   0 runner    (1001) docker     (122)     2850 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/convenience.pyi
--rw-r--r--   0 runner    (1001) docker     (122)     9734 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/exceptions.py
--rw-r--r--   0 runner    (1001) docker     (122)     4663 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/highlighter.py
-drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-02-11 01:34:33.795754 coconut-develop-3.0.0a0.dev9/coconut/icoconut/
--rw-r--r--   0 runner    (1001) docker     (122)      783 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/icoconut/__init__.py
--rw-r--r--   0 runner    (1001) docker     (122)     1387 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/icoconut/__main__.py
-drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-02-11 01:34:33.795754 coconut-develop-3.0.0a0.dev9/coconut/icoconut/coconut/
--rw-r--r--   0 runner    (1001) docker     (122)      141 2023-02-11 01:34:32.000000 coconut-develop-3.0.0a0.dev9/coconut/icoconut/coconut/kernel.json
-drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-02-11 01:34:33.795754 coconut-develop-3.0.0a0.dev9/coconut/icoconut/coconut_py/
--rw-r--r--   0 runner    (1001) docker     (122)      172 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/icoconut/coconut_py/kernel.json
-drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-02-11 01:34:33.795754 coconut-develop-3.0.0a0.dev9/coconut/icoconut/coconut_py2/
--rw-r--r--   0 runner    (1001) docker     (122)      174 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/icoconut/coconut_py2/kernel.json
-drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-02-11 01:34:33.795754 coconut-develop-3.0.0a0.dev9/coconut/icoconut/coconut_py3/
--rw-r--r--   0 runner    (1001) docker     (122)      174 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/icoconut/coconut_py3/kernel.json
--rw-r--r--   0 runner    (1001) docker     (122)     5621 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/icoconut/embed.py
--rw-r--r--   0 runner    (1001) docker     (122)    11020 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/icoconut/root.py
--rw-r--r--   0 runner    (1001) docker     (122)     5013 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/integrations.py
--rw-r--r--   0 runner    (1001) docker     (122)     1543 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/main.py
--rw-r--r--   0 runner    (1001) docker     (122)        0 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/py.typed
--rw-r--r--   0 runner    (1001) docker     (122)    11609 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/requirements.py
--rw-r--r--   0 runner    (1001) docker     (122)    12684 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/root.py
--rw-r--r--   0 runner    (1001) docker     (122)    18319 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/terminal.py
-drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-02-11 01:34:33.799754 coconut-develop-3.0.0a0.dev9/coconut/tests/
--rw-r--r--   0 runner    (1001) docker     (122)      786 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (122)     1794 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/tests/__main__.py
--rw-r--r--   0 runner    (1001) docker     (122)     4539 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/tests/constants_test.py
--rw-r--r--   0 runner    (1001) docker     (122)    27927 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/tests/main_test.py
-drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-02-11 01:34:33.799754 coconut-develop-3.0.0a0.dev9/coconut/tests/src/
-drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-02-11 01:34:33.779753 coconut-develop-3.0.0a0.dev9/coconut/tests/src/cocotest/
-drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-02-11 01:34:33.803754 coconut-develop-3.0.0a0.dev9/coconut/tests/src/cocotest/agnostic/
--rw-r--r--   0 runner    (1001) docker     (122)       87 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/tests/src/cocotest/agnostic/__init__.coco
--rw-r--r--   0 runner    (1001) docker     (122)     3773 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/tests/src/cocotest/agnostic/main.coco
--rw-r--r--   0 runner    (1001) docker     (122)    60147 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/tests/src/cocotest/agnostic/primary.coco
--rw-r--r--   0 runner    (1001) docker     (122)     4676 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/tests/src/cocotest/agnostic/specific.coco
--rw-r--r--   0 runner    (1001) docker     (122)    40119 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/tests/src/cocotest/agnostic/suite.coco
--rw-r--r--   0 runner    (1001) docker     (122)    15411 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/tests/src/cocotest/agnostic/tutorial.coco
--rw-r--r--   0 runner    (1001) docker     (122)    42594 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/tests/src/cocotest/agnostic/util.coco
-drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-02-11 01:34:33.803754 coconut-develop-3.0.0a0.dev9/coconut/tests/src/cocotest/non_strict/
--rw-r--r--   0 runner    (1001) docker     (122)     2054 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/tests/src/cocotest/non_strict/non_strict_test.coco
-drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-02-11 01:34:33.803754 coconut-develop-3.0.0a0.dev9/coconut/tests/src/cocotest/target_2/
--rw-r--r--   0 runner    (1001) docker     (122)      356 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/tests/src/cocotest/target_2/py2_test.coco
-drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-02-11 01:34:33.803754 coconut-develop-3.0.0a0.dev9/coconut/tests/src/cocotest/target_3/
--rw-r--r--   0 runner    (1001) docker     (122)     1155 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/tests/src/cocotest/target_3/py3_test.coco
-drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-02-11 01:34:33.803754 coconut-develop-3.0.0a0.dev9/coconut/tests/src/cocotest/target_35/
--rw-r--r--   0 runner    (1001) docker     (122)      345 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/tests/src/cocotest/target_35/py35_test.coco
-drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-02-11 01:34:33.803754 coconut-develop-3.0.0a0.dev9/coconut/tests/src/cocotest/target_36/
--rw-r--r--   0 runner    (1001) docker     (122)     1421 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/tests/src/cocotest/target_36/py36_test.coco
-drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-02-11 01:34:33.803754 coconut-develop-3.0.0a0.dev9/coconut/tests/src/cocotest/target_38/
--rw-r--r--   0 runner    (1001) docker     (122)      255 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/tests/src/cocotest/target_38/py38_test.coco
-drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-02-11 01:34:33.803754 coconut-develop-3.0.0a0.dev9/coconut/tests/src/cocotest/target_sys/
--rw-r--r--   0 runner    (1001) docker     (122)     3356 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/tests/src/cocotest/target_sys/target_sys_test.coco
--rw-r--r--   0 runner    (1001) docker     (122)    18600 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/tests/src/extras.coco
--rw-r--r--   0 runner    (1001) docker     (122)      192 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/tests/src/runnable.coco
--rw-r--r--   0 runner    (1001) docker     (122)      496 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/tests/src/runner.coco
--rw-r--r--   0 runner    (1001) docker     (122)    11787 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/coconut/util.py
-drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-02-11 01:34:33.807755 coconut-develop-3.0.0a0.dev9/coconut_develop.egg-info/
--rw-r--r--   0 runner    (1001) docker     (122)     2284 2023-02-11 01:34:33.000000 coconut-develop-3.0.0a0.dev9/coconut_develop.egg-info/SOURCES.txt
--rw-r--r--   0 runner    (1001) docker     (122)     2305 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/conf.py
--rw-r--r--   0 runner    (1001) docker     (122)       63 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/pyproject.toml
--rw-r--r--   0 runner    (1001) docker     (122)      106 2023-02-11 01:34:33.807755 coconut-develop-3.0.0a0.dev9/setup.cfg
--rw-r--r--   0 runner    (1001) docker     (122)     2797 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/setup.py
-drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-02-11 01:34:33.803754 coconut-develop-3.0.0a0.dev9/xontrib/
--rw-r--r--   0 runner    (1001) docker     (122)     1136 2023-02-11 00:23:20.000000 coconut-develop-3.0.0a0.dev9/xontrib/coconut.py
+drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-05-25 05:30:22.000000 coconut-develop-3.0.1.post0.dev1/
+-rw-r--r--   0 runner    (1001) docker     (122)     3569 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/README.rst
+-rw-r--r--   0 runner    (1001) docker     (122)     2305 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/conf.py
+-rw-r--r--   0 runner    (1001) docker     (122)      470 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/MANIFEST.in
+-rw-r--r--   0 runner    (1001) docker     (122)    11385 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/FAQ.md
+drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-05-25 05:30:22.000000 coconut-develop-3.0.1.post0.dev1/_coconut/
+-rw-r--r--   0 runner    (1001) docker     (122)        0 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/_coconut/py.typed
+-rw-r--r--   0 runner    (1001) docker     (122)     5197 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/_coconut/__init__.pyi
+-rw-r--r--   0 runner    (1001) docker     (122)     1253 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/_coconut/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (122)    11358 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/LICENSE.txt
+-rw-r--r--   0 runner    (1001) docker     (122)      109 2023-05-25 05:30:22.000000 coconut-develop-3.0.1.post0.dev1/setup.cfg
+-rw-r--r--   0 runner    (1001) docker     (122)     2797 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/setup.py
+drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-05-25 05:30:22.000000 coconut-develop-3.0.1.post0.dev1/xontrib/
+-rw-r--r--   0 runner    (1001) docker     (122)     1162 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/xontrib/coconut.py
+-rw-r--r--   0 runner    (1001) docker     (122)    65147 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/HELP.md
+-rw-r--r--   0 runner    (1001) docker     (122)   194584 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/DOCS.md
+drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-05-25 05:30:22.000000 coconut-develop-3.0.1.post0.dev1/__coconut__/
+-rw-r--r--   0 runner    (1001) docker     (122)        0 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/__coconut__/py.typed
+-rw-r--r--   0 runner    (1001) docker     (122)    41755 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/__coconut__/__init__.pyi
+-rw-r--r--   0 runner    (1001) docker     (122)     1245 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/__coconut__/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-05-25 05:30:22.000000 coconut-develop-3.0.1.post0.dev1/coconut/
+-rw-r--r--   0 runner    (1001) docker     (122)     4663 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/highlighter.py
+drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-05-25 05:30:22.000000 coconut-develop-3.0.1.post0.dev1/coconut/tests/
+-rw-r--r--   0 runner    (1001) docker     (122)     4539 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/tests/constants_test.py
+drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-05-25 05:30:22.000000 coconut-develop-3.0.1.post0.dev1/coconut/tests/src/
+drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-05-25 05:30:22.000000 coconut-develop-3.0.1.post0.dev1/coconut/tests/src/cocotest/
+drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-05-25 05:30:22.000000 coconut-develop-3.0.1.post0.dev1/coconut/tests/src/cocotest/target_35/
+-rw-r--r--   0 runner    (1001) docker     (122)      345 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/tests/src/cocotest/target_35/py35_test.coco
+drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-05-25 05:30:22.000000 coconut-develop-3.0.1.post0.dev1/coconut/tests/src/cocotest/agnostic/
+-rw-r--r--   0 runner    (1001) docker     (122)    46206 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/tests/src/cocotest/agnostic/util.coco
+-rw-r--r--   0 runner    (1001) docker     (122)    15411 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/tests/src/cocotest/agnostic/tutorial.coco
+-rw-r--r--   0 runner    (1001) docker     (122)     3872 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/tests/src/cocotest/agnostic/main.coco
+-rw-r--r--   0 runner    (1001) docker     (122)    62412 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/tests/src/cocotest/agnostic/primary.coco
+-rw-r--r--   0 runner    (1001) docker     (122)       87 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/tests/src/cocotest/agnostic/__init__.coco
+-rw-r--r--   0 runner    (1001) docker     (122)     5144 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/tests/src/cocotest/agnostic/specific.coco
+-rw-r--r--   0 runner    (1001) docker     (122)    42032 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/tests/src/cocotest/agnostic/suite.coco
+drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-05-25 05:30:22.000000 coconut-develop-3.0.1.post0.dev1/coconut/tests/src/cocotest/target_2/
+-rw-r--r--   0 runner    (1001) docker     (122)      356 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/tests/src/cocotest/target_2/py2_test.coco
+drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-05-25 05:30:22.000000 coconut-develop-3.0.1.post0.dev1/coconut/tests/src/cocotest/target_38/
+-rw-r--r--   0 runner    (1001) docker     (122)      255 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/tests/src/cocotest/target_38/py38_test.coco
+drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-05-25 05:30:22.000000 coconut-develop-3.0.1.post0.dev1/coconut/tests/src/cocotest/target_sys/
+-rw-r--r--   0 runner    (1001) docker     (122)     3356 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/tests/src/cocotest/target_sys/target_sys_test.coco
+drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-05-25 05:30:22.000000 coconut-develop-3.0.1.post0.dev1/coconut/tests/src/cocotest/target_36/
+-rw-r--r--   0 runner    (1001) docker     (122)     2054 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/tests/src/cocotest/target_36/py36_test.coco
+drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-05-25 05:30:22.000000 coconut-develop-3.0.1.post0.dev1/coconut/tests/src/cocotest/target_3/
+-rw-r--r--   0 runner    (1001) docker     (122)     1155 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/tests/src/cocotest/target_3/py3_test.coco
+drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-05-25 05:30:22.000000 coconut-develop-3.0.1.post0.dev1/coconut/tests/src/cocotest/non_strict/
+-rw-r--r--   0 runner    (1001) docker     (122)     2186 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/tests/src/cocotest/non_strict/non_strict_test.coco
+-rw-r--r--   0 runner    (1001) docker     (122)      496 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/tests/src/runner.coco
+-rw-r--r--   0 runner    (1001) docker     (122)    21687 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/tests/src/extras.coco
+-rw-r--r--   0 runner    (1001) docker     (122)      192 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/tests/src/runnable.coco
+-rw-r--r--   0 runner    (1001) docker     (122)    29090 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/tests/main_test.py
+-rw-r--r--   0 runner    (1001) docker     (122)     1794 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/tests/__main__.py
+-rw-r--r--   0 runner    (1001) docker     (122)      786 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (122)     2850 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/convenience.pyi
+-rw-r--r--   0 runner    (1001) docker     (122)     9212 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/convenience.py
+-rw-r--r--   0 runner    (1001) docker     (122)     1867 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/__coconut__.pyi
+-rw-r--r--   0 runner    (1001) docker     (122)    15522 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/root.py
+-rw-r--r--   0 runner    (1001) docker     (122)    11753 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/requirements.py
+-rw-r--r--   0 runner    (1001) docker     (122)     1543 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/main.py
+-rw-r--r--   0 runner    (1001) docker     (122)     1315 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/__coconut__.py
+drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-05-25 05:30:22.000000 coconut-develop-3.0.1.post0.dev1/coconut/compiler/
+drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-05-25 05:30:22.000000 coconut-develop-3.0.1.post0.dev1/coconut/compiler/templates/
+-rw-r--r--   0 runner    (1001) docker     (122)    99363 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/compiler/templates/header.py_template
+-rw-r--r--   0 runner    (1001) docker     (122)    31782 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/compiler/header.py
+-rw-r--r--   0 runner    (1001) docker     (122)    92733 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/compiler/grammar.py
+-rw-r--r--   0 runner    (1001) docker     (122)    58706 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/compiler/matching.py
+-rw-r--r--   0 runner    (1001) docker     (122)   191442 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/compiler/compiler.py
+-rw-r--r--   0 runner    (1001) docker     (122)    47243 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/compiler/util.py
+-rw-r--r--   0 runner    (1001) docker     (122)      781 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/compiler/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-05-25 05:30:22.000000 coconut-develop-3.0.1.post0.dev1/coconut/icoconut/
+drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-05-25 05:30:22.000000 coconut-develop-3.0.1.post0.dev1/coconut/icoconut/coconut_py3/
+-rw-r--r--   0 runner    (1001) docker     (122)      174 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/icoconut/coconut_py3/kernel.json
+-rw-r--r--   0 runner    (1001) docker     (122)    10729 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/icoconut/root.py
+drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-05-25 05:30:22.000000 coconut-develop-3.0.1.post0.dev1/coconut/icoconut/coconut_py/
+-rw-r--r--   0 runner    (1001) docker     (122)      172 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/icoconut/coconut_py/kernel.json
+-rw-r--r--   0 runner    (1001) docker     (122)     5621 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/icoconut/embed.py
+drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-05-25 05:30:22.000000 coconut-develop-3.0.1.post0.dev1/coconut/icoconut/coconut_py2/
+-rw-r--r--   0 runner    (1001) docker     (122)      174 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/icoconut/coconut_py2/kernel.json
+drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-05-25 05:30:22.000000 coconut-develop-3.0.1.post0.dev1/coconut/icoconut/coconut/
+-rw-r--r--   0 runner    (1001) docker     (122)      147 2023-05-25 05:30:21.000000 coconut-develop-3.0.1.post0.dev1/coconut/icoconut/coconut/kernel.json
+-rw-r--r--   0 runner    (1001) docker     (122)     1387 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/icoconut/__main__.py
+-rw-r--r--   0 runner    (1001) docker     (122)      783 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/icoconut/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-05-25 05:30:22.000000 coconut-develop-3.0.1.post0.dev1/coconut/command/
+-rw-r--r--   0 runner    (1001) docker     (122)     2450 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/command/mypy.py
+-rw-r--r--   0 runner    (1001) docker     (122)     2177 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/command/watch.py
+drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-05-25 05:30:22.000000 coconut-develop-3.0.1.post0.dev1/coconut/command/resources/
+-rw-r--r--   0 runner    (1001) docker     (122)       27 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/command/resources/zcoconut.pth
+-rw-r--r--   0 runner    (1001) docker     (122)    44044 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/command/command.py
+-rw-r--r--   0 runner    (1001) docker     (122)      688 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/command/command.pyi
+-rw-r--r--   0 runner    (1001) docker     (122)        0 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/command/__init__.pyi
+-rw-r--r--   0 runner    (1001) docker     (122)     8263 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/command/cli.py
+-rw-r--r--   0 runner    (1001) docker     (122)    23433 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/command/util.py
+-rw-r--r--   0 runner    (1001) docker     (122)      778 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/command/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (122)        0 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/py.typed
+-rw-r--r--   0 runner    (1001) docker     (122)      956 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/__init__.pyi
+-rw-r--r--   0 runner    (1001) docker     (122)    19564 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/terminal.py
+-rw-r--r--   0 runner    (1001) docker     (122)     9825 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/exceptions.py
+-rw-r--r--   0 runner    (1001) docker     (122)    35815 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/constants.py
+-rw-r--r--   0 runner    (1001) docker     (122)    13505 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/_pyparsing.py
+-rw-r--r--   0 runner    (1001) docker     (122)     8262 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/integrations.py
+-rw-r--r--   0 runner    (1001) docker     (122)    12685 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/util.py
+-rw-r--r--   0 runner    (1001) docker     (122)     1210 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/__main__.py
+-rw-r--r--   0 runner    (1001) docker     (122)     1444 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/coconut/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (122)     7577 2023-05-25 05:30:22.000000 coconut-develop-3.0.1.post0.dev1/PKG-INFO
+drwxr-xr-x   0 runner    (1001) docker     (122)        0 2023-05-25 05:30:22.000000 coconut-develop-3.0.1.post0.dev1/coconut_develop.egg-info/
+-rw-r--r--   0 runner    (1001) docker     (122)     2284 2023-05-25 05:30:22.000000 coconut-develop-3.0.1.post0.dev1/coconut_develop.egg-info/SOURCES.txt
+-rw-r--r--   0 runner    (1001) docker     (122)       63 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/pyproject.toml
+-rw-r--r--   0 runner    (1001) docker     (122)    13686 2023-05-25 04:52:47.000000 coconut-develop-3.0.1.post0.dev1/CONTRIBUTING.md
```

### filetype from file(1)

```diff
@@ -1 +1 @@
-POSIX tar archive
+POSIX tar archive (GNU)
```

### Comparing `coconut-develop-3.0.0a0.dev9/CONTRIBUTING.md` & `coconut-develop-3.0.1.post0.dev1/CONTRIBUTING.md`

 * *Files identical despite different names*

### Comparing `coconut-develop-3.0.0a0.dev9/DOCS.md` & `coconut-develop-3.0.1.post0.dev1/DOCS.md`

 * *Files 2% similar despite different names*

```diff
@@ -236,11304 +236,11927 @@
 00000eb0: 7020 696e 7374 616c 6c20 636f 636f 6e75  p install coconu
 00000ec0: 745b 6f70 745f 6465 705f 312c 6f70 745f  t[opt_dep_1,opt_
 00000ed0: 6465 705f 325d 0a60 6060 0a0a 5468 6520  dep_2].```..The 
 00000ee0: 6675 6c6c 206c 6973 7420 6f66 206f 7074  full list of opt
 00000ef0: 696f 6e61 6c20 6465 7065 6e64 656e 6369  ional dependenci
 00000f00: 6573 2069 733a 0a0a 2d20 6061 6c6c 603a  es is:..- `all`:
 00000f10: 2061 6c69 6173 2066 6f72 2060 6a75 7079   alias for `jupy
-00000f20: 7465 722c 7761 7463 682c 6a6f 6273 2c6d  ter,watch,jobs,m
-00000f30: 7970 792c 6261 636b 706f 7274 732c 786f  ypy,backports,xo
-00000f40: 6e73 6860 2028 7468 6973 2069 7320 7468  nsh` (this is th
-00000f50: 6520 7265 636f 6d6d 656e 6465 6420 7761  e recommended wa
-00000f60: 7920 746f 2069 6e73 7461 6c6c 2061 2066  y to install a f
-00000f70: 6561 7475 7265 2d63 6f6d 706c 6574 6520  eature-complete 
-00000f80: 7665 7273 696f 6e20 6f66 2043 6f63 6f6e  version of Cocon
-00000f90: 7574 292e 0a2d 2060 6a75 7079 7465 7260  ut)..- `jupyter`
-00000fa0: 2f60 6970 7974 686f 6e60 3a20 656e 6162  /`ipython`: enab
-00000fb0: 6c65 7320 7573 6520 6f66 2074 6865 2060  les use of the `
-00000fc0: 2d2d 6a75 7079 7465 7260 202f 2060 2d2d  --jupyter` / `--
-00000fd0: 6970 7974 686f 6e60 2066 6c61 672e 0a2d  ipython` flag..-
-00000fe0: 2060 7761 7463 6860 3a20 656e 6162 6c65   `watch`: enable
-00000ff0: 7320 7573 6520 6f66 2074 6865 2060 2d2d  s use of the `--
-00001000: 7761 7463 6860 2066 6c61 672e 0a2d 2060  watch` flag..- `
-00001010: 6a6f 6273 603a 2069 6d70 726f 7665 7320  jobs`: improves 
-00001020: 7573 6520 6f66 2074 6865 2060 2d2d 6a6f  use of the `--jo
-00001030: 6273 6020 666c 6167 2e0a 2d20 606d 7970  bs` flag..- `myp
-00001040: 7960 3a20 656e 6162 6c65 7320 7573 6520  y`: enables use 
-00001050: 6f66 2074 6865 2060 2d2d 6d79 7079 6020  of the `--mypy` 
-00001060: 666c 6167 2e0a 2d20 6062 6163 6b70 6f72  flag..- `backpor
-00001070: 7473 603a 2069 6e73 7461 6c6c 7320 6c69  ts`: installs li
-00001080: 6272 6172 6965 7320 7468 6174 2062 6163  braries that bac
-00001090: 6b70 6f72 7420 6e65 7765 7220 5079 7468  kport newer Pyth
-000010a0: 6f6e 2066 6561 7475 7265 7320 746f 206f  on features to o
-000010b0: 6c64 6572 2076 6572 7369 6f6e 732c 2077  lder versions, w
-000010c0: 6869 6368 2043 6f63 6f6e 7574 2077 696c  hich Coconut wil
-000010d0: 6c20 6175 746f 6d61 7469 6361 6c6c 7920  l automatically 
-000010e0: 7573 6520 696e 7374 6561 6420 6f66 2074  use instead of t
-000010f0: 6865 2073 7461 6e64 6172 6420 6c69 6272  he standard libr
-00001100: 6172 7920 6966 2074 6865 2073 7461 6e64  ary if the stand
-00001110: 6172 6420 6c69 6272 6172 7920 6973 206e  ard library is n
-00001120: 6f74 2061 7661 696c 6162 6c65 2e20 5370  ot available. Sp
-00001130: 6563 6966 6963 616c 6c79 3a0a 2020 2d20  ecifically:.  - 
-00001140: 496e 7374 616c 6c73 205b 6074 7970 696e  Installs [`typin
-00001150: 6760 5d28 6874 7470 733a 2f2f 7079 7069  g`](https://pypi
-00001160: 2e6f 7267 2f70 726f 6a65 6374 2f74 7970  .org/project/typ
-00001170: 696e 672f 2920 616e 6420 5b60 7479 7069  ing/) and [`typi
-00001180: 6e67 5f65 7874 656e 7369 6f6e 7360 5d28  ng_extensions`](
-00001190: 6874 7470 733a 2f2f 7079 7069 2e6f 7267  https://pypi.org
-000011a0: 2f70 726f 6a65 6374 2f74 7970 696e 672d  /project/typing-
-000011b0: 6578 7465 6e73 696f 6e73 2f29 2074 6f20  extensions/) to 
-000011c0: 6261 636b 706f 7274 205b 6074 7970 696e  backport [`typin
-000011d0: 6760 5d28 6874 7470 733a 2f2f 646f 6373  g`](https://docs
-000011e0: 2e70 7974 686f 6e2e 6f72 672f 332f 6c69  .python.org/3/li
-000011f0: 6272 6172 792f 7479 7069 6e67 2e68 746d  brary/typing.htm
-00001200: 6c29 2e0a 2020 2d20 496e 7374 616c 6c73  l)..  - Installs
-00001210: 205b 6061 656e 756d 605d 2868 7474 7073   [`aenum`](https
-00001220: 3a2f 2f70 7970 692e 6f72 672f 7072 6f6a  ://pypi.org/proj
-00001230: 6563 742f 6165 6e75 6d29 2074 6f20 6261  ect/aenum) to ba
-00001240: 636b 706f 7274 205b 6065 6e75 6d60 5d28  ckport [`enum`](
-00001250: 6874 7470 733a 2f2f 646f 6373 2e70 7974  https://docs.pyt
-00001260: 686f 6e2e 6f72 672f 332f 6c69 6272 6172  hon.org/3/librar
-00001270: 792f 656e 756d 2e68 746d 6c29 2e0a 2020  y/enum.html)..  
-00001280: 2d20 496e 7374 616c 6c73 205b 6074 726f  - Installs [`tro
-00001290: 6c6c 6975 7360 5d28 6874 7470 733a 2f2f  llius`](https://
-000012a0: 7079 7069 2e70 7974 686f 6e2e 6f72 672f  pypi.python.org/
-000012b0: 7079 7069 2f74 726f 6c6c 6975 7329 2074  pypi/trollius) t
-000012c0: 6f20 6261 636b 706f 7274 205b 6061 7379  o backport [`asy
-000012d0: 6e63 696f 605d 2868 7474 7073 3a2f 2f64  ncio`](https://d
-000012e0: 6f63 732e 7079 7468 6f6e 2e6f 7267 2f33  ocs.python.org/3
-000012f0: 2f6c 6962 7261 7279 2f61 7379 6e63 696f  /library/asyncio
-00001300: 2e68 746d 6c29 2e0a 2020 2d20 496e 7374  .html)..  - Inst
-00001310: 616c 6c73 205b 6064 6174 6163 6c61 7373  alls [`dataclass
-00001320: 6573 605d 2868 7474 7073 3a2f 2f70 7970  es`](https://pyp
-00001330: 692e 6f72 672f 7072 6f6a 6563 742f 6461  i.org/project/da
-00001340: 7461 636c 6173 7365 732f 2920 746f 2062  taclasses/) to b
-00001350: 6163 6b70 6f72 7420 5b60 6461 7461 636c  ackport [`datacl
-00001360: 6173 7365 7360 5d28 6874 7470 733a 2f2f  asses`](https://
-00001370: 646f 6373 2e70 7974 686f 6e2e 6f72 672f  docs.python.org/
-00001380: 332f 6c69 6272 6172 792f 6461 7461 636c  3/library/datacl
-00001390: 6173 7365 732e 6874 6d6c 292e 0a2d 2060  asses.html)..- `
-000013a0: 786f 6e73 6860 3a20 656e 6162 6c65 7320  xonsh`: enables 
-000013b0: 7573 6520 6f66 2043 6f63 6f6e 7574 2773  use of Coconut's
-000013c0: 205b 6078 6f6e 7368 6020 7375 7070 6f72   [`xonsh` suppor
-000013d0: 745d 2823 786f 6e73 682d 7375 7070 6f72  t](#xonsh-suppor
-000013e0: 7429 2e0a 2d20 606b 6572 6e65 6c60 3a20  t)..- `kernel`: 
-000013f0: 6c69 6768 7477 6569 6768 7420 7375 6273  lightweight subs
-00001400: 6574 206f 6620 606a 7570 7974 6572 6020  et of `jupyter` 
-00001410: 7468 6174 206f 6e6c 7920 696e 636c 7564  that only includ
-00001420: 6573 2074 6865 2064 6570 656e 6465 6e63  es the dependenc
-00001430: 6965 7320 7468 6174 2061 7265 2073 7472  ies that are str
-00001440: 6963 746c 7920 6e65 6365 7373 6172 7920  ictly necessary 
-00001450: 666f 7220 436f 636f 6e75 7427 7320 5b4a  for Coconut's [J
-00001460: 7570 7974 6572 206b 6572 6e65 6c5d 2823  upyter kernel](#
-00001470: 6b65 726e 656c 292e 0a2d 2060 7465 7374  kernel)..- `test
-00001480: 7360 3a20 6576 6572 7974 6869 6e67 206e  s`: everything n
-00001490: 6563 6573 7361 7279 2074 6f20 7465 7374  ecessary to test
-000014a0: 2074 6865 2043 6f63 6f6e 7574 206c 616e   the Coconut lan
-000014b0: 6775 6167 6520 6974 7365 6c66 2e0a 2d20  guage itself..- 
-000014c0: 6064 6f63 7360 3a20 6576 6572 7974 6869  `docs`: everythi
-000014d0: 6e67 206e 6563 6573 7361 7279 2074 6f20  ng necessary to 
-000014e0: 6275 696c 6420 436f 636f 6e75 7427 7320  build Coconut's 
-000014f0: 646f 6375 6d65 6e74 6174 696f 6e2e 0a2d  documentation..-
-00001500: 2060 6465 7660 3a20 6576 6572 7974 6869   `dev`: everythi
-00001510: 6e67 206e 6563 6573 7361 7279 2074 6f20  ng necessary to 
-00001520: 6465 7665 6c6f 7020 6f6e 2074 6865 2043  develop on the C
-00001530: 6f63 6f6e 7574 206c 616e 6775 6167 6520  oconut language 
-00001540: 6974 7365 6c66 2c20 696e 636c 7564 696e  itself, includin
-00001550: 6720 616c 6c20 6f66 2074 6865 2064 6570  g all of the dep
-00001560: 656e 6465 6e63 6965 7320 6162 6f76 652e  endencies above.
-00001570: 0a0a 2323 2323 2044 6576 656c 6f70 2056  ..#### Develop V
-00001580: 6572 7369 6f6e 0a0a 416c 7465 726e 6174  ersion..Alternat
-00001590: 6976 656c 792c 2069 6620 796f 7520 7761  ively, if you wa
-000015a0: 6e74 2074 6f20 7465 7374 206f 7574 2043  nt to test out C
-000015b0: 6f63 6f6e 7574 2773 206c 6174 6573 7420  oconut's latest 
-000015c0: 616e 6420 6772 6561 7465 7374 2c20 656e  and greatest, en
-000015d0: 7465 720a 6060 600a 7069 7020 696e 7374  ter.```.pip inst
-000015e0: 616c 6c20 636f 636f 6e75 742d 6465 7665  all coconut-deve
-000015f0: 6c6f 700a 6060 600a 7768 6963 6820 7769  lop.```.which wi
-00001600: 6c6c 2069 6e73 7461 6c6c 2074 6865 206d  ll install the m
-00001610: 6f73 7420 7265 6365 6e74 2077 6f72 6b69  ost recent worki
-00001620: 6e67 2076 6572 7369 6f6e 2066 726f 6d20  ng version from 
-00001630: 436f 636f 6e75 7427 7320 5b60 6465 7665  Coconut's [`deve
-00001640: 6c6f 7060 2062 7261 6e63 685d 2868 7474  lop` branch](htt
-00001650: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00001660: 6576 6875 622f 636f 636f 6e75 742f 7472  evhub/coconut/tr
-00001670: 6565 2f64 6576 656c 6f70 292e 204f 7074  ee/develop). Opt
-00001680: 696f 6e61 6c20 6465 7065 6e64 656e 6379  ional dependency
-00001690: 2069 6e73 7461 6c6c 6174 696f 6e20 6973   installation is
-000016a0: 2073 7570 706f 7274 6564 2069 6e20 7468   supported in th
-000016b0: 6520 7361 6d65 206d 616e 6e65 7220 6173  e same manner as
-000016c0: 2061 626f 7665 2e20 466f 7220 6d6f 7265   above. For more
-000016d0: 2069 6e66 6f72 6d61 7469 6f6e 206f 6e20   information on 
-000016e0: 7468 6520 6375 7272 656e 7420 6465 7665  the current deve
-000016f0: 6c6f 706d 656e 7420 6275 696c 642c 2063  lopment build, c
-00001700: 6865 636b 206f 7574 2074 6865 205b 6465  heck out the [de
-00001710: 7665 6c6f 706d 656e 7420 7665 7273 696f  velopment versio
-00001720: 6e20 6f66 2074 6869 7320 646f 6375 6d65  n of this docume
-00001730: 6e74 6174 696f 6e5d 2868 7474 703a 2f2f  ntation](http://
-00001740: 636f 636f 6e75 742e 7265 6164 7468 6564  coconut.readthed
-00001750: 6f63 732e 696f 2f65 6e2f 6465 7665 6c6f  ocs.io/en/develo
-00001760: 702f 444f 4353 2e68 746d 6c29 2e20 4265  p/DOCS.html). Be
-00001770: 2077 6172 6e65 643a 2060 636f 636f 6e75   warned: `coconu
-00001780: 742d 6465 7665 6c6f 7060 2069 7320 6c69  t-develop` is li
-00001790: 6b65 6c79 2074 6f20 6265 2075 6e73 7461  kely to be unsta
-000017a0: 626c 65e2 8094 6966 2079 6f75 2066 696e  ble...if you fin
-000017b0: 6420 6120 6275 672c 2070 6c65 6173 6520  d a bug, please 
-000017c0: 7265 706f 7274 2069 7420 6279 205b 6372  report it by [cr
-000017d0: 6561 7469 6e67 2061 206e 6577 2069 7373  eating a new iss
-000017e0: 7565 5d28 6874 7470 733a 2f2f 6769 7468  ue](https://gith
-000017f0: 7562 2e63 6f6d 2f65 7668 7562 2f63 6f63  ub.com/evhub/coc
-00001800: 6f6e 7574 2f69 7373 7565 732f 6e65 7729  onut/issues/new)
-00001810: 2e0a 0a23 2320 436f 6d70 696c 6174 696f  ...## Compilatio
-00001820: 6e0a 0a60 6060 7b63 6f6e 7465 6e74 737d  n..```{contents}
-00001830: 0a2d 2d2d 0a6c 6f63 616c 3a0a 6465 7074  .---.local:.dept
-00001840: 683a 2031 0a2d 2d2d 0a60 6060 0a0a 2323  h: 1.---.```..##
-00001850: 2323 2055 7361 6765 0a0a 6060 600a 636f  ## Usage..```.co
-00001860: 636f 6e75 7420 5b2d 685d 205b 2d2d 616e  conut [-h] [--an
-00001870: 6420 736f 7572 6365 205b 6465 7374 202e  d source [dest .
-00001880: 2e2e 5d5d 205b 2d76 5d20 5b2d 7420 7665  ..]] [-v] [-t ve
-00001890: 7273 696f 6e5d 205b 2d69 5d20 5b2d 705d  rsion] [-i] [-p]
-000018a0: 205b 2d61 5d20 5b2d 6c5d 205b 2d6b 5d20   [-a] [-l] [-k] 
-000018b0: 5b2d 775d 0a20 2020 2020 2020 205b 2d72  [-w].        [-r
-000018c0: 5d20 5b2d 6e5d 205b 2d64 5d20 5b2d 715d  ] [-n] [-d] [-q]
-000018d0: 205b 2d73 5d20 5b2d 2d6e 6f2d 7463 6f5d   [-s] [--no-tco]
-000018e0: 205b 2d2d 6e6f 2d77 7261 702d 7479 7065   [--no-wrap-type
-000018f0: 735d 205b 2d63 2063 6f64 655d 205b 2d6a  s] [-c code] [-j
-00001900: 2070 726f 6365 7373 6573 5d0a 2020 2020   processes].    
-00001910: 2020 2020 5b2d 665d 205b 2d2d 6d69 6e69      [-f] [--mini
-00001920: 6679 5d20 5b2d 2d6a 7570 7974 6572 202e  fy] [--jupyter .
-00001930: 2e2e 5d20 5b2d 2d6d 7970 7920 2e2e 2e5d  ..] [--mypy ...]
-00001940: 205b 2d2d 6172 6776 202e 2e2e 5d20 5b2d   [--argv ...] [-
-00001950: 2d74 7574 6f72 6961 6c5d 0a20 2020 2020  -tutorial].     
-00001960: 2020 205b 2d2d 646f 6373 5d20 5b2d 2d73     [--docs] [--s
-00001970: 7479 6c65 206e 616d 655d 205b 2d2d 6869  tyle name] [--hi
-00001980: 7374 6f72 792d 6669 6c65 2070 6174 685d  story-file path]
-00001990: 205b 2d2d 7669 2d6d 6f64 655d 0a20 2020   [--vi-mode].   
-000019a0: 2020 2020 205b 2d2d 7265 6375 7273 696f       [--recursio
-000019b0: 6e2d 6c69 6d69 7420 6c69 6d69 745d 205b  n-limit limit] [
-000019c0: 2d2d 7369 7465 2d69 6e73 7461 6c6c 5d20  --site-install] 
-000019d0: 5b2d 2d73 6974 652d 756e 696e 7374 616c  [--site-uninstal
-000019e0: 6c5d 205b 2d2d 7665 7262 6f73 655d 0a20  l] [--verbose]. 
-000019f0: 2020 2020 2020 205b 2d2d 7472 6163 655d         [--trace]
-00001a00: 205b 2d2d 7072 6f66 696c 655d 0a20 2020   [--profile].   
-00001a10: 2020 2020 205b 736f 7572 6365 5d20 5b64       [source] [d
-00001a20: 6573 745d 0a60 6060 0a0a 2323 2323 2320  est].```..##### 
-00001a30: 506f 7369 7469 6f6e 616c 2041 7267 756d  Positional Argum
-00001a40: 656e 7473 0a0a 6060 600a 736f 7572 6365  ents..```.source
-00001a50: 2020 2020 2020 2020 2020 2020 2020 7061                pa
-00001a60: 7468 2074 6f20 7468 6520 436f 636f 6e75  th to the Coconu
-00001a70: 7420 6669 6c65 2f66 6f6c 6465 7220 746f  t file/folder to
-00001a80: 2063 6f6d 7069 6c65 0a64 6573 7420 2020   compile.dest   
-00001a90: 2020 2020 2020 2020 2020 2020 2064 6573               des
-00001aa0: 7469 6e61 7469 6f6e 2064 6972 6563 746f  tination directo
-00001ab0: 7279 2066 6f72 2063 6f6d 7069 6c65 6420  ry for compiled 
-00001ac0: 6669 6c65 7320 2864 6566 6175 6c74 7320  files (defaults 
-00001ad0: 746f 0a20 2020 2020 2020 2020 2020 2020  to.             
-00001ae0: 2020 2020 2020 2074 6865 2073 6f75 7263         the sourc
-00001af0: 6520 6469 7265 6374 6f72 7929 0a60 6060  e directory).```
-00001b00: 0a0a 2323 2323 2320 4f70 7469 6f6e 616c  ..##### Optional
-00001b10: 2041 7267 756d 656e 7473 0a0a 6060 600a   Arguments..```.
-00001b20: 2020 2d68 2c20 2d2d 6865 6c70 2020 2020    -h, --help    
-00001b30: 2020 2020 2020 2020 7368 6f77 2074 6869          show thi
-00001b40: 7320 6865 6c70 206d 6573 7361 6765 2061  s help message a
-00001b50: 6e64 2065 7869 740a 2020 2d2d 616e 6420  nd exit.  --and 
-00001b60: 736f 7572 6365 205b 6465 7374 202e 2e2e  source [dest ...
-00001b70: 5d0a 2020 2020 2020 2020 2020 2020 2020  ].              
-00001b80: 2020 2020 2020 2020 2020 6164 6420 616e            add an
-00001b90: 2061 6464 6974 696f 6e61 6c20 736f 7572   additional sour
-00001ba0: 6365 2f64 6573 7420 7061 6972 2074 6f20  ce/dest pair to 
-00001bb0: 636f 6d70 696c 650a 2020 2d76 2c20 2d56  compile.  -v, -V
-00001bc0: 2c20 2d2d 7665 7273 696f 6e20 2020 2020  , --version     
-00001bd0: 7072 696e 7420 436f 636f 6e75 7420 616e  print Coconut an
-00001be0: 6420 5079 7468 6f6e 2076 6572 7369 6f6e  d Python version
-00001bf0: 2069 6e66 6f72 6d61 7469 6f6e 0a20 202d   information.  -
-00001c00: 7420 7665 7273 696f 6e2c 202d 2d74 6172  t version, --tar
-00001c10: 6765 7420 7665 7273 696f 6e0a 2020 2020  get version.    
-00001c20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001c30: 2020 2020 7370 6563 6966 7920 7461 7267      specify targ
-00001c40: 6574 2050 7974 686f 6e20 7665 7273 696f  et Python versio
-00001c50: 6e20 2864 6566 6175 6c74 7320 746f 2075  n (defaults to u
-00001c60: 6e69 7665 7273 616c 290a 2020 2d69 2c20  niversal).  -i, 
-00001c70: 2d2d 696e 7465 7261 6374 2020 2020 2020  --interact      
-00001c80: 2020 666f 7263 6520 7468 6520 696e 7465    force the inte
-00001c90: 7270 7265 7465 7220 746f 2073 7461 7274  rpreter to start
-00001ca0: 2028 6f74 6865 7277 6973 6520 7374 6172   (otherwise star
-00001cb0: 7473 2069 6620 6e6f 206f 7468 6572 2063  ts if no other c
-00001cc0: 6f6d 6d61 6e64 0a20 2020 2020 2020 2020  ommand.         
-00001cd0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00001ce0: 7320 6769 7665 6e29 2028 696d 706c 6965  s given) (implie
-00001cf0: 7320 2d2d 7275 6e29 0a20 202d 702c 202d  s --run).  -p, -
-00001d00: 2d70 6163 6b61 6765 2020 2020 2020 2020  -package        
-00001d10: 2063 6f6d 7069 6c65 2073 6f75 7263 6520   compile source 
-00001d20: 6173 2070 6172 7420 6f66 2061 2070 6163  as part of a pac
-00001d30: 6b61 6765 2028 6465 6661 756c 7473 2074  kage (defaults t
-00001d40: 6f20 6f6e 6c79 2069 6620 736f 7572 6365  o only if source
-00001d50: 2069 7320 610a 2020 2020 2020 2020 2020   is a.          
-00001d60: 2020 2020 2020 2020 2020 2020 2020 6469                di
-00001d70: 7265 6374 6f72 7929 0a20 202d 612c 202d  rectory).  -a, -
-00001d80: 2d73 7461 6e64 616c 6f6e 652c 202d 2d73  -standalone, --s
-00001d90: 7461 6e64 2d61 6c6f 6e65 0a20 2020 2020  tand-alone.     
-00001da0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001db0: 2020 2063 6f6d 7069 6c65 2073 6f75 7263     compile sourc
-00001dc0: 6520 6173 2073 7461 6e64 616c 6f6e 6520  e as standalone 
-00001dd0: 6669 6c65 7320 2864 6566 6175 6c74 7320  files (defaults 
-00001de0: 746f 206f 6e6c 7920 6966 2073 6f75 7263  to only if sourc
-00001df0: 6520 6973 2061 0a20 2020 2020 2020 2020  e is a.         
-00001e00: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00001e10: 696e 676c 6520 6669 6c65 290a 2020 2d6c  ingle file).  -l
-00001e20: 2c20 2d2d 6c69 6e65 2d6e 756d 6265 7273  , --line-numbers
-00001e30: 2c20 2d2d 6c69 6e65 6e75 6d62 6572 730a  , --linenumbers.
-00001e40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001e50: 2020 2020 2020 2020 6164 6420 6c69 6e65          add line
-00001e60: 206e 756d 6265 7220 636f 6d6d 656e 7473   number comments
-00001e70: 2066 6f72 2065 6173 6520 6f66 2064 6562   for ease of deb
-00001e80: 7567 6769 6e67 0a20 202d 6b2c 202d 2d6b  ugging.  -k, --k
-00001e90: 6565 702d 6c69 6e65 732c 202d 2d6b 6565  eep-lines, --kee
-00001ea0: 706c 696e 6573 0a20 2020 2020 2020 2020  plines.         
-00001eb0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00001ec0: 6e63 6c75 6465 2073 6f75 7263 6520 636f  nclude source co
-00001ed0: 6465 2069 6e20 636f 6d6d 656e 7473 2066  de in comments f
-00001ee0: 6f72 2065 6173 6520 6f66 2064 6562 7567  or ease of debug
-00001ef0: 6769 6e67 0a20 202d 772c 202d 2d77 6174  ging.  -w, --wat
-00001f00: 6368 2020 2020 2020 2020 2020 2077 6174  ch           wat
-00001f10: 6368 2061 2064 6972 6563 746f 7279 2061  ch a directory a
-00001f20: 6e64 2072 6563 6f6d 7069 6c65 206f 6e20  nd recompile on 
-00001f30: 6368 616e 6765 730a 2020 2d72 2c20 2d2d  changes.  -r, --
-00001f40: 7275 6e20 2020 2020 2020 2020 2020 2020  run             
-00001f50: 6578 6563 7574 6520 636f 6d70 696c 6564  execute compiled
-00001f60: 2050 7974 686f 6e0a 2020 2d6e 2c20 2d2d   Python.  -n, --
-00001f70: 6e6f 2d77 7269 7465 2c20 2d2d 6e6f 7772  no-write, --nowr
-00001f80: 6974 650a 2020 2020 2020 2020 2020 2020  ite.            
-00001f90: 2020 2020 2020 2020 2020 2020 6469 7361              disa
-00001fa0: 626c 6520 7772 6974 696e 6720 636f 6d70  ble writing comp
-00001fb0: 696c 6564 2050 7974 686f 6e0a 2020 2d64  iled Python.  -d
-00001fc0: 2c20 2d2d 6469 7370 6c61 7920 2020 2020  , --display     
-00001fd0: 2020 2020 7072 696e 7420 636f 6d70 696c      print compil
-00001fe0: 6564 2050 7974 686f 6e0a 2020 2d71 2c20  ed Python.  -q, 
-00001ff0: 2d2d 7175 6965 7420 2020 2020 2020 2020  --quiet         
-00002000: 2020 7375 7070 7265 7373 2061 6c6c 2069    suppress all i
-00002010: 6e66 6f72 6d61 7469 6f6e 616c 206f 7574  nformational out
-00002020: 7075 7420 2863 6f6d 6269 6e65 2077 6974  put (combine wit
-00002030: 6820 2d2d 6469 7370 6c61 7920 746f 2077  h --display to w
-00002040: 7269 7465 0a20 2020 2020 2020 2020 2020  rite.           
-00002050: 2020 2020 2020 2020 2020 2020 2072 756e               run
-00002060: 6e61 626c 6520 636f 6465 2074 6f20 7374  nable code to st
-00002070: 646f 7574 290a 2020 2d73 2c20 2d2d 7374  dout).  -s, --st
-00002080: 7269 6374 2020 2020 2020 2020 2020 656e  rict          en
-00002090: 666f 7263 6520 636f 6465 2063 6c65 616e  force code clean
-000020a0: 6c69 6e65 7373 2073 7461 6e64 6172 6473  liness standards
-000020b0: 0a20 202d 2d6e 6f2d 7463 6f2c 202d 2d6e  .  --no-tco, --n
-000020c0: 6f74 636f 2020 2020 2064 6973 6162 6c65  otco     disable
-000020d0: 2074 6169 6c20 6361 6c6c 206f 7074 696d   tail call optim
-000020e0: 697a 6174 696f 6e0a 2020 2d2d 6e6f 2d77  ization.  --no-w
-000020f0: 7261 702d 7479 7065 732c 202d 2d6e 6f77  rap-types, --now
-00002100: 7261 7074 7970 6573 0a20 2020 2020 2020  raptypes.       
-00002110: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002120: 2064 6973 6162 6c65 2077 7261 7070 696e   disable wrappin
-00002130: 6720 7479 7065 2061 6e6e 6f74 6174 696f  g type annotatio
-00002140: 6e73 2069 6e20 7374 7269 6e67 7320 616e  ns in strings an
-00002150: 6420 7475 726e 206f 6666 2027 6672 6f6d  d turn off 'from
-00002160: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00002170: 2020 2020 2020 2020 205f 5f66 7574 7572           __futur
-00002180: 655f 5f20 696d 706f 7274 2061 6e6e 6f74  e__ import annot
-00002190: 6174 696f 6e73 2720 6265 6861 7669 6f72  ations' behavior
-000021a0: 0a20 202d 6320 636f 6465 2c20 2d2d 636f  .  -c code, --co
-000021b0: 6465 2063 6f64 6520 2072 756e 2043 6f63  de code  run Coc
-000021c0: 6f6e 7574 2070 6173 7365 6420 696e 2061  onut passed in a
-000021d0: 7320 6120 7374 7269 6e67 2028 6361 6e20  s a string (can 
-000021e0: 616c 736f 2062 6520 7069 7065 6420 696e  also be piped in
-000021f0: 746f 2073 7464 696e 290a 2020 2d6a 2070  to stdin).  -j p
-00002200: 726f 6365 7373 6573 2c20 2d2d 6a6f 6273  rocesses, --jobs
-00002210: 2070 726f 6365 7373 6573 0a20 2020 2020   processes.     
-00002220: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002230: 2020 206e 756d 6265 7220 6f66 2061 6464     number of add
-00002240: 6974 696f 6e61 6c20 7072 6f63 6573 7365  itional processe
-00002250: 7320 746f 2075 7365 2028 6465 6661 756c  s to use (defaul
-00002260: 7473 2074 6f20 3029 2028 7061 7373 2027  ts to 0) (pass '
-00002270: 7379 7327 2074 6f0a 2020 2020 2020 2020  sys' to.        
-00002280: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002290: 7573 6520 6d61 6368 696e 6520 6465 6661  use machine defa
-000022a0: 756c 7429 0a20 202d 662c 202d 2d66 6f72  ult).  -f, --for
-000022b0: 6365 2020 2020 2020 2020 2020 2066 6f72  ce           for
-000022c0: 6365 2072 652d 636f 6d70 696c 6174 696f  ce re-compilatio
-000022d0: 6e20 6576 656e 2077 6865 6e20 736f 7572  n even when sour
-000022e0: 6365 2063 6f64 6520 616e 6420 636f 6d70  ce code and comp
-000022f0: 696c 6174 696f 6e20 7061 7261 6d65 7465  ilation paramete
-00002300: 7273 0a20 2020 2020 2020 2020 2020 2020  rs.             
-00002310: 2020 2020 2020 2020 2020 2068 6176 656e             haven
-00002320: 2774 2063 6861 6e67 6564 0a20 202d 2d6d  't changed.  --m
-00002330: 696e 6966 7920 2020 2020 2020 2020 2020  inify           
-00002340: 2020 2072 6564 7563 6520 7369 7a65 206f     reduce size o
-00002350: 6620 636f 6d70 696c 6564 2050 7974 686f  f compiled Pytho
-00002360: 6e0a 2020 2d2d 6a75 7079 7465 7220 2e2e  n.  --jupyter ..
-00002370: 2e2c 202d 2d69 7079 7468 6f6e 202e 2e2e  ., --ipython ...
-00002380: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00002390: 2020 2020 2020 2020 2072 756e 204a 7570           run Jup
-000023a0: 7974 6572 2f49 5079 7468 6f6e 2077 6974  yter/IPython wit
-000023b0: 6820 436f 636f 6e75 7420 6173 2074 6865  h Coconut as the
-000023c0: 206b 6572 6e65 6c20 2872 656d 6169 6e69   kernel (remaini
-000023d0: 6e67 2061 7267 7320 7061 7373 6564 0a20  ng args passed. 
-000023e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000023f0: 2020 2020 2020 2074 6f20 4a75 7079 7465         to Jupyte
-00002400: 7229 0a20 202d 2d6d 7970 7920 2e2e 2e20  r).  --mypy ... 
-00002410: 2020 2020 2020 2020 2020 2072 756e 204d             run M
-00002420: 7950 7920 6f6e 2063 6f6d 7069 6c65 6420  yPy on compiled 
-00002430: 5079 7468 6f6e 2028 7265 6d61 696e 696e  Python (remainin
-00002440: 6720 6172 6773 2070 6173 7365 6420 746f  g args passed to
-00002450: 204d 7950 7929 2028 696d 706c 6965 730a   MyPy) (implies.
-00002460: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002470: 2020 2020 2020 2020 2d2d 7061 636b 6167          --packag
-00002480: 6529 0a20 202d 2d61 7267 7620 2e2e 2e2c  e).  --argv ...,
-00002490: 202d 2d61 7267 7320 2e2e 2e0a 2020 2020   --args ....    
-000024a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000024b0: 2020 2020 7365 7420 7379 732e 6172 6776      set sys.argv
-000024c0: 2074 6f20 736f 7572 6365 2070 6c75 7320   to source plus 
-000024d0: 7265 6d61 696e 696e 6720 6172 6773 2066  remaining args f
-000024e0: 6f72 2075 7365 2069 6e20 7468 6520 436f  or use in the Co
-000024f0: 636f 6e75 740a 2020 2020 2020 2020 2020  conut.          
-00002500: 2020 2020 2020 2020 2020 2020 2020 7363                sc
-00002510: 7269 7074 2062 6569 6e67 2072 756e 0a20  ript being run. 
-00002520: 202d 2d74 7574 6f72 6961 6c20 2020 2020   --tutorial     
-00002530: 2020 2020 2020 206f 7065 6e20 436f 636f         open Coco
-00002540: 6e75 7427 7320 7475 746f 7269 616c 2069  nut's tutorial i
-00002550: 6e20 7468 6520 6465 6661 756c 7420 7765  n the default we
-00002560: 6220 6272 6f77 7365 720a 2020 2d2d 646f  b browser.  --do
-00002570: 6373 2c20 2d2d 646f 6375 6d65 6e74 6174  cs, --documentat
-00002580: 696f 6e0a 2020 2020 2020 2020 2020 2020  ion.            
-00002590: 2020 2020 2020 2020 2020 2020 6f70 656e              open
-000025a0: 2043 6f63 6f6e 7574 2773 2064 6f63 756d   Coconut's docum
-000025b0: 656e 7461 7469 6f6e 2069 6e20 7468 6520  entation in the 
-000025c0: 6465 6661 756c 7420 7765 6220 6272 6f77  default web brow
-000025d0: 7365 720a 2020 2d2d 7374 796c 6520 6e61  ser.  --style na
-000025e0: 6d65 2020 2020 2020 2020 2020 7365 7420  me          set 
-000025f0: 5079 676d 656e 7473 2073 796e 7461 7820  Pygments syntax 
-00002600: 6869 6768 6c69 6768 7469 6e67 2073 7479  highlighting sty
-00002610: 6c65 2028 6f72 2027 6c69 7374 2720 746f  le (or 'list' to
-00002620: 206c 6973 7420 7374 796c 6573 290a 2020   list styles).  
+00000f20: 7465 722c 7761 7463 682c 6d79 7079 2c62  ter,watch,mypy,b
+00000f30: 6163 6b70 6f72 7473 2c78 6f6e 7368 6020  ackports,xonsh` 
+00000f40: 2874 6869 7320 6973 2074 6865 2072 6563  (this is the rec
+00000f50: 6f6d 6d65 6e64 6564 2077 6179 2074 6f20  ommended way to 
+00000f60: 696e 7374 616c 6c20 6120 6665 6174 7572  install a featur
+00000f70: 652d 636f 6d70 6c65 7465 2076 6572 7369  e-complete versi
+00000f80: 6f6e 206f 6620 436f 636f 6e75 7429 2e0a  on of Coconut)..
+00000f90: 2d20 606a 7570 7974 6572 602f 6069 7079  - `jupyter`/`ipy
+00000fa0: 7468 6f6e 603a 2065 6e61 626c 6573 2075  thon`: enables u
+00000fb0: 7365 206f 6620 7468 6520 602d 2d6a 7570  se of the `--jup
+00000fc0: 7974 6572 6020 2f20 602d 2d69 7079 7468  yter` / `--ipyth
+00000fd0: 6f6e 6020 666c 6167 2e0a 2d20 6077 6174  on` flag..- `wat
+00000fe0: 6368 603a 2065 6e61 626c 6573 2075 7365  ch`: enables use
+00000ff0: 206f 6620 7468 6520 602d 2d77 6174 6368   of the `--watch
+00001000: 6020 666c 6167 2e0a 2d20 606d 7970 7960  ` flag..- `mypy`
+00001010: 3a20 656e 6162 6c65 7320 7573 6520 6f66  : enables use of
+00001020: 2074 6865 2060 2d2d 6d79 7079 6020 666c   the `--mypy` fl
+00001030: 6167 2e0a 2d20 6062 6163 6b70 6f72 7473  ag..- `backports
+00001040: 603a 2069 6e73 7461 6c6c 7320 6c69 6272  `: installs libr
+00001050: 6172 6965 7320 7468 6174 2062 6163 6b70  aries that backp
+00001060: 6f72 7420 6e65 7765 7220 5079 7468 6f6e  ort newer Python
+00001070: 2066 6561 7475 7265 7320 746f 206f 6c64   features to old
+00001080: 6572 2076 6572 7369 6f6e 732c 2077 6869  er versions, whi
+00001090: 6368 2043 6f63 6f6e 7574 2077 696c 6c20  ch Coconut will 
+000010a0: 6175 746f 6d61 7469 6361 6c6c 7920 7573  automatically us
+000010b0: 6520 696e 7374 6561 6420 6f66 2074 6865  e instead of the
+000010c0: 2073 7461 6e64 6172 6420 6c69 6272 6172   standard librar
+000010d0: 7920 6966 2074 6865 2073 7461 6e64 6172  y if the standar
+000010e0: 6420 6c69 6272 6172 7920 6973 206e 6f74  d library is not
+000010f0: 2061 7661 696c 6162 6c65 2e20 5370 6563   available. Spec
+00001100: 6966 6963 616c 6c79 3a0a 2020 2d20 496e  ifically:.  - In
+00001110: 7374 616c 6c73 205b 6074 7970 696e 6760  stalls [`typing`
+00001120: 5d28 6874 7470 733a 2f2f 7079 7069 2e6f  ](https://pypi.o
+00001130: 7267 2f70 726f 6a65 6374 2f74 7970 696e  rg/project/typin
+00001140: 672f 2920 616e 6420 5b60 7479 7069 6e67  g/) and [`typing
+00001150: 5f65 7874 656e 7369 6f6e 7360 5d28 6874  _extensions`](ht
+00001160: 7470 733a 2f2f 7079 7069 2e6f 7267 2f70  tps://pypi.org/p
+00001170: 726f 6a65 6374 2f74 7970 696e 672d 6578  roject/typing-ex
+00001180: 7465 6e73 696f 6e73 2f29 2074 6f20 6261  tensions/) to ba
+00001190: 636b 706f 7274 205b 6074 7970 696e 6760  ckport [`typing`
+000011a0: 5d28 6874 7470 733a 2f2f 646f 6373 2e70  ](https://docs.p
+000011b0: 7974 686f 6e2e 6f72 672f 332f 6c69 6272  ython.org/3/libr
+000011c0: 6172 792f 7479 7069 6e67 2e68 746d 6c29  ary/typing.html)
+000011d0: 2e0a 2020 2d20 496e 7374 616c 6c73 205b  ..  - Installs [
+000011e0: 6061 656e 756d 605d 2868 7474 7073 3a2f  `aenum`](https:/
+000011f0: 2f70 7970 692e 6f72 672f 7072 6f6a 6563  /pypi.org/projec
+00001200: 742f 6165 6e75 6d29 2074 6f20 6261 636b  t/aenum) to back
+00001210: 706f 7274 205b 6065 6e75 6d60 5d28 6874  port [`enum`](ht
+00001220: 7470 733a 2f2f 646f 6373 2e70 7974 686f  tps://docs.pytho
+00001230: 6e2e 6f72 672f 332f 6c69 6272 6172 792f  n.org/3/library/
+00001240: 656e 756d 2e68 746d 6c29 2e0a 2020 2d20  enum.html)..  - 
+00001250: 496e 7374 616c 6c73 205b 6074 726f 6c6c  Installs [`troll
+00001260: 6975 7360 5d28 6874 7470 733a 2f2f 7079  ius`](https://py
+00001270: 7069 2e70 7974 686f 6e2e 6f72 672f 7079  pi.python.org/py
+00001280: 7069 2f74 726f 6c6c 6975 7329 2074 6f20  pi/trollius) to 
+00001290: 6261 636b 706f 7274 205b 6061 7379 6e63  backport [`async
+000012a0: 696f 605d 2868 7474 7073 3a2f 2f64 6f63  io`](https://doc
+000012b0: 732e 7079 7468 6f6e 2e6f 7267 2f33 2f6c  s.python.org/3/l
+000012c0: 6962 7261 7279 2f61 7379 6e63 696f 2e68  ibrary/asyncio.h
+000012d0: 746d 6c29 2e0a 2020 2d20 496e 7374 616c  tml)..  - Instal
+000012e0: 6c73 205b 6064 6174 6163 6c61 7373 6573  ls [`dataclasses
+000012f0: 605d 2868 7474 7073 3a2f 2f70 7970 692e  `](https://pypi.
+00001300: 6f72 672f 7072 6f6a 6563 742f 6461 7461  org/project/data
+00001310: 636c 6173 7365 732f 2920 746f 2062 6163  classes/) to bac
+00001320: 6b70 6f72 7420 5b60 6461 7461 636c 6173  kport [`dataclas
+00001330: 7365 7360 5d28 6874 7470 733a 2f2f 646f  ses`](https://do
+00001340: 6373 2e70 7974 686f 6e2e 6f72 672f 332f  cs.python.org/3/
+00001350: 6c69 6272 6172 792f 6461 7461 636c 6173  library/dataclas
+00001360: 7365 732e 6874 6d6c 292e 0a2d 2060 786f  ses.html)..- `xo
+00001370: 6e73 6860 3a20 656e 6162 6c65 7320 7573  nsh`: enables us
+00001380: 6520 6f66 2043 6f63 6f6e 7574 2773 205b  e of Coconut's [
+00001390: 6078 6f6e 7368 6020 7375 7070 6f72 745d  `xonsh` support]
+000013a0: 2823 786f 6e73 682d 7375 7070 6f72 7429  (#xonsh-support)
+000013b0: 2e0a 2d20 606b 6572 6e65 6c60 3a20 6c69  ..- `kernel`: li
+000013c0: 6768 7477 6569 6768 7420 7375 6273 6574  ghtweight subset
+000013d0: 206f 6620 606a 7570 7974 6572 6020 7468   of `jupyter` th
+000013e0: 6174 206f 6e6c 7920 696e 636c 7564 6573  at only includes
+000013f0: 2074 6865 2064 6570 656e 6465 6e63 6965   the dependencie
+00001400: 7320 7468 6174 2061 7265 2073 7472 6963  s that are stric
+00001410: 746c 7920 6e65 6365 7373 6172 7920 666f  tly necessary fo
+00001420: 7220 436f 636f 6e75 7427 7320 5b4a 7570  r Coconut's [Jup
+00001430: 7974 6572 206b 6572 6e65 6c5d 2823 6b65  yter kernel](#ke
+00001440: 726e 656c 292e 0a2d 2060 7465 7374 7360  rnel)..- `tests`
+00001450: 3a20 6576 6572 7974 6869 6e67 206e 6563  : everything nec
+00001460: 6573 7361 7279 2074 6f20 7465 7374 2074  essary to test t
+00001470: 6865 2043 6f63 6f6e 7574 206c 616e 6775  he Coconut langu
+00001480: 6167 6520 6974 7365 6c66 2e0a 2d20 6064  age itself..- `d
+00001490: 6f63 7360 3a20 6576 6572 7974 6869 6e67  ocs`: everything
+000014a0: 206e 6563 6573 7361 7279 2074 6f20 6275   necessary to bu
+000014b0: 696c 6420 436f 636f 6e75 7427 7320 646f  ild Coconut's do
+000014c0: 6375 6d65 6e74 6174 696f 6e2e 0a2d 2060  cumentation..- `
+000014d0: 6465 7660 3a20 6576 6572 7974 6869 6e67  dev`: everything
+000014e0: 206e 6563 6573 7361 7279 2074 6f20 6465   necessary to de
+000014f0: 7665 6c6f 7020 6f6e 2074 6865 2043 6f63  velop on the Coc
+00001500: 6f6e 7574 206c 616e 6775 6167 6520 6974  onut language it
+00001510: 7365 6c66 2c20 696e 636c 7564 696e 6720  self, including 
+00001520: 616c 6c20 6f66 2074 6865 2064 6570 656e  all of the depen
+00001530: 6465 6e63 6965 7320 6162 6f76 652e 0a0a  dencies above...
+00001540: 2323 2323 2044 6576 656c 6f70 2056 6572  #### Develop Ver
+00001550: 7369 6f6e 0a0a 416c 7465 726e 6174 6976  sion..Alternativ
+00001560: 656c 792c 2069 6620 796f 7520 7761 6e74  ely, if you want
+00001570: 2074 6f20 7465 7374 206f 7574 2043 6f63   to test out Coc
+00001580: 6f6e 7574 2773 206c 6174 6573 7420 616e  onut's latest an
+00001590: 6420 6772 6561 7465 7374 2c20 656e 7465  d greatest, ente
+000015a0: 720a 6060 600a 7069 7020 696e 7374 616c  r.```.pip instal
+000015b0: 6c20 636f 636f 6e75 742d 6465 7665 6c6f  l coconut-develo
+000015c0: 700a 6060 600a 7768 6963 6820 7769 6c6c  p.```.which will
+000015d0: 2069 6e73 7461 6c6c 2074 6865 206d 6f73   install the mos
+000015e0: 7420 7265 6365 6e74 2077 6f72 6b69 6e67  t recent working
+000015f0: 2076 6572 7369 6f6e 2066 726f 6d20 436f   version from Co
+00001600: 636f 6e75 7427 7320 5b60 6465 7665 6c6f  conut's [`develo
+00001610: 7060 2062 7261 6e63 685d 2868 7474 7073  p` branch](https
+00001620: 3a2f 2f67 6974 6875 622e 636f 6d2f 6576  ://github.com/ev
+00001630: 6875 622f 636f 636f 6e75 742f 7472 6565  hub/coconut/tree
+00001640: 2f64 6576 656c 6f70 292e 204f 7074 696f  /develop). Optio
+00001650: 6e61 6c20 6465 7065 6e64 656e 6379 2069  nal dependency i
+00001660: 6e73 7461 6c6c 6174 696f 6e20 6973 2073  nstallation is s
+00001670: 7570 706f 7274 6564 2069 6e20 7468 6520  upported in the 
+00001680: 7361 6d65 206d 616e 6e65 7220 6173 2061  same manner as a
+00001690: 626f 7665 2e20 466f 7220 6d6f 7265 2069  bove. For more i
+000016a0: 6e66 6f72 6d61 7469 6f6e 206f 6e20 7468  nformation on th
+000016b0: 6520 6375 7272 656e 7420 6465 7665 6c6f  e current develo
+000016c0: 706d 656e 7420 6275 696c 642c 2063 6865  pment build, che
+000016d0: 636b 206f 7574 2074 6865 205b 6465 7665  ck out the [deve
+000016e0: 6c6f 706d 656e 7420 7665 7273 696f 6e20  lopment version 
+000016f0: 6f66 2074 6869 7320 646f 6375 6d65 6e74  of this document
+00001700: 6174 696f 6e5d 2868 7474 703a 2f2f 636f  ation](http://co
+00001710: 636f 6e75 742e 7265 6164 7468 6564 6f63  conut.readthedoc
+00001720: 732e 696f 2f65 6e2f 6465 7665 6c6f 702f  s.io/en/develop/
+00001730: 444f 4353 2e68 746d 6c29 2e20 4265 2077  DOCS.html). Be w
+00001740: 6172 6e65 643a 2060 636f 636f 6e75 742d  arned: `coconut-
+00001750: 6465 7665 6c6f 7060 2069 7320 6c69 6b65  develop` is like
+00001760: 6c79 2074 6f20 6265 2075 6e73 7461 626c  ly to be unstabl
+00001770: 65e2 8094 6966 2079 6f75 2066 696e 6420  e...if you find 
+00001780: 6120 6275 672c 2070 6c65 6173 6520 7265  a bug, please re
+00001790: 706f 7274 2069 7420 6279 205b 6372 6561  port it by [crea
+000017a0: 7469 6e67 2061 206e 6577 2069 7373 7565  ting a new issue
+000017b0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+000017c0: 2e63 6f6d 2f65 7668 7562 2f63 6f63 6f6e  .com/evhub/cocon
+000017d0: 7574 2f69 7373 7565 732f 6e65 7729 2e0a  ut/issues/new)..
+000017e0: 0a5f 4e6f 7465 3a20 6966 2079 6f75 2068  ._Note: if you h
+000017f0: 6176 6520 616e 2065 7869 7374 696e 6720  ave an existing 
+00001800: 7265 6c65 6173 6520 7665 7273 696f 6e20  release version 
+00001810: 6f66 2060 636f 636f 6e75 7460 2069 6e73  of `coconut` ins
+00001820: 7461 6c6c 6564 2c20 796f 7527 6c6c 206e  talled, you'll n
+00001830: 6565 6420 746f 2060 7069 7020 756e 696e  eed to `pip unin
+00001840: 7374 616c 6c20 636f 636f 6e75 7460 2062  stall coconut` b
+00001850: 6566 6f72 6520 696e 7374 616c 6c69 6e67  efore installing
+00001860: 2060 636f 636f 6e75 742d 6465 7665 6c6f   `coconut-develo
+00001870: 7060 2e5f 0a0a 2323 2043 6f6d 7069 6c61  p`._..## Compila
+00001880: 7469 6f6e 0a0a 6060 607b 636f 6e74 656e  tion..```{conten
+00001890: 7473 7d0a 2d2d 2d0a 6c6f 6361 6c3a 0a64  ts}.---.local:.d
+000018a0: 6570 7468 3a20 310a 2d2d 2d0a 6060 600a  epth: 1.---.```.
+000018b0: 0a23 2323 2320 5573 6167 650a 0a60 6060  .#### Usage..```
+000018c0: 0a63 6f63 6f6e 7574 205b 2d68 5d20 5b2d  .coconut [-h] [-
+000018d0: 2d61 6e64 2073 6f75 7263 6520 5b64 6573  -and source [des
+000018e0: 7420 2e2e 2e5d 5d20 5b2d 765d 205b 2d74  t ...]] [-v] [-t
+000018f0: 2076 6572 7369 6f6e 5d20 5b2d 695d 205b   version] [-i] [
+00001900: 2d70 5d20 5b2d 615d 205b 2d6c 5d20 5b2d  -p] [-a] [-l] [-
+00001910: 6b5d 205b 2d77 5d0a 2020 2020 2020 2020  k] [-w].        
+00001920: 5b2d 725d 205b 2d6e 5d20 5b2d 645d 205b  [-r] [-n] [-d] [
+00001930: 2d71 5d20 5b2d 735d 205b 2d2d 6e6f 2d74  -q] [-s] [--no-t
+00001940: 636f 5d20 5b2d 2d6e 6f2d 7772 6170 2d74  co] [--no-wrap-t
+00001950: 7970 6573 5d20 5b2d 6320 636f 6465 5d20  ypes] [-c code] 
+00001960: 5b2d 6a20 7072 6f63 6573 7365 735d 0a20  [-j processes]. 
+00001970: 2020 2020 2020 205b 2d66 5d20 5b2d 2d6d         [-f] [--m
+00001980: 696e 6966 795d 205b 2d2d 6a75 7079 7465  inify] [--jupyte
+00001990: 7220 2e2e 2e5d 205b 2d2d 6d79 7079 202e  r ...] [--mypy .
+000019a0: 2e2e 5d20 5b2d 2d61 7267 7620 2e2e 2e5d  ..] [--argv ...]
+000019b0: 205b 2d2d 7475 746f 7269 616c 5d0a 2020   [--tutorial].  
+000019c0: 2020 2020 2020 5b2d 2d64 6f63 735d 205b        [--docs] [
+000019d0: 2d2d 7374 796c 6520 6e61 6d65 5d20 5b2d  --style name] [-
+000019e0: 2d68 6973 746f 7279 2d66 696c 6520 7061  -history-file pa
+000019f0: 7468 5d20 5b2d 2d76 692d 6d6f 6465 5d0a  th] [--vi-mode].
+00001a00: 2020 2020 2020 2020 5b2d 2d72 6563 7572          [--recur
+00001a10: 7369 6f6e 2d6c 696d 6974 206c 696d 6974  sion-limit limit
+00001a20: 5d20 5b2d 2d73 7461 636b 2d73 697a 6520  ] [--stack-size 
+00001a30: 6b62 735d 205b 2d2d 7369 7465 2d69 6e73  kbs] [--site-ins
+00001a40: 7461 6c6c 5d0a 2020 2020 2020 2020 5b2d  tall].        [-
+00001a50: 2d73 6974 652d 756e 696e 7374 616c 6c5d  -site-uninstall]
+00001a60: 205b 2d2d 7665 7262 6f73 655d 205b 2d2d   [--verbose] [--
+00001a70: 7472 6163 655d 205b 2d2d 7072 6f66 696c  trace] [--profil
+00001a80: 655d 0a20 2020 2020 2020 205b 736f 7572  e].        [sour
+00001a90: 6365 5d20 5b64 6573 745d 0a60 6060 0a0a  ce] [dest].```..
+00001aa0: 2323 2323 2320 506f 7369 7469 6f6e 616c  ##### Positional
+00001ab0: 2041 7267 756d 656e 7473 0a0a 6060 600a   Arguments..```.
+00001ac0: 736f 7572 6365 2020 2020 2020 2020 2020  source          
+00001ad0: 2020 2020 7061 7468 2074 6f20 7468 6520      path to the 
+00001ae0: 436f 636f 6e75 7420 6669 6c65 2f66 6f6c  Coconut file/fol
+00001af0: 6465 7220 746f 2063 6f6d 7069 6c65 0a64  der to compile.d
+00001b00: 6573 7420 2020 2020 2020 2020 2020 2020  est             
+00001b10: 2020 2064 6573 7469 6e61 7469 6f6e 2064     destination d
+00001b20: 6972 6563 746f 7279 2066 6f72 2063 6f6d  irectory for com
+00001b30: 7069 6c65 6420 6669 6c65 7320 2864 6566  piled files (def
+00001b40: 6175 6c74 7320 746f 0a20 2020 2020 2020  aults to.       
+00001b50: 2020 2020 2020 2020 2020 2020 2074 6865               the
+00001b60: 2073 6f75 7263 6520 6469 7265 6374 6f72   source director
+00001b70: 7929 0a60 6060 0a0a 2323 2323 2320 4f70  y).```..##### Op
+00001b80: 7469 6f6e 616c 2041 7267 756d 656e 7473  tional Arguments
+00001b90: 0a0a 6060 600a 2020 2d68 2c20 2d2d 6865  ..```.  -h, --he
+00001ba0: 6c70 2020 2020 2020 2020 2020 2020 7368  lp            sh
+00001bb0: 6f77 2074 6869 7320 6865 6c70 206d 6573  ow this help mes
+00001bc0: 7361 6765 2061 6e64 2065 7869 740a 2020  sage and exit.  
+00001bd0: 2d2d 616e 6420 736f 7572 6365 205b 6465  --and source [de
+00001be0: 7374 202e 2e2e 5d0a 2020 2020 2020 2020  st ...].        
+00001bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001c00: 6164 6420 616e 2061 6464 6974 696f 6e61  add an additiona
+00001c10: 6c20 736f 7572 6365 2f64 6573 7420 7061  l source/dest pa
+00001c20: 6972 2074 6f20 636f 6d70 696c 6520 2864  ir to compile (d
+00001c30: 6573 7420 6973 206f 7074 696f 6e61 6c29  est is optional)
+00001c40: 0a20 202d 762c 202d 562c 202d 2d76 6572  .  -v, -V, --ver
+00001c50: 7369 6f6e 2020 2020 2070 7269 6e74 2043  sion     print C
+00001c60: 6f63 6f6e 7574 2061 6e64 2050 7974 686f  oconut and Pytho
+00001c70: 6e20 7665 7273 696f 6e20 696e 666f 726d  n version inform
+00001c80: 6174 696f 6e0a 2020 2d74 2076 6572 7369  ation.  -t versi
+00001c90: 6f6e 2c20 2d2d 7461 7267 6574 2076 6572  on, --target ver
+00001ca0: 7369 6f6e 0a20 2020 2020 2020 2020 2020  sion.           
+00001cb0: 2020 2020 2020 2020 2020 2020 2073 7065               spe
+00001cc0: 6369 6679 2074 6172 6765 7420 5079 7468  cify target Pyth
+00001cd0: 6f6e 2076 6572 7369 6f6e 2028 6465 6661  on version (defa
+00001ce0: 756c 7473 2074 6f20 756e 6976 6572 7361  ults to universa
+00001cf0: 6c29 0a20 202d 692c 202d 2d69 6e74 6572  l).  -i, --inter
+00001d00: 6163 7420 2020 2020 2020 2066 6f72 6365  act        force
+00001d10: 2074 6865 2069 6e74 6572 7072 6574 6572   the interpreter
+00001d20: 2074 6f20 7374 6172 7420 286f 7468 6572   to start (other
+00001d30: 7769 7365 2073 7461 7274 7320 6966 206e  wise starts if n
+00001d40: 6f20 6f74 6865 7220 636f 6d6d 616e 640a  o other command.
+00001d50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001d60: 2020 2020 2020 2020 6973 2067 6976 656e          is given
+00001d70: 2920 2869 6d70 6c69 6573 202d 2d72 756e  ) (implies --run
+00001d80: 290a 2020 2d70 2c20 2d2d 7061 636b 6167  ).  -p, --packag
+00001d90: 6520 2020 2020 2020 2020 636f 6d70 696c  e         compil
+00001da0: 6520 736f 7572 6365 2061 7320 7061 7274  e source as part
+00001db0: 206f 6620 6120 7061 636b 6167 6520 2864   of a package (d
+00001dc0: 6566 6175 6c74 7320 746f 206f 6e6c 7920  efaults to only 
+00001dd0: 6966 2073 6f75 7263 6520 6973 2061 0a20  if source is a. 
+00001de0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001df0: 2020 2020 2020 2064 6972 6563 746f 7279         directory
+00001e00: 290a 2020 2d61 2c20 2d2d 7374 616e 6461  ).  -a, --standa
+00001e10: 6c6f 6e65 2c20 2d2d 7374 616e 642d 616c  lone, --stand-al
+00001e20: 6f6e 650a 2020 2020 2020 2020 2020 2020  one.            
+00001e30: 2020 2020 2020 2020 2020 2020 636f 6d70              comp
+00001e40: 696c 6520 736f 7572 6365 2061 7320 7374  ile source as st
+00001e50: 616e 6461 6c6f 6e65 2066 696c 6573 2028  andalone files (
+00001e60: 6465 6661 756c 7473 2074 6f20 6f6e 6c79  defaults to only
+00001e70: 2069 6620 736f 7572 6365 2069 7320 610a   if source is a.
+00001e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001e90: 2020 2020 2020 2020 7369 6e67 6c65 2066          single f
+00001ea0: 696c 6529 0a20 202d 6c2c 202d 2d6c 696e  ile).  -l, --lin
+00001eb0: 652d 6e75 6d62 6572 732c 202d 2d6c 696e  e-numbers, --lin
+00001ec0: 656e 756d 6265 7273 0a20 2020 2020 2020  enumbers.       
+00001ed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001ee0: 2061 6464 206c 696e 6520 6e75 6d62 6572   add line number
+00001ef0: 2063 6f6d 6d65 6e74 7320 666f 7220 6561   comments for ea
+00001f00: 7365 206f 6620 6465 6275 6767 696e 670a  se of debugging.
+00001f10: 2020 2d6b 2c20 2d2d 6b65 6570 2d6c 696e    -k, --keep-lin
+00001f20: 6573 2c20 2d2d 6b65 6570 6c69 6e65 730a  es, --keeplines.
+00001f30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001f40: 2020 2020 2020 2020 696e 636c 7564 6520          include 
+00001f50: 736f 7572 6365 2063 6f64 6520 696e 2063  source code in c
+00001f60: 6f6d 6d65 6e74 7320 666f 7220 6561 7365  omments for ease
+00001f70: 206f 6620 6465 6275 6767 696e 670a 2020   of debugging.  
+00001f80: 2d77 2c20 2d2d 7761 7463 6820 2020 2020  -w, --watch     
+00001f90: 2020 2020 2020 7761 7463 6820 6120 6469        watch a di
+00001fa0: 7265 6374 6f72 7920 616e 6420 7265 636f  rectory and reco
+00001fb0: 6d70 696c 6520 6f6e 2063 6861 6e67 6573  mpile on changes
+00001fc0: 0a20 202d 722c 202d 2d72 756e 2020 2020  .  -r, --run    
+00001fd0: 2020 2020 2020 2020 2065 7865 6375 7465           execute
+00001fe0: 2063 6f6d 7069 6c65 6420 5079 7468 6f6e   compiled Python
+00001ff0: 0a20 202d 6e2c 202d 2d6e 6f2d 7772 6974  .  -n, --no-writ
+00002000: 652c 202d 2d6e 6f77 7269 7465 0a20 2020  e, --nowrite.   
+00002010: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002020: 2020 2020 2064 6973 6162 6c65 2077 7269       disable wri
+00002030: 7469 6e67 2063 6f6d 7069 6c65 6420 5079  ting compiled Py
+00002040: 7468 6f6e 0a20 202d 642c 202d 2d64 6973  thon.  -d, --dis
+00002050: 706c 6179 2020 2020 2020 2020 2070 7269  play         pri
+00002060: 6e74 2063 6f6d 7069 6c65 6420 5079 7468  nt compiled Pyth
+00002070: 6f6e 0a20 202d 712c 202d 2d71 7569 6574  on.  -q, --quiet
+00002080: 2020 2020 2020 2020 2020 2073 7570 7072             suppr
+00002090: 6573 7320 616c 6c20 696e 666f 726d 6174  ess all informat
+000020a0: 696f 6e61 6c20 6f75 7470 7574 2028 636f  ional output (co
+000020b0: 6d62 696e 6520 7769 7468 202d 2d64 6973  mbine with --dis
+000020c0: 706c 6179 2074 6f20 7772 6974 650a 2020  play to write.  
+000020d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000020e0: 2020 2020 2020 7275 6e6e 6162 6c65 2063        runnable c
+000020f0: 6f64 6520 746f 2073 7464 6f75 7429 0a20  ode to stdout). 
+00002100: 202d 732c 202d 2d73 7472 6963 7420 2020   -s, --strict   
+00002110: 2020 2020 2020 2065 6e66 6f72 6365 2063         enforce c
+00002120: 6f64 6520 636c 6561 6e6c 696e 6573 7320  ode cleanliness 
+00002130: 7374 616e 6461 7264 730a 2020 2d2d 6e6f  standards.  --no
+00002140: 2d74 636f 2c20 2d2d 6e6f 7463 6f20 2020  -tco, --notco   
+00002150: 2020 6469 7361 626c 6520 7461 696c 2063    disable tail c
+00002160: 616c 6c20 6f70 7469 6d69 7a61 7469 6f6e  all optimization
+00002170: 0a20 202d 2d6e 6f2d 7772 6170 2d74 7970  .  --no-wrap-typ
+00002180: 6573 2c20 2d2d 6e6f 7772 6170 7479 7065  es, --nowraptype
+00002190: 730a 2020 2020 2020 2020 2020 2020 2020  s.              
+000021a0: 2020 2020 2020 2020 2020 6469 7361 626c            disabl
+000021b0: 6520 7772 6170 7069 6e67 2074 7970 6520  e wrapping type 
+000021c0: 616e 6e6f 7461 7469 6f6e 7320 696e 2073  annotations in s
+000021d0: 7472 696e 6773 2061 6e64 2074 7572 6e20  trings and turn 
+000021e0: 6f66 6620 2766 726f 6d0a 2020 2020 2020  off 'from.      
+000021f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002200: 2020 5f5f 6675 7475 7265 5f5f 2069 6d70    __future__ imp
+00002210: 6f72 7420 616e 6e6f 7461 7469 6f6e 7327  ort annotations'
+00002220: 2062 6568 6176 696f 720a 2020 2d63 2063   behavior.  -c c
+00002230: 6f64 652c 202d 2d63 6f64 6520 636f 6465  ode, --code code
+00002240: 2020 7275 6e20 436f 636f 6e75 7420 7061    run Coconut pa
+00002250: 7373 6564 2069 6e20 6173 2061 2073 7472  ssed in as a str
+00002260: 696e 6720 2863 616e 2061 6c73 6f20 6265  ing (can also be
+00002270: 2070 6970 6564 2069 6e74 6f20 7374 6469   piped into stdi
+00002280: 6e29 0a20 202d 6a20 7072 6f63 6573 7365  n).  -j processe
+00002290: 732c 202d 2d6a 6f62 7320 7072 6f63 6573  s, --jobs proces
+000022a0: 7365 730a 2020 2020 2020 2020 2020 2020  ses.            
+000022b0: 2020 2020 2020 2020 2020 2020 6e75 6d62              numb
+000022c0: 6572 206f 6620 6164 6469 7469 6f6e 616c  er of additional
+000022d0: 2070 726f 6365 7373 6573 2074 6f20 7573   processes to us
+000022e0: 6520 2864 6566 6175 6c74 7320 746f 2027  e (defaults to '
+000022f0: 7379 7327 2920 2830 2069 7320 6e6f 0a20  sys') (0 is no. 
+00002300: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002310: 2020 2020 2020 2061 6464 6974 696f 6e61         additiona
+00002320: 6c20 7072 6f63 6573 7365 733b 2027 7379  l processes; 'sy
+00002330: 7327 2075 7365 7320 6d61 6368 696e 6520  s' uses machine 
+00002340: 6465 6661 756c 7429 0a20 202d 662c 202d  default).  -f, -
+00002350: 2d66 6f72 6365 2020 2020 2020 2020 2020  -force          
+00002360: 2066 6f72 6365 2072 652d 636f 6d70 696c   force re-compil
+00002370: 6174 696f 6e20 6576 656e 2077 6865 6e20  ation even when 
+00002380: 736f 7572 6365 2063 6f64 6520 616e 6420  source code and 
+00002390: 636f 6d70 696c 6174 696f 6e20 7061 7261  compilation para
+000023a0: 6d65 7465 7273 0a20 2020 2020 2020 2020  meters.         
+000023b0: 2020 2020 2020 2020 2020 2020 2020 2068                 h
+000023c0: 6176 656e 2774 2063 6861 6e67 6564 0a20  aven't changed. 
+000023d0: 202d 2d6d 696e 6966 7920 2020 2020 2020   --minify       
+000023e0: 2020 2020 2020 2072 6564 7563 6520 7369         reduce si
+000023f0: 7a65 206f 6620 636f 6d70 696c 6564 2050  ze of compiled P
+00002400: 7974 686f 6e0a 2020 2d2d 6a75 7079 7465  ython.  --jupyte
+00002410: 7220 2e2e 2e2c 202d 2d69 7079 7468 6f6e  r ..., --ipython
+00002420: 202e 2e2e 0a20 2020 2020 2020 2020 2020   ....           
+00002430: 2020 2020 2020 2020 2020 2020 2072 756e               run
+00002440: 204a 7570 7974 6572 2f49 5079 7468 6f6e   Jupyter/IPython
+00002450: 2077 6974 6820 436f 636f 6e75 7420 6173   with Coconut as
+00002460: 2074 6865 206b 6572 6e65 6c20 2872 656d   the kernel (rem
+00002470: 6169 6e69 6e67 2061 7267 7320 7061 7373  aining args pass
+00002480: 6564 0a20 2020 2020 2020 2020 2020 2020  ed.             
+00002490: 2020 2020 2020 2020 2020 2074 6f20 4a75             to Ju
+000024a0: 7079 7465 7229 0a20 202d 2d6d 7970 7920  pyter).  --mypy 
+000024b0: 2e2e 2e20 2020 2020 2020 2020 2020 2072  ...            r
+000024c0: 756e 204d 7950 7920 6f6e 2063 6f6d 7069  un MyPy on compi
+000024d0: 6c65 6420 5079 7468 6f6e 2028 7265 6d61  led Python (rema
+000024e0: 696e 696e 6720 6172 6773 2070 6173 7365  ining args passe
+000024f0: 6420 746f 204d 7950 7929 2028 696d 706c  d to MyPy) (impl
+00002500: 6965 730a 2020 2020 2020 2020 2020 2020  ies.            
+00002510: 2020 2020 2020 2020 2020 2020 2d2d 7061              --pa
+00002520: 636b 6167 6529 0a20 202d 2d61 7267 7620  ckage).  --argv 
+00002530: 2e2e 2e2c 202d 2d61 7267 7320 2e2e 2e0a  ..., --args ....
+00002540: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002550: 2020 2020 2020 2020 7365 7420 7379 732e          set sys.
+00002560: 6172 6776 2074 6f20 736f 7572 6365 2070  argv to source p
+00002570: 6c75 7320 7265 6d61 696e 696e 6720 6172  lus remaining ar
+00002580: 6773 2066 6f72 2075 7365 2069 6e20 7468  gs for use in th
+00002590: 6520 436f 636f 6e75 740a 2020 2020 2020  e Coconut.      
+000025a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000025b0: 2020 7363 7269 7074 2062 6569 6e67 2072    script being r
+000025c0: 756e 0a20 202d 2d74 7574 6f72 6961 6c20  un.  --tutorial 
+000025d0: 2020 2020 2020 2020 2020 206f 7065 6e20             open 
+000025e0: 436f 636f 6e75 7427 7320 7475 746f 7269  Coconut's tutori
+000025f0: 616c 2069 6e20 7468 6520 6465 6661 756c  al in the defaul
+00002600: 7420 7765 6220 6272 6f77 7365 720a 2020  t web browser.  
+00002610: 2d2d 646f 6373 2c20 2d2d 646f 6375 6d65  --docs, --docume
+00002620: 6e74 6174 696f 6e0a 2020 2020 2020 2020  ntation.        
 00002630: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002640: 2020 2020 2020 2864 6566 6175 6c74 7320        (defaults 
-00002650: 746f 2043 4f43 4f4e 5554 5f53 5459 4c45  to COCONUT_STYLE
-00002660: 2065 6e76 6972 6f6e 6d65 6e74 2076 6172   environment var
-00002670: 6961 626c 6520 6966 2069 7420 6578 6973  iable if it exis
-00002680: 7473 2c0a 2020 2020 2020 2020 2020 2020  ts,.            
-00002690: 2020 2020 2020 2020 2020 2020 6f74 6865              othe
-000026a0: 7277 6973 6520 2764 6566 6175 6c74 2729  rwise 'default')
-000026b0: 0a20 202d 2d68 6973 746f 7279 2d66 696c  .  --history-fil
-000026c0: 6520 7061 7468 2020 2073 6574 2068 6973  e path   set his
-000026d0: 746f 7279 2066 696c 6520 286f 7220 2727  tory file (or ''
-000026e0: 2066 6f72 206e 6f20 6669 6c65 2920 2863   for no file) (c
-000026f0: 616e 2062 6520 6d6f 6469 6669 6564 2062  an be modified b
-00002700: 7920 7365 7474 696e 670a 2020 2020 2020  y setting.      
-00002710: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002720: 2020 434f 434f 4e55 545f 484f 4d45 2065    COCONUT_HOME e
-00002730: 6e76 6972 6f6e 6d65 6e74 2076 6172 6961  nvironment varia
-00002740: 626c 6529 0a20 202d 2d76 692d 6d6f 6465  ble).  --vi-mode
-00002750: 2c20 2d2d 7669 6d6f 6465 2020 2065 6e61  , --vimode   ena
-00002760: 626c 6520 7669 206d 6f64 6520 696e 2074  ble vi mode in t
-00002770: 6865 2069 6e74 6572 7072 6574 6572 2028  he interpreter (
-00002780: 6375 7272 656e 746c 7920 7365 7420 746f  currently set to
-00002790: 2046 616c 7365 2920 2863 616e 2062 650a   False) (can be.
-000027a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000027b0: 2020 2020 2020 2020 6d6f 6469 6669 6564          modified
-000027c0: 2062 7920 7365 7474 696e 6720 434f 434f   by setting COCO
-000027d0: 4e55 545f 5649 5f4d 4f44 4520 656e 7669  NUT_VI_MODE envi
-000027e0: 726f 6e6d 656e 7420 7661 7269 6162 6c65  ronment variable
-000027f0: 290a 2020 2d2d 7265 6375 7273 696f 6e2d  ).  --recursion-
-00002800: 6c69 6d69 7420 6c69 6d69 742c 202d 2d72  limit limit, --r
-00002810: 6563 7572 7369 6f6e 6c69 6d69 7420 6c69  ecursionlimit li
-00002820: 6d69 740a 2020 2020 2020 2020 2020 2020  mit.            
-00002830: 2020 2020 2020 2020 2020 2020 7365 7420              set 
-00002840: 6d61 7869 6d75 6d20 7265 6375 7273 696f  maximum recursio
-00002850: 6e20 6465 7074 6820 696e 2063 6f6d 7069  n depth in compi
-00002860: 6c65 7220 2864 6566 6175 6c74 7320 746f  ler (defaults to
-00002870: 2032 3039 3029 0a20 202d 2d73 6974 652d   2090).  --site-
-00002880: 696e 7374 616c 6c2c 202d 2d73 6974 6569  install, --sitei
-00002890: 6e73 7461 6c6c 0a20 2020 2020 2020 2020  nstall.         
-000028a0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-000028b0: 6574 2075 7020 636f 636f 6e75 742e 636f  et up coconut.co
-000028c0: 6e76 656e 6965 6e63 6520 746f 2062 6520  nvenience to be 
-000028d0: 696d 706f 7274 6564 206f 6e20 5079 7468  imported on Pyth
-000028e0: 6f6e 2073 7461 7274 0a20 202d 2d73 6974  on start.  --sit
-000028f0: 652d 756e 696e 7374 616c 6c2c 202d 2d73  e-uninstall, --s
-00002900: 6974 6575 6e69 6e73 7461 6c6c 0a20 2020  iteuninstall.   
-00002910: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002920: 2020 2020 2072 6576 6572 7420 7468 6520       revert the 
-00002930: 6566 6665 6374 7320 6f66 202d 2d73 6974  effects of --sit
-00002940: 652d 696e 7374 616c 6c0a 2020 2d2d 7665  e-install.  --ve
-00002950: 7262 6f73 6520 2020 2020 2020 2020 2020  rbose           
-00002960: 2020 7072 696e 7420 7665 7262 6f73 6520    print verbose 
-00002970: 6465 6275 6720 6f75 7470 7574 0a20 202d  debug output.  -
-00002980: 2d74 7261 6365 2020 2020 2020 2020 2020  -trace          
-00002990: 2020 2020 2070 7269 6e74 2076 6572 626f       print verbo
-000029a0: 7365 2070 6172 7369 6e67 2064 6174 6120  se parsing data 
-000029b0: 286f 6e6c 7920 6176 6169 6c61 626c 6520  (only available 
-000029c0: 696e 2063 6f63 6f6e 7574 2d64 6576 656c  in coconut-devel
-000029d0: 6f70 290a 2020 2d2d 7072 6f66 696c 6520  op).  --profile 
-000029e0: 2020 2020 2020 2020 2020 2020 636f 6c6c              coll
-000029f0: 6563 7420 616e 6420 7072 696e 7420 7469  ect and print ti
-00002a00: 6d69 6e67 2069 6e66 6f20 286f 6e6c 7920  ming info (only 
-00002a10: 6176 6169 6c61 626c 6520 696e 2063 6f63  available in coc
-00002a20: 6f6e 7574 2d64 6576 656c 6f70 290a 6060  onut-develop).``
-00002a30: 600a 0a23 2323 2320 436f 636f 6e75 7420  `..#### Coconut 
-00002a40: 5363 7269 7074 730a 0a54 6f20 7275 6e20  Scripts..To run 
-00002a50: 6120 436f 636f 6e75 7420 6669 6c65 2061  a Coconut file a
-00002a60: 7320 6120 7363 7269 7074 2c20 436f 636f  s a script, Coco
-00002a70: 6e75 7420 7072 6f76 6964 6573 2074 6865  nut provides the
-00002a80: 2063 6f6d 6d61 6e64 0a60 6060 0a63 6f63   command.```.coc
-00002a90: 6f6e 7574 2d72 756e 203c 736f 7572 6365  onut-run <source
-00002aa0: 3e20 3c61 7267 733e 0a60 6060 0a61 7320  > <args>.```.as 
-00002ab0: 616e 2061 6c69 6173 2066 6f72 0a60 6060  an alias for.```
-00002ac0: 0a63 6f63 6f6e 7574 202d 2d72 756e 202d  .coconut --run -
-00002ad0: 2d71 7569 6574 202d 2d74 6172 6765 7420  -quiet --target 
-00002ae0: 7379 7320 3c73 6f75 7263 653e 202d 2d61  sys <source> --a
-00002af0: 7267 7620 3c61 7267 733e 0a60 6060 0a77  rgv <args>.```.w
-00002b00: 6869 6368 2077 696c 6c20 7175 6965 746c  hich will quietl
-00002b10: 7920 636f 6d70 696c 6520 616e 6420 7275  y compile and ru
-00002b20: 6e20 603c 736f 7572 6365 3e60 2c20 7061  n `<source>`, pa
-00002b30: 7373 696e 6720 616e 7920 6164 6469 7469  ssing any additi
-00002b40: 6f6e 616c 2061 7267 756d 656e 7473 2074  onal arguments t
-00002b50: 6f20 7468 6520 7363 7269 7074 2c20 6d69  o the script, mi
-00002b60: 6d69 636b 696e 6720 686f 7720 7468 6520  micking how the 
-00002b70: 6070 7974 686f 6e60 2063 6f6d 6d61 6e64  `python` command
-00002b80: 2077 6f72 6b73 2e0a 0a60 636f 636f 6e75   works...`coconu
-00002b90: 742d 7275 6e60 2063 616e 2062 6520 7573  t-run` can be us
-00002ba0: 6564 2069 6e20 6120 556e 6978 2073 6865  ed in a Unix she
-00002bb0: 6261 6e67 206c 696e 6520 746f 2063 7265  bang line to cre
-00002bc0: 6174 6520 6120 436f 636f 6e75 7420 7363  ate a Coconut sc
-00002bd0: 7269 7074 2062 7920 6164 6469 6e67 2074  ript by adding t
-00002be0: 6865 2066 6f6c 6c6f 7769 6e67 206c 696e  he following lin
-00002bf0: 6520 746f 2074 6865 2073 7461 7274 206f  e to the start o
-00002c00: 6620 796f 7572 2073 6372 6970 743a 0a60  f your script:.`
-00002c10: 6060 6261 7368 0a23 212f 7573 722f 6269  ``bash.#!/usr/bi
-00002c20: 6e2f 656e 7620 636f 636f 6e75 742d 7275  n/env coconut-ru
-00002c30: 6e0a 6060 600a 0a5f 4e6f 7465 3a20 746f  n.```.._Note: to
-00002c40: 2070 6173 7320 6164 6469 7469 6f6e 616c   pass additional
-00002c50: 2063 6f6d 7069 6c61 7469 6f6e 2061 7267   compilation arg
-00002c60: 756d 656e 7473 2074 6f20 6063 6f63 6f6e  uments to `cocon
-00002c70: 7574 2d72 756e 6020 2865 2e67 2e20 602d  ut-run` (e.g. `-
-00002c80: 2d6e 6f2d 7463 6f60 292c 2070 7574 2074  -no-tco`), put t
-00002c90: 6865 6d20 6265 666f 7265 2074 6865 2060  hem before the `
-00002ca0: 3c73 6f75 7263 653e 6020 6669 6c65 2e5f  <source>` file._
-00002cb0: 0a0a 2323 2323 204e 616d 696e 6720 536f  ..#### Naming So
-00002cc0: 7572 6365 2046 696c 6573 0a0a 436f 636f  urce Files..Coco
-00002cd0: 6e75 7420 736f 7572 6365 2066 696c 6573  nut source files
-00002ce0: 2073 686f 756c 642c 2073 6f20 7468 6520   should, so the 
-00002cf0: 636f 6d70 696c 6572 2063 616e 2072 6563  compiler can rec
-00002d00: 6f67 6e69 7a65 2074 6865 6d2c 2075 7365  ognize them, use
-00002d10: 2074 6865 2065 7874 656e 7369 6f6e 2060   the extension `
-00002d20: 2e63 6f63 6f60 2028 7072 6566 6572 7265  .coco` (preferre
-00002d30: 6429 2c20 602e 636f 6360 2c20 6f72 2060  d), `.coc`, or `
-00002d40: 2e63 6f63 6f6e 7574 602e 2057 6865 6e20  .coconut`. When 
-00002d50: 436f 636f 6e75 7420 636f 6d70 696c 6573  Coconut compiles
-00002d60: 2061 2060 2e63 6f63 6f60 2066 696c 652c   a `.coco` file,
-00002d70: 2069 7420 7769 6c6c 2063 6f6d 7069 6c65   it will compile
-00002d80: 2074 6f20 616e 6f74 6865 7220 6669 6c65   to another file
-00002d90: 2077 6974 6820 7468 6520 7361 6d65 206e   with the same n
-00002da0: 616d 652c 2065 7863 6570 7420 7769 7468  ame, except with
-00002db0: 2060 2e70 7960 2069 6e73 7465 6164 206f   `.py` instead o
-00002dc0: 6620 602e 636f 636f 602c 2077 6869 6368  f `.coco`, which
-00002dd0: 2077 696c 6c20 686f 6c64 2074 6865 2063   will hold the c
-00002de0: 6f6d 7069 6c65 6420 636f 6465 2e20 4966  ompiled code. If
-00002df0: 2061 6e20 6578 7465 6e73 696f 6e20 6f74   an extension ot
-00002e00: 6865 7220 7468 616e 2060 2e70 7960 2069  her than `.py` i
-00002e10: 7320 6465 7369 7265 6420 666f 7220 7468  s desired for th
-00002e20: 6520 636f 6d70 696c 6564 2066 696c 6573  e compiled files
-00002e30: 2c20 7468 656e 2074 6861 7420 6578 7465  , then that exte
-00002e40: 6e73 696f 6e20 6361 6e20 6265 2070 7574  nsion can be put
-00002e50: 2062 6566 6f72 6520 602e 636f 636f 6020   before `.coco` 
-00002e60: 696e 2074 6865 2073 6f75 7263 6520 6669  in the source fi
-00002e70: 6c65 206e 616d 652c 2061 6e64 2069 7420  le name, and it 
-00002e80: 7769 6c6c 2062 6520 7573 6564 2069 6e73  will be used ins
-00002e90: 7465 6164 206f 6620 602e 7079 6020 666f  tead of `.py` fo
-00002ea0: 7220 7468 6520 636f 6d70 696c 6564 2066  r the compiled f
-00002eb0: 696c 6573 2e20 466f 7220 6578 616d 706c  iles. For exampl
-00002ec0: 652c 2060 6e61 6d65 2e63 6f63 6f60 2077  e, `name.coco` w
-00002ed0: 696c 6c20 636f 6d70 696c 6520 746f 2060  ill compile to `
-00002ee0: 6e61 6d65 2e70 7960 2c20 7768 6572 6561  name.py`, wherea
-00002ef0: 7320 606e 616d 652e 6162 632e 636f 636f  s `name.abc.coco
-00002f00: 6020 7769 6c6c 2063 6f6d 7069 6c65 2074  ` will compile t
-00002f10: 6f20 606e 616d 652e 6162 6360 2e0a 0a23  o `name.abc`...#
-00002f20: 2323 2320 436f 6d70 696c 6174 696f 6e20  ### Compilation 
-00002f30: 4d6f 6465 730a 0a46 696c 6573 2063 6f6d  Modes..Files com
-00002f40: 7069 6c65 6420 6279 2074 6865 2060 636f  piled by the `co
-00002f50: 636f 6e75 7460 2063 6f6d 6d61 6e64 2d6c  conut` command-l
-00002f60: 696e 6520 7574 696c 6974 7920 7769 6c6c  ine utility will
-00002f70: 2076 6172 7920 6261 7365 6420 6f6e 2063   vary based on c
-00002f80: 6f6d 7069 6c61 7469 6f6e 2070 6172 616d  ompilation param
-00002f90: 6574 6572 732e 2049 6620 616e 2065 6e74  eters. If an ent
-00002fa0: 6972 6520 6469 7265 6374 6f72 7920 6f66  ire directory of
-00002fb0: 2066 696c 6573 2069 7320 636f 6d70 696c   files is compil
-00002fc0: 6564 2028 7768 6963 6820 7468 6520 636f  ed (which the co
-00002fd0: 6d70 696c 6572 2077 696c 6c20 7365 6172  mpiler will sear
-00002fe0: 6368 2072 6563 7572 7369 7665 6c79 2066  ch recursively f
-00002ff0: 6f72 2061 6e79 2066 6f6c 6465 7273 2063  or any folders c
-00003000: 6f6e 7461 696e 696e 6720 602e 636f 636f  ontaining `.coco
-00003010: 602c 2060 2e63 6f63 602c 206f 7220 602e  `, `.coc`, or `.
-00003020: 636f 636f 6e75 7460 2066 696c 6573 292c  coconut` files),
-00003030: 2061 2060 5f5f 636f 636f 6e75 745f 5f2e   a `__coconut__.
-00003040: 7079 6020 6669 6c65 2077 696c 6c20 6265  py` file will be
-00003050: 2063 7265 6174 6564 2074 6f20 686f 7573   created to hous
-00003060: 6520 6e65 6365 7373 6172 7920 6675 6e63  e necessary func
-00003070: 7469 6f6e 7320 2870 6163 6b61 6765 206d  tions (package m
-00003080: 6f64 6529 2c20 7768 6572 6561 7320 6966  ode), whereas if
-00003090: 206f 6e6c 7920 6120 7369 6e67 6c65 2066   only a single f
-000030a0: 696c 6520 6973 2063 6f6d 7069 6c65 642c  ile is compiled,
-000030b0: 2074 6861 7420 696e 666f 726d 6174 696f   that informatio
-000030c0: 6e20 7769 6c6c 2062 6520 7374 6f72 6564  n will be stored
-000030d0: 2077 6974 6869 6e20 6120 6865 6164 6572   within a header
-000030e0: 2069 6e73 6964 6520 7468 6520 6669 6c65   inside the file
-000030f0: 2028 7374 616e 6461 6c6f 6e65 206d 6f64   (standalone mod
-00003100: 6529 2e20 5374 616e 6461 6c6f 6e65 206d  e). Standalone m
-00003110: 6f64 6520 6973 2062 6574 7465 7220 666f  ode is better fo
-00003120: 7220 7369 6e67 6c65 2066 696c 6573 2062  r single files b
-00003130: 6563 6175 7365 2069 7420 6765 7473 2072  ecause it gets r
-00003140: 6964 206f 6620 7468 6520 6f76 6572 6865  id of the overhe
-00003150: 6164 2069 6e76 6f6c 7665 6420 696e 2069  ad involved in i
-00003160: 6d70 6f72 7469 6e67 2060 5f5f 636f 636f  mporting `__coco
-00003170: 6e75 745f 5f2e 7079 602c 2062 7574 2070  nut__.py`, but p
-00003180: 6163 6b61 6765 206d 6f64 6520 6973 2062  ackage mode is b
-00003190: 6574 7465 7220 666f 7220 6c61 7267 6520  etter for large 
-000031a0: 7061 636b 6167 6573 2062 6563 6175 7365  packages because
-000031b0: 2069 7420 6765 7473 2072 6964 206f 6620   it gets rid of 
-000031c0: 7468 6520 6e65 6564 2074 6f20 7275 6e20  the need to run 
-000031d0: 7468 6520 7361 6d65 2043 6f63 6f6e 7574  the same Coconut
-000031e0: 2068 6561 6465 7220 636f 6465 2061 6761   header code aga
-000031f0: 696e 2069 6e20 6576 6572 7920 6669 6c65  in in every file
-00003200: 2c20 7369 6e63 6520 6974 2063 616e 206a  , since it can j
-00003210: 7573 7420 6265 2069 6d70 6f72 7465 6420  ust be imported 
-00003220: 6672 6f6d 2060 5f5f 636f 636f 6e75 745f  from `__coconut_
-00003230: 5f2e 7079 602e 0a0a 4279 2064 6566 6175  _.py`...By defau
-00003240: 6c74 2c20 6966 2074 6865 2060 736f 7572  lt, if the `sour
-00003250: 6365 6020 6172 6775 6d65 6e74 2074 6f20  ce` argument to 
-00003260: 7468 6520 636f 6d6d 616e 642d 6c69 6e65  the command-line
-00003270: 2075 7469 6c69 7479 2069 7320 6120 6669   utility is a fi
-00003280: 6c65 2c20 6974 2077 696c 6c20 7065 7266  le, it will perf
-00003290: 6f72 6d20 7374 616e 6461 6c6f 6e65 2063  orm standalone c
-000032a0: 6f6d 7069 6c61 7469 6f6e 206f 6e20 6974  ompilation on it
-000032b0: 2c20 7768 6572 6561 7320 6966 2069 7420  , whereas if it 
-000032c0: 6973 2061 2064 6972 6563 746f 7279 2c20  is a directory, 
-000032d0: 6974 2077 696c 6c20 7265 6375 7273 6976  it will recursiv
-000032e0: 656c 7920 7365 6172 6368 2066 6f72 2061  ely search for a
-000032f0: 6c6c 2060 2e63 6f63 6f60 2066 696c 6573  ll `.coco` files
-00003300: 2061 6e64 2070 6572 666f 726d 2070 6163   and perform pac
-00003310: 6b61 6765 2063 6f6d 7069 6c61 7469 6f6e  kage compilation
-00003320: 206f 6e20 7468 656d 2e20 5468 7573 2c20   on them. Thus, 
-00003330: 696e 206d 6f73 7420 6361 7365 732c 2074  in most cases, t
-00003340: 6865 206d 6f64 6520 6368 6f73 656e 2062  he mode chosen b
-00003350: 7920 436f 636f 6e75 7420 6175 746f 6d61  y Coconut automa
-00003360: 7469 6361 6c6c 7920 7769 6c6c 2062 6520  tically will be 
-00003370: 7468 6520 7269 6768 7420 6f6e 652e 2042  the right one. B
-00003380: 7574 2069 6620 6974 2069 7320 7665 7279  ut if it is very
-00003390: 2069 6d70 6f72 7461 6e74 2074 6861 7420   important that 
-000033a0: 6e6f 2061 6464 6974 696f 6e61 6c20 6669  no additional fi
-000033b0: 6c65 7320 6c69 6b65 2060 5f5f 636f 636f  les like `__coco
-000033c0: 6e75 745f 5f2e 7079 6020 6265 2063 7265  nut__.py` be cre
-000033d0: 6174 6564 2c20 666f 7220 6578 616d 706c  ated, for exampl
-000033e0: 652c 2074 6865 6e20 7468 6520 636f 6d6d  e, then the comm
-000033f0: 616e 642d 6c69 6e65 2075 7469 6c69 7479  and-line utility
-00003400: 2063 616e 2061 6c73 6f20 6265 2066 6f72   can also be for
-00003410: 6365 6420 746f 2075 7365 2061 2073 7065  ced to use a spe
-00003420: 6369 6669 6320 6d6f 6465 2077 6974 6820  cific mode with 
-00003430: 7468 6520 602d 2d70 6163 6b61 6765 6020  the `--package` 
-00003440: 2860 2d70 6029 2061 6e64 2060 2d2d 7374  (`-p`) and `--st
-00003450: 616e 6461 6c6f 6e65 6020 2860 2d61 6029  andalone` (`-a`)
-00003460: 2066 6c61 6773 2e0a 0a23 2323 2320 436f   flags...#### Co
-00003470: 6d70 6174 6962 6c65 2050 7974 686f 6e20  mpatible Python 
-00003480: 5665 7273 696f 6e73 0a0a 5768 696c 6520  Versions..While 
-00003490: 436f 636f 6e75 7420 7379 6e74 6178 2069  Coconut syntax i
-000034a0: 7320 6261 7365 6420 6f66 6620 6f66 2074  s based off of t
-000034b0: 6865 206c 6174 6573 7420 5079 7468 6f6e  he latest Python
-000034c0: 2033 2c20 436f 636f 6e75 7420 636f 6465   3, Coconut code
-000034d0: 2063 6f6d 7069 6c65 6420 696e 2075 6e69   compiled in uni
-000034e0: 7665 7273 616c 206d 6f64 6520 2874 6865  versal mode (the
-000034f0: 2064 6566 6175 6c74 2060 2d2d 7461 7267   default `--targ
-00003500: 6574 6029 e280 9461 6e64 2074 6865 2043  et`)...and the C
-00003510: 6f63 6f6e 7574 2063 6f6d 7069 6c65 7220  oconut compiler 
-00003520: 6974 7365 6c66 e280 9473 686f 756c 6420  itself...should 
-00003530: 7275 6e20 6f6e 2061 6e79 2050 7974 686f  run on any Pytho
-00003540: 6e20 7665 7273 696f 6e20 603e 3d20 322e  n version `>= 2.
-00003550: 3660 206f 6e20 7468 6520 6032 2e78 6020  6` on the `2.x` 
-00003560: 6272 616e 6368 206f 7220 603e 3d20 332e  branch or `>= 3.
-00003570: 3260 206f 6e20 7468 6520 6033 2e78 6020  2` on the `3.x` 
-00003580: 6272 616e 6368 2028 616e 6420 6f6e 2065  branch (and on e
-00003590: 6974 6865 7220 5b43 5079 7468 6f6e 5d28  ither [CPython](
-000035a0: 6874 7470 733a 2f2f 7777 772e 7079 7468  https://www.pyth
-000035b0: 6f6e 2e6f 7267 2f29 206f 7220 5b50 7950  on.org/) or [PyP
-000035c0: 795d 2868 7474 703a 2f2f 7079 7079 2e6f  y](http://pypy.o
-000035d0: 7267 2f29 292e 0a0a 546f 206d 616b 6520  rg/))...To make 
-000035e0: 436f 636f 6e75 7420 6275 696c 742d 696e  Coconut built-in
-000035f0: 7320 756e 6976 6572 7361 6c20 6163 726f  s universal acro
-00003600: 7373 2050 7974 686f 6e20 7665 7273 696f  ss Python versio
-00003610: 6e73 2c20 436f 636f 6e75 7420 6d61 6b65  ns, Coconut make
-00003620: 7320 6176 6169 6c61 626c 6520 6f6e 2061  s available on a
-00003630: 6e79 2050 7974 686f 6e20 7665 7273 696f  ny Python versio
-00003640: 6e20 6275 696c 742d 696e 7320 7468 6174  n built-ins that
-00003650: 206f 6e6c 7920 6578 6973 7420 696e 206c   only exist in l
-00003660: 6174 6572 2076 6572 7369 6f6e 732c 2069  ater versions, i
-00003670: 6e63 6c75 6469 6e67 202a 2a61 7574 6f6d  ncluding **autom
-00003680: 6174 6963 616c 6c79 206f 7665 7277 7269  atically overwri
-00003690: 7469 6e67 2050 7974 686f 6e20 3220 6275  ting Python 2 bu
-000036a0: 696c 742d 696e 7320 7769 7468 2074 6865  ilt-ins with the
-000036b0: 6972 2050 7974 686f 6e20 3320 636f 756e  ir Python 3 coun
-000036c0: 7465 7270 6172 7473 2e2a 2a20 4164 6469  terparts.** Addi
-000036d0: 7469 6f6e 616c 6c79 2c20 436f 636f 6e75  tionally, Coconu
-000036e0: 7420 616c 736f 205b 6f76 6572 7772 6974  t also [overwrit
-000036f0: 6573 2073 6f6d 6520 5079 7468 6f6e 2033  es some Python 3
-00003700: 2062 7569 6c74 2d69 6e73 2066 6f72 206f   built-ins for o
-00003710: 7074 696d 697a 6174 696f 6e20 616e 6420  ptimization and 
-00003720: 656e 6861 6e63 656d 656e 7420 7075 7270  enhancement purp
-00003730: 6f73 6573 5d28 2365 6e68 616e 6365 642d  oses](#enhanced-
-00003740: 6275 696c 742d 696e 7329 2e20 4966 2061  built-ins). If a
-00003750: 6363 6573 7320 746f 2074 6865 206f 7269  ccess to the ori
-00003760: 6769 6e61 6c20 5079 7468 6f6e 2076 6572  ginal Python ver
-00003770: 7369 6f6e 7320 6f66 2061 6e79 206f 7665  sions of any ove
-00003780: 7277 7269 7474 656e 2062 7569 6c74 2d69  rwritten built-i
-00003790: 6e73 2069 7320 6465 7369 7265 642c 2074  ns is desired, t
-000037a0: 6865 206f 6c64 2062 7569 6c74 2d69 6e73  he old built-ins
-000037b0: 2063 616e 2062 6520 7265 7472 6965 7665   can be retrieve
-000037c0: 6420 6279 2070 7265 6669 7869 6e67 2074  d by prefixing t
-000037d0: 6865 6d20 7769 7468 2060 7079 5f60 2e20  hem with `py_`. 
-000037e0: 5370 6563 6966 6963 616c 6c79 2c20 7468  Specifically, th
-000037f0: 6520 6f76 6572 7772 6974 7465 6e20 6275  e overwritten bu
-00003800: 696c 742d 696e 7320 6172 653a 0a0a 2d20  ilt-ins are:..- 
-00003810: 6070 795f 6368 7260 0a2d 2060 7079 5f68  `py_chr`.- `py_h
-00003820: 6578 600a 2d20 6070 795f 696e 7075 7460  ex`.- `py_input`
-00003830: 0a2d 2060 7079 5f69 6e74 600a 2d20 6070  .- `py_int`.- `p
-00003840: 795f 6d61 7060 0a2d 2060 7079 5f6f 626a  y_map`.- `py_obj
-00003850: 6563 7460 0a2d 2060 7079 5f6f 6374 600a  ect`.- `py_oct`.
-00003860: 2d20 6070 795f 6f70 656e 600a 2d20 6070  - `py_open`.- `p
-00003870: 795f 7072 696e 7460 0a2d 2060 7079 5f72  y_print`.- `py_r
-00003880: 616e 6765 600a 2d20 6070 795f 7374 7260  ange`.- `py_str`
-00003890: 0a2d 2060 7079 5f73 7570 6572 600a 2d20  .- `py_super`.- 
-000038a0: 6070 795f 7a69 7060 0a2d 2060 7079 5f66  `py_zip`.- `py_f
-000038b0: 696c 7465 7260 0a2d 2060 7079 5f72 6576  ilter`.- `py_rev
-000038c0: 6572 7365 6460 0a2d 2060 7079 5f65 6e75  ersed`.- `py_enu
-000038d0: 6d65 7261 7465 600a 2d20 6070 795f 7261  merate`.- `py_ra
-000038e0: 775f 696e 7075 7460 0a2d 2060 7079 5f78  w_input`.- `py_x
-000038f0: 7261 6e67 6560 0a2d 2060 7079 5f72 6570  range`.- `py_rep
-00003900: 7260 0a2d 2060 7079 5f62 7265 616b 706f  r`.- `py_breakpo
-00003910: 696e 7460 0a0a 5f4e 6f74 653a 2043 6f63  int`.._Note: Coc
-00003920: 6f6e 7574 2773 2060 7265 7072 6020 6361  onut's `repr` ca
-00003930: 6e20 6265 2073 6f6d 6577 6861 7420 7472  n be somewhat tr
-00003940: 6963 6b79 2c20 6173 2069 7420 7769 6c6c  icky, as it will
-00003950: 2061 7474 656d 7074 2074 6f20 7265 6d6f   attempt to remo
-00003960: 7665 2074 6865 2060 7560 2062 6566 6f72  ve the `u` befor
-00003970: 6520 7265 7072 7320 6f66 2075 6e69 636f  e reprs of unico
-00003980: 6465 2073 7472 696e 6773 206f 6e20 5079  de strings on Py
-00003990: 7468 6f6e 2032 2c20 6275 7420 7769 6c6c  thon 2, but will
-000039a0: 206e 6f74 2061 6c77 6179 7320 6265 2061   not always be a
-000039b0: 626c 6520 746f 2064 6f20 736f 2069 6620  ble to do so if 
-000039c0: 7468 6520 756e 6963 6f64 6520 7374 7269  the unicode stri
-000039d0: 6e67 2069 7320 6e65 7374 6564 2e5f 0a0a  ng is nested._..
-000039e0: 466f 7220 7374 616e 6461 7264 206c 6962  For standard lib
-000039f0: 7261 7279 2063 6f6d 7061 7469 6269 6c69  rary compatibili
-00003a00: 7479 2c20 2a2a 436f 636f 6e75 7420 6175  ty, **Coconut au
-00003a10: 746f 6d61 7469 6361 6c6c 7920 6d61 7073  tomatically maps
-00003a20: 2069 6d70 6f72 7473 2075 6e64 6572 2050   imports under P
-00003a30: 7974 686f 6e20 3320 6e61 6d65 7320 746f  ython 3 names to
-00003a40: 2069 6d70 6f72 7473 2075 6e64 6572 2050   imports under P
-00003a50: 7974 686f 6e20 3220 6e61 6d65 732a 2a2e  ython 2 names**.
-00003a60: 2054 6875 732c 2043 6f63 6f6e 7574 2077   Thus, Coconut w
-00003a70: 696c 6c20 6175 746f 6d61 7469 6361 6c6c  ill automaticall
-00003a80: 7920 7461 6b65 2063 6172 6520 6f66 2061  y take care of a
-00003a90: 6e79 2073 7461 6e64 6172 6420 6c69 6272  ny standard libr
-00003aa0: 6172 7920 6d6f 6475 6c65 7320 7468 6174  ary modules that
-00003ab0: 2077 6572 6520 7265 6e61 6d65 6420 6672   were renamed fr
-00003ac0: 6f6d 2050 7974 686f 6e20 3220 746f 2050  om Python 2 to P
-00003ad0: 7974 686f 6e20 3320 6966 206a 7573 7420  ython 3 if just 
-00003ae0: 7468 6520 5079 7468 6f6e 2033 206e 616d  the Python 3 nam
-00003af0: 6520 6973 2075 7365 642e 2046 6f72 206d  e is used. For m
-00003b00: 6f64 756c 6573 206f 7220 7061 636b 6167  odules or packag
-00003b10: 6573 2074 6861 7420 6f6e 6c79 2065 7869  es that only exi
-00003b20: 7374 2069 6e20 5079 7468 6f6e 2033 2c20  st in Python 3, 
-00003b30: 686f 7765 7665 722c 2043 6f63 6f6e 7574  however, Coconut
-00003b40: 2068 6173 206e 6f20 7761 7920 6f66 206d   has no way of m
-00003b50: 6169 6e74 6169 6e69 6e67 2063 6f6d 7061  aintaining compa
-00003b60: 7469 6269 6c69 7479 2e0a 0a46 696e 616c  tibility...Final
-00003b70: 6c79 2c20 7768 696c 6520 436f 636f 6e75  ly, while Coconu
-00003b80: 7420 7769 6c6c 2074 7279 2074 6f20 636f  t will try to co
-00003b90: 6d70 696c 6520 5079 7468 6f6e 2d33 2d73  mpile Python-3-s
-00003ba0: 7065 6369 6669 6320 7379 6e74 6178 2074  pecific syntax t
-00003bb0: 6f20 6974 7320 756e 6976 6572 7361 6c20  o its universal 
-00003bc0: 6571 7569 7661 6c65 6e74 2c20 7468 6520  equivalent, the 
-00003bd0: 666f 6c6c 6f77 696e 6720 636f 6e73 7472  following constr
-00003be0: 7563 7473 2068 6176 6520 6e6f 2065 7175  ucts have no equ
-00003bf0: 6976 616c 656e 7420 696e 2050 7974 686f  ivalent in Pytho
-00003c00: 6e20 322c 2061 6e64 2072 6571 7569 7265  n 2, and require
-00003c10: 2074 6865 2073 7065 6369 6669 6361 7469   the specificati
-00003c20: 6f6e 206f 6620 6120 7461 7267 6574 206f  on of a target o
-00003c30: 6620 6174 206c 6561 7374 2060 3360 2074  f at least `3` t
-00003c40: 6f20 6265 2075 7365 643a 0a0a 2d20 7468  o be used:..- th
-00003c50: 6520 606e 6f6e 6c6f 6361 6c60 206b 6579  e `nonlocal` key
-00003c60: 776f 7264 2c0a 2d20 6b65 7977 6f72 642d  word,.- keyword-
-00003c70: 6f6e 6c79 2066 756e 6374 696f 6e20 7061  only function pa
-00003c80: 7261 6d65 7465 7273 2028 7573 6520 5b70  rameters (use [p
-00003c90: 6174 7465 726e 2d6d 6174 6368 696e 6720  attern-matching 
-00003ca0: 6675 6e63 7469 6f6e 2064 6566 696e 6974  function definit
-00003cb0: 696f 6e5d 2823 7061 7474 6572 6e2d 6d61  ion](#pattern-ma
-00003cc0: 7463 6869 6e67 2d66 756e 6374 696f 6e73  tching-functions
-00003cd0: 2920 666f 7220 756e 6976 6572 7361 6c20  ) for universal 
-00003ce0: 636f 6465 292c 0a2d 2060 6173 796e 6360  code),.- `async`
-00003cf0: 2061 6e64 2060 6177 6169 7460 2073 7461   and `await` sta
-00003d00: 7465 6d65 6e74 7320 2872 6571 7569 7265  tements (require
-00003d10: 7320 602d 2d74 6172 6765 7420 332e 3560  s `--target 3.5`
-00003d20: 292c 0a2d 2060 3a3d 6020 6173 7369 676e  ),.- `:=` assign
-00003d30: 6d65 6e74 2065 7870 7265 7373 696f 6e73  ment expressions
-00003d40: 2028 7265 7175 6972 6573 2060 2d2d 7461   (requires `--ta
-00003d50: 7267 6574 2033 2e38 6029 2c0a 2d20 706f  rget 3.8`),.- po
-00003d60: 7369 7469 6f6e 616c 2d6f 6e6c 7920 6675  sitional-only fu
-00003d70: 6e63 7469 6f6e 2070 6172 616d 6574 6572  nction parameter
-00003d80: 7320 2875 7365 205b 7061 7474 6572 6e2d  s (use [pattern-
-00003d90: 6d61 7463 6869 6e67 2066 756e 6374 696f  matching functio
-00003da0: 6e20 6465 6669 6e69 7469 6f6e 5d28 2370  n definition](#p
-00003db0: 6174 7465 726e 2d6d 6174 6368 696e 672d  attern-matching-
-00003dc0: 6675 6e63 7469 6f6e 7329 2066 6f72 2075  functions) for u
-00003dd0: 6e69 7665 7273 616c 2063 6f64 6529 2028  niversal code) (
-00003de0: 7265 7175 6972 6573 2060 2d2d 7461 7267  requires `--targ
-00003df0: 6574 2033 2e38 6029 2c0a 2d20 6061 5b78  et 3.8`),.- `a[x
-00003e00: 2c20 2a79 5d60 2076 6172 6961 6469 6320  , *y]` variadic 
-00003e10: 6765 6e65 7269 6320 7379 6e74 6178 2028  generic syntax (
-00003e20: 7573 6520 5b74 7970 6520 7061 7261 6d65  use [type parame
-00003e30: 7465 7220 7379 6e74 6178 5d28 2374 7970  ter syntax](#typ
-00003e40: 652d 7061 7261 6d65 7465 722d 7379 6e74  e-parameter-synt
-00003e50: 6178 2920 666f 7220 756e 6976 6572 7361  ax) for universa
-00003e60: 6c20 636f 6465 2920 2872 6571 7569 7265  l code) (require
-00003e70: 7320 602d 2d74 6172 6765 7420 332e 3131  s `--target 3.11
-00003e80: 6029 2c20 616e 640a 2d20 6065 7863 6570  `), and.- `excep
-00003e90: 742a 6020 6d75 6c74 692d 6578 6365 7074  t*` multi-except
-00003ea0: 2073 7461 7465 6d65 6e74 7320 2872 6571   statements (req
-00003eb0: 7569 7265 7320 602d 2d74 6172 6765 7420  uires `--target 
-00003ec0: 332e 3131 6029 2e0a 0a5f 4e6f 7465 3a20  3.11`)..._Note: 
-00003ed0: 436f 636f 6e75 7420 616c 736f 2075 6e69  Coconut also uni
-00003ee0: 7665 7273 616c 697a 6573 206d 616e 7920  versalizes many 
-00003ef0: 6d61 6769 6320 6d65 7468 6f64 732c 2069  magic methods, i
-00003f00: 6e63 6c75 6469 6e67 206d 616b 696e 6720  ncluding making 
-00003f10: 605f 5f62 6f6f 6c5f 5f60 2061 6e64 205b  `__bool__` and [
-00003f20: 605f 5f73 6574 5f6e 616d 655f 5f60 5d28  `__set_name__`](
-00003f30: 6874 7470 733a 2f2f 646f 6373 2e70 7974  https://docs.pyt
-00003f40: 686f 6e2e 6f72 672f 332f 7265 6665 7265  hon.org/3/refere
-00003f50: 6e63 652f 6461 7461 6d6f 6465 6c2e 6874  nce/datamodel.ht
-00003f60: 6d6c 236f 626a 6563 742e 5f5f 7365 745f  ml#object.__set_
-00003f70: 6e61 6d65 5f5f 2920 776f 726b 206f 6e20  name__) work on 
-00003f80: 616e 7920 5079 7468 6f6e 2076 6572 7369  any Python versi
-00003f90: 6f6e 2e5f 0a0a 2323 2323 2041 6c6c 6f77  on._..#### Allow
-00003fa0: 6162 6c65 2054 6172 6765 7473 0a0a 4966  able Targets..If
-00003fb0: 2074 6865 2076 6572 7369 6f6e 206f 6620   the version of 
-00003fc0: 5079 7468 6f6e 2074 6861 7420 7468 6520  Python that the 
-00003fd0: 636f 6d70 696c 6564 2063 6f64 6520 7769  compiled code wi
-00003fe0: 6c6c 2062 6520 7275 6e6e 696e 6720 6f6e  ll be running on
-00003ff0: 2069 7320 6b6e 6f77 6e20 6168 6561 6420   is known ahead 
-00004000: 6f66 2074 696d 652c 2061 2074 6172 6765  of time, a targe
-00004010: 7420 7368 6f75 6c64 2062 6520 7370 6563  t should be spec
-00004020: 6966 6965 6420 7769 7468 2060 2d2d 7461  ified with `--ta
-00004030: 7267 6574 602e 2054 6865 2067 6976 656e  rget`. The given
-00004040: 2074 6172 6765 7420 7769 6c6c 206f 6e6c   target will onl
-00004050: 7920 6166 6665 6374 2074 6865 2063 6f6d  y affect the com
-00004060: 7069 6c65 6420 636f 6465 2061 6e64 2077  piled code and w
-00004070: 6865 7468 6572 206f 7220 6e6f 7420 7468  hether or not th
-00004080: 6520 5079 7468 6f6e 2d33 2d73 7065 6369  e Python-3-speci
-00004090: 6669 6320 7379 6e74 6178 2064 6574 6169  fic syntax detai
-000040a0: 6c65 6420 6162 6f76 6520 6973 2061 6c6c  led above is all
-000040b0: 6f77 6564 2e20 5768 6572 6520 5079 7468  owed. Where Pyth
-000040c0: 6f6e 2073 796e 7461 7820 6469 6666 6572  on syntax differ
-000040d0: 7320 6163 726f 7373 2076 6572 7369 6f6e  s across version
-000040e0: 732c 2043 6f63 6f6e 7574 2073 796e 7461  s, Coconut synta
-000040f0: 7820 7769 6c6c 2061 6c77 6179 7320 666f  x will always fo
-00004100: 6c6c 6f77 2074 6865 206c 6174 6573 7420  llow the latest 
-00004110: 5079 7468 6f6e 2033 2061 6372 6f73 7320  Python 3 across 
-00004120: 616c 6c20 7461 7267 6574 732e 2054 6865  all targets. The
-00004130: 2073 7570 706f 7274 6564 2074 6172 6765   supported targe
-00004140: 7473 2061 7265 3a0a 0a2d 2060 756e 6976  ts are:..- `univ
-00004150: 6572 7361 6c60 2028 6465 6661 756c 7429  ersal` (default)
-00004160: 2028 7769 6c6c 2077 6f72 6b20 6f6e 205f   (will work on _
-00004170: 616e 795f 206f 6620 7468 6520 6265 6c6f  any_ of the belo
-00004180: 7729 2c0a 2d20 6032 602c 2060 322e 3660  w),.- `2`, `2.6`
-00004190: 2028 7769 6c6c 2077 6f72 6b20 6f6e 2061   (will work on a
-000041a0: 6e79 2050 7974 686f 6e20 603e 3d20 322e  ny Python `>= 2.
-000041b0: 3660 2062 7574 2060 3c20 3360 292c 0a2d  6` but `< 3`),.-
-000041c0: 2060 322e 3760 2028 7769 6c6c 2077 6f72   `2.7` (will wor
-000041d0: 6b20 6f6e 2061 6e79 2050 7974 686f 6e20  k on any Python 
-000041e0: 603e 3d20 322e 3760 2062 7574 2060 3c20  `>= 2.7` but `< 
-000041f0: 3360 292c 0a2d 2060 3360 2c20 6033 2e32  3`),.- `3`, `3.2
-00004200: 6020 2877 696c 6c20 776f 726b 206f 6e20  ` (will work on 
-00004210: 616e 7920 5079 7468 6f6e 2060 3e3d 2033  any Python `>= 3
-00004220: 2e32 6029 2c0a 2d20 6033 2e33 6020 2877  .2`),.- `3.3` (w
-00004230: 696c 6c20 776f 726b 206f 6e20 616e 7920  ill work on any 
-00004240: 5079 7468 6f6e 2060 3e3d 2033 2e33 6029  Python `>= 3.3`)
-00004250: 2c0a 2d20 6033 2e34 6020 2877 696c 6c20  ,.- `3.4` (will 
-00004260: 776f 726b 206f 6e20 616e 7920 5079 7468  work on any Pyth
-00004270: 6f6e 2060 3e3d 2033 2e34 6029 2c0a 2d20  on `>= 3.4`),.- 
-00004280: 6033 2e35 6020 2877 696c 6c20 776f 726b  `3.5` (will work
-00004290: 206f 6e20 616e 7920 5079 7468 6f6e 2060   on any Python `
-000042a0: 3e3d 2033 2e35 6029 2c0a 2d20 6033 2e36  >= 3.5`),.- `3.6
-000042b0: 6020 2877 696c 6c20 776f 726b 206f 6e20  ` (will work on 
-000042c0: 616e 7920 5079 7468 6f6e 2060 3e3d 2033  any Python `>= 3
-000042d0: 2e36 6029 2c0a 2d20 6033 2e37 6020 2877  .6`),.- `3.7` (w
-000042e0: 696c 6c20 776f 726b 206f 6e20 616e 7920  ill work on any 
-000042f0: 5079 7468 6f6e 2060 3e3d 2033 2e37 6029  Python `>= 3.7`)
-00004300: 2c0a 2d20 6033 2e38 6020 2877 696c 6c20  ,.- `3.8` (will 
-00004310: 776f 726b 206f 6e20 616e 7920 5079 7468  work on any Pyth
-00004320: 6f6e 2060 3e3d 2033 2e38 6029 2c0a 2d20  on `>= 3.8`),.- 
-00004330: 6033 2e39 6020 2877 696c 6c20 776f 726b  `3.9` (will work
-00004340: 206f 6e20 616e 7920 5079 7468 6f6e 2060   on any Python `
-00004350: 3e3d 2033 2e39 6029 2c0a 2d20 6033 2e31  >= 3.9`),.- `3.1
-00004360: 3060 2028 7769 6c6c 2077 6f72 6b20 6f6e  0` (will work on
-00004370: 2061 6e79 2050 7974 686f 6e20 603e 3d20   any Python `>= 
-00004380: 332e 3130 6029 2c0a 2d20 6033 2e31 3160  3.10`),.- `3.11`
-00004390: 2028 7769 6c6c 2077 6f72 6b20 6f6e 2061   (will work on a
-000043a0: 6e79 2050 7974 686f 6e20 603e 3d20 332e  ny Python `>= 3.
-000043b0: 3131 6029 2c0a 2d20 6033 2e31 3260 2028  11`),.- `3.12` (
-000043c0: 7769 6c6c 2077 6f72 6b20 6f6e 2061 6e79  will work on any
-000043d0: 2050 7974 686f 6e20 603e 3d20 332e 3132   Python `>= 3.12
-000043e0: 6029 2c20 616e 640a 2d20 6073 7973 6020  `), and.- `sys` 
-000043f0: 2863 686f 6f73 6573 2074 6865 2074 6172  (chooses the tar
-00004400: 6765 7420 636f 7272 6573 706f 6e64 696e  get correspondin
-00004410: 6720 746f 2074 6865 2063 7572 7265 6e74  g to the current
-00004420: 2050 7974 686f 6e20 7665 7273 696f 6e29   Python version)
-00004430: 2e0a 0a5f 4e6f 7465 3a20 5065 7269 6f64  ..._Note: Period
-00004440: 7320 6172 6520 6f70 7469 6f6e 616c 2069  s are optional i
-00004450: 6e20 7461 7267 6574 2073 7065 6369 6669  n target specifi
-00004460: 6361 7469 6f6e 732c 2073 7563 6820 7468  cations, such th
-00004470: 6174 2074 6865 2074 6172 6765 7420 6032  at the target `2
-00004480: 3760 2069 7320 6571 7569 7661 6c65 6e74  7` is equivalent
-00004490: 2074 6f20 7468 6520 7461 7267 6574 2060   to the target `
-000044a0: 322e 3760 2e5f 0a0a 2323 2323 2060 7374  2.7`._..#### `st
-000044b0: 7269 6374 6020 4d6f 6465 0a0a 4966 2074  rict` Mode..If t
-000044c0: 6865 2060 2d2d 7374 7269 6374 6020 2860  he `--strict` (`
-000044d0: 2d73 6020 666f 7220 7368 6f72 7429 2066  -s` for short) f
-000044e0: 6c61 6720 6973 2065 6e61 626c 6564 2c20  lag is enabled, 
-000044f0: 436f 636f 6e75 7420 7769 6c6c 2070 6572  Coconut will per
-00004500: 666f 726d 2061 6464 6974 696f 6e61 6c20  form additional 
-00004510: 6368 6563 6b73 206f 6e20 7468 6520 636f  checks on the co
-00004520: 6465 2062 6569 6e67 2063 6f6d 7069 6c65  de being compile
-00004530: 642e 2049 7420 6973 2072 6563 6f6d 6d65  d. It is recomme
-00004540: 6e64 6564 2074 6861 7420 796f 7520 7573  nded that you us
-00004550: 6520 7468 6520 602d 2d73 7472 6963 7460  e the `--strict`
-00004560: 2066 6c61 6720 6966 2079 6f75 2061 7265   flag if you are
-00004570: 2073 7461 7274 696e 6720 6120 6e65 7720   starting a new 
-00004580: 436f 636f 6e75 7420 7072 6f6a 6563 742c  Coconut project,
-00004590: 2061 7320 6974 2077 696c 6c20 6865 6c70   as it will help
-000045a0: 2079 6f75 2077 7269 7465 2063 6c65 616e   you write clean
-000045b0: 6572 2063 6f64 652e 2053 7065 6369 6669  er code. Specifi
-000045c0: 6361 6c6c 792c 2074 6865 2065 7874 7261  cally, the extra
-000045d0: 2063 6865 636b 7320 646f 6e65 2062 7920   checks done by 
-000045e0: 602d 2d73 7472 6963 7460 2061 7265 3a0a  `--strict` are:.
-000045f0: 0a2d 2064 6973 6162 6c69 6e67 2064 6570  .- disabling dep
-00004600: 7265 6361 7465 6420 6665 6174 7572 6573  recated features
-00004610: 2028 6d61 6b69 6e67 2074 6865 6d20 656e   (making them en
-00004620: 7469 7265 6c79 2075 6e61 7661 696c 6162  tirely unavailab
-00004630: 6c65 2074 6f20 636f 6465 2063 6f6d 7069  le to code compi
-00004640: 6c65 6420 7769 7468 2060 2d2d 7374 7269  led with `--stri
-00004650: 6374 6029 2c0a 2d20 6572 726f 7273 2069  ct`),.- errors i
-00004660: 6e73 7465 6164 206f 6620 7761 726e 696e  nstead of warnin
-00004670: 6773 206f 6e20 756e 7573 6564 2069 6d70  gs on unused imp
-00004680: 6f72 7473 2028 756e 6c65 7373 2074 6865  orts (unless the
-00004690: 7920 6861 7665 2061 2060 2320 4e4f 5141  y have a `# NOQA
-000046a0: 6020 6f72 2060 2320 6e6f 7161 6020 636f  ` or `# noqa` co
-000046b0: 6d6d 656e 7429 2c0a 2d20 6572 726f 7273  mment),.- errors
-000046c0: 2069 6e73 7465 6164 206f 6620 7761 726e   instead of warn
-000046d0: 696e 6773 2077 6865 6e20 6f76 6572 7772  ings when overwr
-000046e0: 6974 696e 6720 6275 696c 742d 696e 7320  iting built-ins 
-000046f0: 2875 6e6c 6573 7320 6120 6261 636b 736c  (unless a backsl
-00004700: 6173 6820 6973 2075 7365 6420 746f 2065  ash is used to e
-00004710: 7363 6170 6520 7468 6520 6275 696c 742d  scape the built-
-00004720: 696e 206e 616d 6529 2c0a 2d20 7761 726e  in name),.- warn
-00004730: 696e 6720 6f6e 206d 6973 7369 6e67 2060  ing on missing `
-00004740: 5f5f 696e 6974 5f5f 2e63 6f63 6f60 2066  __init__.coco` f
-00004750: 696c 6573 2077 6865 6e20 636f 6d70 696c  iles when compil
-00004760: 696e 6720 696e 2060 2d2d 7061 636b 6167  ing in `--packag
-00004770: 6560 206d 6f64 652c 0a2d 2074 6872 6f77  e` mode,.- throw
-00004780: 696e 6720 6572 726f 7273 206f 6e20 7661  ing errors on va
-00004790: 7269 6f75 7320 7374 796c 6520 7072 6f62  rious style prob
-000047a0: 6c65 6d73 2028 7365 6520 6c69 7374 2062  lems (see list b
-000047b0: 656c 6f77 292e 0a0a 5468 6520 7374 796c  elow)...The styl
-000047c0: 6520 6973 7375 6573 2077 6869 6368 2077  e issues which w
-000047d0: 696c 6c20 6361 7573 6520 602d 2d73 7472  ill cause `--str
-000047e0: 6963 7460 2074 6f20 7468 726f 7720 616e  ict` to throw an
-000047f0: 2065 7272 6f72 2061 7265 3a0a 0a2d 206d   error are:..- m
-00004800: 6978 696e 6720 6f66 2074 6162 7320 616e  ixing of tabs an
-00004810: 6420 7370 6163 6573 2028 7769 7468 6f75  d spaces (withou
-00004820: 7420 602d 2d73 7472 6963 7460 2077 696c  t `--strict` wil
-00004830: 6c20 7368 6f77 2061 2077 6172 6e69 6e67  l show a warning
-00004840: 292c 0a2d 2075 7365 206f 6620 6066 726f  ),.- use of `fro
-00004850: 6d20 5f5f 6675 7475 7265 5f5f 6020 696d  m __future__` im
-00004860: 706f 7274 7320 2843 6f63 6f6e 7574 2064  ports (Coconut d
-00004870: 6f65 7320 7468 6573 6520 6175 746f 6d61  oes these automa
-00004880: 7469 6361 6c6c 7929 2028 7769 7468 6f75  tically) (withou
-00004890: 7420 602d 2d73 7472 6963 7460 2077 696c  t `--strict` wil
-000048a0: 6c20 7368 6f77 2061 2077 6172 6e69 6e67  l show a warning
-000048b0: 292c 0a2d 2069 6e68 6572 6974 696e 6720  ),.- inheriting 
-000048c0: 6672 6f6d 2060 6f62 6a65 6374 6020 696e  from `object` in
-000048d0: 2063 6c61 7373 6573 2028 436f 636f 6e75   classes (Coconu
-000048e0: 7420 646f 6573 2074 6869 7320 6175 746f  t does this auto
-000048f0: 6d61 7469 6361 6c6c 7929 2028 7769 7468  matically) (with
-00004900: 6f75 7420 602d 2d73 7472 6963 7460 2077  out `--strict` w
-00004910: 696c 6c20 7368 6f77 2061 2077 6172 6e69  ill show a warni
-00004920: 6e67 292c 0a2d 2073 656d 6963 6f6c 6f6e  ng),.- semicolon
-00004930: 7320 6174 2065 6e64 206f 6620 6c69 6e65  s at end of line
-00004940: 7320 2877 6974 686f 7574 2060 2d2d 7374  s (without `--st
-00004950: 7269 6374 6020 7769 6c6c 2073 686f 7720  rict` will show 
-00004960: 6120 7761 726e 696e 6729 2c0a 2d20 7573  a warning),.- us
-00004970: 6520 6f66 2060 7560 2074 6f20 6465 6e6f  e of `u` to deno
-00004980: 7465 2055 6e69 636f 6465 2073 7472 696e  te Unicode strin
-00004990: 6773 2028 616c 6c20 436f 636f 6e75 7420  gs (all Coconut 
-000049a0: 7374 7269 6e67 7320 6172 6520 556e 6963  strings are Unic
-000049b0: 6f64 6520 7374 7269 6e67 7329 2028 7769  ode strings) (wi
-000049c0: 7468 6f75 7420 602d 2d73 7472 6963 7460  thout `--strict`
-000049d0: 2077 696c 6c20 7368 6f77 2061 2077 6172   will show a war
-000049e0: 6e69 6e67 292c 0a2d 206d 6973 7369 6e67  ning),.- missing
-000049f0: 206e 6577 206c 696e 6520 6174 2065 6e64   new line at end
-00004a00: 206f 6620 6669 6c65 2c0a 2d20 7472 6169   of file,.- trai
-00004a10: 6c69 6e67 2077 6869 7465 7370 6163 6520  ling whitespace 
-00004a20: 6174 2065 6e64 206f 6620 6c69 6e65 732c  at end of lines,
-00004a30: 0a2d 2075 7365 206f 6620 7468 6520 5079  .- use of the Py
-00004a40: 7468 6f6e 2d73 7479 6c65 2060 6c61 6d62  thon-style `lamb
-00004a50: 6461 6020 7374 6174 656d 656e 7420 2875  da` statement (u
-00004a60: 7365 205b 436f 636f 6e75 7427 7320 6c61  se [Coconut's la
-00004a70: 6d62 6461 2073 796e 7461 785d 2823 6c61  mbda syntax](#la
-00004a80: 6d62 6461 7329 2069 6e73 7465 6164 292c  mbdas) instead),
-00004a90: 0a2d 2075 7365 206f 6620 6261 636b 736c  .- use of backsl
-00004aa0: 6173 6820 636f 6e74 696e 7561 7469 6f6e  ash continuation
-00004ab0: 2028 7573 6520 5b70 6172 656e 7468 6574   (use [parenthet
-00004ac0: 6963 616c 2063 6f6e 7469 6e75 6174 696f  ical continuatio
-00004ad0: 6e5d 2823 656e 6861 6e63 6564 2d70 6172  n](#enhanced-par
-00004ae0: 656e 7468 6574 6963 616c 2d63 6f6e 7469  enthetical-conti
-00004af0: 6e75 6174 696f 6e29 2069 6e73 7465 6164  nuation) instead
-00004b00: 292c 0a2d 2050 7974 686f 6e2d 332e 3130  ),.- Python-3.10
-00004b10: 2f50 4550 2d36 3334 2d73 7479 6c65 2064  /PEP-634-style d
-00004b20: 6f74 7465 6420 6e61 6d65 7320 696e 2070  otted names in p
-00004b30: 6174 7465 726e 2d6d 6174 6368 696e 6720  attern-matching 
-00004b40: 2843 6f63 6f6e 7574 2073 7479 6c65 2069  (Coconut style i
-00004b50: 7320 746f 2070 7265 6661 6365 2074 6865  s to preface the
-00004b60: 7365 2077 6974 6820 603d 3d60 292c 2061  se with `==`), a
-00004b70: 6e64 0a2d 2075 7365 206f 6620 603a 6020  nd.- use of `:` 
-00004b80: 696e 7374 6561 6420 6f66 2060 3c3a 6020  instead of `<:` 
-00004b90: 746f 2073 7065 6369 6679 2075 7070 6572  to specify upper
-00004ba0: 2062 6f75 6e64 7320 696e 205b 436f 636f   bounds in [Coco
-00004bb0: 6e75 7427 7320 7479 7065 2070 6172 616d  nut's type param
-00004bc0: 6574 6572 2073 796e 7461 785d 2823 7479  eter syntax](#ty
-00004bd0: 7065 2d70 6172 616d 6574 6572 2d73 796e  pe-parameter-syn
-00004be0: 7461 7829 2e0a 0a23 2320 496e 7465 6772  tax)...## Integr
-00004bf0: 6174 696f 6e73 0a0a 6060 607b 636f 6e74  ations..```{cont
-00004c00: 656e 7473 7d0a 2d2d 2d0a 6c6f 6361 6c3a  ents}.---.local:
-00004c10: 0a64 6570 7468 3a20 320a 2d2d 2d0a 6060  .depth: 2.---.``
-00004c20: 600a 0a23 2323 2320 5379 6e74 6178 2048  `..#### Syntax H
-00004c30: 6967 686c 6967 6874 696e 670a 0a54 6578  ighlighting..Tex
-00004c40: 7420 6564 6974 6f72 7320 7769 7468 2073  t editors with s
-00004c50: 7570 706f 7274 2066 6f72 2043 6f63 6f6e  upport for Cocon
-00004c60: 7574 2073 796e 7461 7820 6869 6768 6c69  ut syntax highli
-00004c70: 6768 7469 6e67 2061 7265 3a0a 0a2d 202a  ghting are:..- *
-00004c80: 2a56 5343 6f64 652a 2a3a 2049 6e73 7461  *VSCode**: Insta
-00004c90: 6c6c 205b 436f 636f 6e75 7420 284f 6666  ll [Coconut (Off
-00004ca0: 6963 6961 6c29 5d28 6874 7470 733a 2f2f  icial)](https://
-00004cb0: 6d61 726b 6574 706c 6163 652e 7669 7375  marketplace.visu
-00004cc0: 616c 7374 7564 696f 2e63 6f6d 2f69 7465  alstudio.com/ite
-00004cd0: 6d73 3f69 7465 6d4e 616d 653d 6576 6875  ms?itemName=evhu
-00004ce0: 622e 636f 636f 6e75 7429 2028 666f 7220  b.coconut) (for 
-00004cf0: 2a2a 5653 436f 6469 756d 2a2a 2c20 696e  **VSCodium**, in
-00004d00: 7374 616c 6c20 6672 6f6d 204f 7065 6e20  stall from Open 
-00004d10: 5653 5820 5b68 6572 655d 2868 7474 7073  VSX [here](https
-00004d20: 3a2f 2f6f 7065 6e2d 7673 782e 6f72 672f  ://open-vsx.org/
-00004d30: 6578 7465 6e73 696f 6e2f 6576 6875 622f  extension/evhub/
-00004d40: 636f 636f 6e75 7429 2069 6e73 7465 6164  coconut) instead
-00004d50: 292e 0a2d 202a 2a53 7562 6c69 6d65 5465  )..- **SublimeTe
-00004d60: 7874 2a2a 3a20 5365 6520 5375 626c 696d  xt**: See Sublim
-00004d70: 6554 6578 7420 7365 6374 696f 6e20 6265  eText section be
-00004d80: 6c6f 772e 0a2d 202a 2a53 7079 6465 722a  low..- **Spyder*
-00004d90: 2a20 286f 7220 616e 7920 6f74 6865 7220  * (or any other 
-00004da0: 6564 6974 6f72 2074 6861 7420 7375 7070  editor that supp
-00004db0: 6f72 7473 202a 2a50 7967 6d65 6e74 732a  orts **Pygments*
-00004dc0: 2a29 3a20 5365 6520 5079 676d 656e 7473  *): See Pygments
-00004dd0: 2073 6563 7469 6f6e 2062 656c 6f77 2e0a   section below..
-00004de0: 2d20 2a2a 5669 6d2a 2a3a 2053 6565 205b  - **Vim**: See [
-00004df0: 6063 6f63 6f6e 7574 2e76 696d 605d 2868  `coconut.vim`](h
-00004e00: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00004e10: 6d2f 6d61 6e69 636d 616e 6961 632f 636f  m/manicmaniac/co
-00004e20: 636f 6e75 742e 7669 6d29 2e0a 2d20 2a2a  conut.vim)..- **
-00004e30: 456d 6163 732a 2a3a 2053 6565 205b 6065  Emacs**: See [`e
-00004e40: 6d61 6373 2d63 6f63 6f6e 7574 605d 2868  macs-coconut`](h
-00004e50: 7474 7073 3a2f 2f63 6f64 6562 6572 672e  ttps://codeberg.
-00004e60: 6f72 672f 6b6f 6261 7269 7479 2f65 6d61  org/kobarity/ema
-00004e70: 6373 2d63 6f63 6f6e 7574 292f 5b60 656d  cs-coconut)/[`em
-00004e80: 6163 732d 6f62 2d63 6f63 6f6e 7574 605d  acs-ob-coconut`]
-00004e90: 2868 7474 7073 3a2f 2f63 6f64 6562 6572  (https://codeber
-00004ea0: 672e 6f72 672f 6b6f 6261 7269 7479 2f65  g.org/kobarity/e
-00004eb0: 6d61 6373 2d6f 622d 636f 636f 6e75 7429  macs-ob-coconut)
-00004ec0: 2e0a 2d20 2a2a 4174 6f6d 2a2a 3a20 5365  ..- **Atom**: Se
-00004ed0: 6520 5b60 6c61 6e67 7561 6765 2d63 6f63  e [`language-coc
-00004ee0: 6f6e 7574 605d 2868 7474 7073 3a2f 2f67  onut`](https://g
-00004ef0: 6974 6875 622e 636f 6d2f 656e 696c 7365  ithub.com/enilse
-00004f00: 6e31 362f 6c61 6e67 7561 6765 2d63 6f63  n16/language-coc
-00004f10: 6f6e 7574 292e 0a0a 416c 7465 726e 6174  onut)...Alternat
-00004f20: 6976 656c 792c 2069 6620 6e6f 6e65 206f  ively, if none o
-00004f30: 6620 7468 6520 6162 6f76 6520 776f 726b  f the above work
-00004f40: 2066 6f72 2079 6f75 2c20 796f 7520 6361   for you, you ca
-00004f50: 6e20 6a75 7374 2074 7265 6174 2043 6f63  n just treat Coc
-00004f60: 6f6e 7574 2061 7320 5079 7468 6f6e 2e20  onut as Python. 
-00004f70: 5369 6d70 6c79 2073 6574 2075 7020 796f  Simply set up yo
-00004f80: 7572 2065 6469 746f 7220 736f 2069 7420  ur editor so it 
-00004f90: 696e 7465 7270 7265 7473 2061 6c6c 2060  interprets all `
-00004fa0: 2e63 6f63 6f60 2066 696c 6573 2061 7320  .coco` files as 
-00004fb0: 5079 7468 6f6e 2061 6e64 2074 6861 7420  Python and that 
-00004fc0: 7368 6f75 6c64 2068 6967 686c 6967 6874  should highlight
-00004fd0: 206d 6f73 7420 6f66 2079 6f75 7220 636f   most of your co
-00004fe0: 6465 2077 656c 6c20 656e 6f75 6768 2028  de well enough (
-00004ff0: 652e 672e 2066 6f72 2049 6e74 656c 6c69  e.g. for Intelli
-00005000: 4a20 4944 4541 2073 6565 205b 7265 6769  J IDEA see [regi
-00005010: 7374 6572 696e 6720 6669 6c65 2074 7970  stering file typ
-00005020: 6573 5d28 6874 7470 733a 2f2f 7777 772e  es](https://www.
-00005030: 6a65 7462 7261 696e 732e 636f 6d2f 6865  jetbrains.com/he
-00005040: 6c70 2f69 6465 612f 6372 6561 7469 6e67  lp/idea/creating
-00005050: 2d61 6e64 2d72 6567 6973 7465 7269 6e67  -and-registering
-00005060: 2d66 696c 652d 7479 7065 732e 6874 6d6c  -file-types.html
-00005070: 2929 2e0a 0a23 2323 2323 2053 7562 6c69  ))...##### Subli
-00005080: 6d65 5465 7874 0a0a 436f 636f 6e75 7420  meText..Coconut 
-00005090: 7379 6e74 6178 2068 6967 686c 6967 6874  syntax highlight
-000050a0: 696e 6720 666f 7220 5375 626c 696d 6554  ing for SublimeT
-000050b0: 6578 7420 7265 7175 6972 6573 2074 6861  ext requires tha
-000050c0: 7420 5b50 6163 6b61 6765 2043 6f6e 7472  t [Package Contr
-000050d0: 6f6c 5d28 6874 7470 733a 2f2f 7061 636b  ol](https://pack
-000050e0: 6167 6563 6f6e 7472 6f6c 2e69 6f2f 696e  agecontrol.io/in
-000050f0: 7374 616c 6c61 7469 6f6e 292c 2074 6865  stallation), the
-00005100: 2073 7461 6e64 6172 6420 7061 636b 6167   standard packag
-00005110: 6520 6d61 6e61 6765 7220 666f 7220 5375  e manager for Su
-00005120: 626c 696d 6554 6578 742c 2062 6520 696e  blimeText, be in
-00005130: 7374 616c 6c65 642e 204f 6e63 6520 7468  stalled. Once th
-00005140: 6174 2069 7320 646f 6e65 2c20 7369 6d70  at is done, simp
-00005150: 6c79 3a0a 0a31 2e20 6f70 656e 2074 6865  ly:..1. open the
-00005160: 2053 7562 6c69 6d65 5465 7874 2063 6f6d   SublimeText com
-00005170: 6d61 6e64 2070 616c 6574 7465 2062 7920  mand palette by 
-00005180: 7072 6573 7369 6e67 2060 4374 726c 2b53  pressing `Ctrl+S
-00005190: 6869 6674 2b50 6020 286f 7220 6043 6d64  hift+P` (or `Cmd
-000051a0: 2b53 6869 6674 2b50 6020 6f6e 204d 6163  +Shift+P` on Mac
-000051b0: 292c 0a32 2e20 7479 7065 2061 6e64 2065  ),.2. type and e
-000051c0: 6e74 6572 2060 5061 636b 6167 6520 436f  nter `Package Co
-000051d0: 6e74 726f 6c3a 2049 6e73 7461 6c6c 2050  ntrol: Install P
-000051e0: 6163 6b61 6765 602c 2061 6e64 0a33 2e20  ackage`, and.3. 
-000051f0: 6669 6e61 6c6c 7920 7479 7065 2061 6e64  finally type and
-00005200: 2065 6e74 6572 2060 436f 636f 6e75 7460   enter `Coconut`
-00005210: 2e0a 0a54 6f20 6d61 6b65 2073 7572 6520  ...To make sure 
-00005220: 6576 6572 7974 6869 6e67 2069 7320 776f  everything is wo
-00005230: 726b 696e 6720 7072 6f70 6572 6c79 2c20  rking properly, 
-00005240: 6f70 656e 2061 2060 2e63 6f63 6f60 2066  open a `.coco` f
-00005250: 696c 652c 2061 6e64 206d 616b 6520 7375  ile, and make su
-00005260: 7265 2060 436f 636f 6e75 7460 2061 7070  re `Coconut` app
-00005270: 6561 7273 2069 6e20 7468 6520 626f 7474  ears in the bott
-00005280: 6f6d 2072 6967 6874 2d68 616e 6420 636f  om right-hand co
-00005290: 726e 6572 2e20 4966 2073 6f6d 6574 6869  rner. If somethi
-000052a0: 6e67 2065 6c73 6520 6170 7065 6172 732c  ng else appears,
-000052b0: 206c 696b 6520 6050 6c61 696e 2054 6578   like `Plain Tex
-000052c0: 7460 2c20 636c 6963 6b20 6f6e 2069 742c  t`, click on it,
-000052d0: 2073 656c 6563 7420 604f 7065 6e20 616c   select `Open al
-000052e0: 6c20 7769 7468 2063 7572 7265 6e74 2065  l with current e
-000052f0: 7874 656e 7369 6f6e 2061 732e 2e2e 6020  xtension as...` 
-00005300: 6174 2074 6865 2074 6f70 206f 6620 7468  at the top of th
-00005310: 6520 7265 7375 6c74 696e 6720 6d65 6e75  e resulting menu
-00005320: 2c20 616e 6420 7468 656e 2073 656c 6563  , and then selec
-00005330: 7420 6043 6f63 6f6e 7574 602e 0a0a 5f4e  t `Coconut`..._N
-00005340: 6f74 653a 2043 6f63 6f6e 7574 2073 796e  ote: Coconut syn
-00005350: 7461 7820 6869 6768 6c69 6768 7469 6e67  tax highlighting
-00005360: 2066 6f72 2053 7562 6c69 6d65 5465 7874   for SublimeText
-00005370: 2069 7320 7072 6f76 6964 6564 2062 7920   is provided by 
-00005380: 7468 6520 5b73 7562 6c69 6d65 2d63 6f63  the [sublime-coc
-00005390: 6f6e 7574 5d28 6874 7470 733a 2f2f 6769  onut](https://gi
-000053a0: 7468 7562 2e63 6f6d 2f65 7668 7562 2f73  thub.com/evhub/s
-000053b0: 7562 6c69 6d65 2d63 6f63 6f6e 7574 2920  ublime-coconut) 
-000053c0: 7061 636b 6167 652e 5f0a 0a23 2323 2323  package._..#####
-000053d0: 2050 7967 6d65 6e74 730a 0a54 6865 2073   Pygments..The s
-000053e0: 616d 6520 6070 6970 2069 6e73 7461 6c6c  ame `pip install
-000053f0: 2063 6f63 6f6e 7574 6020 636f 6d6d 616e   coconut` comman
-00005400: 6420 7468 6174 2069 6e73 7461 6c6c 7320  d that installs 
-00005410: 7468 6520 436f 636f 6e75 7420 636f 6d6d  the Coconut comm
-00005420: 616e 642d 6c69 6e65 2075 7469 6c69 7479  and-line utility
-00005430: 2077 696c 6c20 616c 736f 2069 6e73 7461   will also insta
-00005440: 6c6c 2074 6865 2060 636f 636f 6e75 7460  ll the `coconut`
-00005450: 2050 7967 6d65 6e74 7320 6c65 7865 722e   Pygments lexer.
-00005460: 2048 6f77 2074 6f20 7573 6520 7468 6973   How to use this
-00005470: 206c 6578 6572 2064 6570 656e 6473 206f   lexer depends o
-00005480: 6e20 7468 6520 5079 676d 656e 7473 2d65  n the Pygments-e
-00005490: 6e61 626c 6564 2061 7070 6c69 6361 7469  nabled applicati
-000054a0: 6f6e 2062 6569 6e67 2075 7365 642c 2062  on being used, b
-000054b0: 7574 2069 6e20 6765 6e65 7261 6c20 7369  ut in general si
-000054c0: 6d70 6c79 2075 7365 2074 6865 2060 2e63  mply use the `.c
-000054d0: 6f63 6f60 2066 696c 6520 6578 7465 6e73  oco` file extens
-000054e0: 696f 6e20 2873 686f 756c 6420 6265 2061  ion (should be a
-000054f0: 6c6c 2079 6f75 206e 6565 6420 746f 2064  ll you need to d
-00005500: 6f20 666f 7220 5370 7964 6572 2920 616e  o for Spyder) an
-00005510: 642f 6f72 2065 6e74 6572 2060 636f 636f  d/or enter `coco
-00005520: 6e75 7460 2061 7320 7468 6520 6c61 6e67  nut` as the lang
-00005530: 7561 6765 2062 6569 6e67 2068 6967 686c  uage being highl
-00005540: 6967 6874 6564 2061 6e64 2050 7967 6d65  ighted and Pygme
-00005550: 6e74 7320 7368 6f75 6c64 2062 6520 6162  nts should be ab
-00005560: 6c65 2074 6f20 6669 6775 7265 2069 7420  le to figure it 
-00005570: 6f75 742e 0a0a 466f 7220 6578 616d 706c  out...For exampl
-00005580: 652c 2074 6869 7320 646f 6375 6d65 6e74  e, this document
-00005590: 6174 696f 6e20 6973 2067 656e 6572 6174  ation is generat
-000055a0: 6564 2077 6974 6820 5b53 7068 696e 785d  ed with [Sphinx]
-000055b0: 2868 7474 703a 2f2f 7777 772e 7370 6869  (http://www.sphi
-000055c0: 6e78 2d64 6f63 2e6f 7267 2f65 6e2f 7374  nx-doc.org/en/st
-000055d0: 6162 6c65 2f29 2c20 7769 7468 2074 6865  able/), with the
-000055e0: 2073 796e 7461 7820 6869 6768 6c69 6768   syntax highligh
-000055f0: 7469 6e67 2079 6f75 2073 6565 2063 7265  ting you see cre
-00005600: 6174 6564 2062 7920 6164 6469 6e67 2074  ated by adding t
-00005610: 6865 206c 696e 650a 6060 6063 6f63 6f6e  he line.```cocon
-00005620: 7574 5f70 7974 686f 6e0a 6869 6768 6c69  ut_python.highli
-00005630: 6768 745f 6c61 6e67 7561 6765 203d 2022  ght_language = "
-00005640: 636f 636f 6e75 7422 0a60 6060 0a74 6f20  coconut".```.to 
-00005650: 436f 636f 6e75 7427 7320 6063 6f6e 662e  Coconut's `conf.
-00005660: 7079 602e 0a0a 2323 2323 2049 5079 7468  py`...#### IPyth
-00005670: 6f6e 2f4a 7570 7974 6572 2053 7570 706f  on/Jupyter Suppo
-00005680: 7274 0a0a 4966 2079 6f75 2075 7365 205b  rt..If you use [
-00005690: 4950 7974 686f 6e5d 2868 7474 703a 2f2f  IPython](http://
-000056a0: 6970 7974 686f 6e2e 6f72 672f 2920 2874  ipython.org/) (t
-000056b0: 6865 2050 7974 686f 6e20 6b65 726e 656c  he Python kernel
-000056c0: 2066 6f72 2074 6865 205b 4a75 7079 7465   for the [Jupyte
-000056d0: 725d 2868 7474 703a 2f2f 6a75 7079 7465  r](http://jupyte
-000056e0: 722e 6f72 672f 2920 6672 616d 6577 6f72  r.org/) framewor
-000056f0: 6b29 206e 6f74 6562 6f6f 6b73 206f 7220  k) notebooks or 
-00005700: 636f 6e73 6f6c 652c 2043 6f63 6f6e 7574  console, Coconut
-00005710: 2063 616e 2062 6520 7573 6564 2061 7320   can be used as 
-00005720: 6120 4a75 7079 7465 7220 6b65 726e 656c  a Jupyter kernel
-00005730: 206f 7220 4950 7974 686f 6e20 6578 7465   or IPython exte
-00005740: 6e73 696f 6e2e 0a0a 2323 2323 2320 4b65  nsion...##### Ke
-00005750: 726e 656c 0a0a 4966 2043 6f63 6f6e 7574  rnel..If Coconut
-00005760: 2069 7320 7573 6564 2061 7320 6120 6b65   is used as a ke
-00005770: 726e 656c 2c20 616c 6c20 636f 6465 2069  rnel, all code i
-00005780: 6e20 7468 6520 636f 6e73 6f6c 6520 6f72  n the console or
-00005790: 206e 6f74 6562 6f6f 6b20 7769 6c6c 2062   notebook will b
-000057a0: 6520 7365 6e74 2064 6972 6563 746c 7920  e sent directly 
-000057b0: 746f 2043 6f63 6f6e 7574 2069 6e73 7465  to Coconut inste
-000057c0: 6164 206f 6620 5079 7468 6f6e 2074 6f20  ad of Python to 
-000057d0: 6265 2065 7661 6c75 6174 6564 2e20 4f74  be evaluated. Ot
-000057e0: 6865 7277 6973 652c 2074 6865 2043 6f63  herwise, the Coc
-000057f0: 6f6e 7574 206b 6572 6e65 6c20 6265 6861  onut kernel beha
-00005800: 7665 7320 6578 6163 746c 7920 6c69 6b65  ves exactly like
-00005810: 2074 6865 2049 5079 7468 6f6e 206b 6572   the IPython ker
-00005820: 6e65 6c2c 2069 6e63 6c75 6469 6e67 2073  nel, including s
-00005830: 7570 706f 7274 2066 6f72 2060 256d 6167  upport for `%mag
-00005840: 6963 6020 636f 6d6d 616e 6473 2e0a 0a53  ic` commands...S
-00005850: 696d 706c 7920 696e 7374 616c 6c69 6e67  imply installing
-00005860: 2043 6f63 6f6e 7574 2073 686f 756c 6420   Coconut should 
-00005870: 6164 6420 6120 6043 6f63 6f6e 7574 6020  add a `Coconut` 
-00005880: 6b65 726e 656c 2074 6f20 796f 7572 204a  kernel to your J
-00005890: 7570 7974 6572 2f49 5079 7468 6f6e 206e  upyter/IPython n
-000058a0: 6f74 6562 6f6f 6b73 2e20 4966 2079 6f75  otebooks. If you
-000058b0: 2061 7265 2068 6176 696e 6720 6973 7375   are having issu
-000058c0: 6573 2061 6363 6573 7369 6e67 2074 6865  es accessing the
-000058d0: 2043 6f63 6f6e 7574 206b 6572 6e65 6c2c   Coconut kernel,
-000058e0: 2068 6f77 6576 6572 2c20 7468 6520 636f   however, the co
-000058f0: 6d6d 616e 6420 6063 6f63 6f6e 7574 202d  mmand `coconut -
-00005900: 2d6a 7570 7974 6572 6020 7769 6c6c 2072  -jupyter` will r
-00005910: 652d 696e 7374 616c 6c20 7468 6520 6043  e-install the `C
-00005920: 6f63 6f6e 7574 6020 6b65 726e 656c 2074  oconut` kernel t
-00005930: 6f20 656e 7375 7265 2069 7420 6973 2075  o ensure it is u
-00005940: 7369 6e67 2074 6865 2063 7572 7265 6e74  sing the current
-00005950: 2050 7974 686f 6e20 6173 2077 656c 6c20   Python as well 
-00005960: 6173 2061 6464 2074 6865 2061 6464 6974  as add the addit
-00005970: 696f 6e61 6c20 6b65 726e 656c 7320 6043  ional kernels `C
-00005980: 6f63 6f6e 7574 2028 4465 6661 756c 7420  oconut (Default 
-00005990: 5079 7468 6f6e 2960 2c20 6043 6f63 6f6e  Python)`, `Cocon
-000059a0: 7574 2028 4465 6661 756c 7420 5079 7468  ut (Default Pyth
-000059b0: 6f6e 2032 2960 2c20 616e 6420 6043 6f63  on 2)`, and `Coc
-000059c0: 6f6e 7574 2028 4465 6661 756c 7420 5079  onut (Default Py
-000059d0: 7468 6f6e 2033 2960 2077 6869 6368 2077  thon 3)` which w
-000059e0: 696c 6c20 7573 652c 2072 6573 7065 6374  ill use, respect
-000059f0: 6976 656c 792c 2074 6865 2050 7974 686f  ively, the Pytho
-00005a00: 6e20 6163 6365 7373 6962 6c65 2061 7320  n accessible as 
-00005a10: 6070 7974 686f 6e60 2c20 6070 7974 686f  `python`, `pytho
-00005a20: 6e32 602c 2061 6e64 2060 7079 7468 6f6e  n2`, and `python
-00005a30: 3360 2028 7468 6573 6520 6b65 726e 656c  3` (these kernel
-00005a40: 7320 6172 6520 6163 6365 7373 6962 6c65  s are accessible
-00005a50: 2069 6e20 7468 6520 636f 6e73 6f6c 6520   in the console 
-00005a60: 6173 2060 636f 636f 6e75 745f 7079 602c  as `coconut_py`,
-00005a70: 2060 636f 636f 6e75 745f 7079 3260 2c20   `coconut_py2`, 
-00005a80: 616e 6420 6063 6f63 6f6e 7574 5f70 7933  and `coconut_py3
-00005a90: 6029 2e20 4675 7274 6865 726d 6f72 652c  `). Furthermore,
-00005aa0: 2074 6865 2043 6f63 6f6e 7574 206b 6572   the Coconut ker
-00005ab0: 6e65 6c20 6675 6c6c 7920 7375 7070 6f72  nel fully suppor
-00005ac0: 7473 205b 606e 625f 636f 6e64 615f 6b65  ts [`nb_conda_ke
-00005ad0: 726e 656c 7360 5d28 6874 7470 733a 2f2f  rnels`](https://
-00005ae0: 6769 7468 7562 2e63 6f6d 2f41 6e61 636f  github.com/Anaco
-00005af0: 6e64 612d 506c 6174 666f 726d 2f6e 625f  nda-Platform/nb_
-00005b00: 636f 6e64 615f 6b65 726e 656c 7329 2074  conda_kernels) t
-00005b10: 6f20 656e 6162 6c65 2061 6363 6573 7369  o enable accessi
-00005b20: 6e67 2074 6865 2043 6f63 6f6e 7574 206b  ng the Coconut k
-00005b30: 6572 6e65 6c20 696e 206f 6e65 2043 6f6e  ernel in one Con
-00005b40: 6461 2065 6e76 6972 6f6e 6d65 6e74 2066  da environment f
-00005b50: 726f 6d20 616e 6f74 6865 7220 436f 6e64  rom another Cond
-00005b60: 6120 656e 7669 726f 6e6d 656e 742e 0a0a  a environment...
-00005b70: 5468 6520 436f 636f 6e75 7420 6b65 726e  The Coconut kern
-00005b80: 656c 2077 696c 6c20 616c 7761 7973 2063  el will always c
-00005b90: 6f6d 7069 6c65 2075 7369 6e67 2074 6865  ompile using the
-00005ba0: 2070 6172 616d 6574 6572 733a 2060 2d2d   parameters: `--
-00005bb0: 7461 7267 6574 2073 7973 202d 2d6c 696e  target sys --lin
-00005bc0: 652d 6e75 6d62 6572 7320 2d2d 6b65 6570  e-numbers --keep
-00005bd0: 2d6c 696e 6573 202d 2d6e 6f2d 7772 6170  -lines --no-wrap
-00005be0: 2d74 7970 6573 602e 0a0a 436f 636f 6e75  -types`...Coconu
-00005bf0: 7420 616c 736f 2070 726f 7669 6465 7320  t also provides 
-00005c00: 7468 6520 666f 6c6c 6f77 696e 6720 636f  the following co
-00005c10: 6e76 656e 6965 6e63 6520 636f 6d6d 616e  nvenience comman
-00005c20: 6473 3a0a 0a2d 2060 636f 636f 6e75 7420  ds:..- `coconut 
-00005c30: 2d2d 6a75 7079 7465 7220 6e6f 7465 626f  --jupyter notebo
-00005c40: 6f6b 6020 7769 6c6c 2065 6e73 7572 6520  ok` will ensure 
-00005c50: 7468 6174 2074 6865 2043 6f63 6f6e 7574  that the Coconut
-00005c60: 206b 6572 6e65 6c20 6973 2061 7661 696c   kernel is avail
-00005c70: 6162 6c65 2061 6e64 206c 6175 6e63 6820  able and launch 
-00005c80: 6120 4a75 7079 7465 722f 4950 7974 686f  a Jupyter/IPytho
-00005c90: 6e20 6e6f 7465 626f 6f6b 2e0a 2d20 6063  n notebook..- `c
-00005ca0: 6f63 6f6e 7574 202d 2d6a 7570 7974 6572  oconut --jupyter
-00005cb0: 2063 6f6e 736f 6c65 6020 7769 6c6c 206c   console` will l
-00005cc0: 6175 6e63 6820 6120 4a75 7079 7465 722f  aunch a Jupyter/
-00005cd0: 4950 7974 686f 6e20 636f 6e73 6f6c 6520  IPython console 
-00005ce0: 7573 696e 6720 7468 6520 436f 636f 6e75  using the Coconu
-00005cf0: 7420 6b65 726e 656c 2e0a 2d20 6063 6f63  t kernel..- `coc
-00005d00: 6f6e 7574 202d 2d6a 7570 7974 6572 206c  onut --jupyter l
-00005d10: 6162 6020 7769 6c6c 2065 6e73 7572 6520  ab` will ensure 
-00005d20: 7468 6174 2074 6865 2043 6f63 6f6e 7574  that the Coconut
-00005d30: 206b 6572 6e65 6c20 6973 2061 7661 696c   kernel is avail
-00005d40: 6162 6c65 2061 6e64 206c 6175 6e63 6820  able and launch 
-00005d50: 5b4a 7570 7974 6572 4c61 625d 2868 7474  [JupyterLab](htt
-00005d60: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00005d70: 6a75 7079 7465 726c 6162 2f6a 7570 7974  jupyterlab/jupyt
-00005d80: 6572 6c61 6229 2e0a 0a41 6464 6974 696f  erlab)...Additio
-00005d90: 6e61 6c6c 792c 205b 4a75 7079 7465 7874  nally, [Jupytext
-00005da0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00005db0: 2e63 6f6d 2f6d 776f 7574 732f 6a75 7079  .com/mwouts/jupy
-00005dc0: 7465 7874 2920 636f 6e74 6169 6e73 2073  text) contains s
-00005dd0: 7065 6369 616c 2073 7570 706f 7274 2066  pecial support f
-00005de0: 6f72 2074 6865 2043 6f63 6f6e 7574 206b  or the Coconut k
-00005df0: 6572 6e65 6c20 616e 6420 436f 636f 6e75  ernel and Coconu
-00005e00: 7420 636f 6e74 6169 6e73 2073 7065 6369  t contains speci
-00005e10: 616c 2073 7570 706f 7274 2066 6f72 205b  al support for [
-00005e20: 5061 7065 726d 696c 6c5d 2868 7474 7073  Papermill](https
-00005e30: 3a2f 2f70 6170 6572 6d69 6c6c 2e72 6561  ://papermill.rea
-00005e40: 6474 6865 646f 6373 2e69 6f2f 656e 2f6c  dthedocs.io/en/l
-00005e50: 6174 6573 742f 292e 0a0a 2323 2323 2320  atest/)...##### 
-00005e60: 4578 7465 6e73 696f 6e0a 0a49 6620 436f  Extension..If Co
-00005e70: 636f 6e75 7420 6973 2075 7365 6420 6173  conut is used as
-00005e80: 2061 6e20 6578 7465 6e73 696f 6e2c 2061   an extension, a
-00005e90: 2073 7065 6369 616c 206d 6167 6963 2063   special magic c
-00005ea0: 6f6d 6d61 6e64 2077 696c 6c20 7365 6e64  ommand will send
-00005eb0: 2073 6e69 7070 6574 7320 6f66 2063 6f64   snippets of cod
-00005ec0: 6520 746f 2062 6520 6576 616c 7561 7465  e to be evaluate
-00005ed0: 6420 7573 696e 6720 436f 636f 6e75 7420  d using Coconut 
-00005ee0: 696e 7374 6561 6420 6f66 2049 5079 7468  instead of IPyth
-00005ef0: 6f6e 2c20 6275 7420 4950 7974 686f 6e20  on, but IPython 
-00005f00: 7769 6c6c 2073 7469 6c6c 2062 6520 7573  will still be us
-00005f10: 6564 2061 7320 7468 6520 6465 6661 756c  ed as the defaul
-00005f20: 742e 0a0a 5468 6520 6c69 6e65 206d 6167  t...The line mag
-00005f30: 6963 2060 256c 6f61 645f 6578 7420 636f  ic `%load_ext co
-00005f40: 636f 6e75 7460 2077 696c 6c20 6c6f 6164  conut` will load
-00005f50: 2043 6f63 6f6e 7574 2061 7320 616e 2065   Coconut as an e
-00005f60: 7874 656e 7369 6f6e 2c20 7072 6f76 6964  xtension, provid
-00005f70: 696e 6720 7468 6520 6025 636f 636f 6e75  ing the `%coconu
-00005f80: 7460 2061 6e64 2060 2525 636f 636f 6e75  t` and `%%coconu
-00005f90: 7460 206d 6167 6963 7320 616e 6420 6164  t` magics and ad
-00005fa0: 6469 6e67 2043 6f63 6f6e 7574 2062 7569  ding Coconut bui
-00005fb0: 6c74 2d69 6e73 2e20 5468 6520 6025 636f  lt-ins. The `%co
-00005fc0: 636f 6e75 7460 206c 696e 6520 6d61 6769  conut` line magi
-00005fd0: 6320 7769 6c6c 2072 756e 2061 206c 696e  c will run a lin
-00005fe0: 6520 6f66 2043 6f63 6f6e 7574 2077 6974  e of Coconut wit
-00005ff0: 6820 6465 6661 756c 7420 7061 7261 6d65  h default parame
-00006000: 7465 7273 2c20 616e 6420 7468 6520 6025  ters, and the `%
-00006010: 2563 6f63 6f6e 7574 6020 626c 6f63 6b20  %coconut` block 
-00006020: 6d61 6769 6320 7769 6c6c 2074 616b 6520  magic will take 
-00006030: 636f 6d6d 616e 642d 6c69 6e65 2061 7267  command-line arg
-00006040: 756d 656e 7473 206f 6e20 7468 6520 6669  uments on the fi
-00006050: 7273 7420 6c69 6e65 2c20 616e 6420 7275  rst line, and ru
-00006060: 6e20 616e 7920 436f 636f 6e75 7420 636f  n any Coconut co
-00006070: 6465 2070 726f 7669 6465 6420 696e 2074  de provided in t
-00006080: 6865 2072 6573 7420 6f66 2074 6865 2063  he rest of the c
-00006090: 656c 6c20 7769 7468 2074 686f 7365 2070  ell with those p
-000060a0: 6172 616d 6574 6572 732e 0a0a 5f4e 6f74  arameters..._Not
-000060b0: 653a 2055 6e6c 696b 6520 7468 6520 6e6f  e: Unlike the no
-000060c0: 726d 616c 2043 6f63 6f6e 7574 2063 6f6d  rmal Coconut com
-000060d0: 6d61 6e64 2d6c 696e 652c 2060 2525 636f  mand-line, `%%co
-000060e0: 636f 6e75 7460 2064 6566 6175 6c74 7320  conut` defaults 
-000060f0: 746f 2074 6865 2060 7379 7360 2074 6172  to the `sys` tar
-00006100: 6765 7420 7261 7468 6572 2074 6861 6e20  get rather than 
-00006110: 7468 6520 6075 6e69 7665 7273 616c 6020  the `universal` 
-00006120: 7461 7267 6574 2e5f 0a0a 2323 2323 204d  target._..#### M
-00006130: 7950 7920 496e 7465 6772 6174 696f 6e0a  yPy Integration.
-00006140: 0a43 6f63 6f6e 7574 2068 6173 2074 6865  .Coconut has the
-00006150: 2061 6269 6c69 7479 2074 6f20 696e 7465   ability to inte
-00006160: 6772 6174 6520 7769 7468 205b 4d79 5079  grate with [MyPy
-00006170: 5d28 6874 7470 3a2f 2f6d 7970 792d 6c61  ](http://mypy-la
-00006180: 6e67 2e6f 7267 2f29 2074 6f20 7072 6f76  ng.org/) to prov
-00006190: 6964 6520 6f70 7469 6f6e 616c 2073 7461  ide optional sta
-000061a0: 7469 6320 7479 7065 5f63 6865 636b 696e  tic type_checkin
-000061b0: 672c 2069 6e63 6c75 6469 6e67 2066 6f72  g, including for
-000061c0: 2061 6c6c 2043 6f63 6f6e 7574 2062 7569   all Coconut bui
-000061d0: 6c74 2d69 6e73 2e20 5369 6d70 6c79 2070  lt-ins. Simply p
-000061e0: 6173 7320 602d 2d6d 7970 7960 2074 6f20  ass `--mypy` to 
-000061f0: 6063 6f63 6f6e 7574 6020 746f 2065 6e61  `coconut` to ena
-00006200: 626c 6520 4d79 5079 2069 6e74 6567 7261  ble MyPy integra
-00006210: 7469 6f6e 2c20 7468 6f75 6768 2062 6520  tion, though be 
-00006220: 6361 7265 6675 6c20 746f 2070 6173 7320  careful to pass 
-00006230: 6974 206f 6e6c 7920 6173 2074 6865 206c  it only as the l
-00006240: 6173 7420 6172 6775 6d65 6e74 2c20 7369  ast argument, si
-00006250: 6e63 6520 616c 6c20 6172 6775 6d65 6e74  nce all argument
-00006260: 7320 6166 7465 7220 602d 2d6d 7970 7960  s after `--mypy`
-00006270: 2061 7265 2070 6173 7365 6420 746f 2060   are passed to `
-00006280: 6d79 7079 602c 206e 6f74 2043 6f63 6f6e  mypy`, not Cocon
-00006290: 7574 2e0a 0a59 6f75 2063 616e 2061 6c73  ut...You can als
-000062a0: 6f20 7275 6e20 606d 7970 7960 e280 946f  o run `mypy`...o
-000062b0: 7220 616e 7920 6f74 6865 7220 7374 6174  r any other stat
-000062c0: 6963 2074 7970 6520 6368 6563 6b65 72e2  ic type checker.
-000062d0: 8094 6469 7265 6374 6c79 206f 6e20 7468  ..directly on th
-000062e0: 6520 636f 6d70 696c 6564 2043 6f63 6f6e  e compiled Cocon
-000062f0: 7574 2e20 4966 2074 6865 2073 7461 7469  ut. If the stati
-00006300: 6320 7479 7065 2063 6865 636b 6572 2069  c type checker i
-00006310: 7320 756e 6162 6c65 2074 6f20 6669 6e64  s unable to find
-00006320: 2074 6865 206e 6563 6573 7361 7279 2073   the necessary s
-00006330: 7475 6220 6669 6c65 732c 2068 6f77 6576  tub files, howev
-00006340: 6572 2c20 7468 656e 2079 6f75 206d 6179  er, then you may
-00006350: 206e 6565 6420 746f 3a0a 0a31 2e20 7275   need to:..1. ru
-00006360: 6e20 6063 6f63 6f6e 7574 202d 2d6d 7970  n `coconut --myp
-00006370: 7920 696e 7374 616c 6c60 2061 6e64 0a32  y install` and.2
-00006380: 2e20 7465 6c6c 2079 6f75 7220 7374 6174  . tell your stat
-00006390: 6963 2074 7970 6520 6368 6563 6b65 7220  ic type checker 
-000063a0: 6f66 2063 686f 6963 6520 746f 206c 6f6f  of choice to loo
-000063b0: 6b20 696e 2060 7e2f 2e63 6f63 6f6e 7574  k in `~/.coconut
-000063c0: 5f73 7475 6273 6020 666f 7220 7374 7562  _stubs` for stub
-000063d0: 2066 696c 6573 2028 666f 7220 606d 7970   files (for `myp
-000063e0: 7960 2c20 7468 6973 2069 7320 646f 6e65  y`, this is done
-000063f0: 2062 7920 6164 6469 6e67 2069 7420 746f   by adding it to
-00006400: 2079 6f75 7220 5b60 4d59 5059 5041 5448   your [`MYPYPATH
-00006410: 605d 2868 7474 7073 3a2f 2f6d 7970 792e  `](https://mypy.
-00006420: 7265 6164 7468 6564 6f63 732e 696f 2f65  readthedocs.io/e
-00006430: 6e2f 6c61 7465 7374 2f72 756e 6e69 6e67  n/latest/running
-00006440: 5f6d 7970 792e 6874 6d6c 2368 6f77 2d69  _mypy.html#how-i
-00006450: 6d70 6f72 7473 2d61 7265 2d66 6f75 6e64  mports-are-found
-00006460: 2929 2e0a 0a54 6f20 6578 706c 6963 6974  ))...To explicit
-00006470: 6c79 2061 6e6e 6f74 6174 6520 796f 7572  ly annotate your
-00006480: 2063 6f64 6520 7769 7468 2074 7970 6573   code with types
-00006490: 2074 6f20 6265 2063 6865 636b 6564 2c20   to be checked, 
-000064a0: 436f 636f 6e75 7420 7375 7070 6f72 7473  Coconut supports
-000064b0: 205b 5079 7468 6f6e 2033 2066 756e 6374   [Python 3 funct
-000064c0: 696f 6e20 7479 7065 2061 6e6e 6f74 6174  ion type annotat
-000064d0: 696f 6e73 5d28 6874 7470 733a 2f2f 7777  ions](https://ww
-000064e0: 772e 7079 7468 6f6e 2e6f 7267 2f64 6576  w.python.org/dev
-000064f0: 2f70 6570 732f 7065 702d 3034 3834 2f29  /peps/pep-0484/)
-00006500: 2c20 5b50 7974 686f 6e20 332e 3620 7661  , [Python 3.6 va
-00006510: 7269 6162 6c65 2074 7970 6520 616e 6e6f  riable type anno
-00006520: 7461 7469 6f6e 735d 2868 7474 7073 3a2f  tations](https:/
-00006530: 2f77 7777 2e70 7974 686f 6e2e 6f72 672f  /www.python.org/
-00006540: 6465 762f 7065 7073 2f70 6570 2d30 3532  dev/peps/pep-052
-00006550: 362f 292c 2061 6e64 2065 7665 6e20 436f  6/), and even Co
-00006560: 636f 6e75 7427 7320 6f77 6e20 5b65 6e68  conut's own [enh
-00006570: 616e 6365 6420 7479 7065 2061 6e6e 6f74  anced type annot
-00006580: 6174 696f 6e20 7379 6e74 6178 5d28 2365  ation syntax](#e
-00006590: 6e68 616e 6365 642d 7479 7065 2d61 6e6e  nhanced-type-ann
-000065a0: 6f74 6174 696f 6e29 2e20 4279 2064 6566  otation). By def
-000065b0: 6175 6c74 2c20 616c 6c20 7479 7065 2061  ault, all type a
-000065c0: 6e6e 6f74 6174 696f 6e73 2061 7265 2063  nnotations are c
-000065d0: 6f6d 7069 6c65 6420 746f 2050 7974 686f  ompiled to Pytho
-000065e0: 6e2d 322d 636f 6d70 6174 6962 6c65 2074  n-2-compatible t
-000065f0: 7970 6520 636f 6d6d 656e 7473 2c20 7768  ype comments, wh
-00006600: 6963 6820 6d65 616e 7320 6974 2061 6c6c  ich means it all
-00006610: 2077 6f72 6b73 206f 6e20 616e 7920 5079   works on any Py
-00006620: 7468 6f6e 2076 6572 7369 6f6e 2e20 436f  thon version. Co
-00006630: 636f 6e75 7420 616c 736f 2073 7570 706f  conut also suppo
-00006640: 7274 7320 5b50 4550 2036 3935 2074 7970  rts [PEP 695 typ
-00006650: 6520 7061 7261 6d65 7465 7220 7379 6e74  e parameter synt
-00006660: 6178 5d28 2374 7970 652d 7061 7261 6d65  ax](#type-parame
-00006670: 7465 722d 7379 6e74 6178 2920 666f 7220  ter-syntax) for 
-00006680: 6561 7369 6c79 2061 6464 696e 6720 7479  easily adding ty
-00006690: 7065 2070 6172 616d 6574 6572 7320 746f  pe parameters to
-000066a0: 2063 6c61 7373 6573 2c20 6675 6e63 7469   classes, functi
-000066b0: 6f6e 732c 205b 6064 6174 6160 2074 7970  ons, [`data` typ
-000066c0: 6573 5d28 2364 6174 6129 2c20 616e 6420  es](#data), and 
-000066d0: 7479 7065 2061 6c69 6173 6573 2e0a 0a43  type aliases...C
-000066e0: 6f63 6f6e 7574 2065 7665 6e20 7375 7070  oconut even supp
-000066f0: 6f72 7473 2060 2d2d 6d79 7079 6020 696e  orts `--mypy` in
-00006700: 2074 6865 2069 6e74 6572 7072 6574 6572   the interpreter
-00006710: 2c20 7768 6963 6820 7769 6c6c 2069 6e74  , which will int
-00006720: 656c 6c69 6765 6e74 6c79 2073 6361 6e20  elligently scan 
-00006730: 6561 6368 206e 6577 206c 696e 6520 6f66  each new line of
-00006740: 2063 6f64 652c 2069 6e20 7468 6520 636f   code, in the co
-00006750: 6e74 6578 7420 6f66 2070 7265 7669 6f75  ntext of previou
-00006760: 7320 6c69 6e65 732c 2066 6f72 206e 6577  s lines, for new
-00006770: 6c79 2d69 6e74 726f 6475 6365 6420 4d79  ly-introduced My
-00006780: 5079 2065 7272 6f72 732e 2046 6f72 2065  Py errors. For e
-00006790: 7861 6d70 6c65 3a0a 6060 6063 6f63 6f6e  xample:.```cocon
-000067a0: 7574 5f70 7963 6f6e 0a3e 3e3e 2061 3a20  ut_pycon.>>> a: 
-000067b0: 7374 7220 3d20 636f 756e 7428 295b 305d  str = count()[0]
-000067c0: 0a3c 7374 7269 6e67 3e3a 3134 3a20 6572  .<string>:14: er
-000067d0: 726f 723a 2049 6e63 6f6d 7061 7469 626c  ror: Incompatibl
-000067e0: 6520 7479 7065 7320 696e 2061 7373 6967  e types in assig
-000067f0: 6e6d 656e 7420 2865 7870 7265 7373 696f  nment (expressio
-00006800: 6e20 6861 7320 7479 7065 2022 696e 7422  n has type "int"
-00006810: 2c20 7661 7269 6162 6c65 2068 6173 2074  , variable has t
-00006820: 7970 6520 2273 7472 2229 0a3e 3e3e 2072  ype "str").>>> r
-00006830: 6576 6561 6c5f 7479 7065 2861 290a 300a  eveal_type(a).0.
-00006840: 3c73 7472 696e 673e 3a31 393a 206e 6f74  <string>:19: not
-00006850: 653a 2052 6576 6561 6c65 6420 7479 7065  e: Revealed type
-00006860: 2069 7320 2762 7569 6c74 696e 732e 756e   is 'builtins.un
-00006870: 6963 6f64 6527 0a60 6060 0a5f 466f 7220  icode'.```._For 
-00006880: 6d6f 7265 2069 6e66 6f72 6d61 7469 6f6e  more information
-00006890: 206f 6e20 6072 6576 6561 6c5f 7479 7065   on `reveal_type
-000068a0: 602c 2073 6565 205b 6072 6576 6561 6c5f  `, see [`reveal_
-000068b0: 7479 7065 6020 616e 6420 6072 6576 6561  type` and `revea
-000068c0: 6c5f 6c6f 6361 6c73 605d 2823 7265 7665  l_locals`](#reve
-000068d0: 616c 2d74 7970 652d 616e 642d 7265 7665  al-type-and-reve
-000068e0: 616c 2d6c 6f63 616c 7329 2e5f 0a0a 536f  al-locals)._..So
-000068f0: 6d65 7469 6d65 732c 204d 7950 7920 7769  metimes, MyPy wi
-00006900: 6c6c 206e 6f74 206b 6e6f 7720 686f 7720  ll not know how 
-00006910: 746f 2068 616e 646c 6520 6365 7274 6169  to handle certai
-00006920: 6e20 436f 636f 6e75 7420 636f 6e73 7472  n Coconut constr
-00006930: 7563 7473 2c20 7375 6368 2061 7320 6061  ucts, such as `a
-00006940: 6464 7061 7474 6572 6e60 2e20 466f 7220  ddpattern`. For 
-00006950: 7468 6520 6061 6464 7061 7474 6572 6e60  the `addpattern`
-00006960: 2063 6173 652c 2069 7420 6973 2072 6563   case, it is rec
-00006970: 6f6d 6d65 6e64 6564 2074 6f20 7061 7373  ommended to pass
-00006980: 2060 2d2d 616c 6c6f 772d 7265 6465 6669   `--allow-redefi
-00006990: 6e69 7469 6f6e 6020 746f 204d 7950 7920  nition` to MyPy 
-000069a0: 2869 2e65 2e20 7275 6e20 6063 6f63 6f6e  (i.e. run `cocon
-000069b0: 7574 203c 6172 6773 3e20 2d2d 6d79 7079  ut <args> --mypy
-000069c0: 202d 2d61 6c6c 6f77 2d72 6564 6566 696e   --allow-redefin
-000069d0: 6974 696f 6e60 292c 2074 686f 7567 6820  ition`), though 
-000069e0: 696e 2073 6f6d 6520 6361 7365 7320 602d  in some cases `-
-000069f0: 2d61 6c6c 6f77 2d72 6564 6566 696e 6974  -allow-redefinit
-00006a00: 696f 6e60 206d 6179 206e 6f74 2062 6520  ion` may not be 
-00006a10: 7375 6666 6963 6965 6e74 2e20 496e 2074  sufficient. In t
-00006a20: 6861 7420 6361 7365 2c20 6569 7468 6572  hat case, either
-00006a30: 2068 6964 6520 7468 6520 6f66 6665 6e64   hide the offend
-00006a40: 696e 6720 636f 6465 2075 7369 6e67 205b  ing code using [
-00006a50: 6054 5950 455f 4348 4543 4b49 4e47 605d  `TYPE_CHECKING`]
-00006a60: 2823 7479 7065 5f63 6865 636b 696e 6729  (#type_checking)
-00006a70: 206f 7220 7075 7420 6120 6023 2074 7970   or put a `# typ
-00006a80: 653a 2069 676e 6f72 6560 2063 6f6d 6d65  e: ignore` comme
-00006a90: 6e74 206f 6e20 7468 6520 436f 636f 6e75  nt on the Coconu
-00006aa0: 7420 6c69 6e65 2077 6869 6368 2069 7320  t line which is 
-00006ab0: 6765 6e65 7261 7469 6e67 2074 6865 206c  generating the l
-00006ac0: 696e 6520 4d79 5079 2069 7320 636f 6d70  ine MyPy is comp
-00006ad0: 6c61 696e 696e 6720 6162 6f75 7420 616e  laining about an
-00006ae0: 6420 7468 6520 636f 6d6d 656e 7420 7769  d the comment wi
-00006af0: 6c6c 2062 6520 6164 6465 6420 746f 2065  ll be added to e
-00006b00: 7665 7279 2067 656e 6572 6174 6564 206c  very generated l
-00006b10: 696e 652e 0a0a 546f 2064 6973 7472 6962  ine...To distrib
-00006b20: 7574 6520 796f 7572 2063 6f64 6520 7769  ute your code wi
-00006b30: 7468 2063 6865 636b 6162 6c65 2074 7970  th checkable typ
-00006b40: 6520 616e 6e6f 7461 7469 6f6e 732c 2079  e annotations, y
-00006b50: 6f75 276c 6c20 6e65 6564 2074 6f20 696e  ou'll need to in
-00006b60: 636c 7564 6520 6063 6f63 6f6e 7574 6020  clude `coconut` 
-00006b70: 6173 2061 2064 6570 656e 6465 6e63 7920  as a dependency 
-00006b80: 2874 686f 7567 6820 6120 602d 2d6e 6f2d  (though a `--no-
-00006b90: 6465 7073 6020 696e 7374 616c 6c20 7368  deps` install sh
-00006ba0: 6f75 6c64 2062 6520 6669 6e65 292c 2061  ould be fine), a
-00006bb0: 7320 696e 7374 616c 6c69 6e67 2069 7420  s installing it 
-00006bc0: 6973 206e 6563 6573 7361 7279 2074 6f20  is necessary to 
-00006bd0: 6d61 6b65 2074 6865 2072 6571 7569 7369  make the requisi
-00006be0: 7465 2073 7475 6220 6669 6c65 7320 6176  te stub files av
-00006bf0: 6169 6c61 626c 652e 2059 6f75 276c 6c20  ailable. You'll 
-00006c00: 616c 736f 2070 726f 6261 626c 7920 7761  also probably wa
-00006c10: 6e74 2074 6f20 696e 636c 7564 6520 6120  nt to include a 
-00006c20: 5b60 7079 2e74 7970 6564 605d 2868 7474  [`py.typed`](htt
-00006c30: 7073 3a2f 2f70 6570 732e 7079 7468 6f6e  ps://peps.python
-00006c40: 2e6f 7267 2f70 6570 2d30 3536 312f 2920  .org/pep-0561/) 
-00006c50: 6669 6c65 2e0a 0a23 2323 2320 606e 756d  file...#### `num
-00006c60: 7079 6020 496e 7465 6772 6174 696f 6e0a  py` Integration.
-00006c70: 0a54 6f20 616c 6c6f 7720 666f 7220 6265  .To allow for be
-00006c80: 7474 6572 2075 7365 206f 6620 5b60 6e75  tter use of [`nu
-00006c90: 6d70 7960 5d28 6874 7470 733a 2f2f 6e75  mpy`](https://nu
-00006ca0: 6d70 792e 6f72 672f 2920 6f62 6a65 6374  mpy.org/) object
-00006cb0: 7320 696e 2043 6f63 6f6e 7574 2c20 616c  s in Coconut, al
-00006cc0: 6c20 636f 6d70 696c 6564 2043 6f63 6f6e  l compiled Cocon
-00006cd0: 7574 2063 6f64 6520 7769 6c6c 2064 6f20  ut code will do 
-00006ce0: 6120 6e75 6d62 6572 206f 6620 7370 6563  a number of spec
-00006cf0: 6961 6c20 7468 696e 6773 2074 6f20 6265  ial things to be
-00006d00: 7474 6572 2069 6e74 6567 7261 7465 2077  tter integrate w
-00006d10: 6974 6820 606e 756d 7079 6020 2869 6620  ith `numpy` (if 
-00006d20: 606e 756d 7079 6020 6973 2061 7661 696c  `numpy` is avail
-00006d30: 6162 6c65 2074 6f20 696d 706f 7274 2077  able to import w
-00006d40: 6865 6e20 7468 6520 636f 6465 2069 7320  hen the code is 
-00006d50: 7275 6e29 2e20 5370 6563 6966 6963 616c  run). Specifical
-00006d60: 6c79 3a0a 0a2d 2043 6f63 6f6e 7574 2773  ly:..- Coconut's
-00006d70: 205b 6d75 6c74 6964 696d 656e 7369 6f6e   [multidimension
-00006d80: 616c 2061 7272 6179 206c 6974 6572 616c  al array literal
-00006d90: 2061 6e64 2061 7272 6179 2063 6f6e 6361   and array conca
-00006da0: 7465 6e61 7469 6f6e 2073 796e 7461 785d  tenation syntax]
-00006db0: 2823 6d75 6c74 6964 696d 656e 7369 6f6e  (#multidimension
-00006dc0: 616c 2d61 7272 6179 2d6c 6974 6572 616c  al-array-literal
-00006dd0: 636f 6e63 6174 656e 6174 696f 6e2d 7379  concatenation-sy
-00006de0: 6e74 6178 2920 7375 7070 6f72 7473 2060  ntax) supports `
-00006df0: 6e75 6d70 7960 206f 626a 6563 7473 2c20  numpy` objects, 
-00006e00: 696e 636c 7564 696e 6720 7573 696e 6720  including using 
-00006e10: 6661 7374 2060 6e75 6d70 7960 2063 6f6e  fast `numpy` con
-00006e20: 6361 7465 6e61 7469 6f6e 206d 6574 686f  catenation metho
-00006e30: 6473 2069 6620 6769 7665 6e20 606e 756d  ds if given `num
-00006e40: 7079 6020 6172 7261 7973 2072 6174 6865  py` arrays rathe
-00006e50: 7220 7468 616e 2043 6f63 6f6e 7574 2773  r than Coconut's
-00006e60: 2064 6566 6175 6c74 206d 7563 6820 736c   default much sl
-00006e70: 6f77 6572 2069 6d70 6c65 6d65 6e74 6174  ower implementat
-00006e80: 696f 6e20 6275 696c 7420 666f 7220 5079  ion built for Py
-00006e90: 7468 6f6e 206c 6973 7473 206f 6620 6c69  thon lists of li
-00006ea0: 7374 732e 0a2d 204d 616e 7920 6f66 2043  sts..- Many of C
-00006eb0: 6f63 6f6e 7574 2773 2062 7569 6c74 2d69  oconut's built-i
-00006ec0: 6e73 2069 6e63 6c75 6465 2073 7065 6369  ns include speci
-00006ed0: 616c 2060 6e75 6d70 7960 2073 7570 706f  al `numpy` suppo
-00006ee0: 7274 2c20 7370 6563 6966 6963 616c 6c79  rt, specifically
-00006ef0: 3a0a 2020 2a20 5b60 666d 6170 605d 2823  :.  * [`fmap`](#
-00006f00: 666d 6170 2920 7769 6c6c 2075 7365 205b  fmap) will use [
-00006f10: 606e 756d 7079 2e76 6563 746f 7269 7a65  `numpy.vectorize
-00006f20: 605d 2868 7474 7073 3a2f 2f6e 756d 7079  `](https://numpy
-00006f30: 2e6f 7267 2f64 6f63 2f73 7461 626c 652f  .org/doc/stable/
-00006f40: 7265 6665 7265 6e63 652f 6765 6e65 7261  reference/genera
-00006f50: 7465 642f 6e75 6d70 792e 7665 6374 6f72  ted/numpy.vector
-00006f60: 697a 652e 6874 6d6c 2920 746f 206d 6170  ize.html) to map
-00006f70: 206f 7665 7220 606e 756d 7079 6020 6172   over `numpy` ar
-00006f80: 7261 7973 2e0a 2020 2a20 5b60 6d75 6c74  rays..  * [`mult
-00006f90: 695f 656e 756d 6572 6174 6560 5d28 236d  i_enumerate`](#m
-00006fa0: 756c 7469 5f65 6e75 6d65 7261 7465 2920  ulti_enumerate) 
-00006fb0: 616c 6c6f 7773 2066 6f72 2065 6173 696c  allows for easil
-00006fc0: 7920 6c6f 6f70 696e 6720 6f76 6572 2061  y looping over a
-00006fd0: 6c6c 2074 6865 206d 756c 7469 2d64 696d  ll the multi-dim
-00006fe0: 656e 7369 6f6e 616c 2069 6e64 6963 6573  ensional indices
-00006ff0: 2069 6e20 6120 606e 756d 7079 6020 6172   in a `numpy` ar
-00007000: 7261 792e 0a20 202a 205b 6063 6172 7465  ray..  * [`carte
-00007010: 7369 616e 5f70 726f 6475 6374 605d 2823  sian_product`](#
-00007020: 6361 7274 6573 6961 6e5f 7072 6f64 7563  cartesian_produc
-00007030: 7429 2063 616e 2063 6f6d 7075 7465 2074  t) can compute t
-00007040: 6865 2043 6172 7465 7369 616e 2070 726f  he Cartesian pro
-00007050: 6475 6374 206f 6620 6769 7665 6e20 606e  duct of given `n
-00007060: 756d 7079 6020 6172 7261 7973 2061 7320  umpy` arrays as 
-00007070: 6120 606e 756d 7079 6020 6172 7261 792e  a `numpy` array.
-00007080: 0a20 202a 205b 6061 6c6c 5f65 7175 616c  .  * [`all_equal
-00007090: 605d 2823 616c 6c5f 6571 7561 6c29 2061  `](#all_equal) a
-000070a0: 6c6c 6f77 7320 666f 7220 6561 7369 6c79  llows for easily
-000070b0: 2063 6865 636b 696e 6720 6966 2061 6c6c   checking if all
-000070c0: 2074 6865 2065 6c65 6d65 6e74 7320 696e   the elements in
-000070d0: 2061 2060 6e75 6d70 7960 2061 7272 6179   a `numpy` array
-000070e0: 2061 7265 2074 6865 2073 616d 652e 0a2d   are the same..-
-000070f0: 205b 606e 756d 7079 2e6e 6461 7272 6179   [`numpy.ndarray
-00007100: 605d 2868 7474 7073 3a2f 2f6e 756d 7079  `](https://numpy
-00007110: 2e6f 7267 2f64 6f63 2f73 7461 626c 652f  .org/doc/stable/
-00007120: 7265 6665 7265 6e63 652f 6765 6e65 7261  reference/genera
-00007130: 7465 642f 6e75 6d70 792e 6e64 6172 7261  ted/numpy.ndarra
-00007140: 792e 6874 6d6c 2920 6973 2072 6567 6973  y.html) is regis
-00007150: 7465 7265 6420 6173 2061 205b 6063 6f6c  tered as a [`col
-00007160: 6c65 6374 696f 6e73 2e61 6263 2e53 6571  lections.abc.Seq
-00007170: 7565 6e63 6560 5d28 6874 7470 733a 2f2f  uence`](https://
-00007180: 646f 6373 2e70 7974 686f 6e2e 6f72 672f  docs.python.org/
-00007190: 332f 6c69 6272 6172 792f 636f 6c6c 6563  3/library/collec
-000071a0: 7469 6f6e 732e 6162 632e 6874 6d6c 2363  tions.abc.html#c
-000071b0: 6f6c 6c65 6374 696f 6e73 2e61 6263 2e53  ollections.abc.S
-000071c0: 6571 7565 6e63 6529 2c20 656e 6162 6c69  equence), enabli
-000071d0: 6e67 2069 7420 746f 2062 6520 7573 6564  ng it to be used
-000071e0: 2069 6e20 5b73 6571 7565 6e63 6520 7061   in [sequence pa
-000071f0: 7474 6572 6e73 5d28 2373 656d 616e 7469  tterns](#semanti
-00007200: 6373 2d73 7065 6369 6669 6361 7469 6f6e  cs-specification
-00007210: 292e 0a2d 2060 6e75 6d70 7960 206f 626a  )..- `numpy` obj
-00007220: 6563 7473 2061 7265 2061 6c6c 6f77 6564  ects are allowed
-00007230: 2073 6561 6d6c 6573 736c 7920 696e 2043   seamlessly in C
-00007240: 6f63 6f6e 7574 2773 205b 696d 706c 6963  oconut's [implic
-00007250: 6974 2063 6f65 6666 6963 6965 6e74 2073  it coefficient s
-00007260: 796e 7461 785d 2823 696d 706c 6963 6974  yntax](#implicit
-00007270: 2d66 756e 6374 696f 6e2d 6170 706c 6963  -function-applic
-00007280: 6174 696f 6e2d 616e 642d 636f 6566 6669  ation-and-coeffi
-00007290: 6369 656e 7473 292c 2061 6c6c 6f77 696e  cients), allowin
-000072a0: 6720 7468 6520 7573 6520 6f66 2065 2e67  g the use of e.g
-000072b0: 2e20 6041 2042 2a2a 3260 2073 686f 7274  . `A B**2` short
-000072c0: 6861 6e64 2066 6f72 2060 4120 2a20 422a  hand for `A * B*
-000072d0: 2a32 6020 7768 656e 2060 4160 2061 6e64  *2` when `A` and
-000072e0: 2060 4260 2061 7265 2060 6e75 6d70 7960   `B` are `numpy`
-000072f0: 2061 7272 6179 7320 286e 6f74 653a 202a   arrays (note: *
-00007300: 2a6e 6f74 2a2a 2060 4120 4020 422a 2a32  *not** `A @ B**2
-00007310: 6029 2e0a 2d20 436f 636f 6e75 7420 7375  `)..- Coconut su
-00007320: 7070 6f72 7473 2060 4060 2066 6f72 206d  pports `@` for m
-00007330: 6174 7269 7820 6d75 6c74 6970 6c69 6361  atrix multiplica
-00007340: 7469 6f6e 206f 6620 606e 756d 7079 6020  tion of `numpy` 
-00007350: 6172 7261 7973 206f 6e20 616c 6c20 5079  arrays on all Py
-00007360: 7468 6f6e 2076 6572 7369 6f6e 732c 2061  thon versions, a
-00007370: 7320 7765 6c6c 2061 7320 7375 7070 6c79  s well as supply
-00007380: 696e 6720 7468 6520 6028 4029 6020 5b6f  ing the `(@)` [o
-00007390: 7065 7261 746f 7220 6675 6e63 7469 6f6e  perator function
-000073a0: 5d28 236f 7065 7261 746f 722d 6675 6e63  ](#operator-func
-000073b0: 7469 6f6e 7329 2e0a 0a41 6464 6974 696f  tions)...Additio
-000073c0: 6e61 6c6c 792c 2043 6f63 6f6e 7574 2070  nally, Coconut p
-000073d0: 726f 7669 6465 7320 7468 6520 6578 6163  rovides the exac
-000073e0: 7420 7361 6d65 2073 7570 706f 7274 2066  t same support f
-000073f0: 6f72 205b 6070 616e 6461 7360 5d28 6874  or [`pandas`](ht
-00007400: 7470 733a 2f2f 7061 6e64 6173 2e70 7964  tps://pandas.pyd
-00007410: 6174 612e 6f72 672f 292c 205b 6070 7974  ata.org/), [`pyt
-00007420: 6f72 6368 605d 2868 7474 7073 3a2f 2f70  orch`](https://p
-00007430: 7974 6f72 6368 2e6f 7267 2f29 2c20 616e  ytorch.org/), an
-00007440: 6420 5b60 6a61 782e 6e75 6d70 7960 5d28  d [`jax.numpy`](
-00007450: 6874 7470 733a 2f2f 6a61 782e 7265 6164  https://jax.read
-00007460: 7468 6564 6f63 732e 696f 2f65 6e2f 6c61  thedocs.io/en/la
-00007470: 7465 7374 2f6a 6178 2e6e 756d 7079 2e68  test/jax.numpy.h
-00007480: 746d 6c29 2c20 696e 636c 7564 696e 6720  tml), including 
-00007490: 7573 696e 6720 606a 6178 2e6e 756d 7079  using `jax.numpy
-000074a0: 6020 6d65 7468 6f64 7320 6f76 6572 2060  ` methods over `
-000074b0: 6e75 6d70 7960 206d 6574 686f 6473 2077  numpy` methods w
-000074c0: 6865 6e20 6769 7665 6e20 606a 6178 6020  hen given `jax` 
-000074d0: 6172 7261 7973 2e0a 0a23 2323 2320 6078  arrays...#### `x
-000074e0: 6f6e 7368 6020 5375 7070 6f72 740a 0a43  onsh` Support..C
-000074f0: 6f63 6f6e 7574 2069 6e74 6567 7261 7465  oconut integrate
-00007500: 7320 7769 7468 205b 6078 6f6e 7368 605d  s with [`xonsh`]
-00007510: 2868 7474 7073 3a2f 2f78 6f6e 2e73 682f  (https://xon.sh/
-00007520: 2920 746f 2061 6c6c 6f77 2074 6865 2075  ) to allow the u
-00007530: 7365 206f 6620 436f 636f 6e75 7420 636f  se of Coconut co
-00007540: 6465 2064 6972 6563 746c 7920 6672 6f6d  de directly from
-00007550: 2079 6f75 7220 636f 6d6d 616e 6420 6c69   your command li
-00007560: 6e65 2e20 546f 2075 7365 2043 6f63 6f6e  ne. To use Cocon
-00007570: 7574 2069 6e20 6078 6f6e 7368 602c 2073  ut in `xonsh`, s
-00007580: 696d 706c 7920 6070 6970 2069 6e73 7461  imply `pip insta
-00007590: 6c6c 2063 6f63 6f6e 7574 6020 7368 6f75  ll coconut` shou
-000075a0: 6c64 2062 6520 616c 6c20 796f 7520 6e65  ld be all you ne
-000075b0: 6564 2074 6f20 656e 6162 6c65 2074 6865  ed to enable the
-000075c0: 2075 7365 206f 6620 436f 636f 6e75 7420   use of Coconut 
-000075d0: 7379 6e74 6178 2069 6e20 7468 6520 6078  syntax in the `x
-000075e0: 6f6e 7368 6020 7368 656c 6c2e 2049 6e20  onsh` shell. In 
-000075f0: 736f 6d65 2063 6972 6375 6d73 7461 6e63  some circumstanc
-00007600: 6573 2c20 696e 2070 6172 7469 6375 6c61  es, in particula
-00007610: 7220 6465 7065 6e64 696e 6720 6f6e 2074  r depending on t
-00007620: 6865 2069 6e73 7461 6c6c 6564 2060 786f  he installed `xo
-00007630: 6e73 6860 2076 6572 7369 6f6e 2c20 6164  nsh` version, ad
-00007640: 6469 6e67 2060 786f 6e74 7269 6220 6c6f  ding `xontrib lo
-00007650: 6164 2063 6f63 6f6e 7574 6020 746f 2079  ad coconut` to y
-00007660: 6f75 7220 5b60 786f 6e73 6872 6360 5d28  our [`xonshrc`](
-00007670: 6874 7470 733a 2f2f 786f 6e2e 7368 2f78  https://xon.sh/x
-00007680: 6f6e 7368 7263 2e68 746d 6c29 2066 696c  onshrc.html) fil
-00007690: 6520 6d69 6768 7420 6265 206e 6563 6573  e might be neces
-000076a0: 7361 7279 2e0a 0a46 6f72 2061 6e20 6578  sary...For an ex
-000076b0: 616d 706c 6520 6f66 2075 7369 6e67 2043  ample of using C
-000076c0: 6f63 6f6e 7574 2066 726f 6d20 6078 6f6e  oconut from `xon
-000076d0: 7368 603a 0a60 6060 0a75 7365 7240 636f  sh`:.```.user@co
-000076e0: 6d70 7574 6572 207e 2024 2078 6f6e 7472  mputer ~ $ xontr
-000076f0: 6962 206c 6f61 6420 636f 636f 6e75 740a  ib load coconut.
-00007700: 7573 6572 4063 6f6d 7075 7465 7220 7e20  user@computer ~ 
-00007710: 2420 6364 202e 2f66 696c 6573 0a75 7365  $ cd ./files.use
-00007720: 7240 636f 6d70 7574 6572 207e 2024 2024  r@computer ~ $ $
-00007730: 286c 7320 2d6c 6129 207c 3e20 2e73 706c  (ls -la) |> .spl
-00007740: 6974 6c69 6e65 7328 2920 7c3e 206c 656e  itlines() |> len
-00007750: 0a33 300a 6060 600a 0a4e 6f74 6520 7468  .30.```..Note th
-00007760: 6174 2074 6865 2077 6179 2074 6861 7420  at the way that 
-00007770: 436f 636f 6e75 7420 696e 7465 6772 6174  Coconut integrat
-00007780: 6573 2077 6974 6820 6078 6f6e 7368 602c  es with `xonsh`,
-00007790: 2060 4028 3c63 6f64 653e 2960 2073 796e   `@(<code>)` syn
-000077a0: 7461 7820 7769 6c6c 206f 6e6c 7920 776f  tax will only wo
-000077b0: 726b 2077 6974 6820 5079 7468 6f6e 2063  rk with Python c
-000077c0: 6f64 652c 206e 6f74 2043 6f63 6f6e 7574  ode, not Coconut
-000077d0: 2063 6f64 652e 0a0a 4164 6469 7469 6f6e   code...Addition
-000077e0: 616c 6c79 2c20 436f 636f 6e75 7420 7769  ally, Coconut wi
-000077f0: 6c6c 206f 6e6c 7920 636f 6d70 696c 6520  ll only compile 
-00007800: 696e 6469 7669 6475 616c 2063 6f6d 6d61  individual comma
-00007810: 6e64 73e2 8094 436f 636f 6e75 7420 7769  nds...Coconut wi
-00007820: 6c6c 206e 6f74 2074 6f75 6368 2074 6865  ll not touch the
-00007830: 2060 2e78 6f6e 7368 7263 6020 6f72 2061   `.xonshrc` or a
-00007840: 6e79 206f 7468 6572 2060 2e78 7368 6020  ny other `.xsh` 
-00007850: 6669 6c65 732e 0a0a 2323 204f 7065 7261  files...## Opera
-00007860: 746f 7273 0a0a 6060 607b 636f 6e74 656e  tors..```{conten
-00007870: 7473 7d0a 2d2d 2d0a 6c6f 6361 6c3a 0a64  ts}.---.local:.d
-00007880: 6570 7468 3a20 310a 2d2d 2d0a 6060 600a  epth: 1.---.```.
-00007890: 0a23 2323 2050 7265 6365 6465 6e63 650a  .### Precedence.
-000078a0: 0a49 6e20 6f72 6465 7220 6f66 2070 7265  .In order of pre
-000078b0: 6365 6465 6e63 652c 2068 6967 6865 7374  cedence, highest
-000078c0: 2066 6972 7374 2c20 7468 6520 6f70 6572   first, the oper
-000078d0: 6174 6f72 7320 7375 7070 6f72 7465 6420  ators supported 
-000078e0: 696e 2043 6f63 6f6e 7574 2061 7265 3a0a  in Coconut are:.
-000078f0: 6060 600a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ```.============
-00007900: 3d3d 3d3d 3d3d 3d3d 3d3d 203d 3d3d 3d3d  ========== =====
-00007910: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00007920: 3d3d 3d3d 3d0a 5379 6d62 6f6c 2873 2920  =====.Symbol(s) 
-00007930: 2020 2020 2020 2020 2020 2020 2041 7373               Ass
-00007940: 6f63 6961 7469 7669 7479 0a3d 3d3d 3d3d  ociativity.=====
-00007950: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00007960: 3d20 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  = ==============
-00007970: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a61 7761  ============.awa
-00007980: 6974 2078 2020 2020 2020 2020 2020 2020  it x            
-00007990: 2020 2020 6e2f 610a 2a2a 2020 2020 2020      n/a.**      
-000079a0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-000079b0: 6967 6874 2028 616c 6c6f 7773 2075 6e61  ight (allows una
-000079c0: 7279 290a 6620 7820 2020 2020 2020 2020  ry).f x         
-000079d0: 2020 2020 2020 2020 2020 206e 2f61 0a2b             n/a.+
-000079e0: 2c20 2d2c 207e 2020 2020 2020 2020 2020  , -, ~          
-000079f0: 2020 2020 2020 756e 6172 790a 2a2c 202f        unary.*, /
-00007a00: 2c20 2f2f 2c20 252c 2040 2020 2020 2020  , //, %, @      
-00007a10: 2020 206c 6566 740a 2b2c 202d 2020 2020     left.+, -    
-00007a20: 2020 2020 2020 2020 2020 2020 2020 206c                 l
-00007a30: 6566 740a 3c3c 2c20 3e3e 2020 2020 2020  eft.<<, >>      
-00007a40: 2020 2020 2020 2020 2020 206c 6566 740a             left.
-00007a50: 2620 2020 2020 2020 2020 2020 2020 2020  &               
-00007a60: 2020 2020 2020 206c 6566 740a 5e20 2020         left.^   
-00007a70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007a80: 2020 206c 6566 740a 7c20 2020 2020 2020     left.|       
-00007a90: 2020 2020 2020 2020 2020 2020 2020 206c                 l
-00007aa0: 6566 740a 3a3a 2020 2020 2020 2020 2020  eft.::          
-00007ab0: 2020 2020 2020 2020 2020 206e 2f61 2028             n/a (
-00007ac0: 6c61 7a79 290a 2e2e 2020 2020 2020 2020  lazy)...        
-00007ad0: 2020 2020 2020 2020 2020 2020 206e 2f61               n/a
-00007ae0: 0a61 2060 6260 2063 2c20 2020 2020 2020  .a `b` c,       
-00007af0: 2020 2020 2020 2020 6c65 6674 2028 6361          left (ca
-00007b00: 7074 7572 6573 206c 616d 6264 6129 0a20  ptures lambda). 
-00007b10: 2061 6c6c 2063 7573 746f 6d20 6f70 6572   all custom oper
-00007b20: 6174 6f72 730a 3f3f 2020 2020 2020 2020  ators.??        
-00007b30: 2020 2020 2020 2020 2020 2020 206c 6566               lef
-00007b40: 7420 2873 686f 7274 2d63 6972 6375 6974  t (short-circuit
-00007b50: 7329 0a2e 2e3e 2c20 3c2e 2e2c 202e 2e2a  s)...>, <.., ..*
-00007b60: 3e2c 203c 2a2e 2e2c 2020 6e2f 6120 2863  >, <*..,  n/a (c
-00007b70: 6170 7475 7265 7320 6c61 6d62 6461 290a  aptures lambda).
-00007b80: 2020 2e2e 2a2a 3e2c 203c 2a2a 2e2e 0a7c    ..**>, <**...|
-00007b90: 3e2c 203c 7c2c 207c 2a3e 2c20 3c2a 7c2c  >, <|, |*>, <*|,
-00007ba0: 2020 2020 2020 6c65 6674 2028 6361 7074        left (capt
-00007bb0: 7572 6573 206c 616d 6264 6129 0a20 207c  ures lambda).  |
-00007bc0: 2a2a 3e2c 203c 2a2a 7c0a 3d3d 2c20 213d  **>, <**|.==, !=
-00007bd0: 2c20 3c2c 203e 2c0a 2020 3c3d 2c20 3e3d  , <, >,.  <=, >=
-00007be0: 2c0a 2020 696e 2c20 6e6f 7420 696e 2c0a  ,.  in, not in,.
-00007bf0: 2020 6973 2c20 6973 206e 6f74 2020 2020    is, is not    
-00007c00: 2020 2020 2020 206e 2f61 0a6e 6f74 2020         n/a.not  
+00002640: 6f70 656e 2043 6f63 6f6e 7574 2773 2064  open Coconut's d
+00002650: 6f63 756d 656e 7461 7469 6f6e 2069 6e20  ocumentation in 
+00002660: 7468 6520 6465 6661 756c 7420 7765 6220  the default web 
+00002670: 6272 6f77 7365 720a 2020 2d2d 7374 796c  browser.  --styl
+00002680: 6520 6e61 6d65 2020 2020 2020 2020 2020  e name          
+00002690: 7365 7420 5079 676d 656e 7473 2073 796e  set Pygments syn
+000026a0: 7461 7820 6869 6768 6c69 6768 7469 6e67  tax highlighting
+000026b0: 2073 7479 6c65 2028 6f72 2027 6c69 7374   style (or 'list
+000026c0: 2720 746f 206c 6973 7420 7374 796c 6573  ' to list styles
+000026d0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+000026e0: 2020 2020 2020 2020 2020 2864 6566 6175            (defau
+000026f0: 6c74 7320 746f 2043 4f43 4f4e 5554 5f53  lts to COCONUT_S
+00002700: 5459 4c45 2065 6e76 6972 6f6e 6d65 6e74  TYLE environment
+00002710: 2076 6172 6961 626c 6520 6966 2069 7420   variable if it 
+00002720: 6578 6973 7473 2c0a 2020 2020 2020 2020  exists,.        
+00002730: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002740: 6f74 6865 7277 6973 6520 2764 6566 6175  otherwise 'defau
+00002750: 6c74 2729 0a20 202d 2d68 6973 746f 7279  lt').  --history
+00002760: 2d66 696c 6520 7061 7468 2020 2073 6574  -file path   set
+00002770: 2068 6973 746f 7279 2066 696c 6520 286f   history file (o
+00002780: 7220 2727 2066 6f72 206e 6f20 6669 6c65  r '' for no file
+00002790: 2920 2863 616e 2062 6520 6d6f 6469 6669  ) (can be modifi
+000027a0: 6564 2062 7920 7365 7474 696e 670a 2020  ed by setting.  
+000027b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000027c0: 2020 2020 2020 434f 434f 4e55 545f 484f        COCONUT_HO
+000027d0: 4d45 2065 6e76 6972 6f6e 6d65 6e74 2076  ME environment v
+000027e0: 6172 6961 626c 6529 0a20 202d 2d76 692d  ariable).  --vi-
+000027f0: 6d6f 6465 2c20 2d2d 7669 6d6f 6465 2020  mode, --vimode  
+00002800: 2065 6e61 626c 6520 7669 206d 6f64 6520   enable vi mode 
+00002810: 696e 2074 6865 2069 6e74 6572 7072 6574  in the interpret
+00002820: 6572 2028 6375 7272 656e 746c 7920 7365  er (currently se
+00002830: 7420 746f 2046 616c 7365 2920 2863 616e  t to False) (can
+00002840: 2062 650a 2020 2020 2020 2020 2020 2020   be.            
+00002850: 2020 2020 2020 2020 2020 2020 6d6f 6469              modi
+00002860: 6669 6564 2062 7920 7365 7474 696e 6720  fied by setting 
+00002870: 434f 434f 4e55 545f 5649 5f4d 4f44 4520  COCONUT_VI_MODE 
+00002880: 656e 7669 726f 6e6d 656e 7420 7661 7269  environment vari
+00002890: 6162 6c65 290a 2020 2d2d 7265 6375 7273  able).  --recurs
+000028a0: 696f 6e2d 6c69 6d69 7420 6c69 6d69 742c  ion-limit limit,
+000028b0: 202d 2d72 6563 7572 7369 6f6e 6c69 6d69   --recursionlimi
+000028c0: 7420 6c69 6d69 740a 2020 2020 2020 2020  t limit.        
+000028d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000028e0: 7365 7420 6d61 7869 6d75 6d20 7265 6375  set maximum recu
+000028f0: 7273 696f 6e20 6465 7074 6820 696e 2063  rsion depth in c
+00002900: 6f6d 7069 6c65 7220 2864 6566 6175 6c74  ompiler (default
+00002910: 7320 746f 2031 3932 3029 2028 7768 656e  s to 1920) (when
+00002920: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00002930: 2020 2020 2020 2020 2069 6e63 7265 6173           increas
+00002940: 696e 6720 2d2d 7265 6375 7273 696f 6e2d  ing --recursion-
+00002950: 6c69 6d69 742c 2079 6f75 206d 6179 2061  limit, you may a
+00002960: 6c73 6f20 6e65 6564 2074 6f20 696e 6372  lso need to incr
+00002970: 6561 7365 202d 2d73 7461 636b 2d0a 2020  ease --stack-.  
+00002980: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002990: 2020 2020 2020 7369 7a65 290a 2020 2d2d        size).  --
+000029a0: 7374 6163 6b2d 7369 7a65 206b 6273 2c20  stack-size kbs, 
+000029b0: 2d2d 7374 6163 6b73 697a 6520 6b62 730a  --stacksize kbs.
+000029c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000029d0: 2020 2020 2020 2020 7275 6e20 7468 6520          run the 
+000029e0: 636f 6d70 696c 6572 2069 6e20 6120 7365  compiler in a se
+000029f0: 7061 7261 7465 2074 6872 6561 6420 7769  parate thread wi
+00002a00: 7468 2074 6865 2067 6976 656e 2073 7461  th the given sta
+00002a10: 636b 2073 697a 6520 696e 0a20 2020 2020  ck size in.     
+00002a20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002a30: 2020 206b 696c 6f62 7974 6573 0a20 202d     kilobytes.  -
+00002a40: 2d73 6974 652d 696e 7374 616c 6c2c 202d  -site-install, -
+00002a50: 2d73 6974 6569 6e73 7461 6c6c 0a20 2020  -siteinstall.   
+00002a60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002a70: 2020 2020 2073 6574 2075 7020 636f 636f       set up coco
+00002a80: 6e75 742e 636f 6e76 656e 6965 6e63 6520  nut.convenience 
+00002a90: 746f 2062 6520 696d 706f 7274 6564 206f  to be imported o
+00002aa0: 6e20 5079 7468 6f6e 2073 7461 7274 0a20  n Python start. 
+00002ab0: 202d 2d73 6974 652d 756e 696e 7374 616c   --site-uninstal
+00002ac0: 6c2c 202d 2d73 6974 6575 6e69 6e73 7461  l, --siteuninsta
+00002ad0: 6c6c 0a20 2020 2020 2020 2020 2020 2020  ll.             
+00002ae0: 2020 2020 2020 2020 2020 2072 6576 6572             rever
+00002af0: 7420 7468 6520 6566 6665 6374 7320 6f66  t the effects of
+00002b00: 202d 2d73 6974 652d 696e 7374 616c 6c0a   --site-install.
+00002b10: 2020 2d2d 7665 7262 6f73 6520 2020 2020    --verbose     
+00002b20: 2020 2020 2020 2020 7072 696e 7420 7665          print ve
+00002b30: 7262 6f73 6520 6465 6275 6720 6f75 7470  rbose debug outp
+00002b40: 7574 0a20 202d 2d74 7261 6365 2020 2020  ut.  --trace    
+00002b50: 2020 2020 2020 2020 2020 2070 7269 6e74             print
+00002b60: 2076 6572 626f 7365 2070 6172 7369 6e67   verbose parsing
+00002b70: 2064 6174 6120 286f 6e6c 7920 6176 6169   data (only avai
+00002b80: 6c61 626c 6520 696e 2063 6f63 6f6e 7574  lable in coconut
+00002b90: 2d64 6576 656c 6f70 290a 2020 2d2d 7072  -develop).  --pr
+00002ba0: 6f66 696c 6520 2020 2020 2020 2020 2020  ofile           
+00002bb0: 2020 636f 6c6c 6563 7420 616e 6420 7072    collect and pr
+00002bc0: 696e 7420 7469 6d69 6e67 2069 6e66 6f20  int timing info 
+00002bd0: 286f 6e6c 7920 6176 6169 6c61 626c 6520  (only available 
+00002be0: 696e 2063 6f63 6f6e 7574 2d64 6576 656c  in coconut-devel
+00002bf0: 6f70 290a 6060 600a 0a23 2323 2320 436f  op).```..#### Co
+00002c00: 636f 6e75 7420 5363 7269 7074 730a 0a54  conut Scripts..T
+00002c10: 6f20 7275 6e20 6120 436f 636f 6e75 7420  o run a Coconut 
+00002c20: 6669 6c65 2061 7320 6120 7363 7269 7074  file as a script
+00002c30: 2c20 436f 636f 6e75 7420 7072 6f76 6964  , Coconut provid
+00002c40: 6573 2074 6865 2063 6f6d 6d61 6e64 0a60  es the command.`
+00002c50: 6060 0a63 6f63 6f6e 7574 2d72 756e 203c  ``.coconut-run <
+00002c60: 736f 7572 6365 3e20 3c61 7267 733e 0a60  source> <args>.`
+00002c70: 6060 0a61 7320 616e 2061 6c69 6173 2066  ``.as an alias f
+00002c80: 6f72 0a60 6060 0a63 6f63 6f6e 7574 202d  or.```.coconut -
+00002c90: 2d72 756e 202d 2d71 7569 6574 202d 2d74  -run --quiet --t
+00002ca0: 6172 6765 7420 7379 7320 2d2d 6c69 6e65  arget sys --line
+00002cb0: 2d6e 756d 6265 7273 203c 736f 7572 6365  -numbers <source
+00002cc0: 3e20 2d2d 6172 6776 203c 6172 6773 3e0a  > --argv <args>.
+00002cd0: 6060 600a 7768 6963 6820 7769 6c6c 2071  ```.which will q
+00002ce0: 7569 6574 6c79 2063 6f6d 7069 6c65 2061  uietly compile a
+00002cf0: 6e64 2072 756e 2060 3c73 6f75 7263 653e  nd run `<source>
+00002d00: 602c 2070 6173 7369 6e67 2061 6e79 2061  `, passing any a
+00002d10: 6464 6974 696f 6e61 6c20 6172 6775 6d65  dditional argume
+00002d20: 6e74 7320 746f 2074 6865 2073 6372 6970  nts to the scrip
+00002d30: 742c 206d 696d 6963 6b69 6e67 2068 6f77  t, mimicking how
+00002d40: 2074 6865 2060 7079 7468 6f6e 6020 636f   the `python` co
+00002d50: 6d6d 616e 6420 776f 726b 732e 0a0a 6063  mmand works...`c
+00002d60: 6f63 6f6e 7574 2d72 756e 6020 6361 6e20  oconut-run` can 
+00002d70: 6265 2075 7365 6420 696e 2061 2055 6e69  be used in a Uni
+00002d80: 7820 7368 6562 616e 6720 6c69 6e65 2074  x shebang line t
+00002d90: 6f20 6372 6561 7465 2061 2043 6f63 6f6e  o create a Cocon
+00002da0: 7574 2073 6372 6970 7420 6279 2061 6464  ut script by add
+00002db0: 696e 6720 7468 6520 666f 6c6c 6f77 696e  ing the followin
+00002dc0: 6720 6c69 6e65 2074 6f20 7468 6520 7374  g line to the st
+00002dd0: 6172 7420 6f66 2079 6f75 7220 7363 7269  art of your scri
+00002de0: 7074 3a0a 6060 6062 6173 680a 2321 2f75  pt:.```bash.#!/u
+00002df0: 7372 2f62 696e 2f65 6e76 2063 6f63 6f6e  sr/bin/env cocon
+00002e00: 7574 2d72 756e 0a60 6060 0a0a 546f 2070  ut-run.```..To p
+00002e10: 6173 7320 6164 6469 7469 6f6e 616c 2063  ass additional c
+00002e20: 6f6d 7069 6c61 7469 6f6e 2061 7267 756d  ompilation argum
+00002e30: 656e 7473 2074 6f20 6063 6f63 6f6e 7574  ents to `coconut
+00002e40: 2d72 756e 6020 2865 2e67 2e20 602d 2d6e  -run` (e.g. `--n
+00002e50: 6f2d 7463 6f60 292c 2070 7574 2074 6865  o-tco`), put the
+00002e60: 6d20 6265 666f 7265 2074 6865 2060 3c73  m before the `<s
+00002e70: 6f75 7263 653e 6020 6669 6c65 2e0a 0a23  ource>` file...#
+00002e80: 2323 2320 4e61 6d69 6e67 2053 6f75 7263  ### Naming Sourc
+00002e90: 6520 4669 6c65 730a 0a43 6f63 6f6e 7574  e Files..Coconut
+00002ea0: 2073 6f75 7263 6520 6669 6c65 7320 7368   source files sh
+00002eb0: 6f75 6c64 2c20 736f 2074 6865 2063 6f6d  ould, so the com
+00002ec0: 7069 6c65 7220 6361 6e20 7265 636f 676e  piler can recogn
+00002ed0: 697a 6520 7468 656d 2c20 7573 6520 7468  ize them, use th
+00002ee0: 6520 6578 7465 6e73 696f 6e20 602e 636f  e extension `.co
+00002ef0: 636f 6020 2870 7265 6665 7272 6564 292c  co` (preferred),
+00002f00: 2060 2e63 6f63 602c 206f 7220 602e 636f   `.coc`, or `.co
+00002f10: 636f 6e75 7460 2e0a 0a57 6865 6e20 436f  conut`...When Co
+00002f20: 636f 6e75 7420 636f 6d70 696c 6573 2061  conut compiles a
+00002f30: 2060 2e63 6f63 6f60 2066 696c 652c 2069   `.coco` file, i
+00002f40: 7420 7769 6c6c 2063 6f6d 7069 6c65 2074  t will compile t
+00002f50: 6f20 616e 6f74 6865 7220 6669 6c65 2077  o another file w
+00002f60: 6974 6820 7468 6520 7361 6d65 206e 616d  ith the same nam
+00002f70: 652c 2065 7863 6570 7420 7769 7468 2060  e, except with `
+00002f80: 2e70 7960 2069 6e73 7465 6164 206f 6620  .py` instead of 
+00002f90: 602e 636f 636f 602c 2077 6869 6368 2077  `.coco`, which w
+00002fa0: 696c 6c20 686f 6c64 2074 6865 2063 6f6d  ill hold the com
+00002fb0: 7069 6c65 6420 636f 6465 2e0a 0a49 6620  piled code...If 
+00002fc0: 616e 2065 7874 656e 7369 6f6e 206f 7468  an extension oth
+00002fd0: 6572 2074 6861 6e20 602e 7079 6020 6973  er than `.py` is
+00002fe0: 2064 6573 6972 6564 2066 6f72 2074 6865   desired for the
+00002ff0: 2063 6f6d 7069 6c65 6420 6669 6c65 732c   compiled files,
+00003000: 2074 6865 6e20 7468 6174 2065 7874 656e   then that exten
+00003010: 7369 6f6e 2063 616e 2062 6520 7075 7420  sion can be put 
+00003020: 6265 666f 7265 2060 2e63 6f63 6f60 2069  before `.coco` i
+00003030: 6e20 7468 6520 736f 7572 6365 2066 696c  n the source fil
+00003040: 6520 6e61 6d65 2c20 616e 6420 6974 2077  e name, and it w
+00003050: 696c 6c20 6265 2075 7365 6420 696e 7374  ill be used inst
+00003060: 6561 6420 6f66 2060 2e70 7960 2066 6f72  ead of `.py` for
+00003070: 2074 6865 2063 6f6d 7069 6c65 6420 6669   the compiled fi
+00003080: 6c65 732e 2046 6f72 2065 7861 6d70 6c65  les. For example
+00003090: 2c20 606e 616d 652e 636f 636f 6020 7769  , `name.coco` wi
+000030a0: 6c6c 2063 6f6d 7069 6c65 2074 6f20 606e  ll compile to `n
+000030b0: 616d 652e 7079 602c 2077 6865 7265 6173  ame.py`, whereas
+000030c0: 2060 6e61 6d65 2e61 6263 2e63 6f63 6f60   `name.abc.coco`
+000030d0: 2077 696c 6c20 636f 6d70 696c 6520 746f   will compile to
+000030e0: 2060 6e61 6d65 2e61 6263 602e 0a0a 2323   `name.abc`...##
+000030f0: 2323 2043 6f6d 7069 6c61 7469 6f6e 204d  ## Compilation M
+00003100: 6f64 6573 0a0a 4669 6c65 7320 636f 6d70  odes..Files comp
+00003110: 696c 6564 2062 7920 7468 6520 6063 6f63  iled by the `coc
+00003120: 6f6e 7574 6020 636f 6d6d 616e 642d 6c69  onut` command-li
+00003130: 6e65 2075 7469 6c69 7479 2077 696c 6c20  ne utility will 
+00003140: 7661 7279 2062 6173 6564 206f 6e20 636f  vary based on co
+00003150: 6d70 696c 6174 696f 6e20 7061 7261 6d65  mpilation parame
+00003160: 7465 7273 2e20 4966 2061 6e20 656e 7469  ters. If an enti
+00003170: 7265 2064 6972 6563 746f 7279 206f 6620  re directory of 
+00003180: 6669 6c65 7320 6973 2063 6f6d 7069 6c65  files is compile
+00003190: 6420 2877 6869 6368 2074 6865 2063 6f6d  d (which the com
+000031a0: 7069 6c65 7220 7769 6c6c 2073 6561 7263  piler will searc
+000031b0: 6820 7265 6375 7273 6976 656c 7920 666f  h recursively fo
+000031c0: 7220 616e 7920 666f 6c64 6572 7320 636f  r any folders co
+000031d0: 6e74 6169 6e69 6e67 2060 2e63 6f63 6f60  ntaining `.coco`
+000031e0: 2c20 602e 636f 6360 2c20 6f72 2060 2e63  , `.coc`, or `.c
+000031f0: 6f63 6f6e 7574 6020 6669 6c65 7329 2c20  oconut` files), 
+00003200: 6120 605f 5f63 6f63 6f6e 7574 5f5f 2e70  a `__coconut__.p
+00003210: 7960 2066 696c 6520 7769 6c6c 2062 6520  y` file will be 
+00003220: 6372 6561 7465 6420 746f 2068 6f75 7365  created to house
+00003230: 206e 6563 6573 7361 7279 2066 756e 6374   necessary funct
+00003240: 696f 6e73 2028 7061 636b 6167 6520 6d6f  ions (package mo
+00003250: 6465 292c 2077 6865 7265 6173 2069 6620  de), whereas if 
+00003260: 6f6e 6c79 2061 2073 696e 676c 6520 6669  only a single fi
+00003270: 6c65 2069 7320 636f 6d70 696c 6564 2c20  le is compiled, 
+00003280: 7468 6174 2069 6e66 6f72 6d61 7469 6f6e  that information
+00003290: 2077 696c 6c20 6265 2073 746f 7265 6420   will be stored 
+000032a0: 7769 7468 696e 2061 2068 6561 6465 7220  within a header 
+000032b0: 696e 7369 6465 2074 6865 2066 696c 6520  inside the file 
+000032c0: 2873 7461 6e64 616c 6f6e 6520 6d6f 6465  (standalone mode
+000032d0: 292e 2053 7461 6e64 616c 6f6e 6520 6d6f  ). Standalone mo
+000032e0: 6465 2069 7320 6265 7474 6572 2066 6f72  de is better for
+000032f0: 2073 696e 676c 6520 6669 6c65 7320 6265   single files be
+00003300: 6361 7573 6520 6974 2067 6574 7320 7269  cause it gets ri
+00003310: 6420 6f66 2074 6865 206f 7665 7268 6561  d of the overhea
+00003320: 6420 696e 766f 6c76 6564 2069 6e20 696d  d involved in im
+00003330: 706f 7274 696e 6720 605f 5f63 6f63 6f6e  porting `__cocon
+00003340: 7574 5f5f 2e70 7960 2c20 6275 7420 7061  ut__.py`, but pa
+00003350: 636b 6167 6520 6d6f 6465 2069 7320 6265  ckage mode is be
+00003360: 7474 6572 2066 6f72 206c 6172 6765 2070  tter for large p
+00003370: 6163 6b61 6765 7320 6265 6361 7573 6520  ackages because 
+00003380: 6974 2067 6574 7320 7269 6420 6f66 2074  it gets rid of t
+00003390: 6865 206e 6565 6420 746f 2072 756e 2074  he need to run t
+000033a0: 6865 2073 616d 6520 436f 636f 6e75 7420  he same Coconut 
+000033b0: 6865 6164 6572 2063 6f64 6520 6167 6169  header code agai
+000033c0: 6e20 696e 2065 7665 7279 2066 696c 652c  n in every file,
+000033d0: 2073 696e 6365 2069 7420 6361 6e20 6a75   since it can ju
+000033e0: 7374 2062 6520 696d 706f 7274 6564 2066  st be imported f
+000033f0: 726f 6d20 605f 5f63 6f63 6f6e 7574 5f5f  rom `__coconut__
+00003400: 2e70 7960 2e0a 0a42 7920 6465 6661 756c  .py`...By defaul
+00003410: 742c 2069 6620 7468 6520 6073 6f75 7263  t, if the `sourc
+00003420: 6560 2061 7267 756d 656e 7420 746f 2074  e` argument to t
+00003430: 6865 2063 6f6d 6d61 6e64 2d6c 696e 6520  he command-line 
+00003440: 7574 696c 6974 7920 6973 2061 2066 696c  utility is a fil
+00003450: 652c 2069 7420 7769 6c6c 2070 6572 666f  e, it will perfo
+00003460: 726d 2073 7461 6e64 616c 6f6e 6520 636f  rm standalone co
+00003470: 6d70 696c 6174 696f 6e20 6f6e 2069 742c  mpilation on it,
+00003480: 2077 6865 7265 6173 2069 6620 6974 2069   whereas if it i
+00003490: 7320 6120 6469 7265 6374 6f72 792c 2069  s a directory, i
+000034a0: 7420 7769 6c6c 2072 6563 7572 7369 7665  t will recursive
+000034b0: 6c79 2073 6561 7263 6820 666f 7220 616c  ly search for al
+000034c0: 6c20 602e 636f 636f 6020 6669 6c65 7320  l `.coco` files 
+000034d0: 616e 6420 7065 7266 6f72 6d20 7061 636b  and perform pack
+000034e0: 6167 6520 636f 6d70 696c 6174 696f 6e20  age compilation 
+000034f0: 6f6e 2074 6865 6d2e 2054 6875 732c 2069  on them. Thus, i
+00003500: 6e20 6d6f 7374 2063 6173 6573 2c20 7468  n most cases, th
+00003510: 6520 6d6f 6465 2063 686f 7365 6e20 6279  e mode chosen by
+00003520: 2043 6f63 6f6e 7574 2061 7574 6f6d 6174   Coconut automat
+00003530: 6963 616c 6c79 2077 696c 6c20 6265 2074  ically will be t
+00003540: 6865 2072 6967 6874 206f 6e65 2e20 4275  he right one. Bu
+00003550: 7420 6966 2069 7420 6973 2076 6572 7920  t if it is very 
+00003560: 696d 706f 7274 616e 7420 7468 6174 206e  important that n
+00003570: 6f20 6164 6469 7469 6f6e 616c 2066 696c  o additional fil
+00003580: 6573 206c 696b 6520 605f 5f63 6f63 6f6e  es like `__cocon
+00003590: 7574 5f5f 2e70 7960 2062 6520 6372 6561  ut__.py` be crea
+000035a0: 7465 642c 2066 6f72 2065 7861 6d70 6c65  ted, for example
+000035b0: 2c20 7468 656e 2074 6865 2063 6f6d 6d61  , then the comma
+000035c0: 6e64 2d6c 696e 6520 7574 696c 6974 7920  nd-line utility 
+000035d0: 6361 6e20 616c 736f 2062 6520 666f 7263  can also be forc
+000035e0: 6564 2074 6f20 7573 6520 6120 7370 6563  ed to use a spec
+000035f0: 6966 6963 206d 6f64 6520 7769 7468 2074  ific mode with t
+00003600: 6865 2060 2d2d 7061 636b 6167 6560 2028  he `--package` (
+00003610: 602d 7060 2920 616e 6420 602d 2d73 7461  `-p`) and `--sta
+00003620: 6e64 616c 6f6e 6560 2028 602d 6160 2920  ndalone` (`-a`) 
+00003630: 666c 6167 732e 0a0a 2323 2323 2043 6f6d  flags...#### Com
+00003640: 7061 7469 626c 6520 5079 7468 6f6e 2056  patible Python V
+00003650: 6572 7369 6f6e 730a 0a57 6869 6c65 2043  ersions..While C
+00003660: 6f63 6f6e 7574 2073 796e 7461 7820 6973  oconut syntax is
+00003670: 2062 6173 6564 206f 6666 206f 6620 7468   based off of th
+00003680: 6520 6c61 7465 7374 2050 7974 686f 6e20  e latest Python 
+00003690: 332c 2043 6f63 6f6e 7574 2063 6f64 6520  3, Coconut code 
+000036a0: 636f 6d70 696c 6564 2069 6e20 756e 6976  compiled in univ
+000036b0: 6572 7361 6c20 6d6f 6465 2028 7468 6520  ersal mode (the 
+000036c0: 6465 6661 756c 7420 602d 2d74 6172 6765  default `--targe
+000036d0: 7460 29e2 8094 616e 6420 7468 6520 436f  t`)...and the Co
+000036e0: 636f 6e75 7420 636f 6d70 696c 6572 2069  conut compiler i
+000036f0: 7473 656c 66e2 8094 7368 6f75 6c64 2072  tself...should r
+00003700: 756e 206f 6e20 616e 7920 5079 7468 6f6e  un on any Python
+00003710: 2076 6572 7369 6f6e 2060 3e3d 2032 2e36   version `>= 2.6
+00003720: 6020 6f6e 2074 6865 2060 322e 7860 2062  ` on the `2.x` b
+00003730: 7261 6e63 6820 6f72 2060 3e3d 2033 2e32  ranch or `>= 3.2
+00003740: 6020 6f6e 2074 6865 2060 332e 7860 2062  ` on the `3.x` b
+00003750: 7261 6e63 6820 2861 6e64 206f 6e20 6569  ranch (and on ei
+00003760: 7468 6572 205b 4350 7974 686f 6e5d 2868  ther [CPython](h
+00003770: 7474 7073 3a2f 2f77 7777 2e70 7974 686f  ttps://www.pytho
+00003780: 6e2e 6f72 672f 2920 6f72 205b 5079 5079  n.org/) or [PyPy
+00003790: 5d28 6874 7470 3a2f 2f70 7970 792e 6f72  ](http://pypy.or
+000037a0: 672f 2929 2e0a 0a54 6f20 6d61 6b65 2043  g/))...To make C
+000037b0: 6f63 6f6e 7574 2062 7569 6c74 2d69 6e73  oconut built-ins
+000037c0: 2075 6e69 7665 7273 616c 2061 6372 6f73   universal acros
+000037d0: 7320 5079 7468 6f6e 2076 6572 7369 6f6e  s Python version
+000037e0: 732c 2043 6f63 6f6e 7574 206d 616b 6573  s, Coconut makes
+000037f0: 2061 7661 696c 6162 6c65 206f 6e20 616e   available on an
+00003800: 7920 5079 7468 6f6e 2076 6572 7369 6f6e  y Python version
+00003810: 2062 7569 6c74 2d69 6e73 2074 6861 7420   built-ins that 
+00003820: 6f6e 6c79 2065 7869 7374 2069 6e20 6c61  only exist in la
+00003830: 7465 7220 7665 7273 696f 6e73 2c20 696e  ter versions, in
+00003840: 636c 7564 696e 6720 2a2a 6175 746f 6d61  cluding **automa
+00003850: 7469 6361 6c6c 7920 6f76 6572 7772 6974  tically overwrit
+00003860: 696e 6720 5079 7468 6f6e 2032 2062 7569  ing Python 2 bui
+00003870: 6c74 2d69 6e73 2077 6974 6820 7468 6569  lt-ins with thei
+00003880: 7220 5079 7468 6f6e 2033 2063 6f75 6e74  r Python 3 count
+00003890: 6572 7061 7274 732e 2a2a 2041 6464 6974  erparts.** Addit
+000038a0: 696f 6e61 6c6c 792c 2043 6f63 6f6e 7574  ionally, Coconut
+000038b0: 2061 6c73 6f20 5b6f 7665 7277 7269 7465   also [overwrite
+000038c0: 7320 736f 6d65 2050 7974 686f 6e20 3320  s some Python 3 
+000038d0: 6275 696c 742d 696e 7320 666f 7220 6f70  built-ins for op
+000038e0: 7469 6d69 7a61 7469 6f6e 2061 6e64 2065  timization and e
+000038f0: 6e68 616e 6365 6d65 6e74 2070 7572 706f  nhancement purpo
+00003900: 7365 735d 2823 656e 6861 6e63 6564 2d62  ses](#enhanced-b
+00003910: 7569 6c74 2d69 6e73 292e 2049 6620 6163  uilt-ins). If ac
+00003920: 6365 7373 2074 6f20 7468 6520 6f72 6967  cess to the orig
+00003930: 696e 616c 2050 7974 686f 6e20 7665 7273  inal Python vers
+00003940: 696f 6e73 206f 6620 616e 7920 6f76 6572  ions of any over
+00003950: 7772 6974 7465 6e20 6275 696c 742d 696e  written built-in
+00003960: 7320 6973 2064 6573 6972 6564 2c20 7468  s is desired, th
+00003970: 6520 6f6c 6420 6275 696c 742d 696e 7320  e old built-ins 
+00003980: 6361 6e20 6265 2072 6574 7269 6576 6564  can be retrieved
+00003990: 2062 7920 7072 6566 6978 696e 6720 7468   by prefixing th
+000039a0: 656d 2077 6974 6820 6070 795f 602e 2053  em with `py_`. S
+000039b0: 7065 6369 6669 6361 6c6c 792c 2074 6865  pecifically, the
+000039c0: 206f 7665 7277 7269 7474 656e 2062 7569   overwritten bui
+000039d0: 6c74 2d69 6e73 2061 7265 3a0a 0a2d 2060  lt-ins are:..- `
+000039e0: 7079 5f63 6872 600a 2d20 6070 795f 6469  py_chr`.- `py_di
+000039f0: 6374 600a 2d20 6070 795f 6865 7860 0a2d  ct`.- `py_hex`.-
+00003a00: 2060 7079 5f69 6e70 7574 600a 2d20 6070   `py_input`.- `p
+00003a10: 795f 696e 7460 0a2d 2060 7079 5f6d 6170  y_int`.- `py_map
+00003a20: 600a 2d20 6070 795f 6f62 6a65 6374 600a  `.- `py_object`.
+00003a30: 2d20 6070 795f 6f63 7460 0a2d 2060 7079  - `py_oct`.- `py
+00003a40: 5f6f 7065 6e60 0a2d 2060 7079 5f70 7269  _open`.- `py_pri
+00003a50: 6e74 600a 2d20 6070 795f 7261 6e67 6560  nt`.- `py_range`
+00003a60: 0a2d 2060 7079 5f73 7472 600a 2d20 6070  .- `py_str`.- `p
+00003a70: 795f 7375 7065 7260 0a2d 2060 7079 5f7a  y_super`.- `py_z
+00003a80: 6970 600a 2d20 6070 795f 6669 6c74 6572  ip`.- `py_filter
+00003a90: 600a 2d20 6070 795f 7265 7665 7273 6564  `.- `py_reversed
+00003aa0: 600a 2d20 6070 795f 656e 756d 6572 6174  `.- `py_enumerat
+00003ab0: 6560 0a2d 2060 7079 5f72 6177 5f69 6e70  e`.- `py_raw_inp
+00003ac0: 7574 600a 2d20 6070 795f 7872 616e 6765  ut`.- `py_xrange
+00003ad0: 600a 2d20 6070 795f 7265 7072 600a 2d20  `.- `py_repr`.- 
+00003ae0: 6070 795f 6272 6561 6b70 6f69 6e74 600a  `py_breakpoint`.
+00003af0: 0a5f 4e6f 7465 3a20 436f 636f 6e75 7427  ._Note: Coconut'
+00003b00: 7320 6072 6570 7260 2063 616e 2062 6520  s `repr` can be 
+00003b10: 736f 6d65 7768 6174 2074 7269 636b 792c  somewhat tricky,
+00003b20: 2061 7320 6974 2077 696c 6c20 6174 7465   as it will atte
+00003b30: 6d70 7420 746f 2072 656d 6f76 6520 7468  mpt to remove th
+00003b40: 6520 6075 6020 6265 666f 7265 2072 6570  e `u` before rep
+00003b50: 7273 206f 6620 756e 6963 6f64 6520 7374  rs of unicode st
+00003b60: 7269 6e67 7320 6f6e 2050 7974 686f 6e20  rings on Python 
+00003b70: 322c 2062 7574 2077 696c 6c20 6e6f 7420  2, but will not 
+00003b80: 616c 7761 7973 2062 6520 6162 6c65 2074  always be able t
+00003b90: 6f20 646f 2073 6f20 6966 2074 6865 2075  o do so if the u
+00003ba0: 6e69 636f 6465 2073 7472 696e 6720 6973  nicode string is
+00003bb0: 206e 6573 7465 642e 5f0a 0a46 6f72 2073   nested._..For s
+00003bc0: 7461 6e64 6172 6420 6c69 6272 6172 7920  tandard library 
+00003bd0: 636f 6d70 6174 6962 696c 6974 792c 202a  compatibility, *
+00003be0: 2a43 6f63 6f6e 7574 2061 7574 6f6d 6174  *Coconut automat
+00003bf0: 6963 616c 6c79 206d 6170 7320 696d 706f  ically maps impo
+00003c00: 7274 7320 756e 6465 7220 5079 7468 6f6e  rts under Python
+00003c10: 2033 206e 616d 6573 2074 6f20 696d 706f   3 names to impo
+00003c20: 7274 7320 756e 6465 7220 5079 7468 6f6e  rts under Python
+00003c30: 2032 206e 616d 6573 2a2a 2e20 5468 7573   2 names**. Thus
+00003c40: 2c20 436f 636f 6e75 7420 7769 6c6c 2061  , Coconut will a
+00003c50: 7574 6f6d 6174 6963 616c 6c79 2074 616b  utomatically tak
+00003c60: 6520 6361 7265 206f 6620 616e 7920 7374  e care of any st
+00003c70: 616e 6461 7264 206c 6962 7261 7279 206d  andard library m
+00003c80: 6f64 756c 6573 2074 6861 7420 7765 7265  odules that were
+00003c90: 2072 656e 616d 6564 2066 726f 6d20 5079   renamed from Py
+00003ca0: 7468 6f6e 2032 2074 6f20 5079 7468 6f6e  thon 2 to Python
+00003cb0: 2033 2069 6620 6a75 7374 2074 6865 2050   3 if just the P
+00003cc0: 7974 686f 6e20 3320 6e61 6d65 2069 7320  ython 3 name is 
+00003cd0: 7573 6564 2e20 466f 7220 6d6f 6475 6c65  used. For module
+00003ce0: 7320 6f72 2070 6163 6b61 6765 7320 7468  s or packages th
+00003cf0: 6174 206f 6e6c 7920 6578 6973 7420 696e  at only exist in
+00003d00: 2050 7974 686f 6e20 332c 2068 6f77 6576   Python 3, howev
+00003d10: 6572 2c20 436f 636f 6e75 7420 6861 7320  er, Coconut has 
+00003d20: 6e6f 2077 6179 206f 6620 6d61 696e 7461  no way of mainta
+00003d30: 696e 696e 6720 636f 6d70 6174 6962 696c  ining compatibil
+00003d40: 6974 792e 0a0a 4669 6e61 6c6c 792c 2077  ity...Finally, w
+00003d50: 6869 6c65 2043 6f63 6f6e 7574 2077 696c  hile Coconut wil
+00003d60: 6c20 7472 7920 746f 2063 6f6d 7069 6c65  l try to compile
+00003d70: 2050 7974 686f 6e2d 332d 7370 6563 6966   Python-3-specif
+00003d80: 6963 2073 796e 7461 7820 746f 2069 7473  ic syntax to its
+00003d90: 2075 6e69 7665 7273 616c 2065 7175 6976   universal equiv
+00003da0: 616c 656e 742c 2074 6865 2066 6f6c 6c6f  alent, the follo
+00003db0: 7769 6e67 2063 6f6e 7374 7275 6374 7320  wing constructs 
+00003dc0: 6861 7665 206e 6f20 6571 7569 7661 6c65  have no equivale
+00003dd0: 6e74 2069 6e20 5079 7468 6f6e 2032 2c20  nt in Python 2, 
+00003de0: 616e 6420 7265 7175 6972 6520 7468 6520  and require the 
+00003df0: 7370 6563 6966 6963 6174 696f 6e20 6f66  specification of
+00003e00: 2061 2074 6172 6765 7420 6f66 2061 7420   a target of at 
+00003e10: 6c65 6173 7420 6033 6020 746f 2062 6520  least `3` to be 
+00003e20: 7573 6564 3a0a 0a2d 2074 6865 2060 6e6f  used:..- the `no
+00003e30: 6e6c 6f63 616c 6020 6b65 7977 6f72 642c  nlocal` keyword,
+00003e40: 0a2d 206b 6579 776f 7264 2d6f 6e6c 7920  .- keyword-only 
+00003e50: 6675 6e63 7469 6f6e 2070 6172 616d 6574  function paramet
+00003e60: 6572 7320 2875 7365 205b 7061 7474 6572  ers (use [patter
+00003e70: 6e2d 6d61 7463 6869 6e67 2066 756e 6374  n-matching funct
+00003e80: 696f 6e20 6465 6669 6e69 7469 6f6e 5d28  ion definition](
+00003e90: 2370 6174 7465 726e 2d6d 6174 6368 696e  #pattern-matchin
+00003ea0: 672d 6675 6e63 7469 6f6e 7329 2066 6f72  g-functions) for
+00003eb0: 2075 6e69 7665 7273 616c 2063 6f64 6529   universal code)
+00003ec0: 2c0a 2d20 6061 7379 6e63 6020 616e 6420  ,.- `async` and 
+00003ed0: 6061 7761 6974 6020 7374 6174 656d 656e  `await` statemen
+00003ee0: 7473 2028 7265 7175 6972 6573 2060 2d2d  ts (requires `--
+00003ef0: 7461 7267 6574 2033 2e35 6029 2c0a 2d20  target 3.5`),.- 
+00003f00: 603a 3d60 2061 7373 6967 6e6d 656e 7420  `:=` assignment 
+00003f10: 6578 7072 6573 7369 6f6e 7320 2872 6571  expressions (req
+00003f20: 7569 7265 7320 602d 2d74 6172 6765 7420  uires `--target 
+00003f30: 332e 3860 292c 0a2d 2070 6f73 6974 696f  3.8`),.- positio
+00003f40: 6e61 6c2d 6f6e 6c79 2066 756e 6374 696f  nal-only functio
+00003f50: 6e20 7061 7261 6d65 7465 7273 2028 7573  n parameters (us
+00003f60: 6520 5b70 6174 7465 726e 2d6d 6174 6368  e [pattern-match
+00003f70: 696e 6720 6675 6e63 7469 6f6e 2064 6566  ing function def
+00003f80: 696e 6974 696f 6e5d 2823 7061 7474 6572  inition](#patter
+00003f90: 6e2d 6d61 7463 6869 6e67 2d66 756e 6374  n-matching-funct
+00003fa0: 696f 6e73 2920 666f 7220 756e 6976 6572  ions) for univer
+00003fb0: 7361 6c20 636f 6465 2920 2872 6571 7569  sal code) (requi
+00003fc0: 7265 7320 602d 2d74 6172 6765 7420 332e  res `--target 3.
+00003fd0: 3860 292c 0a2d 2060 615b 782c 202a 795d  8`),.- `a[x, *y]
+00003fe0: 6020 7661 7269 6164 6963 2067 656e 6572  ` variadic gener
+00003ff0: 6963 2073 796e 7461 7820 2875 7365 205b  ic syntax (use [
+00004000: 7479 7065 2070 6172 616d 6574 6572 2073  type parameter s
+00004010: 796e 7461 785d 2823 7479 7065 2d70 6172  yntax](#type-par
+00004020: 616d 6574 6572 2d73 796e 7461 7829 2066  ameter-syntax) f
+00004030: 6f72 2075 6e69 7665 7273 616c 2063 6f64  or universal cod
+00004040: 6529 2028 7265 7175 6972 6573 2060 2d2d  e) (requires `--
+00004050: 7461 7267 6574 2033 2e31 3160 292c 2061  target 3.11`), a
+00004060: 6e64 0a2d 2060 6578 6365 7074 2a60 206d  nd.- `except*` m
+00004070: 756c 7469 2d65 7863 6570 7420 7374 6174  ulti-except stat
+00004080: 656d 656e 7473 2028 7265 7175 6972 6573  ements (requires
+00004090: 2060 2d2d 7461 7267 6574 2033 2e31 3160   `--target 3.11`
+000040a0: 292e 0a0a 5f4e 6f74 653a 2043 6f63 6f6e  )..._Note: Cocon
+000040b0: 7574 2061 6c73 6f20 756e 6976 6572 7361  ut also universa
+000040c0: 6c69 7a65 7320 6d61 6e79 206d 6167 6963  lizes many magic
+000040d0: 206d 6574 686f 6473 2c20 696e 636c 7564   methods, includ
+000040e0: 696e 6720 6d61 6b69 6e67 2060 5f5f 626f  ing making `__bo
+000040f0: 6f6c 5f5f 6020 616e 6420 5b60 5f5f 7365  ol__` and [`__se
+00004100: 745f 6e61 6d65 5f5f 605d 2868 7474 7073  t_name__`](https
+00004110: 3a2f 2f64 6f63 732e 7079 7468 6f6e 2e6f  ://docs.python.o
+00004120: 7267 2f33 2f72 6566 6572 656e 6365 2f64  rg/3/reference/d
+00004130: 6174 616d 6f64 656c 2e68 746d 6c23 6f62  atamodel.html#ob
+00004140: 6a65 6374 2e5f 5f73 6574 5f6e 616d 655f  ject.__set_name_
+00004150: 5f29 2077 6f72 6b20 6f6e 2061 6e79 2050  _) work on any P
+00004160: 7974 686f 6e20 7665 7273 696f 6e2e 5f0a  ython version._.
+00004170: 0a23 2323 2320 416c 6c6f 7761 626c 6520  .#### Allowable 
+00004180: 5461 7267 6574 730a 0a49 6620 7468 6520  Targets..If the 
+00004190: 7665 7273 696f 6e20 6f66 2050 7974 686f  version of Pytho
+000041a0: 6e20 7468 6174 2074 6865 2063 6f6d 7069  n that the compi
+000041b0: 6c65 6420 636f 6465 2077 696c 6c20 6265  led code will be
+000041c0: 2072 756e 6e69 6e67 206f 6e20 6973 206b   running on is k
+000041d0: 6e6f 776e 2061 6865 6164 206f 6620 7469  nown ahead of ti
+000041e0: 6d65 2c20 6120 7461 7267 6574 2073 686f  me, a target sho
+000041f0: 756c 6420 6265 2073 7065 6369 6669 6564  uld be specified
+00004200: 2077 6974 6820 602d 2d74 6172 6765 7460   with `--target`
+00004210: 2e20 5468 6520 6769 7665 6e20 7461 7267  . The given targ
+00004220: 6574 2077 696c 6c20 6f6e 6c79 2061 6666  et will only aff
+00004230: 6563 7420 7468 6520 636f 6d70 696c 6564  ect the compiled
+00004240: 2063 6f64 6520 616e 6420 7768 6574 6865   code and whethe
+00004250: 7220 6f72 206e 6f74 2074 6865 2050 7974  r or not the Pyt
+00004260: 686f 6e2d 332d 7370 6563 6966 6963 2073  hon-3-specific s
+00004270: 796e 7461 7820 6465 7461 696c 6564 2061  yntax detailed a
+00004280: 626f 7665 2069 7320 616c 6c6f 7765 642e  bove is allowed.
+00004290: 2057 6865 7265 2050 7974 686f 6e20 7379   Where Python sy
+000042a0: 6e74 6178 2064 6966 6665 7273 2061 6372  ntax differs acr
+000042b0: 6f73 7320 7665 7273 696f 6e73 2c20 436f  oss versions, Co
+000042c0: 636f 6e75 7420 7379 6e74 6178 2077 696c  conut syntax wil
+000042d0: 6c20 616c 7761 7973 2066 6f6c 6c6f 7720  l always follow 
+000042e0: 7468 6520 6c61 7465 7374 2050 7974 686f  the latest Pytho
+000042f0: 6e20 3320 6163 726f 7373 2061 6c6c 2074  n 3 across all t
+00004300: 6172 6765 7473 2e20 5468 6520 7375 7070  argets. The supp
+00004310: 6f72 7465 6420 7461 7267 6574 7320 6172  orted targets ar
+00004320: 653a 0a0a 2d20 6075 6e69 7665 7273 616c  e:..- `universal
+00004330: 6020 2864 6566 6175 6c74 2920 2877 696c  ` (default) (wil
+00004340: 6c20 776f 726b 206f 6e20 5f61 6e79 5f20  l work on _any_ 
+00004350: 6f66 2074 6865 2062 656c 6f77 292c 0a2d  of the below),.-
+00004360: 2060 3260 2c20 6032 2e36 6020 2877 696c   `2`, `2.6` (wil
+00004370: 6c20 776f 726b 206f 6e20 616e 7920 5079  l work on any Py
+00004380: 7468 6f6e 2060 3e3d 2032 2e36 6020 6275  thon `>= 2.6` bu
+00004390: 7420 603c 2033 6029 2c0a 2d20 6032 2e37  t `< 3`),.- `2.7
+000043a0: 6020 2877 696c 6c20 776f 726b 206f 6e20  ` (will work on 
+000043b0: 616e 7920 5079 7468 6f6e 2060 3e3d 2032  any Python `>= 2
+000043c0: 2e37 6020 6275 7420 603c 2033 6029 2c0a  .7` but `< 3`),.
+000043d0: 2d20 6033 602c 2060 332e 3260 2028 7769  - `3`, `3.2` (wi
+000043e0: 6c6c 2077 6f72 6b20 6f6e 2061 6e79 2050  ll work on any P
+000043f0: 7974 686f 6e20 603e 3d20 332e 3260 292c  ython `>= 3.2`),
+00004400: 0a2d 2060 332e 3360 2028 7769 6c6c 2077  .- `3.3` (will w
+00004410: 6f72 6b20 6f6e 2061 6e79 2050 7974 686f  ork on any Pytho
+00004420: 6e20 603e 3d20 332e 3360 292c 0a2d 2060  n `>= 3.3`),.- `
+00004430: 332e 3460 2028 7769 6c6c 2077 6f72 6b20  3.4` (will work 
+00004440: 6f6e 2061 6e79 2050 7974 686f 6e20 603e  on any Python `>
+00004450: 3d20 332e 3460 292c 0a2d 2060 332e 3560  = 3.4`),.- `3.5`
+00004460: 2028 7769 6c6c 2077 6f72 6b20 6f6e 2061   (will work on a
+00004470: 6e79 2050 7974 686f 6e20 603e 3d20 332e  ny Python `>= 3.
+00004480: 3560 292c 0a2d 2060 332e 3660 2028 7769  5`),.- `3.6` (wi
+00004490: 6c6c 2077 6f72 6b20 6f6e 2061 6e79 2050  ll work on any P
+000044a0: 7974 686f 6e20 603e 3d20 332e 3660 292c  ython `>= 3.6`),
+000044b0: 0a2d 2060 332e 3760 2028 7769 6c6c 2077  .- `3.7` (will w
+000044c0: 6f72 6b20 6f6e 2061 6e79 2050 7974 686f  ork on any Pytho
+000044d0: 6e20 603e 3d20 332e 3760 292c 0a2d 2060  n `>= 3.7`),.- `
+000044e0: 332e 3860 2028 7769 6c6c 2077 6f72 6b20  3.8` (will work 
+000044f0: 6f6e 2061 6e79 2050 7974 686f 6e20 603e  on any Python `>
+00004500: 3d20 332e 3860 292c 0a2d 2060 332e 3960  = 3.8`),.- `3.9`
+00004510: 2028 7769 6c6c 2077 6f72 6b20 6f6e 2061   (will work on a
+00004520: 6e79 2050 7974 686f 6e20 603e 3d20 332e  ny Python `>= 3.
+00004530: 3960 292c 0a2d 2060 332e 3130 6020 2877  9`),.- `3.10` (w
+00004540: 696c 6c20 776f 726b 206f 6e20 616e 7920  ill work on any 
+00004550: 5079 7468 6f6e 2060 3e3d 2033 2e31 3060  Python `>= 3.10`
+00004560: 292c 0a2d 2060 332e 3131 6020 2877 696c  ),.- `3.11` (wil
+00004570: 6c20 776f 726b 206f 6e20 616e 7920 5079  l work on any Py
+00004580: 7468 6f6e 2060 3e3d 2033 2e31 3160 292c  thon `>= 3.11`),
+00004590: 0a2d 2060 332e 3132 6020 2877 696c 6c20  .- `3.12` (will 
+000045a0: 776f 726b 206f 6e20 616e 7920 5079 7468  work on any Pyth
+000045b0: 6f6e 2060 3e3d 2033 2e31 3260 292c 2061  on `>= 3.12`), a
+000045c0: 6e64 0a2d 2060 7379 7360 2028 6368 6f6f  nd.- `sys` (choo
+000045d0: 7365 7320 7468 6520 7461 7267 6574 2063  ses the target c
+000045e0: 6f72 7265 7370 6f6e 6469 6e67 2074 6f20  orresponding to 
+000045f0: 7468 6520 6375 7272 656e 7420 5079 7468  the current Pyth
+00004600: 6f6e 2076 6572 7369 6f6e 292e 0a0a 5f4e  on version)..._N
+00004610: 6f74 653a 2050 6572 696f 6473 2061 7265  ote: Periods are
+00004620: 206f 7074 696f 6e61 6c20 696e 2074 6172   optional in tar
+00004630: 6765 7420 7370 6563 6966 6963 6174 696f  get specificatio
+00004640: 6e73 2c20 7375 6368 2074 6861 7420 7468  ns, such that th
+00004650: 6520 7461 7267 6574 2060 3237 6020 6973  e target `27` is
+00004660: 2065 7175 6976 616c 656e 7420 746f 2074   equivalent to t
+00004670: 6865 2074 6172 6765 7420 6032 2e37 602e  he target `2.7`.
+00004680: 5f0a 0a23 2323 2320 6073 7472 6963 7460  _..#### `strict`
+00004690: 204d 6f64 650a 0a49 6620 7468 6520 602d   Mode..If the `-
+000046a0: 2d73 7472 6963 7460 2028 602d 7360 2066  -strict` (`-s` f
+000046b0: 6f72 2073 686f 7274 2920 666c 6167 2069  or short) flag i
+000046c0: 7320 656e 6162 6c65 642c 2043 6f63 6f6e  s enabled, Cocon
+000046d0: 7574 2077 696c 6c20 7065 7266 6f72 6d20  ut will perform 
+000046e0: 6164 6469 7469 6f6e 616c 2063 6865 636b  additional check
+000046f0: 7320 6f6e 2074 6865 2063 6f64 6520 6265  s on the code be
+00004700: 696e 6720 636f 6d70 696c 6564 2e20 4974  ing compiled. It
+00004710: 2069 7320 7265 636f 6d6d 656e 6465 6420   is recommended 
+00004720: 7468 6174 2079 6f75 2075 7365 2074 6865  that you use the
+00004730: 2060 2d2d 7374 7269 6374 6020 666c 6167   `--strict` flag
+00004740: 2069 6620 796f 7520 6172 6520 7374 6172   if you are star
+00004750: 7469 6e67 2061 206e 6577 2043 6f63 6f6e  ting a new Cocon
+00004760: 7574 2070 726f 6a65 6374 2c20 6173 2069  ut project, as i
+00004770: 7420 7769 6c6c 2068 656c 7020 796f 7520  t will help you 
+00004780: 7772 6974 6520 636c 6561 6e65 7220 636f  write cleaner co
+00004790: 6465 2e20 5370 6563 6966 6963 616c 6c79  de. Specifically
+000047a0: 2c20 7468 6520 6578 7472 6120 6368 6563  , the extra chec
+000047b0: 6b73 2064 6f6e 6520 6279 2060 2d2d 7374  ks done by `--st
+000047c0: 7269 6374 6020 6172 653a 0a0a 2d20 6469  rict` are:..- di
+000047d0: 7361 626c 696e 6720 6465 7072 6563 6174  sabling deprecat
+000047e0: 6564 2066 6561 7475 7265 7320 286d 616b  ed features (mak
+000047f0: 696e 6720 7468 656d 2065 6e74 6972 656c  ing them entirel
+00004800: 7920 756e 6176 6169 6c61 626c 6520 746f  y unavailable to
+00004810: 2063 6f64 6520 636f 6d70 696c 6564 2077   code compiled w
+00004820: 6974 6820 602d 2d73 7472 6963 7460 292c  ith `--strict`),
+00004830: 0a2d 2065 7272 6f72 7320 696e 7374 6561  .- errors instea
+00004840: 6420 6f66 2077 6172 6e69 6e67 7320 6f6e  d of warnings on
+00004850: 2075 6e75 7365 6420 696d 706f 7274 7320   unused imports 
+00004860: 2875 6e6c 6573 7320 7468 6579 2068 6176  (unless they hav
+00004870: 6520 6120 6023 204e 4f51 4160 206f 7220  e a `# NOQA` or 
+00004880: 6023 206e 6f71 6160 2063 6f6d 6d65 6e74  `# noqa` comment
+00004890: 292c 0a2d 2065 7272 6f72 7320 696e 7374  ),.- errors inst
+000048a0: 6561 6420 6f66 2077 6172 6e69 6e67 7320  ead of warnings 
+000048b0: 7768 656e 206f 7665 7277 7269 7469 6e67  when overwriting
+000048c0: 2062 7569 6c74 2d69 6e73 2028 756e 6c65   built-ins (unle
+000048d0: 7373 2061 2062 6163 6b73 6c61 7368 2069  ss a backslash i
+000048e0: 7320 7573 6564 2074 6f20 6573 6361 7065  s used to escape
+000048f0: 2074 6865 2062 7569 6c74 2d69 6e20 6e61   the built-in na
+00004900: 6d65 292c 0a2d 2077 6172 6e69 6e67 206f  me),.- warning o
+00004910: 6e20 6d69 7373 696e 6720 605f 5f69 6e69  n missing `__ini
+00004920: 745f 5f2e 636f 636f 6020 6669 6c65 7320  t__.coco` files 
+00004930: 7768 656e 2063 6f6d 7069 6c69 6e67 2069  when compiling i
+00004940: 6e20 602d 2d70 6163 6b61 6765 6020 6d6f  n `--package` mo
+00004950: 6465 2c0a 2d20 7468 726f 7769 6e67 2065  de,.- throwing e
+00004960: 7272 6f72 7320 6f6e 2076 6172 696f 7573  rrors on various
+00004970: 2073 7479 6c65 2070 726f 626c 656d 7320   style problems 
+00004980: 2873 6565 206c 6973 7420 6265 6c6f 7729  (see list below)
+00004990: 2e0a 0a54 6865 2073 7479 6c65 2069 7373  ...The style iss
+000049a0: 7565 7320 7768 6963 6820 7769 6c6c 2063  ues which will c
+000049b0: 6175 7365 2060 2d2d 7374 7269 6374 6020  ause `--strict` 
+000049c0: 746f 2074 6872 6f77 2061 6e20 6572 726f  to throw an erro
+000049d0: 7220 6172 653a 0a0a 2d20 6d69 7869 6e67  r are:..- mixing
+000049e0: 206f 6620 7461 6273 2061 6e64 2073 7061   of tabs and spa
+000049f0: 6365 7320 2877 6974 686f 7574 2060 2d2d  ces (without `--
+00004a00: 7374 7269 6374 6020 7769 6c6c 2073 686f  strict` will sho
+00004a10: 7720 6120 7761 726e 696e 6729 2c0a 2d20  w a warning),.- 
+00004a20: 7573 6520 6f66 2060 6672 6f6d 205f 5f66  use of `from __f
+00004a30: 7574 7572 655f 5f60 2069 6d70 6f72 7473  uture__` imports
+00004a40: 2028 436f 636f 6e75 7420 646f 6573 2074   (Coconut does t
+00004a50: 6865 7365 2061 7574 6f6d 6174 6963 616c  hese automatical
+00004a60: 6c79 2920 2877 6974 686f 7574 2060 2d2d  ly) (without `--
+00004a70: 7374 7269 6374 6020 7769 6c6c 2073 686f  strict` will sho
+00004a80: 7720 6120 7761 726e 696e 6729 2c0a 2d20  w a warning),.- 
+00004a90: 696e 6865 7269 7469 6e67 2066 726f 6d20  inheriting from 
+00004aa0: 606f 626a 6563 7460 2069 6e20 636c 6173  `object` in clas
+00004ab0: 7365 7320 2843 6f63 6f6e 7574 2064 6f65  ses (Coconut doe
+00004ac0: 7320 7468 6973 2061 7574 6f6d 6174 6963  s this automatic
+00004ad0: 616c 6c79 2920 2877 6974 686f 7574 2060  ally) (without `
+00004ae0: 2d2d 7374 7269 6374 6020 7769 6c6c 2073  --strict` will s
+00004af0: 686f 7720 6120 7761 726e 696e 6729 2c0a  how a warning),.
+00004b00: 2d20 7365 6d69 636f 6c6f 6e73 2061 7420  - semicolons at 
+00004b10: 656e 6420 6f66 206c 696e 6573 2028 7769  end of lines (wi
+00004b20: 7468 6f75 7420 602d 2d73 7472 6963 7460  thout `--strict`
+00004b30: 2077 696c 6c20 7368 6f77 2061 2077 6172   will show a war
+00004b40: 6e69 6e67 292c 0a2d 2075 7365 206f 6620  ning),.- use of 
+00004b50: 6075 6020 746f 2064 656e 6f74 6520 556e  `u` to denote Un
+00004b60: 6963 6f64 6520 7374 7269 6e67 7320 2861  icode strings (a
+00004b70: 6c6c 2043 6f63 6f6e 7574 2073 7472 696e  ll Coconut strin
+00004b80: 6773 2061 7265 2055 6e69 636f 6465 2073  gs are Unicode s
+00004b90: 7472 696e 6773 2920 2877 6974 686f 7574  trings) (without
+00004ba0: 2060 2d2d 7374 7269 6374 6020 7769 6c6c   `--strict` will
+00004bb0: 2073 686f 7720 6120 7761 726e 696e 6729   show a warning)
+00004bc0: 2c0a 2d20 6d69 7373 696e 6720 6e65 7720  ,.- missing new 
+00004bd0: 6c69 6e65 2061 7420 656e 6420 6f66 2066  line at end of f
+00004be0: 696c 652c 0a2d 2074 7261 696c 696e 6720  ile,.- trailing 
+00004bf0: 7768 6974 6573 7061 6365 2061 7420 656e  whitespace at en
+00004c00: 6420 6f66 206c 696e 6573 2c0a 2d20 7573  d of lines,.- us
+00004c10: 6520 6f66 2074 6865 2050 7974 686f 6e2d  e of the Python-
+00004c20: 7374 796c 6520 606c 616d 6264 6160 2073  style `lambda` s
+00004c30: 7461 7465 6d65 6e74 2028 7573 6520 5b43  tatement (use [C
+00004c40: 6f63 6f6e 7574 2773 206c 616d 6264 6120  oconut's lambda 
+00004c50: 7379 6e74 6178 5d28 236c 616d 6264 6173  syntax](#lambdas
+00004c60: 2920 696e 7374 6561 6429 2c0a 2d20 7573  ) instead),.- us
+00004c70: 6520 6f66 2062 6163 6b73 6c61 7368 2063  e of backslash c
+00004c80: 6f6e 7469 6e75 6174 696f 6e20 2875 7365  ontinuation (use
+00004c90: 205b 7061 7265 6e74 6865 7469 6361 6c20   [parenthetical 
+00004ca0: 636f 6e74 696e 7561 7469 6f6e 5d28 2365  continuation](#e
+00004cb0: 6e68 616e 6365 642d 7061 7265 6e74 6865  nhanced-parenthe
+00004cc0: 7469 6361 6c2d 636f 6e74 696e 7561 7469  tical-continuati
+00004cd0: 6f6e 2920 696e 7374 6561 6429 2c0a 2d20  on) instead),.- 
+00004ce0: 5079 7468 6f6e 2d33 2e31 302f 5045 502d  Python-3.10/PEP-
+00004cf0: 3633 342d 7374 796c 6520 646f 7474 6564  634-style dotted
+00004d00: 206e 616d 6573 2069 6e20 7061 7474 6572   names in patter
+00004d10: 6e2d 6d61 7463 6869 6e67 2028 436f 636f  n-matching (Coco
+00004d20: 6e75 7420 7374 796c 6520 6973 2074 6f20  nut style is to 
+00004d30: 7072 6566 6163 6520 7468 6573 6520 7769  preface these wi
+00004d40: 7468 2060 3d3d 6029 2c20 616e 640a 2d20  th `==`), and.- 
+00004d50: 7573 6520 6f66 2060 3a60 2069 6e73 7465  use of `:` inste
+00004d60: 6164 206f 6620 603c 3a60 2074 6f20 7370  ad of `<:` to sp
+00004d70: 6563 6966 7920 7570 7065 7220 626f 756e  ecify upper boun
+00004d80: 6473 2069 6e20 5b43 6f63 6f6e 7574 2773  ds in [Coconut's
+00004d90: 2074 7970 6520 7061 7261 6d65 7465 7220   type parameter 
+00004da0: 7379 6e74 6178 5d28 2374 7970 652d 7061  syntax](#type-pa
+00004db0: 7261 6d65 7465 722d 7379 6e74 6178 292e  rameter-syntax).
+00004dc0: 0a0a 2323 2049 6e74 6567 7261 7469 6f6e  ..## Integration
+00004dd0: 730a 0a60 6060 7b63 6f6e 7465 6e74 737d  s..```{contents}
+00004de0: 0a2d 2d2d 0a6c 6f63 616c 3a0a 6465 7074  .---.local:.dept
+00004df0: 683a 2032 0a2d 2d2d 0a60 6060 0a0a 2323  h: 2.---.```..##
+00004e00: 2323 2053 796e 7461 7820 4869 6768 6c69  ## Syntax Highli
+00004e10: 6768 7469 6e67 0a0a 5465 7874 2065 6469  ghting..Text edi
+00004e20: 746f 7273 2077 6974 6820 7375 7070 6f72  tors with suppor
+00004e30: 7420 666f 7220 436f 636f 6e75 7420 7379  t for Coconut sy
+00004e40: 6e74 6178 2068 6967 686c 6967 6874 696e  ntax highlightin
+00004e50: 6720 6172 653a 0a0a 2d20 2a2a 5653 436f  g are:..- **VSCo
+00004e60: 6465 2a2a 3a20 496e 7374 616c 6c20 5b43  de**: Install [C
+00004e70: 6f63 6f6e 7574 2028 4f66 6669 6369 616c  oconut (Official
+00004e80: 295d 2868 7474 7073 3a2f 2f6d 6172 6b65  )](https://marke
+00004e90: 7470 6c61 6365 2e76 6973 7561 6c73 7475  tplace.visualstu
+00004ea0: 6469 6f2e 636f 6d2f 6974 656d 733f 6974  dio.com/items?it
+00004eb0: 656d 4e61 6d65 3d65 7668 7562 2e63 6f63  emName=evhub.coc
+00004ec0: 6f6e 7574 2920 2866 6f72 202a 2a56 5343  onut) (for **VSC
+00004ed0: 6f64 6975 6d2a 2a2c 2069 6e73 7461 6c6c  odium**, install
+00004ee0: 2066 726f 6d20 4f70 656e 2056 5358 205b   from Open VSX [
+00004ef0: 6865 7265 5d28 6874 7470 733a 2f2f 6f70  here](https://op
+00004f00: 656e 2d76 7378 2e6f 7267 2f65 7874 656e  en-vsx.org/exten
+00004f10: 7369 6f6e 2f65 7668 7562 2f63 6f63 6f6e  sion/evhub/cocon
+00004f20: 7574 2920 696e 7374 6561 6429 2e0a 2d20  ut) instead)..- 
+00004f30: 2a2a 5375 626c 696d 6554 6578 742a 2a3a  **SublimeText**:
+00004f40: 2053 6565 2053 7562 6c69 6d65 5465 7874   See SublimeText
+00004f50: 2073 6563 7469 6f6e 2062 656c 6f77 2e0a   section below..
+00004f60: 2d20 2a2a 5370 7964 6572 2a2a 2028 6f72  - **Spyder** (or
+00004f70: 2061 6e79 206f 7468 6572 2065 6469 746f   any other edito
+00004f80: 7220 7468 6174 2073 7570 706f 7274 7320  r that supports 
+00004f90: 2a2a 5079 676d 656e 7473 2a2a 293a 2053  **Pygments**): S
+00004fa0: 6565 2050 7967 6d65 6e74 7320 7365 6374  ee Pygments sect
+00004fb0: 696f 6e20 6265 6c6f 772e 0a2d 202a 2a56  ion below..- **V
+00004fc0: 696d 2a2a 3a20 5365 6520 5b60 636f 636f  im**: See [`coco
+00004fd0: 6e75 742e 7669 6d60 5d28 6874 7470 733a  nut.vim`](https:
+00004fe0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 616e  //github.com/man
+00004ff0: 6963 6d61 6e69 6163 2f63 6f63 6f6e 7574  icmaniac/coconut
+00005000: 2e76 696d 292e 0a2d 202a 2a45 6d61 6373  .vim)..- **Emacs
+00005010: 2a2a 3a20 5365 6520 5b60 656d 6163 732d  **: See [`emacs-
+00005020: 636f 636f 6e75 7460 5d28 6874 7470 733a  coconut`](https:
+00005030: 2f2f 636f 6465 6265 7267 2e6f 7267 2f6b  //codeberg.org/k
+00005040: 6f62 6172 6974 792f 656d 6163 732d 636f  obarity/emacs-co
+00005050: 636f 6e75 7429 2f5b 6065 6d61 6373 2d6f  conut)/[`emacs-o
+00005060: 622d 636f 636f 6e75 7460 5d28 6874 7470  b-coconut`](http
+00005070: 733a 2f2f 636f 6465 6265 7267 2e6f 7267  s://codeberg.org
+00005080: 2f6b 6f62 6172 6974 792f 656d 6163 732d  /kobarity/emacs-
+00005090: 6f62 2d63 6f63 6f6e 7574 292e 0a2d 202a  ob-coconut)..- *
+000050a0: 2a41 746f 6d2a 2a3a 2053 6565 205b 606c  *Atom**: See [`l
+000050b0: 616e 6775 6167 652d 636f 636f 6e75 7460  anguage-coconut`
+000050c0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+000050d0: 2e63 6f6d 2f65 6e69 6c73 656e 3136 2f6c  .com/enilsen16/l
+000050e0: 616e 6775 6167 652d 636f 636f 6e75 7429  anguage-coconut)
+000050f0: 2e0a 0a41 6c74 6572 6e61 7469 7665 6c79  ...Alternatively
+00005100: 2c20 6966 206e 6f6e 6520 6f66 2074 6865  , if none of the
+00005110: 2061 626f 7665 2077 6f72 6b20 666f 7220   above work for 
+00005120: 796f 752c 2079 6f75 2063 616e 206a 7573  you, you can jus
+00005130: 7420 7472 6561 7420 436f 636f 6e75 7420  t treat Coconut 
+00005140: 6173 2050 7974 686f 6e2e 2053 696d 706c  as Python. Simpl
+00005150: 7920 7365 7420 7570 2079 6f75 7220 6564  y set up your ed
+00005160: 6974 6f72 2073 6f20 6974 2069 6e74 6572  itor so it inter
+00005170: 7072 6574 7320 616c 6c20 602e 636f 636f  prets all `.coco
+00005180: 6020 6669 6c65 7320 6173 2050 7974 686f  ` files as Pytho
+00005190: 6e20 616e 6420 7468 6174 2073 686f 756c  n and that shoul
+000051a0: 6420 6869 6768 6c69 6768 7420 6d6f 7374  d highlight most
+000051b0: 206f 6620 796f 7572 2063 6f64 6520 7765   of your code we
+000051c0: 6c6c 2065 6e6f 7567 6820 2865 2e67 2e20  ll enough (e.g. 
+000051d0: 666f 7220 496e 7465 6c6c 694a 2049 4445  for IntelliJ IDE
+000051e0: 4120 7365 6520 5b72 6567 6973 7465 7269  A see [registeri
+000051f0: 6e67 2066 696c 6520 7479 7065 735d 2868  ng file types](h
+00005200: 7474 7073 3a2f 2f77 7777 2e6a 6574 6272  ttps://www.jetbr
+00005210: 6169 6e73 2e63 6f6d 2f68 656c 702f 6964  ains.com/help/id
+00005220: 6561 2f63 7265 6174 696e 672d 616e 642d  ea/creating-and-
+00005230: 7265 6769 7374 6572 696e 672d 6669 6c65  registering-file
+00005240: 2d74 7970 6573 2e68 746d 6c29 292e 0a0a  -types.html))...
+00005250: 2323 2323 2320 5375 626c 696d 6554 6578  ##### SublimeTex
+00005260: 740a 0a43 6f63 6f6e 7574 2073 796e 7461  t..Coconut synta
+00005270: 7820 6869 6768 6c69 6768 7469 6e67 2066  x highlighting f
+00005280: 6f72 2053 7562 6c69 6d65 5465 7874 2072  or SublimeText r
+00005290: 6571 7569 7265 7320 7468 6174 205b 5061  equires that [Pa
+000052a0: 636b 6167 6520 436f 6e74 726f 6c5d 2868  ckage Control](h
+000052b0: 7474 7073 3a2f 2f70 6163 6b61 6765 636f  ttps://packageco
+000052c0: 6e74 726f 6c2e 696f 2f69 6e73 7461 6c6c  ntrol.io/install
+000052d0: 6174 696f 6e29 2c20 7468 6520 7374 616e  ation), the stan
+000052e0: 6461 7264 2070 6163 6b61 6765 206d 616e  dard package man
+000052f0: 6167 6572 2066 6f72 2053 7562 6c69 6d65  ager for Sublime
+00005300: 5465 7874 2c20 6265 2069 6e73 7461 6c6c  Text, be install
+00005310: 6564 2e20 4f6e 6365 2074 6861 7420 6973  ed. Once that is
+00005320: 2064 6f6e 652c 2073 696d 706c 793a 0a0a   done, simply:..
+00005330: 312e 206f 7065 6e20 7468 6520 5375 626c  1. open the Subl
+00005340: 696d 6554 6578 7420 636f 6d6d 616e 6420  imeText command 
+00005350: 7061 6c65 7474 6520 6279 2070 7265 7373  palette by press
+00005360: 696e 6720 6043 7472 6c2b 5368 6966 742b  ing `Ctrl+Shift+
+00005370: 5060 2028 6f72 2060 436d 642b 5368 6966  P` (or `Cmd+Shif
+00005380: 742b 5060 206f 6e20 4d61 6329 2c0a 322e  t+P` on Mac),.2.
+00005390: 2074 7970 6520 616e 6420 656e 7465 7220   type and enter 
+000053a0: 6050 6163 6b61 6765 2043 6f6e 7472 6f6c  `Package Control
+000053b0: 3a20 496e 7374 616c 6c20 5061 636b 6167  : Install Packag
+000053c0: 6560 2c20 616e 640a 332e 2066 696e 616c  e`, and.3. final
+000053d0: 6c79 2074 7970 6520 616e 6420 656e 7465  ly type and ente
+000053e0: 7220 6043 6f63 6f6e 7574 602e 0a0a 546f  r `Coconut`...To
+000053f0: 206d 616b 6520 7375 7265 2065 7665 7279   make sure every
+00005400: 7468 696e 6720 6973 2077 6f72 6b69 6e67  thing is working
+00005410: 2070 726f 7065 726c 792c 206f 7065 6e20   properly, open 
+00005420: 6120 602e 636f 636f 6020 6669 6c65 2c20  a `.coco` file, 
+00005430: 616e 6420 6d61 6b65 2073 7572 6520 6043  and make sure `C
+00005440: 6f63 6f6e 7574 6020 6170 7065 6172 7320  oconut` appears 
+00005450: 696e 2074 6865 2062 6f74 746f 6d20 7269  in the bottom ri
+00005460: 6768 742d 6861 6e64 2063 6f72 6e65 722e  ght-hand corner.
+00005470: 2049 6620 736f 6d65 7468 696e 6720 656c   If something el
+00005480: 7365 2061 7070 6561 7273 2c20 6c69 6b65  se appears, like
+00005490: 2060 506c 6169 6e20 5465 7874 602c 2063   `Plain Text`, c
+000054a0: 6c69 636b 206f 6e20 6974 2c20 7365 6c65  lick on it, sele
+000054b0: 6374 2060 4f70 656e 2061 6c6c 2077 6974  ct `Open all wit
+000054c0: 6820 6375 7272 656e 7420 6578 7465 6e73  h current extens
+000054d0: 696f 6e20 6173 2e2e 2e60 2061 7420 7468  ion as...` at th
+000054e0: 6520 746f 7020 6f66 2074 6865 2072 6573  e top of the res
+000054f0: 756c 7469 6e67 206d 656e 752c 2061 6e64  ulting menu, and
+00005500: 2074 6865 6e20 7365 6c65 6374 2060 436f   then select `Co
+00005510: 636f 6e75 7460 2e0a 0a5f 4e6f 7465 3a20  conut`..._Note: 
+00005520: 436f 636f 6e75 7420 7379 6e74 6178 2068  Coconut syntax h
+00005530: 6967 686c 6967 6874 696e 6720 666f 7220  ighlighting for 
+00005540: 5375 626c 696d 6554 6578 7420 6973 2070  SublimeText is p
+00005550: 726f 7669 6465 6420 6279 2074 6865 205b  rovided by the [
+00005560: 7375 626c 696d 652d 636f 636f 6e75 745d  sublime-coconut]
+00005570: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00005580: 636f 6d2f 6576 6875 622f 7375 626c 696d  com/evhub/sublim
+00005590: 652d 636f 636f 6e75 7429 2070 6163 6b61  e-coconut) packa
+000055a0: 6765 2e5f 0a0a 2323 2323 2320 5079 676d  ge._..##### Pygm
+000055b0: 656e 7473 0a0a 5468 6520 7361 6d65 2060  ents..The same `
+000055c0: 7069 7020 696e 7374 616c 6c20 636f 636f  pip install coco
+000055d0: 6e75 7460 2063 6f6d 6d61 6e64 2074 6861  nut` command tha
+000055e0: 7420 696e 7374 616c 6c73 2074 6865 2043  t installs the C
+000055f0: 6f63 6f6e 7574 2063 6f6d 6d61 6e64 2d6c  oconut command-l
+00005600: 696e 6520 7574 696c 6974 7920 7769 6c6c  ine utility will
+00005610: 2061 6c73 6f20 696e 7374 616c 6c20 7468   also install th
+00005620: 6520 6063 6f63 6f6e 7574 6020 5079 676d  e `coconut` Pygm
+00005630: 656e 7473 206c 6578 6572 2e20 486f 7720  ents lexer. How 
+00005640: 746f 2075 7365 2074 6869 7320 6c65 7865  to use this lexe
+00005650: 7220 6465 7065 6e64 7320 6f6e 2074 6865  r depends on the
+00005660: 2050 7967 6d65 6e74 732d 656e 6162 6c65   Pygments-enable
+00005670: 6420 6170 706c 6963 6174 696f 6e20 6265  d application be
+00005680: 696e 6720 7573 6564 2c20 6275 7420 696e  ing used, but in
+00005690: 2067 656e 6572 616c 2073 696d 706c 7920   general simply 
+000056a0: 7573 6520 7468 6520 602e 636f 636f 6020  use the `.coco` 
+000056b0: 6669 6c65 2065 7874 656e 7369 6f6e 2028  file extension (
+000056c0: 7368 6f75 6c64 2062 6520 616c 6c20 796f  should be all yo
+000056d0: 7520 6e65 6564 2074 6f20 646f 2066 6f72  u need to do for
+000056e0: 2053 7079 6465 7229 2061 6e64 2f6f 7220   Spyder) and/or 
+000056f0: 656e 7465 7220 6063 6f63 6f6e 7574 6020  enter `coconut` 
+00005700: 6173 2074 6865 206c 616e 6775 6167 6520  as the language 
+00005710: 6265 696e 6720 6869 6768 6c69 6768 7465  being highlighte
+00005720: 6420 616e 6420 5079 676d 656e 7473 2073  d and Pygments s
+00005730: 686f 756c 6420 6265 2061 626c 6520 746f  hould be able to
+00005740: 2066 6967 7572 6520 6974 206f 7574 2e0a   figure it out..
+00005750: 0a46 6f72 2065 7861 6d70 6c65 2c20 7468  .For example, th
+00005760: 6973 2064 6f63 756d 656e 7461 7469 6f6e  is documentation
+00005770: 2069 7320 6765 6e65 7261 7465 6420 7769   is generated wi
+00005780: 7468 205b 5370 6869 6e78 5d28 6874 7470  th [Sphinx](http
+00005790: 3a2f 2f77 7777 2e73 7068 696e 782d 646f  ://www.sphinx-do
+000057a0: 632e 6f72 672f 656e 2f73 7461 626c 652f  c.org/en/stable/
+000057b0: 292c 2077 6974 6820 7468 6520 7379 6e74  ), with the synt
+000057c0: 6178 2068 6967 686c 6967 6874 696e 6720  ax highlighting 
+000057d0: 796f 7520 7365 6520 6372 6561 7465 6420  you see created 
+000057e0: 6279 2061 6464 696e 6720 7468 6520 6c69  by adding the li
+000057f0: 6e65 0a60 6060 636f 636f 6e75 745f 7079  ne.```coconut_py
+00005800: 7468 6f6e 0a68 6967 686c 6967 6874 5f6c  thon.highlight_l
+00005810: 616e 6775 6167 6520 3d20 2263 6f63 6f6e  anguage = "cocon
+00005820: 7574 220a 6060 600a 746f 2043 6f63 6f6e  ut".```.to Cocon
+00005830: 7574 2773 2060 636f 6e66 2e70 7960 2e0a  ut's `conf.py`..
+00005840: 0a23 2323 2320 4950 7974 686f 6e2f 4a75  .#### IPython/Ju
+00005850: 7079 7465 7220 5375 7070 6f72 740a 0a49  pyter Support..I
+00005860: 6620 796f 7520 7573 6520 5b49 5079 7468  f you use [IPyth
+00005870: 6f6e 5d28 6874 7470 3a2f 2f69 7079 7468  on](http://ipyth
+00005880: 6f6e 2e6f 7267 2f29 2028 7468 6520 5079  on.org/) (the Py
+00005890: 7468 6f6e 206b 6572 6e65 6c20 666f 7220  thon kernel for 
+000058a0: 7468 6520 5b4a 7570 7974 6572 5d28 6874  the [Jupyter](ht
+000058b0: 7470 3a2f 2f6a 7570 7974 6572 2e6f 7267  tp://jupyter.org
+000058c0: 2f29 2066 7261 6d65 776f 726b 2920 6e6f  /) framework) no
+000058d0: 7465 626f 6f6b 7320 6f72 2063 6f6e 736f  tebooks or conso
+000058e0: 6c65 2c20 436f 636f 6e75 7420 6361 6e20  le, Coconut can 
+000058f0: 6265 2075 7365 6420 6173 2061 204a 7570  be used as a Jup
+00005900: 7974 6572 206b 6572 6e65 6c20 6f72 2049  yter kernel or I
+00005910: 5079 7468 6f6e 2065 7874 656e 7369 6f6e  Python extension
+00005920: 2e0a 0a23 2323 2323 204b 6572 6e65 6c0a  ...##### Kernel.
+00005930: 0a49 6620 436f 636f 6e75 7420 6973 2075  .If Coconut is u
+00005940: 7365 6420 6173 2061 206b 6572 6e65 6c2c  sed as a kernel,
+00005950: 2061 6c6c 2063 6f64 6520 696e 2074 6865   all code in the
+00005960: 2063 6f6e 736f 6c65 206f 7220 6e6f 7465   console or note
+00005970: 626f 6f6b 2077 696c 6c20 6265 2073 656e  book will be sen
+00005980: 7420 6469 7265 6374 6c79 2074 6f20 436f  t directly to Co
+00005990: 636f 6e75 7420 696e 7374 6561 6420 6f66  conut instead of
+000059a0: 2050 7974 686f 6e20 746f 2062 6520 6576   Python to be ev
+000059b0: 616c 7561 7465 642e 204f 7468 6572 7769  aluated. Otherwi
+000059c0: 7365 2c20 7468 6520 436f 636f 6e75 7420  se, the Coconut 
+000059d0: 6b65 726e 656c 2062 6568 6176 6573 2065  kernel behaves e
+000059e0: 7861 6374 6c79 206c 696b 6520 7468 6520  xactly like the 
+000059f0: 4950 7974 686f 6e20 6b65 726e 656c 2c20  IPython kernel, 
+00005a00: 696e 636c 7564 696e 6720 7375 7070 6f72  including suppor
+00005a10: 7420 666f 7220 6025 6d61 6769 6360 2063  t for `%magic` c
+00005a20: 6f6d 6d61 6e64 732e 0a0a 5369 6d70 6c79  ommands...Simply
+00005a30: 2069 6e73 7461 6c6c 696e 6720 436f 636f   installing Coco
+00005a40: 6e75 7420 7368 6f75 6c64 2061 6464 2061  nut should add a
+00005a50: 2060 436f 636f 6e75 7460 206b 6572 6e65   `Coconut` kerne
+00005a60: 6c20 746f 2079 6f75 7220 4a75 7079 7465  l to your Jupyte
+00005a70: 722f 4950 7974 686f 6e20 6e6f 7465 626f  r/IPython notebo
+00005a80: 6f6b 732e 2049 6620 796f 7520 6172 6520  oks. If you are 
+00005a90: 6861 7669 6e67 2069 7373 7565 7320 6163  having issues ac
+00005aa0: 6365 7373 696e 6720 7468 6520 436f 636f  cessing the Coco
+00005ab0: 6e75 7420 6b65 726e 656c 2c20 686f 7765  nut kernel, howe
+00005ac0: 7665 722c 2074 6865 2063 6f6d 6d61 6e64  ver, the command
+00005ad0: 2060 636f 636f 6e75 7420 2d2d 6a75 7079   `coconut --jupy
+00005ae0: 7465 7260 2077 696c 6c20 7265 2d69 6e73  ter` will re-ins
+00005af0: 7461 6c6c 2074 6865 2060 436f 636f 6e75  tall the `Coconu
+00005b00: 7460 206b 6572 6e65 6c20 746f 2065 6e73  t` kernel to ens
+00005b10: 7572 6520 6974 2069 7320 7573 696e 6720  ure it is using 
+00005b20: 7468 6520 6375 7272 656e 7420 5079 7468  the current Pyth
+00005b30: 6f6e 2061 7320 7765 6c6c 2061 7320 6164  on as well as ad
+00005b40: 6420 7468 6520 6164 6469 7469 6f6e 616c  d the additional
+00005b50: 206b 6572 6e65 6c73 2060 436f 636f 6e75   kernels `Coconu
+00005b60: 7420 2844 6566 6175 6c74 2050 7974 686f  t (Default Pytho
+00005b70: 6e29 602c 2060 436f 636f 6e75 7420 2844  n)`, `Coconut (D
+00005b80: 6566 6175 6c74 2050 7974 686f 6e20 3229  efault Python 2)
+00005b90: 602c 2061 6e64 2060 436f 636f 6e75 7420  `, and `Coconut 
+00005ba0: 2844 6566 6175 6c74 2050 7974 686f 6e20  (Default Python 
+00005bb0: 3329 6020 7768 6963 6820 7769 6c6c 2075  3)` which will u
+00005bc0: 7365 2c20 7265 7370 6563 7469 7665 6c79  se, respectively
+00005bd0: 2c20 7468 6520 5079 7468 6f6e 2061 6363  , the Python acc
+00005be0: 6573 7369 626c 6520 6173 2060 7079 7468  essible as `pyth
+00005bf0: 6f6e 602c 2060 7079 7468 6f6e 3260 2c20  on`, `python2`, 
+00005c00: 616e 6420 6070 7974 686f 6e33 6020 2874  and `python3` (t
+00005c10: 6865 7365 206b 6572 6e65 6c73 2061 7265  hese kernels are
+00005c20: 2061 6363 6573 7369 626c 6520 696e 2074   accessible in t
+00005c30: 6865 2063 6f6e 736f 6c65 2061 7320 6063  he console as `c
+00005c40: 6f63 6f6e 7574 5f70 7960 2c20 6063 6f63  oconut_py`, `coc
+00005c50: 6f6e 7574 5f70 7932 602c 2061 6e64 2060  onut_py2`, and `
+00005c60: 636f 636f 6e75 745f 7079 3360 292e 2046  coconut_py3`). F
+00005c70: 7572 7468 6572 6d6f 7265 2c20 7468 6520  urthermore, the 
+00005c80: 436f 636f 6e75 7420 6b65 726e 656c 2066  Coconut kernel f
+00005c90: 756c 6c79 2073 7570 706f 7274 7320 5b60  ully supports [`
+00005ca0: 6e62 5f63 6f6e 6461 5f6b 6572 6e65 6c73  nb_conda_kernels
+00005cb0: 605d 2868 7474 7073 3a2f 2f67 6974 6875  `](https://githu
+00005cc0: 622e 636f 6d2f 416e 6163 6f6e 6461 2d50  b.com/Anaconda-P
+00005cd0: 6c61 7466 6f72 6d2f 6e62 5f63 6f6e 6461  latform/nb_conda
+00005ce0: 5f6b 6572 6e65 6c73 2920 746f 2065 6e61  _kernels) to ena
+00005cf0: 626c 6520 6163 6365 7373 696e 6720 7468  ble accessing th
+00005d00: 6520 436f 636f 6e75 7420 6b65 726e 656c  e Coconut kernel
+00005d10: 2069 6e20 6f6e 6520 436f 6e64 6120 656e   in one Conda en
+00005d20: 7669 726f 6e6d 656e 7420 6672 6f6d 2061  vironment from a
+00005d30: 6e6f 7468 6572 2043 6f6e 6461 2065 6e76  nother Conda env
+00005d40: 6972 6f6e 6d65 6e74 2e0a 0a54 6865 2043  ironment...The C
+00005d50: 6f63 6f6e 7574 206b 6572 6e65 6c20 7769  oconut kernel wi
+00005d60: 6c6c 2061 6c77 6179 7320 636f 6d70 696c  ll always compil
+00005d70: 6520 7573 696e 6720 7468 6520 7061 7261  e using the para
+00005d80: 6d65 7465 7273 3a20 602d 2d74 6172 6765  meters: `--targe
+00005d90: 7420 7379 7320 2d2d 6c69 6e65 2d6e 756d  t sys --line-num
+00005da0: 6265 7273 202d 2d6b 6565 702d 6c69 6e65  bers --keep-line
+00005db0: 7320 2d2d 6e6f 2d77 7261 702d 7479 7065  s --no-wrap-type
+00005dc0: 7360 2e0a 0a43 6f63 6f6e 7574 2061 6c73  s`...Coconut als
+00005dd0: 6f20 7072 6f76 6964 6573 2074 6865 2066  o provides the f
+00005de0: 6f6c 6c6f 7769 6e67 2063 6f6e 7665 6e69  ollowing conveni
+00005df0: 656e 6365 2063 6f6d 6d61 6e64 733a 0a0a  ence commands:..
+00005e00: 2d20 6063 6f63 6f6e 7574 202d 2d6a 7570  - `coconut --jup
+00005e10: 7974 6572 206e 6f74 6562 6f6f 6b60 2077  yter notebook` w
+00005e20: 696c 6c20 656e 7375 7265 2074 6861 7420  ill ensure that 
+00005e30: 7468 6520 436f 636f 6e75 7420 6b65 726e  the Coconut kern
+00005e40: 656c 2069 7320 6176 6169 6c61 626c 6520  el is available 
+00005e50: 616e 6420 6c61 756e 6368 2061 204a 7570  and launch a Jup
+00005e60: 7974 6572 2f49 5079 7468 6f6e 206e 6f74  yter/IPython not
+00005e70: 6562 6f6f 6b2e 0a2d 2060 636f 636f 6e75  ebook..- `coconu
+00005e80: 7420 2d2d 6a75 7079 7465 7220 636f 6e73  t --jupyter cons
+00005e90: 6f6c 6560 2077 696c 6c20 6c61 756e 6368  ole` will launch
+00005ea0: 2061 204a 7570 7974 6572 2f49 5079 7468   a Jupyter/IPyth
+00005eb0: 6f6e 2063 6f6e 736f 6c65 2075 7369 6e67  on console using
+00005ec0: 2074 6865 2043 6f63 6f6e 7574 206b 6572   the Coconut ker
+00005ed0: 6e65 6c2e 0a2d 2060 636f 636f 6e75 7420  nel..- `coconut 
+00005ee0: 2d2d 6a75 7079 7465 7220 6c61 6260 2077  --jupyter lab` w
+00005ef0: 696c 6c20 656e 7375 7265 2074 6861 7420  ill ensure that 
+00005f00: 7468 6520 436f 636f 6e75 7420 6b65 726e  the Coconut kern
+00005f10: 656c 2069 7320 6176 6169 6c61 626c 6520  el is available 
+00005f20: 616e 6420 6c61 756e 6368 205b 4a75 7079  and launch [Jupy
+00005f30: 7465 724c 6162 5d28 6874 7470 733a 2f2f  terLab](https://
+00005f40: 6769 7468 7562 2e63 6f6d 2f6a 7570 7974  github.com/jupyt
+00005f50: 6572 6c61 622f 6a75 7079 7465 726c 6162  erlab/jupyterlab
+00005f60: 292e 0a0a 4164 6469 7469 6f6e 616c 6c79  )...Additionally
+00005f70: 2c20 5b4a 7570 7974 6578 745d 2868 7474  , [Jupytext](htt
+00005f80: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00005f90: 6d77 6f75 7473 2f6a 7570 7974 6578 7429  mwouts/jupytext)
+00005fa0: 2063 6f6e 7461 696e 7320 7370 6563 6961   contains specia
+00005fb0: 6c20 7375 7070 6f72 7420 666f 7220 7468  l support for th
+00005fc0: 6520 436f 636f 6e75 7420 6b65 726e 656c  e Coconut kernel
+00005fd0: 2061 6e64 2043 6f63 6f6e 7574 2063 6f6e   and Coconut con
+00005fe0: 7461 696e 7320 7370 6563 6961 6c20 7375  tains special su
+00005ff0: 7070 6f72 7420 666f 7220 5b50 6170 6572  pport for [Paper
+00006000: 6d69 6c6c 5d28 6874 7470 733a 2f2f 7061  mill](https://pa
+00006010: 7065 726d 696c 6c2e 7265 6164 7468 6564  permill.readthed
+00006020: 6f63 732e 696f 2f65 6e2f 6c61 7465 7374  ocs.io/en/latest
+00006030: 2f29 2e0a 0a23 2323 2323 2045 7874 656e  /)...##### Exten
+00006040: 7369 6f6e 0a0a 4966 2043 6f63 6f6e 7574  sion..If Coconut
+00006050: 2069 7320 7573 6564 2061 7320 616e 2065   is used as an e
+00006060: 7874 656e 7369 6f6e 2c20 6120 7370 6563  xtension, a spec
+00006070: 6961 6c20 6d61 6769 6320 636f 6d6d 616e  ial magic comman
+00006080: 6420 7769 6c6c 2073 656e 6420 736e 6970  d will send snip
+00006090: 7065 7473 206f 6620 636f 6465 2074 6f20  pets of code to 
+000060a0: 6265 2065 7661 6c75 6174 6564 2075 7369  be evaluated usi
+000060b0: 6e67 2043 6f63 6f6e 7574 2069 6e73 7465  ng Coconut inste
+000060c0: 6164 206f 6620 4950 7974 686f 6e2c 2062  ad of IPython, b
+000060d0: 7574 2049 5079 7468 6f6e 2077 696c 6c20  ut IPython will 
+000060e0: 7374 696c 6c20 6265 2075 7365 6420 6173  still be used as
+000060f0: 2074 6865 2064 6566 6175 6c74 2e0a 0a54   the default...T
+00006100: 6865 206c 696e 6520 6d61 6769 6320 6025  he line magic `%
+00006110: 6c6f 6164 5f65 7874 2063 6f63 6f6e 7574  load_ext coconut
+00006120: 6020 7769 6c6c 206c 6f61 6420 436f 636f  ` will load Coco
+00006130: 6e75 7420 6173 2061 6e20 6578 7465 6e73  nut as an extens
+00006140: 696f 6e2c 2070 726f 7669 6469 6e67 2074  ion, providing t
+00006150: 6865 2060 2563 6f63 6f6e 7574 6020 616e  he `%coconut` an
+00006160: 6420 6025 2563 6f63 6f6e 7574 6020 6d61  d `%%coconut` ma
+00006170: 6769 6373 2061 6e64 2061 6464 696e 6720  gics and adding 
+00006180: 436f 636f 6e75 7420 6275 696c 742d 696e  Coconut built-in
+00006190: 732e 2054 6865 2060 2563 6f63 6f6e 7574  s. The `%coconut
+000061a0: 6020 6c69 6e65 206d 6167 6963 2077 696c  ` line magic wil
+000061b0: 6c20 7275 6e20 6120 6c69 6e65 206f 6620  l run a line of 
+000061c0: 436f 636f 6e75 7420 7769 7468 2064 6566  Coconut with def
+000061d0: 6175 6c74 2070 6172 616d 6574 6572 732c  ault parameters,
+000061e0: 2061 6e64 2074 6865 2060 2525 636f 636f   and the `%%coco
+000061f0: 6e75 7460 2062 6c6f 636b 206d 6167 6963  nut` block magic
+00006200: 2077 696c 6c20 7461 6b65 2063 6f6d 6d61   will take comma
+00006210: 6e64 2d6c 696e 6520 6172 6775 6d65 6e74  nd-line argument
+00006220: 7320 6f6e 2074 6865 2066 6972 7374 206c  s on the first l
+00006230: 696e 652c 2061 6e64 2072 756e 2061 6e79  ine, and run any
+00006240: 2043 6f63 6f6e 7574 2063 6f64 6520 7072   Coconut code pr
+00006250: 6f76 6964 6564 2069 6e20 7468 6520 7265  ovided in the re
+00006260: 7374 206f 6620 7468 6520 6365 6c6c 2077  st of the cell w
+00006270: 6974 6820 7468 6f73 6520 7061 7261 6d65  ith those parame
+00006280: 7465 7273 2e0a 0a5f 4e6f 7465 3a20 556e  ters..._Note: Un
+00006290: 6c69 6b65 2074 6865 206e 6f72 6d61 6c20  like the normal 
+000062a0: 436f 636f 6e75 7420 636f 6d6d 616e 642d  Coconut command-
+000062b0: 6c69 6e65 2c20 6025 2563 6f63 6f6e 7574  line, `%%coconut
+000062c0: 6020 6465 6661 756c 7473 2074 6f20 7468  ` defaults to th
+000062d0: 6520 6073 7973 6020 7461 7267 6574 2072  e `sys` target r
+000062e0: 6174 6865 7220 7468 616e 2074 6865 2060  ather than the `
+000062f0: 756e 6976 6572 7361 6c60 2074 6172 6765  universal` targe
+00006300: 742e 5f0a 0a23 2323 2320 5479 7065 2043  t._..#### Type C
+00006310: 6865 636b 696e 670a 0a23 2323 2323 204d  hecking..##### M
+00006320: 7950 7920 496e 7465 6772 6174 696f 6e0a  yPy Integration.
+00006330: 0a43 6f63 6f6e 7574 2068 6173 2074 6865  .Coconut has the
+00006340: 2061 6269 6c69 7479 2074 6f20 696e 7465   ability to inte
+00006350: 6772 6174 6520 7769 7468 205b 4d79 5079  grate with [MyPy
+00006360: 5d28 6874 7470 3a2f 2f6d 7970 792d 6c61  ](http://mypy-la
+00006370: 6e67 2e6f 7267 2f29 2074 6f20 7072 6f76  ng.org/) to prov
+00006380: 6964 6520 6f70 7469 6f6e 616c 2073 7461  ide optional sta
+00006390: 7469 6320 7479 7065 5f63 6865 636b 696e  tic type_checkin
+000063a0: 672c 2069 6e63 6c75 6469 6e67 2066 6f72  g, including for
+000063b0: 2061 6c6c 2043 6f63 6f6e 7574 2062 7569   all Coconut bui
+000063c0: 6c74 2d69 6e73 2e20 5369 6d70 6c79 2070  lt-ins. Simply p
+000063d0: 6173 7320 602d 2d6d 7970 7960 2074 6f20  ass `--mypy` to 
+000063e0: 6063 6f63 6f6e 7574 6020 746f 2065 6e61  `coconut` to ena
+000063f0: 626c 6520 4d79 5079 2069 6e74 6567 7261  ble MyPy integra
+00006400: 7469 6f6e 2c20 7468 6f75 6768 2062 6520  tion, though be 
+00006410: 6361 7265 6675 6c20 746f 2070 6173 7320  careful to pass 
+00006420: 6974 206f 6e6c 7920 6173 2074 6865 206c  it only as the l
+00006430: 6173 7420 6172 6775 6d65 6e74 2c20 7369  ast argument, si
+00006440: 6e63 6520 616c 6c20 6172 6775 6d65 6e74  nce all argument
+00006450: 7320 6166 7465 7220 602d 2d6d 7970 7960  s after `--mypy`
+00006460: 2061 7265 2070 6173 7365 6420 746f 2060   are passed to `
+00006470: 6d79 7079 602c 206e 6f74 2043 6f63 6f6e  mypy`, not Cocon
+00006480: 7574 2e0a 0a59 6f75 2063 616e 2061 6c73  ut...You can als
+00006490: 6f20 7275 6e20 606d 7970 7960 e280 946f  o run `mypy`...o
+000064a0: 7220 616e 7920 6f74 6865 7220 7374 6174  r any other stat
+000064b0: 6963 2074 7970 6520 6368 6563 6b65 72e2  ic type checker.
+000064c0: 8094 6469 7265 6374 6c79 206f 6e20 7468  ..directly on th
+000064d0: 6520 636f 6d70 696c 6564 2043 6f63 6f6e  e compiled Cocon
+000064e0: 7574 2e20 4966 2074 6865 2073 7461 7469  ut. If the stati
+000064f0: 6320 7479 7065 2063 6865 636b 6572 2069  c type checker i
+00006500: 7320 756e 6162 6c65 2074 6f20 6669 6e64  s unable to find
+00006510: 2074 6865 206e 6563 6573 7361 7279 2073   the necessary s
+00006520: 7475 6220 6669 6c65 732c 2068 6f77 6576  tub files, howev
+00006530: 6572 2c20 7468 656e 2079 6f75 206d 6179  er, then you may
+00006540: 206e 6565 6420 746f 3a0a 0a31 2e20 7275   need to:..1. ru
+00006550: 6e20 6063 6f63 6f6e 7574 202d 2d6d 7970  n `coconut --myp
+00006560: 7920 696e 7374 616c 6c60 2061 6e64 0a32  y install` and.2
+00006570: 2e20 7465 6c6c 2079 6f75 7220 7374 6174  . tell your stat
+00006580: 6963 2074 7970 6520 6368 6563 6b65 7220  ic type checker 
+00006590: 6f66 2063 686f 6963 6520 746f 206c 6f6f  of choice to loo
+000065a0: 6b20 696e 2060 7e2f 2e63 6f63 6f6e 7574  k in `~/.coconut
+000065b0: 5f73 7475 6273 6020 666f 7220 7374 7562  _stubs` for stub
+000065c0: 2066 696c 6573 2028 666f 7220 606d 7970   files (for `myp
+000065d0: 7960 2c20 7468 6973 2069 7320 646f 6e65  y`, this is done
+000065e0: 2062 7920 6164 6469 6e67 2069 7420 746f   by adding it to
+000065f0: 2079 6f75 7220 5b60 4d59 5059 5041 5448   your [`MYPYPATH
+00006600: 605d 2868 7474 7073 3a2f 2f6d 7970 792e  `](https://mypy.
+00006610: 7265 6164 7468 6564 6f63 732e 696f 2f65  readthedocs.io/e
+00006620: 6e2f 6c61 7465 7374 2f72 756e 6e69 6e67  n/latest/running
+00006630: 5f6d 7970 792e 6874 6d6c 2368 6f77 2d69  _mypy.html#how-i
+00006640: 6d70 6f72 7473 2d61 7265 2d66 6f75 6e64  mports-are-found
+00006650: 2929 2e0a 0a54 6f20 6469 7374 7269 6275  ))...To distribu
+00006660: 7465 2079 6f75 7220 636f 6465 2077 6974  te your code wit
+00006670: 6820 6368 6563 6b61 626c 6520 7479 7065  h checkable type
+00006680: 2061 6e6e 6f74 6174 696f 6e73 2c20 796f   annotations, yo
+00006690: 7527 6c6c 206e 6565 6420 746f 2069 6e63  u'll need to inc
+000066a0: 6c75 6465 2060 636f 636f 6e75 7460 2061  lude `coconut` a
+000066b0: 7320 6120 6465 7065 6e64 656e 6379 2028  s a dependency (
+000066c0: 7468 6f75 6768 2061 2060 2d2d 6e6f 2d64  though a `--no-d
+000066d0: 6570 7360 2069 6e73 7461 6c6c 2073 686f  eps` install sho
+000066e0: 756c 6420 6265 2066 696e 6529 2c20 6173  uld be fine), as
+000066f0: 2069 6e73 7461 6c6c 696e 6720 6974 2069   installing it i
+00006700: 7320 6e65 6365 7373 6172 7920 746f 206d  s necessary to m
+00006710: 616b 6520 7468 6520 7265 7175 6973 6974  ake the requisit
+00006720: 6520 7374 7562 2066 696c 6573 2061 7661  e stub files ava
+00006730: 696c 6162 6c65 2e20 596f 7527 6c6c 2061  ilable. You'll a
+00006740: 6c73 6f20 7072 6f62 6162 6c79 2077 616e  lso probably wan
+00006750: 7420 746f 2069 6e63 6c75 6465 2061 205b  t to include a [
+00006760: 6070 792e 7479 7065 6460 5d28 6874 7470  `py.typed`](http
+00006770: 733a 2f2f 7065 7073 2e70 7974 686f 6e2e  s://peps.python.
+00006780: 6f72 672f 7065 702d 3035 3631 2f29 2066  org/pep-0561/) f
+00006790: 696c 652e 0a0a 2323 2323 2320 5379 6e74  ile...##### Synt
+000067a0: 6178 0a0a 546f 2065 7870 6c69 6369 746c  ax..To explicitl
+000067b0: 7920 616e 6e6f 7461 7465 2079 6f75 7220  y annotate your 
+000067c0: 636f 6465 2077 6974 6820 7479 7065 7320  code with types 
+000067d0: 746f 2062 6520 6368 6563 6b65 642c 2043  to be checked, C
+000067e0: 6f63 6f6e 7574 2073 7570 706f 7274 733a  oconut supports:
+000067f0: 0a2a 205b 5079 7468 6f6e 2033 2066 756e  .* [Python 3 fun
+00006800: 6374 696f 6e20 7479 7065 2061 6e6e 6f74  ction type annot
+00006810: 6174 696f 6e73 5d28 6874 7470 733a 2f2f  ations](https://
+00006820: 7777 772e 7079 7468 6f6e 2e6f 7267 2f64  www.python.org/d
+00006830: 6576 2f70 6570 732f 7065 702d 3034 3834  ev/peps/pep-0484
+00006840: 2f29 2c0a 2a20 5b50 7974 686f 6e20 332e  /),.* [Python 3.
+00006850: 3620 7661 7269 6162 6c65 2074 7970 6520  6 variable type 
+00006860: 616e 6e6f 7461 7469 6f6e 735d 2868 7474  annotations](htt
+00006870: 7073 3a2f 2f77 7777 2e70 7974 686f 6e2e  ps://www.python.
+00006880: 6f72 672f 6465 762f 7065 7073 2f70 6570  org/dev/peps/pep
+00006890: 2d30 3532 362f 292c 0a2a 205b 5045 5020  -0526/),.* [PEP 
+000068a0: 3639 3520 7479 7065 2070 6172 616d 6574  695 type paramet
+000068b0: 6572 2073 796e 7461 785d 2823 7479 7065  er syntax](#type
+000068c0: 2d70 6172 616d 6574 6572 2d73 796e 7461  -parameter-synta
+000068d0: 7829 2066 6f72 2065 6173 696c 7920 6164  x) for easily ad
+000068e0: 6469 6e67 2074 7970 6520 7061 7261 6d65  ding type parame
+000068f0: 7465 7273 2074 6f20 636c 6173 7365 732c  ters to classes,
+00006900: 2066 756e 6374 696f 6e73 2c20 5b60 6461   functions, [`da
+00006910: 7461 6020 7479 7065 735d 2823 6461 7461  ta` types](#data
+00006920: 292c 2061 6e64 2074 7970 6520 616c 6961  ), and type alia
+00006930: 7365 732c 0a2a 2043 6f63 6f6e 7574 2773  ses,.* Coconut's
+00006940: 206f 776e 205b 656e 6861 6e63 6564 2074   own [enhanced t
+00006950: 7970 6520 616e 6e6f 7461 7469 6f6e 2073  ype annotation s
+00006960: 796e 7461 785d 2823 656e 6861 6e63 6564  yntax](#enhanced
+00006970: 2d74 7970 652d 616e 6e6f 7461 7469 6f6e  -type-annotation
+00006980: 292c 2061 6e64 0a2a 2043 6f63 6f6e 7574  ), and.* Coconut
+00006990: 2773 205b 7072 6f74 6f63 6f6c 2069 6e74  's [protocol int
+000069a0: 6572 7365 6374 696f 6e20 6f70 6572 6174  ersection operat
+000069b0: 6f72 5d28 2370 726f 746f 636f 6c2d 696e  or](#protocol-in
+000069c0: 7465 7273 6563 7469 6f6e 292e 0a0a 4279  tersection)...By
+000069d0: 2064 6566 6175 6c74 2c20 616c 6c20 7479   default, all ty
+000069e0: 7065 2061 6e6e 6f74 6174 696f 6e73 2061  pe annotations a
+000069f0: 7265 2063 6f6d 7069 6c65 6420 746f 2050  re compiled to P
+00006a00: 7974 686f 6e2d 322d 636f 6d70 6174 6962  ython-2-compatib
+00006a10: 6c65 2074 7970 6520 636f 6d6d 656e 7473  le type comments
+00006a20: 2c20 7768 6963 6820 6d65 616e 7320 6974  , which means it
+00006a30: 2061 6c6c 2077 6f72 6b73 206f 6e20 616e   all works on an
+00006a40: 7920 5079 7468 6f6e 2076 6572 7369 6f6e  y Python version
+00006a50: 2e0a 0a53 6f6d 6574 696d 6573 2c20 4d79  ...Sometimes, My
+00006a60: 5079 2077 696c 6c20 6e6f 7420 6b6e 6f77  Py will not know
+00006a70: 2068 6f77 2074 6f20 6861 6e64 6c65 2063   how to handle c
+00006a80: 6572 7461 696e 2043 6f63 6f6e 7574 2063  ertain Coconut c
+00006a90: 6f6e 7374 7275 6374 732c 2073 7563 6820  onstructs, such 
+00006aa0: 6173 2060 6164 6470 6174 7465 726e 602e  as `addpattern`.
+00006ab0: 2046 6f72 2074 6865 2060 6164 6470 6174   For the `addpat
+00006ac0: 7465 726e 6020 6361 7365 2c20 6974 2069  tern` case, it i
+00006ad0: 7320 7265 636f 6d6d 656e 6465 6420 746f  s recommended to
+00006ae0: 2070 6173 7320 602d 2d61 6c6c 6f77 2d72   pass `--allow-r
+00006af0: 6564 6566 696e 6974 696f 6e60 2074 6f20  edefinition` to 
+00006b00: 4d79 5079 2028 692e 652e 2072 756e 2060  MyPy (i.e. run `
+00006b10: 636f 636f 6e75 7420 3c61 7267 733e 202d  coconut <args> -
+00006b20: 2d6d 7970 7920 2d2d 616c 6c6f 772d 7265  -mypy --allow-re
+00006b30: 6465 6669 6e69 7469 6f6e 6029 2c20 7468  definition`), th
+00006b40: 6f75 6768 2069 6e20 736f 6d65 2063 6173  ough in some cas
+00006b50: 6573 2060 2d2d 616c 6c6f 772d 7265 6465  es `--allow-rede
+00006b60: 6669 6e69 7469 6f6e 6020 6d61 7920 6e6f  finition` may no
+00006b70: 7420 6265 2073 7566 6669 6369 656e 742e  t be sufficient.
+00006b80: 2049 6e20 7468 6174 2063 6173 652c 2065   In that case, e
+00006b90: 6974 6865 7220 6869 6465 2074 6865 206f  ither hide the o
+00006ba0: 6666 656e 6469 6e67 2063 6f64 6520 7573  ffending code us
+00006bb0: 696e 6720 5b60 5459 5045 5f43 4845 434b  ing [`TYPE_CHECK
+00006bc0: 494e 4760 5d28 2374 7970 655f 6368 6563  ING`](#type_chec
+00006bd0: 6b69 6e67 2920 6f72 2070 7574 2061 2060  king) or put a `
+00006be0: 2320 7479 7065 3a20 6967 6e6f 7265 6020  # type: ignore` 
+00006bf0: 636f 6d6d 656e 7420 6f6e 2074 6865 2043  comment on the C
+00006c00: 6f63 6f6e 7574 206c 696e 6520 7768 6963  oconut line whic
+00006c10: 6820 6973 2067 656e 6572 6174 696e 6720  h is generating 
+00006c20: 7468 6520 6c69 6e65 204d 7950 7920 6973  the line MyPy is
+00006c30: 2063 6f6d 706c 6169 6e69 6e67 2061 626f   complaining abo
+00006c40: 7574 2061 6e64 2074 6865 2063 6f6d 6d65  ut and the comme
+00006c50: 6e74 2077 696c 6c20 6265 2061 6464 6564  nt will be added
+00006c60: 2074 6f20 6576 6572 7920 6765 6e65 7261   to every genera
+00006c70: 7465 6420 6c69 6e65 2e0a 0a23 2323 2323  ted line...#####
+00006c80: 2049 6e74 6572 7072 6574 6572 0a0a 436f   Interpreter..Co
+00006c90: 636f 6e75 7420 6576 656e 2073 7570 706f  conut even suppo
+00006ca0: 7274 7320 602d 2d6d 7970 7960 2069 6e20  rts `--mypy` in 
+00006cb0: 7468 6520 696e 7465 7270 7265 7465 722c  the interpreter,
+00006cc0: 2077 6869 6368 2077 696c 6c20 696e 7465   which will inte
+00006cd0: 6c6c 6967 656e 746c 7920 7363 616e 2065  lligently scan e
+00006ce0: 6163 6820 6e65 7720 6c69 6e65 206f 6620  ach new line of 
+00006cf0: 636f 6465 2c20 696e 2074 6865 2063 6f6e  code, in the con
+00006d00: 7465 7874 206f 6620 7072 6576 696f 7573  text of previous
+00006d10: 206c 696e 6573 2c20 666f 7220 6e65 776c   lines, for newl
+00006d20: 792d 696e 7472 6f64 7563 6564 204d 7950  y-introduced MyP
+00006d30: 7920 6572 726f 7273 2e20 466f 7220 6578  y errors. For ex
+00006d40: 616d 706c 653a 0a60 6060 636f 636f 6e75  ample:.```coconu
+00006d50: 745f 7079 636f 6e0a 3e3e 3e20 613a 2073  t_pycon.>>> a: s
+00006d60: 7472 203d 2063 6f75 6e74 2829 5b30 5d0a  tr = count()[0].
+00006d70: 3c73 7472 696e 673e 3a31 343a 2065 7272  <string>:14: err
+00006d80: 6f72 3a20 496e 636f 6d70 6174 6962 6c65  or: Incompatible
+00006d90: 2074 7970 6573 2069 6e20 6173 7369 676e   types in assign
+00006da0: 6d65 6e74 2028 6578 7072 6573 7369 6f6e  ment (expression
+00006db0: 2068 6173 2074 7970 6520 2269 6e74 222c   has type "int",
+00006dc0: 2076 6172 6961 626c 6520 6861 7320 7479   variable has ty
+00006dd0: 7065 2022 7374 7222 290a 3e3e 3e20 7265  pe "str").>>> re
+00006de0: 7665 616c 5f74 7970 6528 6129 0a30 0a3c  veal_type(a).0.<
+00006df0: 7374 7269 6e67 3e3a 3139 3a20 6e6f 7465  string>:19: note
+00006e00: 3a20 5265 7665 616c 6564 2074 7970 6520  : Revealed type 
+00006e10: 6973 2027 6275 696c 7469 6e73 2e75 6e69  is 'builtins.uni
+00006e20: 636f 6465 270a 6060 600a 5f46 6f72 206d  code'.```._For m
+00006e30: 6f72 6520 696e 666f 726d 6174 696f 6e20  ore information 
+00006e40: 6f6e 2060 7265 7665 616c 5f74 7970 6560  on `reveal_type`
+00006e50: 2c20 7365 6520 5b60 7265 7665 616c 5f74  , see [`reveal_t
+00006e60: 7970 6560 2061 6e64 2060 7265 7665 616c  ype` and `reveal
+00006e70: 5f6c 6f63 616c 7360 5d28 2372 6576 6561  _locals`](#revea
+00006e80: 6c2d 7479 7065 2d61 6e64 2d72 6576 6561  l-type-and-revea
+00006e90: 6c2d 6c6f 6361 6c73 292e 5f0a 0a23 2323  l-locals)._..###
+00006ea0: 2320 606e 756d 7079 6020 496e 7465 6772  # `numpy` Integr
+00006eb0: 6174 696f 6e0a 0a54 6f20 616c 6c6f 7720  ation..To allow 
+00006ec0: 666f 7220 6265 7474 6572 2075 7365 206f  for better use o
+00006ed0: 6620 5b60 6e75 6d70 7960 5d28 6874 7470  f [`numpy`](http
+00006ee0: 733a 2f2f 6e75 6d70 792e 6f72 672f 2920  s://numpy.org/) 
+00006ef0: 6f62 6a65 6374 7320 696e 2043 6f63 6f6e  objects in Cocon
+00006f00: 7574 2c20 616c 6c20 636f 6d70 696c 6564  ut, all compiled
+00006f10: 2043 6f63 6f6e 7574 2063 6f64 6520 7769   Coconut code wi
+00006f20: 6c6c 2064 6f20 6120 6e75 6d62 6572 206f  ll do a number o
+00006f30: 6620 7370 6563 6961 6c20 7468 696e 6773  f special things
+00006f40: 2074 6f20 6265 7474 6572 2069 6e74 6567   to better integ
+00006f50: 7261 7465 2077 6974 6820 606e 756d 7079  rate with `numpy
+00006f60: 6020 2869 6620 606e 756d 7079 6020 6973  ` (if `numpy` is
+00006f70: 2061 7661 696c 6162 6c65 2074 6f20 696d   available to im
+00006f80: 706f 7274 2077 6865 6e20 7468 6520 636f  port when the co
+00006f90: 6465 2069 7320 7275 6e29 2e20 5370 6563  de is run). Spec
+00006fa0: 6966 6963 616c 6c79 3a0a 0a2d 2043 6f63  ifically:..- Coc
+00006fb0: 6f6e 7574 2773 205b 6d75 6c74 6964 696d  onut's [multidim
+00006fc0: 656e 7369 6f6e 616c 2061 7272 6179 206c  ensional array l
+00006fd0: 6974 6572 616c 2061 6e64 2061 7272 6179  iteral and array
+00006fe0: 2063 6f6e 6361 7465 6e61 7469 6f6e 2073   concatenation s
+00006ff0: 796e 7461 785d 2823 6d75 6c74 6964 696d  yntax](#multidim
+00007000: 656e 7369 6f6e 616c 2d61 7272 6179 2d6c  ensional-array-l
+00007010: 6974 6572 616c 636f 6e63 6174 656e 6174  iteralconcatenat
+00007020: 696f 6e2d 7379 6e74 6178 2920 7375 7070  ion-syntax) supp
+00007030: 6f72 7473 2060 6e75 6d70 7960 206f 626a  orts `numpy` obj
+00007040: 6563 7473 2c20 696e 636c 7564 696e 6720  ects, including 
+00007050: 7573 696e 6720 6661 7374 2060 6e75 6d70  using fast `nump
+00007060: 7960 2063 6f6e 6361 7465 6e61 7469 6f6e  y` concatenation
+00007070: 206d 6574 686f 6473 2069 6620 6769 7665   methods if give
+00007080: 6e20 606e 756d 7079 6020 6172 7261 7973  n `numpy` arrays
+00007090: 2072 6174 6865 7220 7468 616e 2043 6f63   rather than Coc
+000070a0: 6f6e 7574 2773 2064 6566 6175 6c74 206d  onut's default m
+000070b0: 7563 6820 736c 6f77 6572 2069 6d70 6c65  uch slower imple
+000070c0: 6d65 6e74 6174 696f 6e20 6275 696c 7420  mentation built 
+000070d0: 666f 7220 5079 7468 6f6e 206c 6973 7473  for Python lists
+000070e0: 206f 6620 6c69 7374 732e 0a2d 204d 616e   of lists..- Man
+000070f0: 7920 6f66 2043 6f63 6f6e 7574 2773 2062  y of Coconut's b
+00007100: 7569 6c74 2d69 6e73 2069 6e63 6c75 6465  uilt-ins include
+00007110: 2073 7065 6369 616c 2060 6e75 6d70 7960   special `numpy`
+00007120: 2073 7570 706f 7274 2c20 7370 6563 6966   support, specif
+00007130: 6963 616c 6c79 3a0a 2020 2a20 5b60 666d  ically:.  * [`fm
+00007140: 6170 605d 2823 666d 6170 2920 7769 6c6c  ap`](#fmap) will
+00007150: 2075 7365 205b 606e 756d 7079 2e76 6563   use [`numpy.vec
+00007160: 746f 7269 7a65 605d 2868 7474 7073 3a2f  torize`](https:/
+00007170: 2f6e 756d 7079 2e6f 7267 2f64 6f63 2f73  /numpy.org/doc/s
+00007180: 7461 626c 652f 7265 6665 7265 6e63 652f  table/reference/
+00007190: 6765 6e65 7261 7465 642f 6e75 6d70 792e  generated/numpy.
+000071a0: 7665 6374 6f72 697a 652e 6874 6d6c 2920  vectorize.html) 
+000071b0: 746f 206d 6170 206f 7665 7220 606e 756d  to map over `num
+000071c0: 7079 6020 6172 7261 7973 2e0a 2020 2a20  py` arrays..  * 
+000071d0: 5b60 6d75 6c74 695f 656e 756d 6572 6174  [`multi_enumerat
+000071e0: 6560 5d28 236d 756c 7469 5f65 6e75 6d65  e`](#multi_enume
+000071f0: 7261 7465 2920 616c 6c6f 7773 2066 6f72  rate) allows for
+00007200: 2065 6173 696c 7920 6c6f 6f70 696e 6720   easily looping 
+00007210: 6f76 6572 2061 6c6c 2074 6865 206d 756c  over all the mul
+00007220: 7469 2d64 696d 656e 7369 6f6e 616c 2069  ti-dimensional i
+00007230: 6e64 6963 6573 2069 6e20 6120 606e 756d  ndices in a `num
+00007240: 7079 6020 6172 7261 792e 0a20 202a 205b  py` array..  * [
+00007250: 6063 6172 7465 7369 616e 5f70 726f 6475  `cartesian_produ
+00007260: 6374 605d 2823 6361 7274 6573 6961 6e5f  ct`](#cartesian_
+00007270: 7072 6f64 7563 7429 2063 616e 2063 6f6d  product) can com
+00007280: 7075 7465 2074 6865 2043 6172 7465 7369  pute the Cartesi
+00007290: 616e 2070 726f 6475 6374 206f 6620 6769  an product of gi
+000072a0: 7665 6e20 606e 756d 7079 6020 6172 7261  ven `numpy` arra
+000072b0: 7973 2061 7320 6120 606e 756d 7079 6020  ys as a `numpy` 
+000072c0: 6172 7261 792e 0a20 202a 205b 6061 6c6c  array..  * [`all
+000072d0: 5f65 7175 616c 605d 2823 616c 6c5f 6571  _equal`](#all_eq
+000072e0: 7561 6c29 2061 6c6c 6f77 7320 666f 7220  ual) allows for 
+000072f0: 6561 7369 6c79 2063 6865 636b 696e 6720  easily checking 
+00007300: 6966 2061 6c6c 2074 6865 2065 6c65 6d65  if all the eleme
+00007310: 6e74 7320 696e 2061 2060 6e75 6d70 7960  nts in a `numpy`
+00007320: 2061 7272 6179 2061 7265 2074 6865 2073   array are the s
+00007330: 616d 652e 0a2d 205b 606e 756d 7079 2e6e  ame..- [`numpy.n
+00007340: 6461 7272 6179 605d 2868 7474 7073 3a2f  darray`](https:/
+00007350: 2f6e 756d 7079 2e6f 7267 2f64 6f63 2f73  /numpy.org/doc/s
+00007360: 7461 626c 652f 7265 6665 7265 6e63 652f  table/reference/
+00007370: 6765 6e65 7261 7465 642f 6e75 6d70 792e  generated/numpy.
+00007380: 6e64 6172 7261 792e 6874 6d6c 2920 6973  ndarray.html) is
+00007390: 2072 6567 6973 7465 7265 6420 6173 2061   registered as a
+000073a0: 205b 6063 6f6c 6c65 6374 696f 6e73 2e61   [`collections.a
+000073b0: 6263 2e53 6571 7565 6e63 6560 5d28 6874  bc.Sequence`](ht
+000073c0: 7470 733a 2f2f 646f 6373 2e70 7974 686f  tps://docs.pytho
+000073d0: 6e2e 6f72 672f 332f 6c69 6272 6172 792f  n.org/3/library/
+000073e0: 636f 6c6c 6563 7469 6f6e 732e 6162 632e  collections.abc.
+000073f0: 6874 6d6c 2363 6f6c 6c65 6374 696f 6e73  html#collections
+00007400: 2e61 6263 2e53 6571 7565 6e63 6529 2c20  .abc.Sequence), 
+00007410: 656e 6162 6c69 6e67 2069 7420 746f 2062  enabling it to b
+00007420: 6520 7573 6564 2069 6e20 5b73 6571 7565  e used in [seque
+00007430: 6e63 6520 7061 7474 6572 6e73 5d28 2373  nce patterns](#s
+00007440: 656d 616e 7469 6373 2d73 7065 6369 6669  emantics-specifi
+00007450: 6361 7469 6f6e 292e 0a2d 2060 6e75 6d70  cation)..- `nump
+00007460: 7960 206f 626a 6563 7473 2061 7265 2061  y` objects are a
+00007470: 6c6c 6f77 6564 2073 6561 6d6c 6573 736c  llowed seamlessl
+00007480: 7920 696e 2043 6f63 6f6e 7574 2773 205b  y in Coconut's [
+00007490: 696d 706c 6963 6974 2063 6f65 6666 6963  implicit coeffic
+000074a0: 6965 6e74 2073 796e 7461 785d 2823 696d  ient syntax](#im
+000074b0: 706c 6963 6974 2d66 756e 6374 696f 6e2d  plicit-function-
+000074c0: 6170 706c 6963 6174 696f 6e2d 616e 642d  application-and-
+000074d0: 636f 6566 6669 6369 656e 7473 292c 2061  coefficients), a
+000074e0: 6c6c 6f77 696e 6720 7468 6520 7573 6520  llowing the use 
+000074f0: 6f66 2065 2e67 2e20 6041 2042 2a2a 3260  of e.g. `A B**2`
+00007500: 2073 686f 7274 6861 6e64 2066 6f72 2060   shorthand for `
+00007510: 4120 2a20 422a 2a32 6020 7768 656e 2060  A * B**2` when `
+00007520: 4160 2061 6e64 2060 4260 2061 7265 2060  A` and `B` are `
+00007530: 6e75 6d70 7960 2061 7272 6179 7320 286e  numpy` arrays (n
+00007540: 6f74 653a 202a 2a6e 6f74 2a2a 2060 4120  ote: **not** `A 
+00007550: 4020 422a 2a32 6029 2e0a 2d20 436f 636f  @ B**2`)..- Coco
+00007560: 6e75 7420 7375 7070 6f72 7473 2060 4060  nut supports `@`
+00007570: 2066 6f72 206d 6174 7269 7820 6d75 6c74   for matrix mult
+00007580: 6970 6c69 6361 7469 6f6e 206f 6620 606e  iplication of `n
+00007590: 756d 7079 6020 6172 7261 7973 206f 6e20  umpy` arrays on 
+000075a0: 616c 6c20 5079 7468 6f6e 2076 6572 7369  all Python versi
+000075b0: 6f6e 732c 2061 7320 7765 6c6c 2061 7320  ons, as well as 
+000075c0: 7375 7070 6c79 696e 6720 7468 6520 6028  supplying the `(
+000075d0: 4029 6020 5b6f 7065 7261 746f 7220 6675  @)` [operator fu
+000075e0: 6e63 7469 6f6e 5d28 236f 7065 7261 746f  nction](#operato
+000075f0: 722d 6675 6e63 7469 6f6e 7329 2e0a 0a41  r-functions)...A
+00007600: 6464 6974 696f 6e61 6c6c 792c 2043 6f63  dditionally, Coc
+00007610: 6f6e 7574 2070 726f 7669 6465 7320 7468  onut provides th
+00007620: 6520 6578 6163 7420 7361 6d65 2073 7570  e exact same sup
+00007630: 706f 7274 2066 6f72 205b 6070 616e 6461  port for [`panda
+00007640: 7360 5d28 6874 7470 733a 2f2f 7061 6e64  s`](https://pand
+00007650: 6173 2e70 7964 6174 612e 6f72 672f 292c  as.pydata.org/),
+00007660: 205b 6070 7974 6f72 6368 605d 2868 7474   [`pytorch`](htt
+00007670: 7073 3a2f 2f70 7974 6f72 6368 2e6f 7267  ps://pytorch.org
+00007680: 2f29 2c20 616e 6420 5b60 6a61 782e 6e75  /), and [`jax.nu
+00007690: 6d70 7960 5d28 6874 7470 733a 2f2f 6a61  mpy`](https://ja
+000076a0: 782e 7265 6164 7468 6564 6f63 732e 696f  x.readthedocs.io
+000076b0: 2f65 6e2f 6c61 7465 7374 2f6a 6178 2e6e  /en/latest/jax.n
+000076c0: 756d 7079 2e68 746d 6c29 2c20 696e 636c  umpy.html), incl
+000076d0: 7564 696e 6720 7573 696e 6720 6070 616e  uding using `pan
+000076e0: 6461 7360 2f60 6a61 7860 2d73 7065 6369  das`/`jax`-speci
+000076f0: 6669 6320 6d65 7468 6f64 7320 6f76 6572  fic methods over
+00007700: 2060 6e75 6d70 7960 206d 6574 686f 6473   `numpy` methods
+00007710: 2077 6865 6e20 6769 7665 6e20 6070 616e   when given `pan
+00007720: 6461 7360 2f60 6a61 7860 206f 626a 6563  das`/`jax` objec
+00007730: 7473 2e0a 0a23 2323 2320 6078 6f6e 7368  ts...#### `xonsh
+00007740: 6020 5375 7070 6f72 740a 0a43 6f63 6f6e  ` Support..Cocon
+00007750: 7574 2069 6e74 6567 7261 7465 7320 7769  ut integrates wi
+00007760: 7468 205b 6078 6f6e 7368 605d 2868 7474  th [`xonsh`](htt
+00007770: 7073 3a2f 2f78 6f6e 2e73 682f 2920 746f  ps://xon.sh/) to
+00007780: 2061 6c6c 6f77 2074 6865 2075 7365 206f   allow the use o
+00007790: 6620 436f 636f 6e75 7420 636f 6465 2064  f Coconut code d
+000077a0: 6972 6563 746c 7920 6672 6f6d 2079 6f75  irectly from you
+000077b0: 7220 636f 6d6d 616e 6420 6c69 6e65 2e20  r command line. 
+000077c0: 546f 2075 7365 2043 6f63 6f6e 7574 2069  To use Coconut i
+000077d0: 6e20 6078 6f6e 7368 602c 2073 696d 706c  n `xonsh`, simpl
+000077e0: 7920 6070 6970 2069 6e73 7461 6c6c 2063  y `pip install c
+000077f0: 6f63 6f6e 7574 6020 7368 6f75 6c64 2062  oconut` should b
+00007800: 6520 616c 6c20 796f 7520 6e65 6564 2074  e all you need t
+00007810: 6f20 656e 6162 6c65 2074 6865 2075 7365  o enable the use
+00007820: 206f 6620 436f 636f 6e75 7420 7379 6e74   of Coconut synt
+00007830: 6178 2069 6e20 7468 6520 6078 6f6e 7368  ax in the `xonsh
+00007840: 6020 7368 656c 6c2e 2049 6e20 736f 6d65  ` shell. In some
+00007850: 2063 6972 6375 6d73 7461 6e63 6573 2c20   circumstances, 
+00007860: 696e 2070 6172 7469 6375 6c61 7220 6465  in particular de
+00007870: 7065 6e64 696e 6720 6f6e 2074 6865 2069  pending on the i
+00007880: 6e73 7461 6c6c 6564 2060 786f 6e73 6860  nstalled `xonsh`
+00007890: 2076 6572 7369 6f6e 2c20 6164 6469 6e67   version, adding
+000078a0: 2060 786f 6e74 7269 6220 6c6f 6164 2063   `xontrib load c
+000078b0: 6f63 6f6e 7574 6020 746f 2079 6f75 7220  oconut` to your 
+000078c0: 5b60 786f 6e73 6872 6360 5d28 6874 7470  [`xonshrc`](http
+000078d0: 733a 2f2f 786f 6e2e 7368 2f78 6f6e 7368  s://xon.sh/xonsh
+000078e0: 7263 2e68 746d 6c29 2066 696c 6520 6d69  rc.html) file mi
+000078f0: 6768 7420 6265 206e 6563 6573 7361 7279  ght be necessary
+00007900: 2e0a 0a46 6f72 2061 6e20 6578 616d 706c  ...For an exampl
+00007910: 6520 6f66 2075 7369 6e67 2043 6f63 6f6e  e of using Cocon
+00007920: 7574 2066 726f 6d20 6078 6f6e 7368 603a  ut from `xonsh`:
+00007930: 0a60 6060 0a75 7365 7240 636f 6d70 7574  .```.user@comput
+00007940: 6572 207e 2024 2078 6f6e 7472 6962 206c  er ~ $ xontrib l
+00007950: 6f61 6420 636f 636f 6e75 740a 7573 6572  oad coconut.user
+00007960: 4063 6f6d 7075 7465 7220 7e20 2420 6364  @computer ~ $ cd
+00007970: 202e 2f66 696c 6573 0a75 7365 7240 636f   ./files.user@co
+00007980: 6d70 7574 6572 207e 2024 2024 286c 7320  mputer ~ $ $(ls 
+00007990: 2d6c 6129 207c 3e20 2e73 706c 6974 6c69  -la) |> .splitli
+000079a0: 6e65 7328 2920 7c3e 206c 656e 0a33 300a  nes() |> len.30.
+000079b0: 6060 600a 0a4e 6f74 6520 7468 6174 2074  ```..Note that t
+000079c0: 6865 2077 6179 2074 6861 7420 436f 636f  he way that Coco
+000079d0: 6e75 7420 696e 7465 6772 6174 6573 2077  nut integrates w
+000079e0: 6974 6820 6078 6f6e 7368 602c 2060 4028  ith `xonsh`, `@(
+000079f0: 3c63 6f64 653e 2960 2073 796e 7461 7820  <code>)` syntax 
+00007a00: 616e 6420 7468 6520 6065 7865 6378 6020  and the `execx` 
+00007a10: 636f 6d6d 616e 6420 7769 6c6c 206f 6e6c  command will onl
+00007a20: 7920 776f 726b 2077 6974 6820 5079 7468  y work with Pyth
+00007a30: 6f6e 2063 6f64 652c 206e 6f74 2043 6f63  on code, not Coc
+00007a40: 6f6e 7574 2063 6f64 652e 0a0a 4164 6469  onut code...Addi
+00007a50: 7469 6f6e 616c 6c79 2c20 436f 636f 6e75  tionally, Coconu
+00007a60: 7420 7769 6c6c 206f 6e6c 7920 636f 6d70  t will only comp
+00007a70: 696c 6520 696e 6469 7669 6475 616c 2063  ile individual c
+00007a80: 6f6d 6d61 6e64 73e2 8094 436f 636f 6e75  ommands...Coconu
+00007a90: 7420 7769 6c6c 206e 6f74 2074 6f75 6368  t will not touch
+00007aa0: 2074 6865 2060 2e78 6f6e 7368 7263 6020   the `.xonshrc` 
+00007ab0: 6f72 2061 6e79 206f 7468 6572 2060 2e78  or any other `.x
+00007ac0: 7368 6020 6669 6c65 732e 0a0a 2323 204f  sh` files...## O
+00007ad0: 7065 7261 746f 7273 0a0a 6060 607b 636f  perators..```{co
+00007ae0: 6e74 656e 7473 7d0a 2d2d 2d0a 6c6f 6361  ntents}.---.loca
+00007af0: 6c3a 0a64 6570 7468 3a20 310a 2d2d 2d0a  l:.depth: 1.---.
+00007b00: 6060 600a 0a23 2323 2050 7265 6365 6465  ```..### Precede
+00007b10: 6e63 650a 0a49 6e20 6f72 6465 7220 6f66  nce..In order of
+00007b20: 2070 7265 6365 6465 6e63 652c 2068 6967   precedence, hig
+00007b30: 6865 7374 2066 6972 7374 2c20 7468 6520  hest first, the 
+00007b40: 6f70 6572 6174 6f72 7320 7375 7070 6f72  operators suppor
+00007b50: 7465 6420 696e 2043 6f63 6f6e 7574 2061  ted in Coconut a
+00007b60: 7265 3a0a 6060 600a 3d3d 3d3d 3d3d 3d3d  re:.```.========
+00007b70: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 203d  ============== =
+00007b80: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00007b90: 3d3d 3d3d 3d3d 3d3d 3d0a 5379 6d62 6f6c  =========.Symbol
+00007ba0: 2873 2920 2020 2020 2020 2020 2020 2020  (s)             
+00007bb0: 2041 7373 6f63 6961 7469 7669 7479 0a3d   Associativity.=
+00007bc0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00007bd0: 3d3d 3d3d 3d20 3d3d 3d3d 3d3d 3d3d 3d3d  ===== ==========
+00007be0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00007bf0: 0a61 7761 6974 2078 2020 2020 2020 2020  .await x        
+00007c00: 2020 2020 2020 2020 6e2f 610a 2a2a 2020          n/a.**  
 00007c10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007c20: 2020 756e 6172 790a 616e 6420 2020 2020    unary.and     
-00007c30: 2020 2020 2020 2020 2020 2020 2020 206c                 l
-00007c40: 6566 7420 2873 686f 7274 2d63 6972 6375  eft (short-circu
-00007c50: 6974 7329 0a6f 7220 2020 2020 2020 2020  its).or         
-00007c60: 2020 2020 2020 2020 2020 2020 6c65 6674              left
-00007c70: 2028 7368 6f72 742d 6369 7263 7569 7473   (short-circuits
-00007c80: 290a 7820 6966 2063 2065 6c73 6520 792c  ).x if c else y,
-00007c90: 2020 2020 2020 2020 2074 6572 6e61 7279           ternary
-00007ca0: 206c 6566 7420 2873 686f 7274 2d63 6972   left (short-cir
-00007cb0: 6375 6974 7329 0a20 2069 6620 6320 7468  cuits).  if c th
-00007cc0: 656e 2078 2065 6c73 6520 790a 2d3e 2020  en x else y.->  
-00007cd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007ce0: 2020 2072 6967 6874 0a3d 3d3d 3d3d 3d3d     right.=======
-00007cf0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d20  =============== 
-00007d00: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00007d10: 3d3d 3d3d 3d3d 3d3d 3d3d 0a60 6060 0a0a  ==========.```..
-00007d20: 466f 7220 6578 616d 706c 652c 2073 696e  For example, sin
-00007d30: 6365 2061 6464 6974 696f 6e20 6861 7320  ce addition has 
-00007d40: 6120 6869 6768 6572 2070 7265 6365 6465  a higher precede
-00007d50: 6e63 6520 7468 616e 2070 6970 696e 672c  nce than piping,
-00007d60: 2065 7870 7265 7373 696f 6e73 206f 6620   expressions of 
-00007d70: 7468 6520 666f 726d 2060 7820 7c3e 2079  the form `x |> y
-00007d80: 202b 207a 6020 6172 6520 6571 7569 7661   + z` are equiva
-00007d90: 6c65 6e74 2074 6f20 6078 207c 3e20 2879  lent to `x |> (y
-00007da0: 202b 207a 2960 2e0a 0a23 2323 204c 616d   + z)`...### Lam
-00007db0: 6264 6173 0a0a 436f 636f 6e75 7420 7072  bdas..Coconut pr
-00007dc0: 6f76 6964 6573 2074 6865 2073 696d 706c  ovides the simpl
-00007dd0: 652c 2063 6c65 616e 2060 2d3e 6020 6f70  e, clean `->` op
-00007de0: 6572 6174 6f72 2061 7320 616e 2061 6c74  erator as an alt
-00007df0: 6572 6e61 7469 7665 2074 6f20 5079 7468  ernative to Pyth
-00007e00: 6f6e 2773 2060 6c61 6d62 6461 6020 7374  on's `lambda` st
-00007e10: 6174 656d 656e 7473 2e20 5468 6520 7379  atements. The sy
-00007e20: 6e74 6178 2066 6f72 2074 6865 2060 2d3e  ntax for the `->
-00007e30: 6020 6f70 6572 6174 6f72 2069 7320 6028  ` operator is `(
-00007e40: 7061 7261 6d65 7465 7273 2920 2d3e 2065  parameters) -> e
-00007e50: 7870 7265 7373 696f 6e60 2028 6f72 2060  xpression` (or `
-00007e60: 7061 7261 6d65 7465 7220 2d3e 2065 7870  parameter -> exp
-00007e70: 7265 7373 696f 6e60 2066 6f72 206f 6e65  ression` for one
-00007e80: 2d61 7267 756d 656e 7420 6c61 6d62 6461  -argument lambda
-00007e90: 7329 2e20 5468 6520 6f70 6572 6174 6f72  s). The operator
-00007ea0: 2068 6173 2074 6865 2073 616d 6520 7072   has the same pr
-00007eb0: 6563 6564 656e 6365 2061 7320 7468 6520  ecedence as the 
-00007ec0: 6f6c 6420 7374 6174 656d 656e 742c 2077  old statement, w
-00007ed0: 6869 6368 206d 6561 6e73 2069 7420 7769  hich means it wi
-00007ee0: 6c6c 206f 6674 656e 2062 6520 6e65 6365  ll often be nece
-00007ef0: 7373 6172 7920 746f 2073 7572 726f 756e  ssary to surroun
-00007f00: 6420 7468 6520 6c61 6d62 6461 2069 6e20  d the lambda in 
-00007f10: 7061 7265 6e74 6865 7365 732c 2061 6e64  parentheses, and
-00007f20: 2069 7320 7269 6768 742d 6173 736f 6369   is right-associ
-00007f30: 6174 6976 652e 0a0a 4164 6469 7469 6f6e  ative...Addition
-00007f40: 616c 6c79 2c20 436f 636f 6e75 7420 616c  ally, Coconut al
-00007f50: 736f 2073 7570 706f 7274 7320 616e 2069  so supports an i
-00007f60: 6d70 6c69 6369 7420 7573 6167 6520 6f66  mplicit usage of
-00007f70: 2074 6865 2060 2d3e 6020 6f70 6572 6174   the `->` operat
-00007f80: 6f72 206f 6620 7468 6520 666f 726d 2060  or of the form `
-00007f90: 282d 3e20 6578 7072 6573 7369 6f6e 2960  (-> expression)`
-00007fa0: 2c20 7768 6963 6820 6973 2065 7175 6976  , which is equiv
-00007fb0: 616c 656e 7420 746f 2060 2828 5f3d 4e6f  alent to `((_=No
-00007fc0: 6e65 2920 2d3e 2065 7870 7265 7373 696f  ne) -> expressio
-00007fd0: 6e29 602c 2077 6869 6368 2061 6c6c 6f77  n)`, which allow
-00007fe0: 7320 616e 2069 6d70 6c69 6369 7420 6c61  s an implicit la
-00007ff0: 6d62 6461 2074 6f20 6265 2075 7365 6420  mbda to be used 
-00008000: 626f 7468 2077 6865 6e20 6e6f 2061 7267  both when no arg
-00008010: 756d 656e 7473 2061 7265 2072 6571 7569  uments are requi
-00008020: 7265 642c 2061 6e64 2077 6865 6e20 6f6e  red, and when on
-00008030: 6520 6172 6775 6d65 6e74 2028 6173 7369  e argument (assi
-00008040: 676e 6564 2074 6f20 605f 6029 2069 7320  gned to `_`) is 
-00008050: 7265 7175 6972 6564 2e0a 0a5f 4e6f 7465  required..._Note
-00008060: 3a20 4966 206e 6f72 6d61 6c20 6c61 6d62  : If normal lamb
-00008070: 6461 2073 796e 7461 7820 6973 2069 6e73  da syntax is ins
-00008080: 7566 6669 6369 656e 742c 2043 6f63 6f6e  ufficient, Cocon
-00008090: 7574 2061 6c73 6f20 7375 7070 6f72 7473  ut also supports
-000080a0: 2061 6e20 6578 7465 6e64 6564 206c 616d   an extended lam
-000080b0: 6264 6120 7379 6e74 6178 2069 6e20 7468  bda syntax in th
-000080c0: 6520 666f 726d 206f 6620 5b73 7461 7465  e form of [state
-000080d0: 6d65 6e74 206c 616d 6264 6173 5d28 2373  ment lambdas](#s
-000080e0: 7461 7465 6d65 6e74 2d6c 616d 6264 6173  tatement-lambdas
-000080f0: 292e 2053 7461 7465 6d65 6e74 206c 616d  ). Statement lam
-00008100: 6264 6173 2073 7570 706f 7274 2066 756c  bdas support ful
-00008110: 6c20 7374 6174 656d 656e 7473 2072 6174  l statements rat
-00008120: 6865 7220 7468 616e 206a 7573 7420 6578  her than just ex
-00008130: 7072 6573 7369 6f6e 7320 616e 6420 616c  pressions and al
-00008140: 6c6f 7720 666f 7220 7468 6520 7573 6520  low for the use 
-00008150: 6f66 205b 7061 7474 6572 6e2d 6d61 7463  of [pattern-matc
-00008160: 6869 6e67 2066 756e 6374 696f 6e20 6465  hing function de
-00008170: 6669 6e69 7469 6f6e 5d28 2370 6174 7465  finition](#patte
-00008180: 726e 2d6d 6174 6368 696e 672d 6675 6e63  rn-matching-func
-00008190: 7469 6f6e 7329 2e5f 0a0a 2323 2323 2320  tions)._..##### 
-000081a0: 5261 7469 6f6e 616c 650a 0a49 6e20 5079  Rationale..In Py
-000081b0: 7468 6f6e 2c20 6c61 6d62 6461 7320 6172  thon, lambdas ar
-000081c0: 6520 7567 6c79 2061 6e64 2062 756c 6b79  e ugly and bulky
-000081d0: 2c20 7265 7175 6972 696e 6720 7468 6520  , requiring the 
-000081e0: 656e 7469 7265 2077 6f72 6420 606c 616d  entire word `lam
-000081f0: 6264 6160 2074 6f20 6265 2077 7269 7474  bda` to be writt
-00008200: 656e 206f 7574 2065 7665 7279 2074 696d  en out every tim
-00008210: 6520 6f6e 6520 6973 2063 6f6e 7374 7275  e one is constru
-00008220: 6374 6564 2e20 5468 6973 2069 7320 6669  cted. This is fi
-00008230: 6e65 2069 6620 696e 2d6c 696e 6520 6675  ne if in-line fu
-00008240: 6e63 7469 6f6e 7320 6172 6520 7665 7279  nctions are very
-00008250: 2072 6172 656c 7920 6e65 6564 6564 2c20   rarely needed, 
-00008260: 6275 7420 696e 2066 756e 6374 696f 6e61  but in functiona
-00008270: 6c20 7072 6f67 7261 6d6d 696e 6720 696e  l programming in
-00008280: 2d6c 696e 6520 6675 6e63 7469 6f6e 7320  -line functions 
-00008290: 6172 6520 616e 2065 7373 656e 7469 616c  are an essential
-000082a0: 2074 6f6f 6c2e 0a0a 2323 2323 2320 5079   tool...##### Py
-000082b0: 7468 6f6e 2044 6f63 730a 0a4c 616d 6264  thon Docs..Lambd
-000082c0: 6120 666f 726d 7320 286c 616d 6264 6120  a forms (lambda 
-000082d0: 6578 7072 6573 7369 6f6e 7329 2068 6176  expressions) hav
-000082e0: 6520 7468 6520 7361 6d65 2073 796e 7461  e the same synta
-000082f0: 6374 6963 2070 6f73 6974 696f 6e20 6173  ctic position as
-00008300: 2065 7870 7265 7373 696f 6e73 2e20 5468   expressions. Th
-00008310: 6579 2061 7265 2061 2073 686f 7274 6861  ey are a shortha
-00008320: 6e64 2074 6f20 6372 6561 7465 2061 6e6f  nd to create ano
-00008330: 6e79 6d6f 7573 2066 756e 6374 696f 6e73  nymous functions
-00008340: 3b20 7468 6520 6578 7072 6573 7369 6f6e  ; the expression
-00008350: 2060 2861 7267 756d 656e 7473 2920 2d3e   `(arguments) ->
-00008360: 2065 7870 7265 7373 696f 6e60 2079 6965   expression` yie
-00008370: 6c64 7320 6120 6675 6e63 7469 6f6e 206f  lds a function o
-00008380: 626a 6563 742e 2054 6865 2075 6e6e 616d  bject. The unnam
-00008390: 6564 206f 626a 6563 7420 6265 6861 7665  ed object behave
-000083a0: 7320 6c69 6b65 2061 2066 756e 6374 696f  s like a functio
-000083b0: 6e20 6f62 6a65 6374 2064 6566 696e 6564  n object defined
-000083c0: 2077 6974 683a 0a60 6060 636f 636f 6e75   with:.```coconu
-000083d0: 740a 6465 6620 3c6c 616d 6264 613e 2861  t.def <lambda>(a
-000083e0: 7267 756d 656e 7473 293a 0a20 2020 2072  rguments):.    r
-000083f0: 6574 7572 6e20 6578 7072 6573 7369 6f6e  eturn expression
-00008400: 0a60 6060 0a4e 6f74 6520 7468 6174 2066  .```.Note that f
-00008410: 756e 6374 696f 6e73 2063 7265 6174 6564  unctions created
-00008420: 2077 6974 6820 6c61 6d62 6461 2066 6f72   with lambda for
-00008430: 6d73 2063 616e 6e6f 7420 636f 6e74 6169  ms cannot contai
-00008440: 6e20 7374 6174 656d 656e 7473 206f 7220  n statements or 
-00008450: 616e 6e6f 7461 7469 6f6e 732e 0a0a 2323  annotations...##
-00008460: 2323 2320 4578 616d 706c 650a 0a2a 2a43  ### Example..**C
-00008470: 6f63 6f6e 7574 3a2a 2a0a 6060 6063 6f63  oconut:**.```coc
-00008480: 6f6e 7574 0a64 7562 7375 6d73 203d 206d  onut.dubsums = m
-00008490: 6170 2828 782c 2079 2920 2d3e 2032 2a28  ap((x, y) -> 2*(
-000084a0: 782b 7929 2c20 7261 6e67 6528 302c 2031  x+y), range(0, 1
-000084b0: 3029 2c20 7261 6e67 6528 3130 2c20 3230  0), range(10, 20
-000084c0: 2929 0a64 7562 7375 6d73 207c 3e20 6c69  )).dubsums |> li
-000084d0: 7374 207c 3e20 7072 696e 740a 6060 600a  st |> print.```.
-000084e0: 0a2a 2a50 7974 686f 6e3a 2a2a 0a60 6060  .**Python:**.```
-000084f0: 636f 636f 6e75 745f 7079 7468 6f6e 0a64  coconut_python.d
-00008500: 7562 7375 6d73 203d 206d 6170 286c 616d  ubsums = map(lam
-00008510: 6264 6120 782c 2079 3a20 322a 2878 2b79  bda x, y: 2*(x+y
-00008520: 292c 2072 616e 6765 2830 2c20 3130 292c  ), range(0, 10),
-00008530: 2072 616e 6765 2831 302c 2032 3029 290a   range(10, 20)).
-00008540: 7072 696e 7428 6c69 7374 2864 7562 7375  print(list(dubsu
-00008550: 6d73 2929 0a60 6060 0a0a 2323 2323 2049  ms)).```..#### I
-00008560: 6d70 6c69 6369 7420 4c61 6d62 6461 730a  mplicit Lambdas.
-00008570: 0a43 6f63 6f6e 7574 2061 6c73 6f20 7375  .Coconut also su
-00008580: 7070 6f72 7473 2069 6d70 6c69 6369 7420  pports implicit 
-00008590: 6c61 6d62 6461 732c 2077 6869 6368 2061  lambdas, which a
-000085a0: 6c6c 6f77 2061 206c 616d 6264 6120 746f  llow a lambda to
-000085b0: 2074 616b 6520 6569 7468 6572 206e 6f20   take either no 
-000085c0: 6172 6775 6d65 6e74 7320 6f72 2061 2073  arguments or a s
-000085d0: 696e 676c 6520 6172 6775 6d65 6e74 2e20  ingle argument. 
-000085e0: 496d 706c 6963 6974 206c 616d 6264 6173  Implicit lambdas
-000085f0: 2061 7265 2066 6f72 6d65 6420 7769 7468   are formed with
-00008600: 2074 6865 2075 7375 616c 2043 6f63 6f6e   the usual Cocon
-00008610: 7574 206c 616d 6264 6120 6f70 6572 6174  ut lambda operat
-00008620: 6f72 2060 2d3e 602c 2069 6e20 7468 6520  or `->`, in the 
-00008630: 666f 726d 2060 282d 3e20 6578 7072 6573  form `(-> expres
-00008640: 7369 6f6e 2960 2e20 5468 6973 2069 7320  sion)`. This is 
-00008650: 6571 7569 7661 6c65 6e74 2074 6f20 6028  equivalent to `(
-00008660: 285f 3d4e 6f6e 6529 202d 3e20 6578 7072  (_=None) -> expr
-00008670: 6573 7369 6f6e 2960 2e20 5768 656e 2061  ession)`. When a
-00008680: 6e20 6172 6775 6d65 6e74 2069 7320 7061  n argument is pa
-00008690: 7373 6564 2074 6f20 616e 2069 6d70 6c69  ssed to an impli
-000086a0: 6369 7420 6c61 6d62 6461 2c20 6974 2077  cit lambda, it w
-000086b0: 696c 6c20 6265 2061 7373 6967 6e65 6420  ill be assigned 
-000086c0: 746f 2060 5f60 2c20 7265 706c 6163 696e  to `_`, replacin
-000086d0: 6720 7468 6520 6465 6661 756c 7420 7661  g the default va
-000086e0: 6c75 6520 604e 6f6e 6560 2e0a 0a42 656c  lue `None`...Bel
-000086f0: 6f77 2061 7265 2074 776f 2065 7861 6d70  ow are two examp
-00008700: 6c65 7320 6f66 2069 6d70 6c69 6369 7420  les of implicit 
-00008710: 6c61 6d62 6461 732e 2054 6865 2066 6972  lambdas. The fir
-00008720: 7374 2075 7365 7320 7468 6520 696d 706c  st uses the impl
-00008730: 6963 6974 2061 7267 756d 656e 7420 605f  icit argument `_
-00008740: 602c 2077 6869 6c65 2074 6865 2073 6563  `, while the sec
-00008750: 6f6e 6420 646f 6573 206e 6f74 2e0a 0a2a  ond does not...*
-00008760: 2a53 696e 676c 6520 4172 6775 6d65 6e74  *Single Argument
-00008770: 2045 7861 6d70 6c65 3a2a 2a0a 6060 6063   Example:**.```c
-00008780: 6f63 6f6e 7574 0a73 7175 6172 6520 3d20  oconut.square = 
-00008790: 282d 3e20 5f2a 2a32 290a 6060 600a 0a2a  (-> _**2).```..*
-000087a0: 2a4e 6f2d 4172 6775 6d65 6e74 2045 7861  *No-Argument Exa
-000087b0: 6d70 6c65 3a2a 2a0a 6060 6063 6f63 6f6e  mple:**.```cocon
-000087c0: 7574 0a69 6d70 6f72 7420 7261 6e64 6f6d  ut.import random
-000087d0: 0a0a 6765 745f 7261 6e64 6f6d 5f6e 756d  ..get_random_num
-000087e0: 6265 7220 3d20 282d 3e20 7261 6e64 6f6d  ber = (-> random
-000087f0: 2e72 616e 646f 6d28 2929 0a60 6060 0a0a  .random()).```..
-00008800: 5f4e 6f74 653a 204e 6573 7469 6e67 2069  _Note: Nesting i
-00008810: 6d70 6c69 6369 7420 6c61 6d62 6461 7320  mplicit lambdas 
-00008820: 6361 6e20 6c65 6164 2074 6f20 7072 6f62  can lead to prob
-00008830: 6c65 6d73 2077 6974 6820 7468 6520 7363  lems with the sc
-00008840: 6f70 6520 6f66 2074 6865 2060 5f60 2070  ope of the `_` p
-00008850: 6172 616d 6574 6572 2074 6f20 6561 6368  arameter to each
-00008860: 206c 616d 6264 612e 2049 7420 6973 2072   lambda. It is r
-00008870: 6563 6f6d 6d65 6e64 6564 2074 6861 7420  ecommended that 
-00008880: 6e65 7374 696e 6720 696d 706c 6963 6974  nesting implicit
-00008890: 206c 616d 6264 6173 2062 6520 6176 6f69   lambdas be avoi
-000088a0: 6465 642e 5f0a 0a23 2323 2050 6172 7469  ded._..### Parti
-000088b0: 616c 2041 7070 6c69 6361 7469 6f6e 0a0a  al Application..
-000088c0: 436f 636f 6e75 7420 7573 6573 2061 2060  Coconut uses a `
-000088d0: 2460 2073 6967 6e20 7269 6768 7420 6166  $` sign right af
-000088e0: 7465 7220 6120 6675 6e63 7469 6f6e 2773  ter a function's
-000088f0: 206e 616d 6520 6275 7420 6265 666f 7265   name but before
-00008900: 2074 6865 206f 7065 6e20 7061 7265 6e74   the open parent
-00008910: 6865 7369 7320 7573 6564 2074 6f20 6361  hesis used to ca
-00008920: 6c6c 2074 6865 2066 756e 6374 696f 6e20  ll the function 
-00008930: 746f 2064 656e 6f74 6520 7061 7274 6961  to denote partia
-00008940: 6c20 6170 706c 6963 6174 696f 6e2e 0a0a  l application...
-00008950: 436f 636f 6e75 7427 7320 7061 7274 6961  Coconut's partia
-00008960: 6c20 6170 706c 6963 6174 696f 6e20 616c  l application al
-00008970: 736f 2073 7570 706f 7274 7320 7468 6520  so supports the 
-00008980: 7573 6520 6f66 2061 2060 3f60 2074 6f20  use of a `?` to 
-00008990: 736b 6970 2070 6172 7469 616c 6c79 2061  skip partially a
-000089a0: 7070 6c79 696e 6720 616e 2061 7267 756d  pplying an argum
-000089b0: 656e 742c 2064 6566 6572 7269 6e67 2066  ent, deferring f
-000089c0: 696c 6c69 6e67 2069 6e20 7468 6174 2061  illing in that a
-000089d0: 7267 756d 656e 7420 756e 7469 6c20 7468  rgument until th
-000089e0: 6520 7061 7274 6961 6c6c 792d 6170 706c  e partially-appl
-000089f0: 6965 6420 6675 6e63 7469 6f6e 2069 7320  ied function is 
-00008a00: 6361 6c6c 6564 2e20 5468 6973 2069 7320  called. This is 
-00008a10: 7573 6566 756c 2069 6620 796f 7520 7761  useful if you wa
-00008a20: 6e74 2074 6f20 7061 7274 6961 6c6c 7920  nt to partially 
-00008a30: 6170 706c 7920 6172 6775 6d65 6e74 7320  apply arguments 
-00008a40: 7468 6174 2061 7265 6e27 7420 6669 7273  that aren't firs
-00008a50: 7420 696e 2074 6865 2061 7267 756d 656e  t in the argumen
-00008a60: 7420 6f72 6465 722e 0a0a 4164 6469 7469  t order...Additi
-00008a70: 6f6e 616c 6c79 2c20 603f 6020 6361 6e20  onally, `?` can 
-00008a80: 6576 656e 2062 6520 7573 6564 2061 7320  even be used as 
-00008a90: 7468 6520 7661 6c75 6520 6f66 206b 6579  the value of key
-00008aa0: 776f 7264 2061 7267 756d 656e 7473 2074  word arguments t
-00008ab0: 6f20 636f 6e76 6572 7420 7468 656d 2069  o convert them i
-00008ac0: 6e74 6f20 706f 7369 7469 6f6e 616c 2061  nto positional a
-00008ad0: 7267 756d 656e 7473 2e20 466f 7220 6578  rguments. For ex
-00008ae0: 616d 706c 652c 2060 6624 2878 3d3f 2960  ample, `f$(x=?)`
-00008af0: 2069 7320 6566 6665 6374 6976 656c 7920   is effectively 
-00008b00: 6571 7569 7661 6c65 6e74 2074 6f0a 6060  equivalent to.``
-00008b10: 6063 6f63 6f6e 7574 5f70 7974 686f 6e0a  `coconut_python.
-00008b20: 6465 6620 6e65 775f 6628 782c 202a 6172  def new_f(x, *ar
-00008b30: 6773 2c20 2a2a 6b77 6172 6773 293a 0a20  gs, **kwargs):. 
-00008b40: 2020 206b 7761 7267 735b 2278 225d 203d     kwargs["x"] =
-00008b50: 2078 0a20 2020 2072 6574 7572 6e20 6628   x.    return f(
-00008b60: 2a61 7267 732c 202a 2a6b 7761 7267 7329  *args, **kwargs)
-00008b70: 0a60 6060 0a0a 2323 2323 2320 5261 7469  .```..##### Rati
-00008b80: 6f6e 616c 650a 0a50 6172 7469 616c 2061  onale..Partial a
-00008b90: 7070 6c69 6361 7469 6f6e 2c20 6f72 2063  pplication, or c
-00008ba0: 7572 7279 696e 672c 2069 7320 6120 6d61  urrying, is a ma
-00008bb0: 696e 7374 6179 206f 6620 6675 6e63 7469  instay of functi
-00008bc0: 6f6e 616c 2070 726f 6772 616d 6d69 6e67  onal programming
-00008bd0: 2c20 616e 6420 666f 7220 676f 6f64 2072  , and for good r
-00008be0: 6561 736f 6e3a 2069 7420 616c 6c6f 7773  eason: it allows
-00008bf0: 2074 6865 2064 796e 616d 6963 2063 7573   the dynamic cus
-00008c00: 746f 6d69 7a61 7469 6f6e 206f 6620 6675  tomization of fu
-00008c10: 6e63 7469 6f6e 7320 746f 2066 6974 2074  nctions to fit t
-00008c20: 6865 206e 6565 6473 206f 6620 7768 6572  he needs of wher
-00008c30: 6520 7468 6579 2061 7265 2062 6569 6e67  e they are being
-00008c40: 2075 7365 642e 2050 6172 7469 616c 2061   used. Partial a
-00008c50: 7070 6c69 6361 7469 6f6e 2061 6c6c 6f77  pplication allow
-00008c60: 7320 6120 6e65 7720 6675 6e63 7469 6f6e  s a new function
-00008c70: 2074 6f20 6265 2063 7265 6174 6564 206f   to be created o
-00008c80: 7574 206f 6620 616e 206f 6c64 2066 756e  ut of an old fun
-00008c90: 6374 696f 6e20 7769 7468 2073 6f6d 6520  ction with some 
-00008ca0: 6f66 2069 7473 2061 7267 756d 656e 7473  of its arguments
-00008cb0: 2070 7265 2d73 7065 6369 6669 6564 2e0a   pre-specified..
-00008cc0: 0a23 2323 2323 2050 7974 686f 6e20 446f  .##### Python Do
-00008cd0: 6373 0a0a 5265 7475 726e 2061 206e 6577  cs..Return a new
-00008ce0: 2060 7061 7274 6961 6c60 206f 626a 6563   `partial` objec
-00008cf0: 7420 7768 6963 6820 7768 656e 2063 616c  t which when cal
-00008d00: 6c65 6420 7769 6c6c 2062 6568 6176 6520  led will behave 
-00008d10: 6c69 6b65 205f 6675 6e63 5f20 6361 6c6c  like _func_ call
-00008d20: 6564 2077 6974 6820 7468 6520 706f 7369  ed with the posi
-00008d30: 7469 6f6e 616c 2061 7267 756d 656e 7473  tional arguments
-00008d40: 205f 6172 6773 5f20 616e 6420 6b65 7977   _args_ and keyw
-00008d50: 6f72 6420 6172 6775 6d65 6e74 7320 5f6b  ord arguments _k
-00008d60: 6579 776f 7264 735f 2e20 4966 206d 6f72  eywords_. If mor
-00008d70: 6520 6172 6775 6d65 6e74 7320 6172 6520  e arguments are 
-00008d80: 7375 7070 6c69 6564 2074 6f20 7468 6520  supplied to the 
-00008d90: 6361 6c6c 2c20 7468 6579 2061 7265 2061  call, they are a
-00008da0: 7070 656e 6465 6420 746f 205f 6172 6773  ppended to _args
-00008db0: 5f2e 2049 6620 6164 6469 7469 6f6e 616c  _. If additional
-00008dc0: 206b 6579 776f 7264 2061 7267 756d 656e   keyword argumen
-00008dd0: 7473 2061 7265 2073 7570 706c 6965 642c  ts are supplied,
-00008de0: 2074 6865 7920 6578 7465 6e64 2061 6e64   they extend and
-00008df0: 206f 7665 7272 6964 6520 5f6b 6579 776f   override _keywo
-00008e00: 7264 735f 2e20 526f 7567 686c 7920 6571  rds_. Roughly eq
-00008e10: 7569 7661 6c65 6e74 2074 6f3a 0a60 6060  uivalent to:.```
-00008e20: 636f 636f 6e75 745f 7079 7468 6f6e 0a64  coconut_python.d
-00008e30: 6566 2070 6172 7469 616c 2866 756e 632c  ef partial(func,
-00008e40: 202a 6172 6773 2c20 2a2a 6b65 7977 6f72   *args, **keywor
-00008e50: 6473 293a 0a20 2020 2064 6566 206e 6577  ds):.    def new
-00008e60: 6675 6e63 282a 6661 7267 732c 202a 2a66  func(*fargs, **f
-00008e70: 6b65 7977 6f72 6473 293a 0a20 2020 2020  keywords):.     
-00008e80: 2020 206e 6577 6b65 7977 6f72 6473 203d     newkeywords =
-00008e90: 206b 6579 776f 7264 732e 636f 7079 2829   keywords.copy()
-00008ea0: 0a20 2020 2020 2020 206e 6577 6b65 7977  .        newkeyw
-00008eb0: 6f72 6473 2e75 7064 6174 6528 666b 6579  ords.update(fkey
-00008ec0: 776f 7264 7329 0a20 2020 2020 2020 2072  words).        r
-00008ed0: 6574 7572 6e20 6675 6e63 282a 2861 7267  eturn func(*(arg
-00008ee0: 7320 2b20 6661 7267 7329 2c20 2a2a 6e65  s + fargs), **ne
-00008ef0: 776b 6579 776f 7264 7329 0a20 2020 206e  wkeywords).    n
-00008f00: 6577 6675 6e63 2e66 756e 6320 3d20 6675  ewfunc.func = fu
-00008f10: 6e63 0a20 2020 206e 6577 6675 6e63 2e61  nc.    newfunc.a
-00008f20: 7267 7320 3d20 6172 6773 0a20 2020 206e  rgs = args.    n
-00008f30: 6577 6675 6e63 2e6b 6579 776f 7264 7320  ewfunc.keywords 
-00008f40: 3d20 6b65 7977 6f72 6473 0a20 2020 2072  = keywords.    r
-00008f50: 6574 7572 6e20 6e65 7766 756e 630a 6060  eturn newfunc.``
-00008f60: 600a 5468 6520 6070 6172 7469 616c 6020  `.The `partial` 
-00008f70: 6f62 6a65 6374 2069 7320 7573 6564 2066  object is used f
-00008f80: 6f72 2070 6172 7469 616c 2066 756e 6374  or partial funct
-00008f90: 696f 6e20 6170 706c 6963 6174 696f 6e20  ion application 
-00008fa0: 7768 6963 6820 e280 9c66 7265 657a 6573  which ...freezes
-00008fb0: e280 9d20 736f 6d65 2070 6f72 7469 6f6e  ... some portion
-00008fc0: 206f 6620 6120 6675 6e63 7469 6f6e 2773   of a function's
-00008fd0: 2061 7267 756d 656e 7473 2061 6e64 2f6f   arguments and/o
-00008fe0: 7220 6b65 7977 6f72 6473 2072 6573 756c  r keywords resul
-00008ff0: 7469 6e67 2069 6e20 6120 6e65 7720 6f62  ting in a new ob
-00009000: 6a65 6374 2077 6974 6820 6120 7369 6d70  ject with a simp
-00009010: 6c69 6669 6564 2073 6967 6e61 7475 7265  lified signature
-00009020: 2e0a 0a23 2323 2323 2045 7861 6d70 6c65  ...##### Example
-00009030: 0a0a 2a2a 436f 636f 6e75 743a 2a2a 0a60  ..**Coconut:**.`
-00009040: 6060 636f 636f 6e75 740a 6578 706e 756d  ``coconut.expnum
-00009050: 7320 3d20 7261 6e67 6528 3529 207c 3e20  s = range(5) |> 
-00009060: 6d61 7024 2870 6f77 2428 3f2c 2032 2929  map$(pow$(?, 2))
-00009070: 0a65 7870 6e75 6d73 207c 3e20 6c69 7374  .expnums |> list
-00009080: 207c 3e20 7072 696e 740a 6060 600a 0a2a   |> print.```..*
-00009090: 2a50 7974 686f 6e3a 2a2a 0a60 6060 636f  *Python:**.```co
-000090a0: 636f 6e75 745f 7079 7468 6f6e 0a23 2075  conut_python.# u
-000090b0: 6e6c 696b 6520 7468 6973 2073 696d 706c  nlike this simpl
-000090c0: 6520 6c61 6d62 6461 2c20 2420 7072 6f64  e lambda, $ prod
-000090d0: 7563 6573 2061 2070 6963 6b6c 6561 626c  uces a pickleabl
-000090e0: 6520 6f62 6a65 6374 0a65 7870 6e75 6d73  e object.expnums
-000090f0: 203d 206d 6170 286c 616d 6264 6120 783a   = map(lambda x:
-00009100: 2070 6f77 2878 2c20 3229 2c20 7261 6e67   pow(x, 2), rang
-00009110: 6528 3529 290a 7072 696e 7428 6c69 7374  e(5)).print(list
-00009120: 2865 7870 6e75 6d73 2929 0a60 6060 0a0a  (expnums)).```..
-00009130: 2323 2320 5069 7065 730a 0a43 6f63 6f6e  ### Pipes..Cocon
-00009140: 7574 2075 7365 7320 7069 7065 206f 7065  ut uses pipe ope
-00009150: 7261 746f 7273 2066 6f72 2070 6970 656c  rators for pipel
-00009160: 696e 652d 7374 796c 6520 6675 6e63 7469  ine-style functi
-00009170: 6f6e 2061 7070 6c69 6361 7469 6f6e 2e20  on application. 
-00009180: 416c 6c20 7468 6520 6f70 6572 6174 6f72  All the operator
-00009190: 7320 6861 7665 2061 2070 7265 6365 6465  s have a precede
-000091a0: 6e63 6520 696e 2d62 6574 7765 656e 2066  nce in-between f
-000091b0: 756e 6374 696f 6e20 636f 6d70 6f73 6974  unction composit
-000091c0: 696f 6e20 7069 7065 7320 616e 6420 636f  ion pipes and co
-000091d0: 6d70 6172 6973 6f6e 732c 2061 6e64 2061  mparisons, and a
-000091e0: 7265 206c 6566 742d 6173 736f 6369 6174  re left-associat
-000091f0: 6976 652e 2041 6c6c 206f 7065 7261 746f  ive. All operato
-00009200: 7273 2061 6c73 6f20 7375 7070 6f72 7420  rs also support 
-00009210: 696e 2d70 6c61 6365 2076 6572 7369 6f6e  in-place version
-00009220: 732e 2054 6865 2064 6966 6665 7265 6e74  s. The different
-00009230: 206f 7065 7261 746f 7273 2061 7265 3a0a   operators are:.
-00009240: 6060 6063 6f63 6f6e 7574 0a28 7c3e 2920  ```coconut.(|>) 
-00009250: 2020 203d 3e20 7069 7065 2066 6f72 7761     => pipe forwa
-00009260: 7264 0a28 7c2a 3e29 2020 203d 3e20 6d75  rd.(|*>)   => mu
-00009270: 6c74 6970 6c65 2d61 7267 756d 656e 7420  ltiple-argument 
-00009280: 7069 7065 2066 6f72 7761 7264 0a28 7c2a  pipe forward.(|*
-00009290: 2a3e 2920 203d 3e20 6b65 7977 6f72 6420  *>)  => keyword 
-000092a0: 6172 6775 6d65 6e74 2070 6970 6520 666f  argument pipe fo
-000092b0: 7277 6172 640a 283c 7c29 2020 2020 3d3e  rward.(<|)    =>
-000092c0: 2070 6970 6520 6261 636b 7761 7264 0a28   pipe backward.(
-000092d0: 3c2a 7c29 2020 203d 3e20 6d75 6c74 6970  <*|)   => multip
-000092e0: 6c65 2d61 7267 756d 656e 7420 7069 7065  le-argument pipe
-000092f0: 2062 6163 6b77 6172 640a 283c 2a2a 7c29   backward.(<**|)
-00009300: 2020 3d3e 206b 6579 776f 7264 2061 7267    => keyword arg
-00009310: 756d 656e 7420 7069 7065 2062 6163 6b77  ument pipe backw
-00009320: 6172 640a 287c 3f3e 2920 2020 3d3e 204e  ard.(|?>)   => N
-00009330: 6f6e 652d 6177 6172 6520 7069 7065 2066  one-aware pipe f
-00009340: 6f72 7761 7264 0a28 7c3f 2a3e 2920 203d  orward.(|?*>)  =
-00009350: 3e20 4e6f 6e65 2d61 7761 7265 206d 756c  > None-aware mul
-00009360: 7469 2d61 7267 2070 6970 6520 666f 7277  ti-arg pipe forw
-00009370: 6172 640a 287c 3f2a 2a3e 2920 3d3e 204e  ard.(|?**>) => N
-00009380: 6f6e 652d 6177 6172 6520 6b65 7977 6f72  one-aware keywor
-00009390: 6420 6172 6720 7069 7065 2066 6f72 7761  d arg pipe forwa
-000093a0: 7264 0a28 3c3f 7c29 2020 203d 3e20 4e6f  rd.(<?|)   => No
-000093b0: 6e65 2d61 7761 7265 2070 6970 6520 6261  ne-aware pipe ba
-000093c0: 636b 7761 7264 0a28 3c2a 3f7c 2920 203d  ckward.(<*?|)  =
-000093d0: 3e20 4e6f 6e65 2d61 7761 7265 206d 756c  > None-aware mul
-000093e0: 7469 2d61 7267 2070 6970 6520 6261 636b  ti-arg pipe back
-000093f0: 7761 7264 0a28 3c2a 2a3f 7c29 203d 3e20  ward.(<**?|) => 
-00009400: 4e6f 6e65 2d61 7761 7265 206b 6579 776f  None-aware keywo
-00009410: 7264 2061 7267 2070 6970 6520 6261 636b  rd arg pipe back
-00009420: 7761 7264 0a60 6060 0a0a 4164 6469 7469  ward.```..Additi
-00009430: 6f6e 616c 6c79 2c20 616c 6c20 7069 7065  onally, all pipe
-00009440: 206f 7065 7261 746f 7273 2073 7570 706f   operators suppo
-00009450: 7274 2061 206c 616d 6264 6120 6173 2074  rt a lambda as t
-00009460: 6865 206c 6173 7420 6172 6775 6d65 6e74  he last argument
-00009470: 2c20 6465 7370 6974 6520 6c61 6d62 6461  , despite lambda
-00009480: 7320 6861 7669 6e67 2061 206c 6f77 6572  s having a lower
-00009490: 2070 7265 6365 6465 6e63 652e 2054 6875   precedence. Thu
-000094a0: 732c 2060 6120 7c3e 2078 202d 3e20 6220  s, `a |> x -> b 
-000094b0: 7c3e 2063 6020 6973 2065 7175 6976 616c  |> c` is equival
-000094c0: 656e 7420 746f 2060 6120 7c3e 2028 7820  ent to `a |> (x 
-000094d0: 2d3e 2062 207c 3e20 6329 602c 206e 6f74  -> b |> c)`, not
-000094e0: 2060 6120 7c3e 2028 7820 2d3e 2062 2920   `a |> (x -> b) 
-000094f0: 7c3e 2063 602e 0a0a 5468 6520 4e6f 6e65  |> c`...The None
-00009500: 2d61 7761 7265 2070 6970 6520 6f70 6572  -aware pipe oper
-00009510: 6174 6f72 7320 6865 7265 2061 7265 2065  ators here are e
-00009520: 7175 6976 616c 656e 7420 746f 2061 205b  quivalent to a [
-00009530: 6d6f 6e61 6469 6320 6269 6e64 5d28 6874  monadic bind](ht
-00009540: 7470 733a 2f2f 656e 2e77 696b 6970 6564  tps://en.wikiped
-00009550: 6961 2e6f 7267 2f77 696b 692f 4d6f 6e61  ia.org/wiki/Mona
-00009560: 645f 2866 756e 6374 696f 6e61 6c5f 7072  d_(functional_pr
-00009570: 6f67 7261 6d6d 696e 6729 2920 7472 6561  ogramming)) trea
-00009580: 7469 6e67 2074 6865 206f 626a 6563 7420  ting the object 
-00009590: 6173 2061 2060 4d61 7962 6560 206d 6f6e  as a `Maybe` mon
-000095a0: 6164 2063 6f6d 706f 7365 6420 6f66 2065  ad composed of e
-000095b0: 6974 6865 7220 604e 6f6e 6560 206f 7220  ither `None` or 
-000095c0: 7468 6520 6769 7665 6e20 6f62 6a65 6374  the given object
-000095d0: 2e20 5468 7573 2c20 6078 207c 3f3e 2066  . Thus, `x |?> f
-000095e0: 6020 6973 2065 7175 6976 616c 656e 7420  ` is equivalent 
-000095f0: 746f 2060 4e6f 6e65 2069 6620 7820 6973  to `None if x is
-00009600: 204e 6f6e 6520 656c 7365 2066 2878 2960   None else f(x)`
-00009610: 2e20 4e6f 7465 2074 6861 7420 6f6e 6c79  . Note that only
-00009620: 2074 6865 206f 626a 6563 7420 6265 696e   the object bein
-00009630: 6720 7069 7065 642c 206e 6f74 2074 6865  g piped, not the
-00009640: 2066 756e 6374 696f 6e20 6265 696e 6720   function being 
-00009650: 7069 7065 6420 696e 746f 2c20 6d61 7920  piped into, may 
-00009660: 6265 2060 4e6f 6e65 6020 666f 7220 604e  be `None` for `N
-00009670: 6f6e 6560 2d61 7761 7265 2070 6970 6573  one`-aware pipes
-00009680: 2e0a 0a5f 4e6f 7465 3a20 546f 2076 6973  ..._Note: To vis
-00009690: 7561 6c6c 7920 7370 7265 6164 206f 7065  ually spread ope
-000096a0: 7261 7469 6f6e 7320 6163 726f 7373 2073  rations across s
-000096b0: 6576 6572 616c 206c 696e 6573 2c20 6a75  everal lines, ju
-000096c0: 7374 2075 7365 205b 7061 7265 6e74 6865  st use [parenthe
-000096d0: 7469 6361 6c20 636f 6e74 696e 7561 7469  tical continuati
-000096e0: 6f6e 5d28 2365 6e68 616e 6365 642d 7061  on](#enhanced-pa
-000096f0: 7265 6e74 6865 7469 6361 6c2d 636f 6e74  renthetical-cont
-00009700: 696e 7561 7469 6f6e 292e 5f0a 0a23 2323  inuation)._..###
-00009710: 2323 204f 7074 696d 697a 6174 696f 6e73  ## Optimizations
-00009720: 0a0a 4974 2069 7320 636f 6d6d 6f6e 2069  ..It is common i
-00009730: 6e20 436f 636f 6e75 7420 746f 2077 7269  n Coconut to wri
-00009740: 7465 2063 6f64 6520 7468 6174 2075 7365  te code that use
-00009750: 7320 7069 7065 7320 746f 2070 6173 7320  s pipes to pass 
-00009760: 616e 206f 626a 6563 7420 7468 726f 7567  an object throug
-00009770: 6820 6120 7365 7269 6573 206f 6620 5b70  h a series of [p
-00009780: 6172 7469 616c 735d 2823 7061 7274 6961  artials](#partia
-00009790: 6c2d 6170 706c 6963 6174 696f 6e29 2061  l-application) a
-000097a0: 6e64 2f6f 7220 5b69 6d70 6c69 6369 7420  nd/or [implicit 
-000097b0: 7061 7274 6961 6c73 5d28 2369 6d70 6c69  partials](#impli
-000097c0: 6369 742d 7061 7274 6961 6c2d 6170 706c  cit-partial-appl
-000097d0: 6963 6174 696f 6e29 2c20 6173 2069 6e0a  ication), as in.
-000097e0: 6060 6063 6f63 6f6e 7574 0a6f 626a 207c  ```coconut.obj |
-000097f0: 3e20 2e61 7474 7269 6275 7465 207c 3e20  > .attribute |> 
-00009800: 2e6d 6574 686f 6428 6172 6773 2920 7c3e  .method(args) |>
-00009810: 2066 756e 6324 2861 7267 7329 207c 3e20   func$(args) |> 
-00009820: 2e5b 696e 6465 785d 0a60 6060 0a77 6869  .[index].```.whi
-00009830: 6368 2069 7320 6f66 7465 6e20 6d75 6368  ch is often much
-00009840: 206d 6f72 6520 7265 6164 6162 6c65 2c20   more readable, 
-00009850: 6173 2069 7420 616c 6c6f 7773 2074 6865  as it allows the
-00009860: 206f 7065 7261 7469 6f6e 7320 746f 2062   operations to b
-00009870: 6520 7772 6974 7465 6e20 696e 2074 6865  e written in the
-00009880: 206f 7264 6572 2069 6e20 7768 6963 6820   order in which 
-00009890: 7468 6579 2061 7265 2070 6572 666f 726d  they are perform
-000098a0: 6564 2c20 696e 7374 6561 6420 6f66 2061  ed, instead of a
-000098b0: 7320 696e 0a60 6060 636f 636f 6e75 745f  s in.```coconut_
-000098c0: 7079 7468 6f6e 0a66 756e 6328 6172 6773  python.func(args
-000098d0: 2c20 6f62 6a2e 6174 7472 6962 7574 652e  , obj.attribute.
-000098e0: 6d65 7468 6f64 2861 7267 7329 295b 696e  method(args))[in
-000098f0: 6465 785d 0a60 6060 0a77 6865 7265 2060  dex].```.where `
-00009900: 6675 6e63 6020 6861 7320 746f 2067 6f20  func` has to go 
-00009910: 6174 2074 6865 2062 6567 696e 6e69 6e67  at the beginning
-00009920: 2e0a 0a49 6620 436f 636f 6e75 7420 636f  ...If Coconut co
-00009930: 6d70 696c 6564 2065 6163 6820 6f66 2074  mpiled each of t
-00009940: 6865 2070 6172 7469 616c 7320 696e 2074  he partials in t
-00009950: 6865 2070 6970 6520 7379 6e74 6178 2061  he pipe syntax a
-00009960: 7320 616e 2061 6374 7561 6c20 7061 7274  s an actual part
-00009970: 6961 6c20 6170 706c 6963 6174 696f 6e20  ial application 
-00009980: 6f62 6a65 6374 2c20 6974 2077 6f75 6c64  object, it would
-00009990: 206d 616b 6520 7468 6520 436f 636f 6e75   make the Coconu
-000099a0: 742d 7374 796c 6520 7379 6e74 6178 2073  t-style syntax s
-000099b0: 6967 6e69 6669 6361 6e74 6c79 2073 6c6f  ignificantly slo
-000099c0: 7765 7220 7468 616e 2074 6865 2050 7974  wer than the Pyt
-000099d0: 686f 6e2d 7374 796c 6520 7379 6e74 6178  hon-style syntax
-000099e0: 2e20 5468 7573 2c20 436f 636f 6e75 7420  . Thus, Coconut 
-000099f0: 646f 6573 206e 6f74 2064 6f20 7468 6174  does not do that
-00009a00: 2e20 4966 2061 6e79 206f 6620 7468 6520  . If any of the 
-00009a10: 6162 6f76 6520 7374 796c 6573 206f 6620  above styles of 
-00009a20: 7061 7274 6961 6c73 206f 7220 696d 706c  partials or impl
-00009a30: 6963 6974 2070 6172 7469 616c 7320 6172  icit partials ar
-00009a40: 6520 7573 6564 2069 6e20 7069 7065 732c  e used in pipes,
-00009a50: 2074 6865 7920 7769 6c6c 2077 6865 6e65   they will whene
-00009a60: 7665 7220 706f 7373 6962 6c65 2062 6520  ver possible be 
-00009a70: 636f 6d70 696c 6564 2074 6f20 7468 6520  compiled to the 
-00009a80: 5079 7468 6f6e 2d73 7479 6c65 2073 796e  Python-style syn
-00009a90: 7461 782c 2070 726f 6475 6369 6e67 206e  tax, producing n
-00009aa0: 6f20 696e 7465 726d 6564 6961 7465 2070  o intermediate p
-00009ab0: 6172 7469 616c 2061 7070 6c69 6361 7469  artial applicati
-00009ac0: 6f6e 206f 626a 6563 7473 2e0a 0a54 6869  on objects...Thi
-00009ad0: 7320 6170 706c 6965 7320 6576 656e 2074  s applies even t
-00009ae0: 6f20 696e 2d70 6c61 6365 2070 6970 6573  o in-place pipes
-00009af0: 2073 7563 6820 6173 2060 7c3e 3d60 2e0a   such as `|>=`..
-00009b00: 0a23 2323 2323 2045 7861 6d70 6c65 0a0a  .##### Example..
-00009b10: 2a2a 436f 636f 6e75 743a 2a2a 0a60 6060  **Coconut:**.```
-00009b20: 636f 636f 6e75 740a 6465 6620 7371 2878  coconut.def sq(x
-00009b30: 2920 3d20 782a 2a32 0a28 312c 2032 2920  ) = x**2.(1, 2) 
-00009b40: 7c2a 3e20 282b 2920 7c3e 2073 7120 7c3e  |*> (+) |> sq |>
-00009b50: 2070 7269 6e74 0a60 6060 0a0a 2a2a 5079   print.```..**Py
-00009b60: 7468 6f6e 3a2a 2a0a 6060 6063 6f63 6f6e  thon:**.```cocon
-00009b70: 7574 5f70 7974 686f 6e0a 696d 706f 7274  ut_python.import
-00009b80: 206f 7065 7261 746f 720a 6465 6620 7371   operator.def sq
-00009b90: 2878 293a 2072 6574 7572 6e20 782a 2a32  (x): return x**2
-00009ba0: 0a70 7269 6e74 2873 7128 6f70 6572 6174  .print(sq(operat
-00009bb0: 6f72 2e61 6464 2831 2c20 3229 2929 0a60  or.add(1, 2))).`
-00009bc0: 6060 0a0a 2323 2320 4675 6e63 7469 6f6e  ``..### Function
-00009bd0: 2043 6f6d 706f 7369 7469 6f6e 0a0a 436f   Composition..Co
-00009be0: 636f 6e75 7420 6861 7320 7468 7265 6520  conut has three 
-00009bf0: 6261 7369 6320 6675 6e63 7469 6f6e 2063  basic function c
-00009c00: 6f6d 706f 7369 7469 6f6e 206f 7065 7261  omposition opera
-00009c10: 746f 7273 3a20 602e 2e60 2c20 602e 2e3e  tors: `..`, `..>
-00009c20: 602c 2061 6e64 2060 3c2e 2e60 2e20 426f  `, and `<..`. Bo
-00009c30: 7468 2060 2e2e 6020 616e 6420 603c 2e2e  th `..` and `<..
-00009c40: 6020 7573 6520 6d61 7468 2d73 7479 6c65  ` use math-style
-00009c50: 2022 6261 636b 7761 7264 7322 2066 756e   "backwards" fun
-00009c60: 6374 696f 6e20 636f 6d70 6f73 6974 696f  ction compositio
-00009c70: 6e2c 2077 6865 7265 2074 6865 2066 6972  n, where the fir
-00009c80: 7374 2066 756e 6374 696f 6e20 6973 2063  st function is c
-00009c90: 616c 6c65 6420 6c61 7374 2c20 7768 696c  alled last, whil
-00009ca0: 6520 602e 2e3e 6020 7573 6573 2022 666f  e `..>` uses "fo
-00009cb0: 7277 6172 6473 2220 6675 6e63 7469 6f6e  rwards" function
-00009cc0: 2063 6f6d 706f 7369 7469 6f6e 2c20 7768   composition, wh
-00009cd0: 6572 6520 7468 6520 6669 7273 7420 6675  ere the first fu
-00009ce0: 6e63 7469 6f6e 2069 7320 6361 6c6c 6564  nction is called
-00009cf0: 2066 6972 7374 2e20 466f 7277 6172 6473   first. Forwards
-00009d00: 2061 6e64 2062 6163 6b77 6172 6473 2066   and backwards f
-00009d10: 756e 6374 696f 6e20 636f 6d70 6f73 6974  unction composit
-00009d20: 696f 6e20 7069 7065 7320 6361 6e6e 6f74  ion pipes cannot
-00009d30: 2062 6520 7573 6564 2074 6f67 6574 6865   be used togethe
-00009d40: 7220 696e 2074 6865 2073 616d 6520 6578  r in the same ex
-00009d50: 7072 6573 7369 6f6e 2028 756e 6c69 6b65  pression (unlike
-00009d60: 206e 6f72 6d61 6c20 7069 7065 7329 2061   normal pipes) a
-00009d70: 6e64 2068 6176 6520 7072 6563 6564 656e  nd have preceden
-00009d80: 6365 2069 6e2d 6265 7477 6565 6e20 604e  ce in-between `N
-00009d90: 6f6e 6560 2d63 6f61 6c65 7363 696e 6720  one`-coalescing 
-00009da0: 616e 6420 6e6f 726d 616c 2070 6970 6573  and normal pipes
-00009db0: 2e0a 0a54 6865 2060 2e2e 3e60 2061 6e64  ...The `..>` and
-00009dc0: 2060 3c2e 2e60 2066 756e 6374 696f 6e20   `<..` function 
-00009dd0: 636f 6d70 6f73 6974 696f 6e20 7069 7065  composition pipe
-00009de0: 206f 7065 7261 746f 7273 2061 6c73 6f20   operators also 
-00009df0: 6861 7665 206d 756c 7469 2d61 7267 2c20  have multi-arg, 
-00009e00: 6b65 7977 6f72 642c 2061 6e64 204e 6f6e  keyword, and Non
-00009e10: 6520 7661 7269 616e 7473 2061 7320 7769  e variants as wi
-00009e20: 7468 205b 6e6f 726d 616c 2070 6970 6573  th [normal pipes
-00009e30: 5d28 2370 6970 6573 292e 2054 6865 2066  ](#pipes). The f
-00009e40: 756c 6c20 6c69 7374 206f 6620 6675 6e63  ull list of func
-00009e50: 7469 6f6e 2063 6f6d 706f 7369 7469 6f6e  tion composition
-00009e60: 2070 6970 6520 6f70 6572 6174 6f72 7320   pipe operators 
-00009e70: 6973 3a0a 6060 600a 2e2e 3e20 2020 203d  is:.```...>    =
-00009e80: 3e20 666f 7277 6172 6473 2066 756e 6374  > forwards funct
-00009e90: 696f 6e20 636f 6d70 6f73 6974 696f 6e20  ion composition 
-00009ea0: 7069 7065 0a3c 2e2e 2020 2020 3d3e 2062  pipe.<..    => b
-00009eb0: 6163 6b77 6172 6473 2066 756e 6374 696f  ackwards functio
-00009ec0: 6e20 636f 6d70 6f73 6974 696f 6e20 7069  n composition pi
-00009ed0: 7065 0a2e 2e2a 3e20 2020 3d3e 2066 6f72  pe...*>   => for
-00009ee0: 7761 7264 7320 6d75 6c74 692d 6172 6720  wards multi-arg 
-00009ef0: 6675 6e63 7469 6f6e 2063 6f6d 706f 7369  function composi
-00009f00: 7469 6f6e 2070 6970 650a 3c2a 2e2e 2020  tion pipe.<*..  
-00009f10: 203d 3e20 6261 636b 7761 7264 7320 6d75   => backwards mu
-00009f20: 6c74 692d 6172 6720 6675 6e63 7469 6f6e  lti-arg function
-00009f30: 2063 6f6d 706f 7369 7469 6f6e 2070 6970   composition pip
-00009f40: 650a 2e2e 2a2a 3e20 203d 3e20 666f 7277  e...**>  => forw
-00009f50: 6172 6473 206b 6579 776f 7264 2061 7267  ards keyword arg
-00009f60: 2066 756e 6374 696f 6e20 636f 6d70 6f73   function compos
-00009f70: 6974 696f 6e20 7069 7065 0a3c 2a2a 2e2e  ition pipe.<**..
-00009f80: 2020 3d3e 2062 6163 6b77 6172 6473 206b    => backwards k
-00009f90: 6579 776f 7264 2061 7267 2066 756e 6374  eyword arg funct
-00009fa0: 696f 6e20 636f 6d70 6f73 6974 696f 6e20  ion composition 
-00009fb0: 7069 7065 0a2e 2e3f 3e20 2020 3d3e 2066  pipe...?>   => f
-00009fc0: 6f72 7761 7264 7320 4e6f 6e65 2d61 7761  orwards None-awa
-00009fd0: 7265 2066 756e 6374 696f 6e20 636f 6d70  re function comp
-00009fe0: 6f73 6974 696f 6e20 7069 7065 0a3c 3f2e  osition pipe.<?.
-00009ff0: 2e20 2020 3d3e 2062 6163 6b77 6172 6473  .   => backwards
-0000a000: 204e 6f6e 652d 6177 6172 6520 6675 6e63   None-aware func
-0000a010: 7469 6f6e 2063 6f6d 706f 7369 7469 6f6e  tion composition
-0000a020: 2070 6970 650a 2e2e 3f2a 3e20 203d 3e20   pipe...?*>  => 
-0000a030: 666f 7277 6172 6473 204e 6f6e 652d 6177  forwards None-aw
-0000a040: 6172 6520 6d75 6c74 692d 6172 6720 6675  are multi-arg fu
-0000a050: 6e63 7469 6f6e 2063 6f6d 706f 7369 7469  nction compositi
-0000a060: 6f6e 2070 6970 650a 3c2a 3f2e 2e20 203d  on pipe.<*?..  =
-0000a070: 3e20 6261 636b 7761 7264 7320 4e6f 6e65  > backwards None
-0000a080: 2d61 7761 7265 206d 756c 7469 2d61 7267  -aware multi-arg
-0000a090: 2066 756e 6374 696f 6e20 636f 6d70 6f73   function compos
-0000a0a0: 6974 696f 6e20 7069 7065 0a2e 2e3f 2a2a  ition pipe...?**
-0000a0b0: 3e20 3d3e 2066 6f72 7761 7264 7320 4e6f  > => forwards No
-0000a0c0: 6e65 2d61 7761 7265 206b 6579 776f 7264  ne-aware keyword
-0000a0d0: 2061 7267 2066 756e 6374 696f 6e20 636f   arg function co
-0000a0e0: 6d70 6f73 6974 696f 6e20 7069 7065 0a3c  mposition pipe.<
-0000a0f0: 2a2a 3f2e 2e20 3d3e 2062 6163 6b77 6172  **?.. => backwar
-0000a100: 6473 204e 6f6e 652d 6177 6172 6520 6b65  ds None-aware ke
-0000a110: 7977 6f72 6420 6172 6720 6675 6e63 7469  yword arg functi
-0000a120: 6f6e 2063 6f6d 706f 7369 7469 6f6e 2070  on composition p
-0000a130: 6970 650a 6060 600a 0a4e 6f74 6520 7468  ipe.```..Note th
-0000a140: 6174 2060 4e6f 6e65 602d 6177 6172 6520  at `None`-aware 
-0000a150: 6675 6e63 7469 6f6e 2063 6f6d 706f 7369  function composi
-0000a160: 7469 6f6e 2070 6970 6573 2064 6f6e 2774  tion pipes don't
-0000a170: 2061 6c6c 6f77 2065 6974 6865 7220 6675   allow either fu
-0000a180: 6e63 7469 6f6e 2074 6f20 6265 2060 4e6f  nction to be `No
-0000a190: 6e65 60e2 8094 7261 7468 6572 2c20 7468  ne`...rather, th
-0000a1a0: 6579 2061 6c6c 6f77 2074 6865 2072 6574  ey allow the ret
-0000a1b0: 7572 6e20 6f66 2074 6865 2066 6972 7374  urn of the first
-0000a1c0: 2065 7661 6c75 6174 6564 2066 756e 6374   evaluated funct
-0000a1d0: 696f 6e20 746f 2062 6520 604e 6f6e 6560  ion to be `None`
-0000a1e0: 2c20 696e 2077 6869 6368 2063 6173 6520  , in which case 
-0000a1f0: 604e 6f6e 6560 2069 7320 7265 7475 726e  `None` is return
-0000a200: 6564 2069 6d6d 6564 6961 7465 6c79 2072  ed immediately r
-0000a210: 6174 6865 7220 7468 616e 2063 616c 6c69  ather than calli
-0000a220: 6e67 2074 6865 206e 6578 7420 6675 6e63  ng the next func
-0000a230: 7469 6f6e 2e0a 0a54 6865 2060 2e2e 6020  tion...The `..` 
-0000a240: 6f70 6572 6174 6f72 2068 6173 206c 6f77  operator has low
-0000a250: 6572 2070 7265 6365 6465 6e63 6520 7468  er precedence th
-0000a260: 616e 2060 3a3a 6020 6275 7420 6869 6768  an `::` but high
-0000a270: 6572 2070 7265 6365 6465 6e63 6520 7468  er precedence th
-0000a280: 616e 2069 6e66 6978 2066 756e 6374 696f  an infix functio
-0000a290: 6e73 2077 6869 6c65 2074 6865 2060 2e2e  ns while the `..
-0000a2a0: 3e60 2070 6970 6520 6f70 6572 6174 6f72  >` pipe operator
-0000a2b0: 7320 6861 7665 2061 2070 7265 6365 6465  s have a precede
-0000a2c0: 6e63 6520 6469 7265 6374 6c79 2068 6967  nce directly hig
-0000a2d0: 6865 7220 7468 616e 206e 6f72 6d61 6c20  her than normal 
-0000a2e0: 7069 7065 732e 0a0a 416c 6c20 6675 6e63  pipes...All func
-0000a2f0: 7469 6f6e 2063 6f6d 706f 7369 7469 6f6e  tion composition
-0000a300: 206f 7065 7261 746f 7273 2061 6c73 6f20   operators also 
-0000a310: 6861 7665 2069 6e2d 706c 6163 6520 7665  have in-place ve
-0000a320: 7273 696f 6e73 2028 652e 672e 2060 2e2e  rsions (e.g. `..
-0000a330: 3d60 292e 0a0a 2323 2323 2320 4578 616d  =`)...##### Exam
-0000a340: 706c 650a 0a2a 2a43 6f63 6f6e 7574 3a2a  ple..**Coconut:*
-0000a350: 2a0a 6060 6063 6f63 6f6e 7574 0a66 6f67  *.```coconut.fog
-0000a360: 203d 2066 2e2e 670a 665f 696e 746f 5f67   = f..g.f_into_g
-0000a370: 203d 2066 202e 2e3e 2067 0a60 6060 0a0a   = f ..> g.```..
-0000a380: 2a2a 5079 7468 6f6e 3a2a 2a0a 6060 6063  **Python:**.```c
-0000a390: 6f63 6f6e 7574 5f70 7974 686f 6e0a 2320  oconut_python.# 
-0000a3a0: 756e 6c69 6b65 2074 6865 7365 2073 696d  unlike these sim
-0000a3b0: 706c 6520 6c61 6d62 6461 732c 2043 6f63  ple lambdas, Coc
-0000a3c0: 6f6e 7574 2070 726f 6475 6365 7320 7069  onut produces pi
-0000a3d0: 636b 6c65 6162 6c65 206f 626a 6563 7473  ckleable objects
-0000a3e0: 0a66 6f67 203d 206c 616d 6264 6120 2a61  .fog = lambda *a
-0000a3f0: 7267 732c 202a 2a6b 7761 7267 733a 2066  rgs, **kwargs: f
-0000a400: 2867 282a 6172 6773 2c20 2a2a 6b77 6172  (g(*args, **kwar
-0000a410: 6773 2929 0a66 5f69 6e74 6f5f 6720 3d20  gs)).f_into_g = 
-0000a420: 6c61 6d62 6461 202a 6172 6773 2c20 2a2a  lambda *args, **
-0000a430: 6b77 6172 6773 3a20 6728 6628 2a61 7267  kwargs: g(f(*arg
-0000a440: 732c 202a 2a6b 7761 7267 7329 290a 6060  s, **kwargs)).``
-0000a450: 600a 0a23 2323 2049 7465 7261 746f 7220  `..### Iterator 
-0000a460: 536c 6963 696e 670a 0a43 6f63 6f6e 7574  Slicing..Coconut
-0000a470: 2075 7365 7320 6120 6024 6020 7369 676e   uses a `$` sign
-0000a480: 2072 6967 6874 2061 6674 6572 2061 6e20   right after an 
-0000a490: 6974 6572 6174 6f72 2062 6566 6f72 6520  iterator before 
-0000a4a0: 6120 736c 6963 6520 746f 2070 6572 666f  a slice to perfo
-0000a4b0: 726d 2069 7465 7261 746f 7220 736c 6963  rm iterator slic
-0000a4c0: 696e 672c 2061 7320 696e 2060 6974 245b  ing, as in `it$[
-0000a4d0: 3a35 5d60 2e20 436f 636f 6e75 7427 7320  :5]`. Coconut's 
-0000a4e0: 6974 6572 6174 6f72 2073 6c69 6369 6e67  iterator slicing
-0000a4f0: 2077 6f72 6b73 206d 7563 6820 7468 6520   works much the 
-0000a500: 7361 6d65 2061 7320 5079 7468 6f6e 2773  same as Python's
-0000a510: 2073 6571 7565 6e63 6520 736c 6963 696e   sequence slicin
-0000a520: 672c 2061 6e64 206c 6f6f 6b73 206d 7563  g, and looks muc
-0000a530: 6820 7468 6520 7361 6d65 2061 7320 436f  h the same as Co
-0000a540: 636f 6e75 7427 7320 7061 7274 6961 6c20  conut's partial 
-0000a550: 6170 706c 6963 6174 696f 6e2c 2062 7574  application, but
-0000a560: 2077 6974 6820 6272 6163 6b65 7473 2069   with brackets i
-0000a570: 6e73 7465 6164 206f 6620 7061 7265 6e74  nstead of parent
-0000a580: 6865 7365 732e 0a0a 4974 6572 6174 6f72  heses...Iterator
-0000a590: 2073 6c69 6369 6e67 2077 6f72 6b73 206a   slicing works j
-0000a5a0: 7573 7420 6c69 6b65 2073 6571 7565 6e63  ust like sequenc
-0000a5b0: 6520 736c 6963 696e 672c 2069 6e63 6c75  e slicing, inclu
-0000a5c0: 6469 6e67 2073 7570 706f 7274 2066 6f72  ding support for
-0000a5d0: 206e 6567 6174 6976 6520 696e 6469 6365   negative indice
-0000a5e0: 7320 616e 6420 736c 6963 6573 2c20 616e  s and slices, an
-0000a5f0: 6420 7375 7070 6f72 7420 666f 7220 6073  d support for `s
-0000a600: 6c69 6365 6020 6f62 6a65 6374 7320 696e  lice` objects in
-0000a610: 2074 6865 2073 616d 6520 7761 7920 6173   the same way as
-0000a620: 2063 616e 2062 6520 646f 6e65 2077 6974   can be done wit
-0000a630: 6820 6e6f 726d 616c 2073 6c69 6369 6e67  h normal slicing
-0000a640: 2e20 4974 6572 6174 6f72 2073 6c69 6369  . Iterator slici
-0000a650: 6e67 206d 616b 6573 206e 6f20 6775 6172  ng makes no guar
-0000a660: 616e 7465 652c 2068 6f77 6576 6572 2c20  antee, however, 
-0000a670: 7468 6174 2074 6865 206f 7269 6769 6e61  that the origina
-0000a680: 6c20 6974 6572 6174 6f72 2070 6173 7365  l iterator passe
-0000a690: 6420 746f 2069 7420 6265 2070 7265 7365  d to it be prese
-0000a6a0: 7276 6564 2028 746f 2070 7265 7365 7276  rved (to preserv
-0000a6b0: 6520 7468 6520 6974 6572 6174 6f72 2c20  e the iterator, 
-0000a6c0: 7573 6520 436f 636f 6e75 7427 7320 5b60  use Coconut's [`
-0000a6d0: 7265 6974 6572 6162 6c65 605d 2823 7265  reiterable`](#re
-0000a6e0: 6974 6572 6162 6c65 2920 6275 696c 742d  iterable) built-
-0000a6f0: 696e 292e 0a0a 436f 636f 6e75 7427 7320  in)...Coconut's 
-0000a700: 6974 6572 6174 6f72 2073 6c69 6369 6e67  iterator slicing
-0000a710: 2069 7320 7665 7279 2073 696d 696c 6172   is very similar
-0000a720: 2074 6f20 5079 7468 6f6e 2773 2060 6974   to Python's `it
-0000a730: 6572 746f 6f6c 732e 6973 6c69 6365 602c  ertools.islice`,
-0000a740: 2062 7574 2075 6e6c 696b 6520 6069 7465   but unlike `ite
-0000a750: 7274 6f6f 6c73 2e69 736c 6963 6560 2c20  rtools.islice`, 
-0000a760: 436f 636f 6e75 7427 7320 6974 6572 6174  Coconut's iterat
-0000a770: 6f72 2073 6c69 6369 6e67 2073 7570 706f  or slicing suppo
-0000a780: 7274 7320 6e65 6761 7469 7665 2069 6e64  rts negative ind
-0000a790: 6963 6573 2c20 616e 6420 7769 6c6c 2070  ices, and will p
-0000a7a0: 7265 6665 7265 6e74 6961 6c6c 7920 6361  referentially ca
-0000a7b0: 6c6c 2061 6e20 6f62 6a65 6374 2773 2060  ll an object's `
-0000a7c0: 5f5f 6974 6572 5f67 6574 6974 656d 5f5f  __iter_getitem__
-0000a7d0: 6020 2843 6f63 6f6e 7574 2d73 7065 6369  ` (Coconut-speci
-0000a7e0: 6669 6320 6d61 6769 6320 6d65 7468 6f64  fic magic method
-0000a7f0: 2c20 7072 6566 6572 7265 6429 206f 7220  , preferred) or 
-0000a800: 605f 5f67 6574 6974 656d 5f5f 6020 2867  `__getitem__` (g
-0000a810: 656e 6572 616c 2050 7974 686f 6e20 6d61  eneral Python ma
-0000a820: 6769 6320 6d65 7468 6f64 292c 2069 6620  gic method), if 
-0000a830: 7468 6579 2065 7869 7374 2e20 436f 636f  they exist. Coco
-0000a840: 6e75 7427 7320 6974 6572 6174 6f72 2073  nut's iterator s
-0000a850: 6c69 6369 6e67 2069 7320 616c 736f 206f  licing is also o
-0000a860: 7074 696d 697a 6564 2074 6f20 776f 726b  ptimized to work
-0000a870: 2077 656c 6c20 7769 7468 2061 6c6c 206f   well with all o
-0000a880: 6620 436f 636f 6e75 7427 7320 6275 696c  f Coconut's buil
-0000a890: 742d 696e 206f 626a 6563 7473 2c20 6f6e  t-in objects, on
-0000a8a0: 6c79 2063 6f6d 7075 7469 6e67 2074 6865  ly computing the
-0000a8b0: 2065 6c65 6d65 6e74 7320 6f66 2065 6163   elements of eac
-0000a8c0: 6820 7468 6174 2061 7265 2061 6374 7561  h that are actua
-0000a8d0: 6c6c 7920 6e65 6365 7373 6172 7920 746f  lly necessary to
-0000a8e0: 2065 7874 7261 6374 2074 6865 2064 6573   extract the des
-0000a8f0: 6972 6564 2073 6c69 6365 2e0a 0a23 2323  ired slice...###
-0000a900: 2323 2045 7861 6d70 6c65 0a0a 2a2a 436f  ## Example..**Co
-0000a910: 636f 6e75 743a 2a2a 0a60 6060 636f 636f  conut:**.```coco
-0000a920: 6e75 740a 6d61 7028 7820 2d3e 2078 2a32  nut.map(x -> x*2
-0000a930: 2c20 7261 6e67 6528 3130 2a2a 3130 3029  , range(10**100)
-0000a940: 2924 5b2d 315d 207c 3e20 7072 696e 740a  )$[-1] |> print.
-0000a950: 6060 600a 0a2a 2a50 7974 686f 6e3a 2a2a  ```..**Python:**
-0000a960: 0a5f 4361 6e27 7420 6265 2064 6f6e 6520  ._Can't be done 
-0000a970: 7769 7468 6f75 7420 6120 636f 6d70 6c69  without a compli
-0000a980: 6361 7465 6420 6974 6572 6174 6f72 2073  cated iterator s
-0000a990: 6c69 6369 6e67 2066 756e 6374 696f 6e20  licing function 
-0000a9a0: 616e 6420 696e 7370 6563 7469 6f6e 206f  and inspection o
-0000a9b0: 6620 6375 7374 6f6d 206f 626a 6563 7473  f custom objects
-0000a9c0: 2e20 5468 6520 6e65 6365 7373 6172 7920  . The necessary 
-0000a9d0: 6465 6669 6e69 7469 6f6e 7320 696e 2050  definitions in P
-0000a9e0: 7974 686f 6e20 6361 6e20 6265 2066 6f75  ython can be fou
-0000a9f0: 6e64 2069 6e20 7468 6520 436f 636f 6e75  nd in the Coconu
-0000aa00: 7420 6865 6164 6572 2e5f 0a0a 2323 2320  t header._..### 
-0000aa10: 4974 6572 6174 6f72 2043 6861 696e 696e  Iterator Chainin
-0000aa20: 670a 0a43 6f63 6f6e 7574 2075 7365 7320  g..Coconut uses 
-0000aa30: 7468 6520 603a 3a60 206f 7065 7261 746f  the `::` operato
-0000aa40: 7220 666f 7220 6974 6572 6174 6f72 2063  r for iterator c
-0000aa50: 6861 696e 696e 672e 2043 6f63 6f6e 7574  haining. Coconut
-0000aa60: 2773 2069 7465 7261 746f 7220 6368 6169  's iterator chai
-0000aa70: 6e69 6e67 2069 7320 646f 6e65 206c 617a  ning is done laz
-0000aa80: 696c 792c 2069 6e20 7468 6174 2074 6865  ily, in that the
-0000aa90: 2061 7267 756d 656e 7473 2061 7265 206e   arguments are n
-0000aaa0: 6f74 2065 7661 6c75 6174 6564 2075 6e74  ot evaluated unt
-0000aab0: 696c 2074 6865 7920 6172 6520 6e65 6564  il they are need
-0000aac0: 6564 2e20 4974 2068 6173 2061 2070 7265  ed. It has a pre
-0000aad0: 6365 6465 6e63 6520 696e 2d62 6574 7765  cedence in-betwe
-0000aae0: 656e 2062 6974 7769 7365 206f 7220 616e  en bitwise or an
-0000aaf0: 6420 696e 6669 7820 6361 6c6c 732e 2043  d infix calls. C
-0000ab00: 6861 696e 7320 6172 6520 7265 6974 6572  hains are reiter
-0000ab10: 6162 6c65 2028 6361 6e20 6265 2069 7465  able (can be ite
-0000ab20: 7261 7465 6420 6f76 6572 206d 756c 7469  rated over multi
-0000ab30: 706c 6520 7469 6d65 7320 616e 6420 6765  ple times and ge
-0000ab40: 7420 7468 6520 7361 6d65 2072 6573 756c  t the same resul
-0000ab50: 7429 206f 6e6c 7920 7768 656e 2074 6865  t) only when the
-0000ab60: 2069 7465 7261 746f 7273 2070 6173 7365   iterators passe
-0000ab70: 6420 696e 2061 7265 2072 6569 7465 7261  d in are reitera
-0000ab80: 626c 652e 2054 6865 2069 6e2d 706c 6163  ble. The in-plac
-0000ab90: 6520 6f70 6572 6174 6f72 2069 7320 603a  e operator is `:
-0000aba0: 3a3d 602e 0a0a 5f4e 6f74 6520 7468 6174  :=`..._Note that
-0000abb0: 205b 6c61 7a79 206c 6973 7473 5d28 236c   [lazy lists](#l
-0000abc0: 617a 792d 6c69 7374 7329 2061 6e64 205b  azy-lists) and [
-0000abd0: 666c 6174 7465 6e5d 2823 666c 6174 7465  flatten](#flatte
-0000abe0: 6e29 2061 7265 2075 7365 6420 756e 6465  n) are used unde
-0000abf0: 7220 7468 6520 686f 6f64 2074 6f20 696d  r the hood to im
-0000ac00: 706c 656d 656e 7420 6368 6169 6e69 6e67  plement chaining
-0000ac10: 2073 7563 6820 7468 6174 2060 6120 3a3a   such that `a ::
-0000ac20: 2062 6020 6973 2065 7175 6976 616c 656e   b` is equivalen
-0000ac30: 7420 746f 2060 666c 6174 7465 6e28 287c  t to `flatten((|
-0000ac40: 612c 2062 7c29 2960 2e5f 0a0a 2323 2323  a, b|))`._..####
-0000ac50: 2320 5261 7469 6f6e 616c 650a 0a41 2075  # Rationale..A u
-0000ac60: 7365 6675 6c20 746f 6f6c 2074 6f20 6d61  seful tool to ma
-0000ac70: 6b65 2077 6f72 6b69 6e67 2077 6974 6820  ke working with 
-0000ac80: 6974 6572 6174 6f72 7320 6173 2065 6173  iterators as eas
-0000ac90: 7920 6173 2077 6f72 6b69 6e67 2077 6974  y as working wit
-0000aca0: 6820 7365 7175 656e 6365 7320 6973 2074  h sequences is t
-0000acb0: 6865 2061 6269 6c69 7479 2074 6f20 6c61  he ability to la
-0000acc0: 7a69 6c79 2063 6f6d 6269 6e65 206d 756c  zily combine mul
-0000acd0: 7469 706c 6520 6974 6572 6174 6f72 7320  tiple iterators 
-0000ace0: 746f 6765 7468 6572 2e20 5468 6973 206f  together. This o
-0000acf0: 7065 7261 7469 6f6e 2069 7320 6361 6c6c  peration is call
-0000ad00: 6564 2063 6861 696e 2c20 616e 6420 6973  ed chain, and is
-0000ad10: 2065 7175 6976 616c 656e 7420 746f 2061   equivalent to a
-0000ad20: 6464 6974 696f 6e20 7769 7468 2073 6571  ddition with seq
-0000ad30: 7565 6e63 6573 2c20 6578 6365 7074 2074  uences, except t
-0000ad40: 6861 7420 6e6f 7468 696e 6720 6765 7473  hat nothing gets
-0000ad50: 2065 7661 6c75 6174 6564 2075 6e74 696c   evaluated until
-0000ad60: 2069 7420 6973 206e 6565 6465 642e 0a0a   it is needed...
-0000ad70: 2323 2323 2320 5079 7468 6f6e 2044 6f63  ##### Python Doc
-0000ad80: 730a 0a4d 616b 6520 616e 2069 7465 7261  s..Make an itera
-0000ad90: 746f 7220 7468 6174 2072 6574 7572 6e73  tor that returns
-0000ada0: 2065 6c65 6d65 6e74 7320 6672 6f6d 2074   elements from t
-0000adb0: 6865 2066 6972 7374 2069 7465 7261 626c  he first iterabl
-0000adc0: 6520 756e 7469 6c20 6974 2069 7320 6578  e until it is ex
-0000add0: 6861 7573 7465 642c 2074 6865 6e20 7072  hausted, then pr
-0000ade0: 6f63 6565 6473 2074 6f20 7468 6520 6e65  oceeds to the ne
-0000adf0: 7874 2069 7465 7261 626c 652c 2075 6e74  xt iterable, unt
-0000ae00: 696c 2061 6c6c 206f 6620 7468 6520 6974  il all of the it
-0000ae10: 6572 6162 6c65 7320 6172 6520 6578 6861  erables are exha
-0000ae20: 7573 7465 642e 2055 7365 6420 666f 7220  usted. Used for 
-0000ae30: 7472 6561 7469 6e67 2063 6f6e 7365 6375  treating consecu
-0000ae40: 7469 7665 2073 6571 7565 6e63 6573 2061  tive sequences a
-0000ae50: 7320 6120 7369 6e67 6c65 2073 6571 7565  s a single seque
-0000ae60: 6e63 652e 2043 6861 696e 6564 2069 6e70  nce. Chained inp
-0000ae70: 7574 7320 6172 6520 6576 616c 7561 7465  uts are evaluate
-0000ae80: 6420 6c61 7a69 6c79 2e20 526f 7567 686c  d lazily. Roughl
-0000ae90: 7920 6571 7569 7661 6c65 6e74 2074 6f3a  y equivalent to:
-0000aea0: 0a60 6060 636f 636f 6e75 745f 7079 7468  .```coconut_pyth
-0000aeb0: 6f6e 0a64 6566 2063 6861 696e 282a 6974  on.def chain(*it
-0000aec0: 6572 6162 6c65 7329 3a0a 2020 2020 2320  erables):.    # 
-0000aed0: 6368 6169 6e28 2741 4243 272c 2027 4445  chain('ABC', 'DE
-0000aee0: 4627 2920 2d2d 3e20 4120 4220 4320 4420  F') --> A B C D 
-0000aef0: 4520 460a 2020 2020 666f 7220 6974 2069  E F.    for it i
-0000af00: 6e20 6974 6572 6162 6c65 733a 0a20 2020  n iterables:.   
-0000af10: 2020 2020 2066 6f72 2065 6c65 6d65 6e74       for element
-0000af20: 2069 6e20 6974 3a0a 2020 2020 2020 2020   in it:.        
-0000af30: 2020 2020 7969 656c 6420 656c 656d 656e      yield elemen
-0000af40: 740a 6060 600a 0a23 2323 2323 2045 7861  t.```..##### Exa
-0000af50: 6d70 6c65 0a0a 2a2a 436f 636f 6e75 743a  mple..**Coconut:
-0000af60: 2a2a 0a60 6060 636f 636f 6e75 740a 6465  **.```coconut.de
-0000af70: 6620 4e28 6e3d 3029 203d 2028 6e2c 2920  f N(n=0) = (n,) 
-0000af80: 3a3a 204e 286e 2b31 2920 2023 206e 6f20  :: N(n+1)  # no 
-0000af90: 696e 6669 6e69 7465 206c 6f6f 7020 6265  infinite loop be
-0000afa0: 6361 7573 6520 3a3a 2069 7320 6c61 7a79  cause :: is lazy
-0000afb0: 0a0a 2872 616e 6765 282d 3130 2c20 3029  ..(range(-10, 0)
-0000afc0: 203a 3a20 4e28 2929 245b 353a 3135 5d20   :: N())$[5:15] 
-0000afd0: 7c3e 206c 6973 7420 7c3e 2070 7269 6e74  |> list |> print
-0000afe0: 0a60 6060 0a0a 2a2a 5079 7468 6f6e 3a2a  .```..**Python:*
-0000aff0: 2a0a 5f43 616e 2774 2062 6520 646f 6e65  *._Can't be done
-0000b000: 2077 6974 686f 7574 2061 2063 6f6d 706c   without a compl
-0000b010: 6963 6174 6564 2069 7465 7261 746f 7220  icated iterator 
-0000b020: 636f 6d70 7265 6865 6e73 696f 6e20 696e  comprehension in
-0000b030: 2070 6c61 6365 206f 6620 7468 6520 6c61   place of the la
-0000b040: 7a79 2063 6861 696e 696e 672e 2053 6565  zy chaining. See
-0000b050: 2074 6865 2063 6f6d 7069 6c65 6420 636f   the compiled co
-0000b060: 6465 2066 6f72 2074 6865 2050 7974 686f  de for the Pytho
-0000b070: 6e20 7379 6e74 6178 2e5f 0a0a 2323 2320  n syntax._..### 
-0000b080: 496e 6669 7820 4675 6e63 7469 6f6e 730a  Infix Functions.
-0000b090: 0a43 6f63 6f6e 7574 2061 6c6c 6f77 7320  .Coconut allows 
-0000b0a0: 666f 7220 696e 6669 7820 6675 6e63 7469  for infix functi
-0000b0b0: 6f6e 2063 616c 6c69 6e67 2c20 7768 6572  on calling, wher
-0000b0c0: 6520 616e 2065 7870 7265 7373 696f 6e20  e an expression 
-0000b0d0: 7468 6174 2065 7661 6c75 6174 6573 2074  that evaluates t
-0000b0e0: 6f20 6120 6675 6e63 7469 6f6e 2069 7320  o a function is 
-0000b0f0: 7375 7272 6f75 6e64 6564 2062 7920 6261  surrounded by ba
-0000b100: 636b 7469 636b 7320 616e 6420 7468 656e  ckticks and then
-0000b110: 2063 616e 2068 6176 6520 6172 6775 6d65   can have argume
-0000b120: 6e74 7320 706c 6163 6564 2069 6e20 6672  nts placed in fr
-0000b130: 6f6e 7420 6f66 206f 7220 6265 6869 6e64  ont of or behind
-0000b140: 2069 742e 2049 6e66 6978 2063 616c 6c69   it. Infix calli
-0000b150: 6e67 2068 6173 2061 2070 7265 6365 6465  ng has a precede
-0000b160: 6e63 6520 696e 2d62 6574 7765 656e 2063  nce in-between c
-0000b170: 6861 696e 696e 6720 616e 6420 604e 6f6e  haining and `Non
-0000b180: 6560 2d63 6f61 6c65 7363 696e 672c 2061  e`-coalescing, a
-0000b190: 6e64 2069 7320 6c65 6674 2d61 7373 6f63  nd is left-assoc
-0000b1a0: 6961 7469 7665 2e0a 0a54 6865 2061 6c6c  iative...The all
-0000b1b0: 6f77 6162 6c65 206e 6f74 6174 696f 6e73  owable notations
-0000b1c0: 2066 6f72 2069 6e66 6978 2063 616c 6c73   for infix calls
-0000b1d0: 2061 7265 3a0a 6060 6063 6f63 6f6e 7574   are:.```coconut
-0000b1e0: 0a78 2060 6660 2079 2020 3d3e 2020 6628  .x `f` y  =>  f(
-0000b1f0: 782c 2079 290a 6066 6020 7820 2020 203d  x, y).`f` x    =
-0000b200: 3e20 2066 2878 290a 7820 6066 6020 2020  >  f(x).x `f`   
-0000b210: 203d 3e20 2066 2878 290a 6066 6020 2020   =>  f(x).`f`   
-0000b220: 2020 203d 3e20 2066 2829 0a60 6060 0a41     =>  f().```.A
-0000b230: 6464 6974 696f 6e61 6c6c 792c 2069 6e66  dditionally, inf
-0000b240: 6978 206e 6f74 6174 696f 6e20 7375 7070  ix notation supp
-0000b250: 6f72 7473 2061 206c 616d 6264 6120 6173  orts a lambda as
-0000b260: 2074 6865 206c 6173 7420 6172 6775 6d65   the last argume
-0000b270: 6e74 2c20 6465 7370 6974 6520 6c61 6d62  nt, despite lamb
-0000b280: 6461 7320 6861 7669 6e67 2061 206c 6f77  das having a low
-0000b290: 6572 2070 7265 6365 6465 6e63 652e 2054  er precedence. T
-0000b2a0: 6875 732c 2060 6061 2060 6675 6e63 6020  hus, ``a `func` 
-0000b2b0: 6220 2d3e 2063 6060 2069 7320 6571 7569  b -> c`` is equi
-0000b2c0: 7661 6c65 6e74 2074 6f20 6066 756e 6328  valent to `func(
-0000b2d0: 612c 2062 202d 3e20 6329 602e 0a0a 436f  a, b -> c)`...Co
-0000b2e0: 636f 6e75 7420 616c 736f 2073 7570 706f  conut also suppo
-0000b2f0: 7274 7320 696e 6669 7820 6675 6e63 7469  rts infix functi
-0000b300: 6f6e 2064 6566 696e 6974 696f 6e20 746f  on definition to
-0000b310: 206d 616b 6520 6465 6669 6e69 6e67 2066   make defining f
-0000b320: 756e 6374 696f 6e73 2074 6861 7420 6172  unctions that ar
-0000b330: 6520 696e 7465 6e64 6564 2066 6f72 2069  e intended for i
-0000b340: 6e66 6978 2075 7361 6765 2073 696d 706c  nfix usage simpl
-0000b350: 6572 2e20 5468 6520 7379 6e74 6178 2066  er. The syntax f
-0000b360: 6f72 2069 6e66 6978 2066 756e 6374 696f  or infix functio
-0000b370: 6e20 6465 6669 6e69 7469 6f6e 2069 730a  n definition is.
-0000b380: 6060 6063 6f63 6f6e 7574 0a64 6566 203c  ```coconut.def <
-0000b390: 6172 673e 2060 3c6e 616d 653e 6020 3c61  arg> `<name>` <a
-0000b3a0: 7267 3e3a 0a20 2020 203c 626f 6479 3e0a  rg>:.    <body>.
-0000b3b0: 6060 600a 7768 6572 6520 603c 6e61 6d65  ```.where `<name
-0000b3c0: 3e60 2069 7320 7468 6520 6e61 6d65 206f  >` is the name o
-0000b3d0: 6620 7468 6520 6675 6e63 7469 6f6e 2c20  f the function, 
-0000b3e0: 7468 6520 603c 6172 673e 6073 2061 7265  the `<arg>`s are
-0000b3f0: 2074 6865 2066 756e 6374 696f 6e20 6172   the function ar
-0000b400: 6775 6d65 6e74 732c 2061 6e64 2060 3c62  guments, and `<b
-0000b410: 6f64 793e 6020 6973 2074 6865 2062 6f64  ody>` is the bod
-0000b420: 7920 6f66 2074 6865 2066 756e 6374 696f  y of the functio
-0000b430: 6e2e 2049 6620 616e 2060 3c61 7267 3e60  n. If an `<arg>`
-0000b440: 2069 6e63 6c75 6465 7320 6120 6465 6661   includes a defa
-0000b450: 756c 742c 2074 6865 2060 3c61 7267 3e60  ult, the `<arg>`
-0000b460: 206d 7573 7420 6265 2073 7572 726f 756e   must be surroun
-0000b470: 6465 6420 696e 2070 6172 656e 7468 6573  ded in parenthes
-0000b480: 6573 2e0a 0a5f 4e6f 7465 3a20 496e 6669  es..._Note: Infi
-0000b490: 7820 6675 6e63 7469 6f6e 2064 6566 696e  x function defin
-0000b4a0: 6974 696f 6e20 6361 6e20 6265 2063 6f6d  ition can be com
-0000b4b0: 6269 6e65 6420 7769 7468 2061 7373 6967  bined with assig
-0000b4c0: 6e6d 656e 7420 616e 642f 6f72 2070 6174  nment and/or pat
-0000b4d0: 7465 726e 2d6d 6174 6368 696e 6720 6675  tern-matching fu
-0000b4e0: 6e63 7469 6f6e 2064 6566 696e 6974 696f  nction definitio
-0000b4f0: 6e2e 5f0a 0a23 2323 2323 2052 6174 696f  n._..##### Ratio
-0000b500: 6e61 6c65 0a0a 4120 636f 6d6d 6f6e 2069  nale..A common i
-0000b510: 6469 6f6d 2069 6e20 6675 6e63 7469 6f6e  diom in function
-0000b520: 616c 2070 726f 6772 616d 6d69 6e67 2069  al programming i
-0000b530: 7320 746f 2077 7269 7465 2066 756e 6374  s to write funct
-0000b540: 696f 6e73 2074 6861 7420 6172 6520 696e  ions that are in
-0000b550: 7465 6e64 6564 2074 6f20 6265 6861 7665  tended to behave
-0000b560: 2073 6f6d 6577 6861 7420 6c69 6b65 206f   somewhat like o
-0000b570: 7065 7261 746f 7273 2c20 616e 6420 746f  perators, and to
-0000b580: 2063 616c 6c20 616e 6420 6465 6669 6e65   call and define
-0000b590: 2074 6865 6d20 6279 2070 6c61 6369 6e67   them by placing
-0000b5a0: 2074 6865 6d20 6265 7477 6565 6e20 7468   them between th
-0000b5b0: 6569 7220 6172 6775 6d65 6e74 732e 2043  eir arguments. C
-0000b5c0: 6f63 6f6e 7574 2773 2069 6e66 6978 2073  oconut's infix s
-0000b5d0: 796e 7461 7820 6d61 6b65 7320 7468 6973  yntax makes this
-0000b5e0: 2070 6f73 7369 626c 652e 0a0a 2323 2323   possible...####
-0000b5f0: 2320 4578 616d 706c 650a 0a2a 2a43 6f63  # Example..**Coc
-0000b600: 6f6e 7574 3a2a 2a0a 6060 6063 6f63 6f6e  onut:**.```cocon
-0000b610: 7574 0a64 6566 2061 2060 6d6f 6460 2062  ut.def a `mod` b
-0000b620: 203d 2061 2025 2062 0a28 7820 606d 6f64   = a % b.(x `mod
-0000b630: 6020 3229 2060 7072 696e 7460 0a60 6060  ` 2) `print`.```
-0000b640: 0a0a 2a2a 5079 7468 6f6e 3a2a 2a0a 6060  ..**Python:**.``
-0000b650: 6063 6f63 6f6e 7574 5f70 7974 686f 6e0a  `coconut_python.
-0000b660: 6465 6620 6d6f 6428 612c 2062 293a 2072  def mod(a, b): r
-0000b670: 6574 7572 6e20 6120 2520 620a 7072 696e  eturn a % b.prin
-0000b680: 7428 6d6f 6428 782c 2032 2929 0a60 6060  t(mod(x, 2)).```
-0000b690: 0a0a 2323 2320 4375 7374 6f6d 204f 7065  ..### Custom Ope
-0000b6a0: 7261 746f 7273 0a0a 436f 636f 6e75 7420  rators..Coconut 
-0000b6b0: 616c 6c6f 7773 2079 6f75 2074 6f20 6465  allows you to de
-0000b6c0: 636c 6172 6520 796f 7572 206f 776e 2063  clare your own c
-0000b6d0: 7573 746f 6d20 6f70 6572 6174 6f72 7320  ustom operators 
-0000b6e0: 7769 7468 2074 6865 2073 796e 7461 780a  with the syntax.
-0000b6f0: 6060 600a 6f70 6572 6174 6f72 203c 6f70  ```.operator <op
-0000b700: 3e0a 6060 600a 7768 6572 6520 603c 6f70  >.```.where `<op
-0000b710: 3e60 2069 7320 7768 6174 6576 6572 2073  >` is whatever s
-0000b720: 6571 7565 6e63 6520 6f66 2055 6e69 636f  equence of Unico
-0000b730: 6465 2063 6861 7261 6374 6572 7320 796f  de characters yo
-0000b740: 7520 7761 6e74 2074 6f20 7573 6520 6173  u want to use as
-0000b750: 2061 2063 7573 746f 6d20 6f70 6572 6174   a custom operat
-0000b760: 6f72 2e20 5468 6520 606f 7065 7261 746f  or. The `operato
-0000b770: 7260 2073 7461 7465 6d65 6e74 206d 7573  r` statement mus
-0000b780: 7420 6170 7065 6172 2061 7420 7468 6520  t appear at the 
-0000b790: 746f 7020 6c65 7665 6c20 616e 6420 6f6e  top level and on
-0000b7a0: 6c79 2061 6666 6563 7473 2063 6f64 6520  ly affects code 
-0000b7b0: 7468 6174 2063 6f6d 6573 2061 6674 6572  that comes after
-0000b7c0: 2069 742e 0a0a 4f6e 6365 2064 6563 6c61   it...Once decla
-0000b7d0: 7265 642c 2079 6f75 2063 616e 2075 7365  red, you can use
-0000b7e0: 2079 6f75 7220 6375 7374 6f6d 206f 7065   your custom ope
-0000b7f0: 7261 746f 7220 616e 7977 6865 7265 2077  rator anywhere w
-0000b800: 6865 7265 2079 6f75 2077 6f75 6c64 2062  here you would b
-0000b810: 6520 6162 6c65 2074 6f20 7573 6520 616e  e able to use an
-0000b820: 205b 696e 6669 7820 6675 6e63 7469 6f6e   [infix function
-0000b830: 5d28 2369 6e66 6978 2d66 756e 6374 696f  ](#infix-functio
-0000b840: 6e73 2920 6173 2077 656c 6c20 6173 2072  ns) as well as r
-0000b850: 6566 6572 2074 6f20 7468 6520 6163 7475  efer to the actu
-0000b860: 616c 206f 7065 7261 746f 7220 6974 7365  al operator itse
-0000b870: 6c66 2077 6974 6820 7468 6520 7361 6d65  lf with the same
-0000b880: 2060 283c 6f70 3e29 6020 7379 6e74 6178   `(<op>)` syntax
-0000b890: 2061 7320 696e 206f 7468 6572 205b 6f70   as in other [op
-0000b8a0: 6572 6174 6f72 2066 756e 6374 696f 6e73  erator functions
-0000b8b0: 5d28 236f 7065 7261 746f 722d 6675 6e63  ](#operator-func
-0000b8c0: 7469 6f6e 7329 2e20 5369 6e63 6520 6375  tions). Since cu
-0000b8d0: 7374 6f6d 206f 7065 7261 746f 7273 2077  stom operators w
-0000b8e0: 6f72 6b20 6c69 6b65 2069 6e66 6978 2066  ork like infix f
-0000b8f0: 756e 6374 696f 6e73 2c20 7468 6579 2061  unctions, they a
-0000b900: 6c77 6179 7320 6861 7665 2074 6865 2073  lways have the s
-0000b910: 616d 6520 7072 6563 6564 656e 6365 2061  ame precedence a
-0000b920: 7320 696e 6669 7820 6675 6e63 7469 6f6e  s infix function
-0000b930: 7320 616e 6420 6172 6520 616c 7761 7973  s and are always
-0000b940: 206c 6566 742d 6173 736f 6369 6174 6976   left-associativ
-0000b950: 652e 2043 7573 746f 6d20 6f70 6572 6174  e. Custom operat
-0000b960: 6f72 7320 6361 6e20 6265 2075 7365 6420  ors can be used 
-0000b970: 6173 2062 696e 6172 792c 2075 6e61 7279  as binary, unary
-0000b980: 2c20 6f72 206e 6f6e 652d 6172 7920 6f70  , or none-ary op
-0000b990: 6572 6174 6f72 732c 2061 6e64 2062 6f74  erators, and bot
-0000b9a0: 6820 7072 6566 6978 2061 6e64 2070 6f73  h prefix and pos
-0000b9b0: 7466 6978 206e 6f74 6174 696f 6e20 666f  tfix notation fo
-0000b9c0: 7220 756e 6172 7920 6f70 6572 6174 6f72  r unary operator
-0000b9d0: 7320 6973 2073 7570 706f 7274 6564 2e0a  s is supported..
-0000b9e0: 0a53 6f6d 6520 6578 616d 706c 6520 7379  .Some example sy
-0000b9f0: 6e74 6178 6573 2066 6f72 2064 6566 696e  ntaxes for defin
-0000ba00: 696e 6720 6375 7374 6f6d 206f 7065 7261  ing custom opera
-0000ba10: 746f 7273 206f 6e63 6520 6465 636c 6172  tors once declar
-0000ba20: 6564 3a0a 6060 600a 6465 6620 7820 3c6f  ed:.```.def x <o
-0000ba30: 703e 2079 3a20 2e2e 2e0a 6465 6620 3c6f  p> y: ....def <o
-0000ba40: 703e 2078 203d 202e 2e2e 0a6d 6174 6368  p> x = ....match
-0000ba50: 2064 6566 2028 7829 203c 6f70 3e20 2879   def (x) <op> (y
-0000ba60: 293a 202e 2e2e 0a28 3c6f 703e 2920 3d20  ): ....(<op>) = 
-0000ba70: 2e2e 2e0a 6672 6f6d 206d 6f64 756c 6520  ....from module 
-0000ba80: 696d 706f 7274 206e 616d 6520 6173 2028  import name as (
-0000ba90: 3c6f 703e 290a 6060 600a 0a41 6e64 2073  <op>).```..And s
-0000baa0: 6f6d 6520 6578 616d 706c 6520 7379 6e74  ome example synt
-0000bab0: 6178 6573 2066 6f72 2075 7369 6e67 2063  axes for using c
-0000bac0: 7573 746f 6d20 6f70 6572 6174 6f72 733a  ustom operators:
-0000bad0: 0a60 6060 0a78 203c 6f70 3e20 790a 7820  .```.x <op> y.x 
-0000bae0: 3c6f 703e 2079 203c 6f70 3e20 7a0a 3c6f  <op> y <op> z.<o
-0000baf0: 703e 2078 0a78 203c 6f70 3e0a 7820 3d20  p> x.x <op>.x = 
-0000bb00: 283c 6f70 3e29 0a66 283c 6f70 3e29 0a28  (<op>).f(<op>).(
-0000bb10: 7820 3c6f 703e 202e 290a 282e 203c 6f70  x <op> .).(. <op
-0000bb20: 3e20 7929 0a6d 6174 6368 2078 203c 6f70  > y).match x <op
-0000bb30: 3e20 696e 202e 2e2e 3a20 2e2e 2e0a 6d61  > in ...: ....ma
-0000bb40: 7463 6820 7820 3c6f 703e 2079 2069 6e20  tch x <op> y in 
-0000bb50: 2e2e 2e3a 202e 2e2e 0a60 6060 0a0a 4164  ...: ....```..Ad
-0000bb60: 6469 7469 6f6e 616c 6c79 2c20 746f 2069  ditionally, to i
-0000bb70: 6d70 6f72 7420 6375 7374 6f6d 206f 7065  mport custom ope
-0000bb80: 7261 746f 7273 2066 726f 6d20 6f74 6865  rators from othe
-0000bb90: 7220 6d6f 6475 6c65 732c 2043 6f63 6f6e  r modules, Cocon
-0000bba0: 7574 2073 7570 706f 7274 7320 7468 6520  ut supports the 
-0000bbb0: 7370 6563 6961 6c20 7379 6e74 6178 3a0a  special syntax:.
-0000bbc0: 6060 600a 6672 6f6d 203c 6d6f 6475 6c65  ```.from <module
-0000bbd0: 3e20 696d 706f 7274 206f 7065 7261 746f  > import operato
-0000bbe0: 7220 3c6f 703e 0a60 6060 0a0a 4375 7374  r <op>.```..Cust
-0000bbf0: 6f6d 206f 7065 7261 746f 7273 2077 696c  om operators wil
-0000bc00: 6c20 6f66 7465 6e20 6e65 6564 2074 6f20  l often need to 
-0000bc10: 6265 2073 7572 726f 756e 6465 6420 6279  be surrounded by
-0000bc20: 2077 6869 7465 7370 6163 6520 286f 7220   whitespace (or 
-0000bc30: 7061 7265 6e74 6865 7365 7320 7768 656e  parentheses when
-0000bc40: 2075 7365 6420 6173 2061 6e20 6f70 6572   used as an oper
-0000bc50: 6174 6f72 2066 756e 6374 696f 6e29 2074  ator function) t
-0000bc60: 6f20 6265 2070 6172 7365 6420 636f 7272  o be parsed corr
-0000bc70: 6563 746c 792e 0a0a 4966 2061 2063 7573  ectly...If a cus
-0000bc80: 746f 6d20 6f70 6572 6174 6f72 2074 6861  tom operator tha
-0000bc90: 7420 6973 2061 6c73 6f20 6120 7661 6c69  t is also a vali
-0000bca0: 6420 6e61 6d65 2069 7320 6465 7369 7265  d name is desire
-0000bcb0: 642c 2079 6f75 2063 616e 2075 7365 2061  d, you can use a
-0000bcc0: 2062 6163 6b73 6c61 7368 2062 6566 6f72   backslash befor
-0000bcd0: 6520 7468 6520 6e61 6d65 2074 6f20 6765  e the name to ge
-0000bce0: 7420 6261 636b 2074 6865 206e 616d 6520  t back the name 
-0000bcf0: 696e 7374 6561 6420 7573 696e 6720 436f  instead using Co
-0000bd00: 636f 6e75 7427 7320 5b6b 6579 776f 7264  conut's [keyword
-0000bd10: 2f76 6172 6961 626c 6520 6469 7361 6d62  /variable disamb
-0000bd20: 6967 7561 7469 6f6e 2073 796e 7461 785d  iguation syntax]
-0000bd30: 2823 6861 6e64 6c69 6e67 2d6b 6579 776f  (#handling-keywo
-0000bd40: 7264 7661 7269 6162 6c65 2d6e 616d 652d  rdvariable-name-
-0000bd50: 6f76 6572 6c61 7029 2e0a 0a23 2323 2323  overlap)...#####
-0000bd60: 2045 7861 6d70 6c65 730a 0a2a 2a43 6f63   Examples..**Coc
-0000bd70: 6f6e 7574 3a2a 2a0a 6060 6063 6f63 6f6e  onut:**.```cocon
-0000bd80: 7574 0a6f 7065 7261 746f 7220 2525 0a28  ut.operator %%.(
-0000bd90: 2525 2920 3d20 6d61 7468 2e72 656d 6169  %%) = math.remai
-0000bda0: 6e64 6572 0a31 3020 2525 2033 207c 3e20  nder.10 %% 3 |> 
-0000bdb0: 7072 696e 740a 0a6f 7065 7261 746f 7220  print..operator 
-0000bdc0: 2121 0a28 2121 2920 3d20 626f 6f6c 0a21  !!.(!!) = bool.!
-0000bdd0: 2120 3020 7c3e 2070 7269 6e74 0a0a 6f70  ! 0 |> print..op
-0000bde0: 6572 6174 6f72 206c 6f67 3130 0a66 726f  erator log10.fro
-0000bdf0: 6d20 6d61 7468 2069 6d70 6f72 7420 5c6c  m math import \l
-0000be00: 6f67 3130 2061 7320 286c 6f67 3130 290a  og10 as (log10).
-0000be10: 3130 3020 6c6f 6731 3020 7c3e 2070 7269  100 log10 |> pri
-0000be20: 6e74 0a60 6060 0a0a 2a2a 5079 7468 6f6e  nt.```..**Python
-0000be30: 3a2a 2a0a 6060 6063 6f63 6f6e 7574 5f70  :**.```coconut_p
-0000be40: 7974 686f 6e0a 7072 696e 7428 6d61 7468  ython.print(math
-0000be50: 2e72 656d 6169 6e64 6572 2831 302c 2033  .remainder(10, 3
-0000be60: 2929 0a0a 7072 696e 7428 626f 6f6c 2830  ))..print(bool(0
-0000be70: 2929 0a0a 7072 696e 7428 6d61 7468 2e6c  ))..print(math.l
-0000be80: 6f67 3130 2831 3030 2929 0a60 6060 0a0a  og10(100)).```..
-0000be90: 2323 2320 4e6f 6e65 2043 6f61 6c65 7363  ### None Coalesc
-0000bea0: 696e 670a 0a43 6f63 6f6e 7574 2070 726f  ing..Coconut pro
-0000beb0: 7669 6465 7320 603f 3f60 2061 7320 6120  vides `??` as a 
-0000bec0: 604e 6f6e 6560 2d63 6f61 6c65 7363 696e  `None`-coalescin
-0000bed0: 6720 6f70 6572 6174 6f72 2c20 7369 6d69  g operator, simi
-0000bee0: 6c61 7220 746f 2074 6865 2060 3f3f 6020  lar to the `??` 
-0000bef0: 6e75 6c6c 2d63 6f61 6c65 7363 696e 6720  null-coalescing 
-0000bf00: 6f70 6572 6174 6f72 2069 6e20 4323 2061  operator in C# a
-0000bf10: 6e64 2053 7769 6674 2e20 4164 6469 7469  nd Swift. Additi
-0000bf20: 6f6e 616c 6c79 2c20 436f 636f 6e75 7420  onally, Coconut 
-0000bf30: 696d 706c 656d 656e 7473 2061 6c6c 206f  implements all o
-0000bf40: 6620 7468 6520 604e 6f6e 6560 2d61 7761  f the `None`-awa
-0000bf50: 7265 206f 7065 7261 746f 7273 2070 726f  re operators pro
-0000bf60: 706f 7365 6420 696e 205b 5045 5020 3530  posed in [PEP 50
-0000bf70: 355d 2868 7474 7073 3a2f 2f77 7777 2e70  5](https://www.p
-0000bf80: 7974 686f 6e2e 6f72 672f 6465 762f 7065  ython.org/dev/pe
-0000bf90: 7073 2f70 6570 2d30 3530 352f 292e 0a0a  ps/pep-0505/)...
-0000bfa0: 436f 636f 6e75 7427 7320 603f 3f60 206f  Coconut's `??` o
-0000bfb0: 7065 7261 746f 7220 6576 616c 7561 7465  perator evaluate
-0000bfc0: 7320 746f 2069 7473 206c 6566 7420 6f70  s to its left op
-0000bfd0: 6572 616e 6420 6966 2074 6861 7420 6f70  erand if that op
-0000bfe0: 6572 616e 6420 6973 206e 6f74 2060 4e6f  erand is not `No
-0000bff0: 6e65 602c 206f 7468 6572 7769 7365 2069  ne`, otherwise i
-0000c000: 7473 2072 6967 6874 206f 7065 7261 6e64  ts right operand
-0000c010: 2e20 5468 6520 6578 7072 6573 7369 6f6e  . The expression
-0000c020: 2060 666f 6f20 3f3f 2062 6172 6020 6576   `foo ?? bar` ev
-0000c030: 616c 7561 7465 7320 746f 2060 666f 6f60  aluates to `foo`
-0000c040: 2061 7320 6c6f 6e67 2061 7320 6974 2069   as long as it i
-0000c050: 736e 2774 2060 4e6f 6e65 602c 2061 6e64  sn't `None`, and
-0000c060: 2074 6f20 6062 6172 6020 6966 2069 7420   to `bar` if it 
-0000c070: 6973 2e20 5468 6520 604e 6f6e 6560 2d63  is. The `None`-c
-0000c080: 6f61 6c65 7363 696e 6720 6f70 6572 6174  oalescing operat
-0000c090: 6f72 2069 7320 7368 6f72 742d 6369 7263  or is short-circ
-0000c0a0: 7569 7469 6e67 2c20 7375 6368 2074 6861  uiting, such tha
-0000c0b0: 7420 6966 2074 6865 206c 6566 7420 6f70  t if the left op
-0000c0c0: 6572 616e 6420 6973 206e 6f74 2060 4e6f  erand is not `No
-0000c0d0: 6e65 602c 2074 6865 2072 6967 6874 206f  ne`, the right o
-0000c0e0: 7065 7261 6e64 2077 6f6e 2774 2062 6520  perand won't be 
-0000c0f0: 6576 616c 7561 7465 642e 2054 6869 7320  evaluated. This 
-0000c100: 616c 6c6f 7773 2074 6865 2072 6967 6874  allows the right
-0000c110: 206f 7065 7261 6e64 2074 6f20 6265 2061   operand to be a
-0000c120: 2070 6f74 656e 7469 616c 6c79 2065 7870   potentially exp
-0000c130: 656e 7369 7665 206f 7065 7261 7469 6f6e  ensive operation
-0000c140: 2077 6974 686f 7574 2069 6e63 7572 7269   without incurri
-0000c150: 6e67 2061 6e79 2075 6e6e 6563 6573 7361  ng any unnecessa
-0000c160: 7279 2063 6f73 742e 0a0a 5468 6520 604e  ry cost...The `N
-0000c170: 6f6e 6560 2d63 6f61 6c65 7363 696e 6720  one`-coalescing 
-0000c180: 6f70 6572 6174 6f72 2068 6173 2061 2070  operator has a p
-0000c190: 7265 6365 6465 6e63 6520 696e 2d62 6574  recedence in-bet
-0000c1a0: 7765 656e 2069 6e66 6978 2066 756e 6374  ween infix funct
-0000c1b0: 696f 6e20 6361 6c6c 7320 616e 6420 636f  ion calls and co
-0000c1c0: 6d70 6f73 6974 696f 6e20 7069 7065 732c  mposition pipes,
-0000c1d0: 2061 6e64 2069 7320 6c65 6674 2d61 7373   and is left-ass
-0000c1e0: 6f63 6961 7469 7665 2e0a 0a23 2323 2323  ociative...#####
-0000c1f0: 2045 7861 6d70 6c65 0a0a 2a2a 436f 636f   Example..**Coco
-0000c200: 6e75 743a 2a2a 0a60 6060 636f 636f 6e75  nut:**.```coconu
-0000c210: 740a 636f 756c 645f 6265 5f6e 6f6e 6528  t.could_be_none(
-0000c220: 2920 3f3f 2063 616c 6375 6c61 7465 5f64  ) ?? calculate_d
-0000c230: 6566 6175 6c74 5f76 616c 7565 2829 0a60  efault_value().`
-0000c240: 6060 0a0a 2a2a 5079 7468 6f6e 3a2a 2a0a  ``..**Python:**.
-0000c250: 6060 6063 6f63 6f6e 7574 5f70 7974 686f  ```coconut_pytho
-0000c260: 6e0a 286c 616d 6264 6120 7265 7375 6c74  n.(lambda result
-0000c270: 3a20 7265 7375 6c74 2069 6620 7265 7375  : result if resu
-0000c280: 6c74 2069 7320 6e6f 7420 4e6f 6e65 2065  lt is not None e
-0000c290: 6c73 6520 6361 6c63 756c 6174 655f 6465  lse calculate_de
-0000c2a0: 6661 756c 745f 7661 6c75 6528 2929 2863  fault_value())(c
-0000c2b0: 6f75 6c64 5f62 655f 6e6f 6e65 2829 290a  ould_be_none()).
-0000c2c0: 6060 600a 0a23 2323 2320 436f 616c 6573  ```..#### Coales
-0000c2d0: 6369 6e67 2041 7373 6967 6e6d 656e 7420  cing Assignment 
-0000c2e0: 4f70 6572 6174 6f72 0a0a 5468 6520 696e  Operator..The in
-0000c2f0: 2d70 6c61 6365 2061 7373 6967 6e6d 656e  -place assignmen
-0000c300: 7420 6f70 6572 6174 6f72 2069 7320 603f  t operator is `?
-0000c310: 3f3d 602c 2077 6869 6368 2061 6c6c 6f77  ?=`, which allow
-0000c320: 7320 636f 6e64 6974 696f 6e61 6c6c 7920  s conditionally 
-0000c330: 7365 7474 696e 6720 6120 7661 7269 6162  setting a variab
-0000c340: 6c65 2069 6620 6974 2069 7320 6375 7272  le if it is curr
-0000c350: 656e 746c 7920 604e 6f6e 6560 2e0a 0a60  ently `None`...`
-0000c360: 6060 636f 636f 6e75 740a 666f 6f20 3d20  ``coconut.foo = 
-0000c370: 310a 6261 7220 3d20 4e6f 6e65 0a66 6f6f  1.bar = None.foo
-0000c380: 203f 3f3d 2031 3020 2023 2066 6f6f 2069   ??= 10  # foo i
-0000c390: 7320 7374 696c 6c20 310a 6261 7220 3f3f  s still 1.bar ??
-0000c3a0: 3d20 3130 2020 2320 6261 7220 6973 206e  = 10  # bar is n
-0000c3b0: 6f77 2031 300a 6060 600a 0a41 7320 6465  ow 10.```..As de
-0000c3c0: 7363 7269 6265 6420 7769 7468 2074 6865  scribed with the
-0000c3d0: 2073 7461 6e64 6172 6420 603f 3f60 206f   standard `??` o
-0000c3e0: 7065 7261 746f 722c 2074 6865 2060 4e6f  perator, the `No
-0000c3f0: 6e65 602d 636f 616c 6573 6369 6e67 2061  ne`-coalescing a
-0000c400: 7373 6967 6e6d 656e 7420 6f70 6572 6174  ssignment operat
-0000c410: 6f72 2077 696c 6c20 6e6f 7420 6576 616c  or will not eval
-0000c420: 7561 7465 2074 6865 2072 6967 6874 2068  uate the right h
-0000c430: 616e 6420 7369 6465 2075 6e6c 6573 7320  and side unless 
-0000c440: 7468 6520 6c65 6674 2068 616e 6420 7369  the left hand si
-0000c450: 6465 2069 7320 604e 6f6e 6560 2e0a 0a60  de is `None`...`
-0000c460: 6060 636f 636f 6e75 740a 6261 7a20 3d20  ``coconut.baz = 
-0000c470: 300a 6261 7a20 3f3f 3d20 6578 7065 6e73  0.baz ??= expens
-0000c480: 6976 655f 7461 736b 2829 2020 2320 7269  ive_task()  # ri
-0000c490: 6768 7420 6861 6e64 2073 6964 6520 6973  ght hand side is
-0000c4a0: 6e27 7420 6576 616c 7561 7465 640a 6060  n't evaluated.``
-0000c4b0: 600a 0a23 2323 2320 4f74 6865 7220 4e6f  `..#### Other No
-0000c4c0: 6e65 2d41 7761 7265 204f 7065 7261 746f  ne-Aware Operato
-0000c4d0: 7273 0a0a 436f 636f 6e75 7420 616c 736f  rs..Coconut also
-0000c4e0: 2061 6c6c 6f77 7320 6120 7369 6e67 6c65   allows a single
-0000c4f0: 2060 3f60 2062 6566 6f72 6520 6174 7472   `?` before attr
-0000c500: 6962 7574 6520 6163 6365 7373 2c20 6675  ibute access, fu
-0000c510: 6e63 7469 6f6e 2063 616c 6c69 6e67 2c20  nction calling, 
-0000c520: 7061 7274 6961 6c20 6170 706c 6963 6174  partial applicat
-0000c530: 696f 6e2c 2061 6e64 2028 6974 6572 6174  ion, and (iterat
-0000c540: 6f72 2920 696e 6465 7869 6e67 2074 6f20  or) indexing to 
-0000c550: 7368 6f72 742d 6369 7263 7569 7420 7468  short-circuit th
-0000c560: 6520 7265 7374 206f 6620 7468 6520 6576  e rest of the ev
-0000c570: 616c 7561 7469 6f6e 2069 6620 6576 6572  aluation if ever
-0000c580: 7974 6869 6e67 2073 6f20 6661 7220 6576  ything so far ev
-0000c590: 616c 7561 7465 7320 746f 2060 4e6f 6e65  aluates to `None
-0000c5a0: 602e 2054 6869 7320 6973 2073 6f6d 6574  `. This is somet
-0000c5b0: 696d 6573 206b 6e6f 776e 2061 7320 6120  imes known as a 
-0000c5c0: 2273 6166 6520 6e61 7669 6761 7469 6f6e  "safe navigation
-0000c5d0: 2220 6f70 6572 6174 6f72 2e0a 0a57 6865  " operator...Whe
-0000c5e0: 6e20 7573 696e 6720 6120 604e 6f6e 6560  n using a `None`
-0000c5f0: 2d61 7761 7265 206f 7065 7261 746f 7220  -aware operator 
-0000c600: 666f 7220 6d65 6d62 6572 2061 6363 6573  for member acces
-0000c610: 732c 2065 6974 6865 7220 666f 7220 6120  s, either for a 
-0000c620: 6d65 7468 6f64 206f 7220 616e 2061 7474  method or an att
-0000c630: 7269 6275 7465 2c20 7468 6520 7379 6e74  ribute, the synt
-0000c640: 6178 2069 7320 606f 626a 3f2e 6d65 7468  ax is `obj?.meth
-0000c650: 6f64 2829 6020 6f72 2060 6f62 6a3f 2e61  od()` or `obj?.a
-0000c660: 7474 7260 2072 6573 7065 6374 6976 656c  ttr` respectivel
-0000c670: 792e 2060 6f62 6a3f 2e61 7474 7260 2069  y. `obj?.attr` i
-0000c680: 7320 6571 7569 7661 6c65 6e74 2074 6f20  s equivalent to 
-0000c690: 606f 626a 2e61 7474 7220 6966 206f 626a  `obj.attr if obj
-0000c6a0: 2069 7320 6e6f 7420 4e6f 6e65 2065 6c73   is not None els
-0000c6b0: 6520 6f62 6a60 2e20 5468 6973 2064 6f65  e obj`. This doe
-0000c6c0: 7320 6e6f 7420 7072 6576 656e 7420 616e  s not prevent an
-0000c6d0: 2060 4174 7472 6962 7574 6545 7272 6f72   `AttributeError
-0000c6e0: 6020 6966 2060 6174 7472 6020 6973 206e  ` if `attr` is n
-0000c6f0: 6f74 2061 6e20 6174 7472 6962 7574 6520  ot an attribute 
-0000c700: 6f72 206d 6574 686f 6420 6f66 2060 6f62  or method of `ob
-0000c710: 6a60 2e0a 0a54 6865 2060 4e6f 6e65 602d  j`...The `None`-
-0000c720: 6177 6172 6520 696e 6465 7869 6e67 206f  aware indexing o
-0000c730: 7065 7261 746f 7220 6973 2075 7365 6420  perator is used 
-0000c740: 6964 656e 7469 6361 6c6c 7920 746f 206e  identically to n
-0000c750: 6f72 6d61 6c20 696e 6465 7869 6e67 2c20  ormal indexing, 
-0000c760: 7573 696e 6720 603f 5b5d 6020 696e 7374  using `?[]` inst
-0000c770: 6561 6420 6f66 2060 5b5d 602e 2060 7365  ead of `[]`. `se
-0000c780: 713f 5b69 6e64 6578 5d60 2069 7320 6571  q?[index]` is eq
-0000c790: 7569 7661 6c65 6e74 2074 6f20 7468 6520  uivalent to the 
-0000c7a0: 6578 7072 6573 7369 6f6e 2060 7365 715b  expression `seq[
-0000c7b0: 696e 6465 785d 2069 7320 7365 7120 6973  index] is seq is
-0000c7c0: 206e 6f74 204e 6f6e 6520 656c 7365 2073   not None else s
-0000c7d0: 6571 602e 2055 7369 6e67 2074 6869 7320  eq`. Using this 
-0000c7e0: 6f70 6572 6174 6f72 2077 696c 6c20 6e6f  operator will no
-0000c7f0: 7420 7072 6576 656e 7420 616e 2060 496e  t prevent an `In
-0000c800: 6465 7845 7272 6f72 6020 6966 2060 696e  dexError` if `in
-0000c810: 6465 7860 2069 7320 6f75 7473 6964 6520  dex` is outside 
-0000c820: 7468 6520 626f 756e 6473 206f 6620 6073  the bounds of `s
-0000c830: 6571 602e 0a0a 436f 636f 6e75 7420 616c  eq`...Coconut al
-0000c840: 736f 2073 7570 706f 7274 7320 4e6f 6e65  so supports None
-0000c850: 2d61 7761 7265 205b 7069 7065 206f 7065  -aware [pipe ope
-0000c860: 7261 746f 7273 5d28 2370 6970 6573 2920  rators](#pipes) 
-0000c870: 616e 6420 5b66 756e 6374 696f 6e20 636f  and [function co
-0000c880: 6d70 6f73 6974 696f 6e20 7069 7065 735d  mposition pipes]
-0000c890: 2823 6675 6e63 7469 6f6e 2d63 6f6d 706f  (#function-compo
-0000c8a0: 7369 7469 6f6e 292e 0a0a 2323 2323 2320  sition)...##### 
-0000c8b0: 4578 616d 706c 650a 0a2a 2a43 6f63 6f6e  Example..**Cocon
-0000c8c0: 7574 3a2a 2a0a 6060 6063 6f63 6f6e 7574  ut:**.```coconut
-0000c8d0: 0a63 6f75 6c64 5f62 655f 6e6f 6e65 3f2e  .could_be_none?.
-0000c8e0: 6174 7472 2020 2020 2023 2061 7474 7269  attr     # attri
-0000c8f0: 6275 7465 2061 6363 6573 730a 636f 756c  bute access.coul
-0000c900: 645f 6265 5f6e 6f6e 653f 2861 7267 2920  d_be_none?(arg) 
-0000c910: 2020 2020 2320 6675 6e63 7469 6f6e 2063      # function c
-0000c920: 616c 6c69 6e67 0a63 6f75 6c64 5f62 655f  alling.could_be_
-0000c930: 6e6f 6e65 3f2e 6d65 7468 6f64 2829 2023  none?.method() #
-0000c940: 206d 6574 686f 6420 6361 6c6c 696e 670a   method calling.
-0000c950: 636f 756c 645f 6265 5f6e 6f6e 653f 2428  could_be_none?$(
-0000c960: 6172 6729 2020 2020 2320 7061 7274 6961  arg)    # partia
-0000c970: 6c20 6170 706c 6963 6174 696f 6e0a 636f  l application.co
-0000c980: 756c 645f 6265 5f6e 6f6e 6528 293f 5b30  uld_be_none()?[0
-0000c990: 5d20 2020 2020 2320 696e 6465 7869 6e67  ]     # indexing
-0000c9a0: 0a63 6f75 6c64 5f62 655f 6e6f 6e65 2829  .could_be_none()
-0000c9b0: 3f2e 6174 7472 5b69 6e64 6578 5d2e 6d65  ?.attr[index].me
-0000c9c0: 7468 6f64 2829 0a60 6060 0a0a 2a2a 5079  thod().```..**Py
-0000c9d0: 7468 6f6e 3a2a 2a0a 6060 6063 6f63 6f6e  thon:**.```cocon
-0000c9e0: 7574 5f70 7974 686f 6e0a 696d 706f 7274  ut_python.import
-0000c9f0: 2066 756e 6374 6f6f 6c73 0a28 6c61 6d62   functools.(lamb
-0000ca00: 6461 2072 6573 756c 743a 204e 6f6e 6520  da result: None 
-0000ca10: 6966 2072 6573 756c 7420 6973 204e 6f6e  if result is Non
-0000ca20: 6520 656c 7365 2072 6573 756c 742e 6174  e else result.at
-0000ca30: 7472 2928 636f 756c 645f 6265 5f6e 6f6e  tr)(could_be_non
-0000ca40: 6528 2929 0a28 6c61 6d62 6461 2072 6573  e()).(lambda res
-0000ca50: 756c 743a 204e 6f6e 6520 6966 2072 6573  ult: None if res
-0000ca60: 756c 7420 6973 204e 6f6e 6520 656c 7365  ult is None else
-0000ca70: 2072 6573 756c 7428 6172 6729 2928 636f   result(arg))(co
-0000ca80: 756c 645f 6265 5f6e 6f6e 6528 2929 0a28  uld_be_none()).(
-0000ca90: 6c61 6d62 6461 2072 6573 756c 743a 204e  lambda result: N
-0000caa0: 6f6e 6520 6966 2072 6573 756c 7420 6973  one if result is
-0000cab0: 204e 6f6e 6520 656c 7365 2072 6573 756c   None else resul
-0000cac0: 742e 6d65 7468 6f64 2829 2928 636f 756c  t.method())(coul
-0000cad0: 645f 6265 5f6e 6f6e 6528 2929 0a28 6c61  d_be_none()).(la
-0000cae0: 6d62 6461 2072 6573 756c 743a 204e 6f6e  mbda result: Non
-0000caf0: 6520 6966 2072 6573 756c 7420 6973 204e  e if result is N
-0000cb00: 6f6e 6520 656c 7365 2066 756e 6374 6f6f  one else functoo
-0000cb10: 6c73 2e70 6172 7469 616c 2872 6573 756c  ls.partial(resul
-0000cb20: 742c 2061 7267 2929 2863 6f75 6c64 5f62  t, arg))(could_b
-0000cb30: 655f 6e6f 6e65 2829 290a 286c 616d 6264  e_none()).(lambd
-0000cb40: 6120 7265 7375 6c74 3a20 4e6f 6e65 2069  a result: None i
-0000cb50: 6620 7265 7375 6c74 2069 7320 4e6f 6e65  f result is None
-0000cb60: 2065 6c73 6520 7265 7375 6c74 5b30 5d29   else result[0])
-0000cb70: 2863 6f75 6c64 5f62 655f 6e6f 6e65 2829  (could_be_none()
-0000cb80: 290a 286c 616d 6264 6120 7265 7375 6c74  ).(lambda result
-0000cb90: 3a20 4e6f 6e65 2069 6620 7265 7375 6c74  : None if result
-0000cba0: 2069 7320 4e6f 6e65 2065 6c73 6520 7265   is None else re
-0000cbb0: 7375 6c74 2e61 7474 725b 696e 6465 785d  sult.attr[index]
-0000cbc0: 2e6d 6574 686f 6428 2929 2863 6f75 6c64  .method())(could
-0000cbd0: 5f62 655f 6e6f 6e65 2829 290a 6060 600a  _be_none()).```.
-0000cbe0: 0a23 2323 2055 6e69 636f 6465 2041 6c74  .### Unicode Alt
-0000cbf0: 6572 6e61 7469 7665 730a 0a43 6f63 6f6e  ernatives..Cocon
-0000cc00: 7574 2073 7570 706f 7274 7320 556e 6963  ut supports Unic
-0000cc10: 6f64 6520 616c 7465 726e 6174 6976 6573  ode alternatives
-0000cc20: 2074 6f20 6d61 6e79 2064 6966 6665 7265   to many differe
-0000cc30: 6e74 206f 7065 7261 746f 7220 7379 6d62  nt operator symb
-0000cc40: 6f6c 732e 2054 6865 2055 6e69 636f 6465  ols. The Unicode
-0000cc50: 2061 6c74 6572 6e61 7469 7665 7320 6172   alternatives ar
-0000cc60: 6520 7265 6c61 7469 7665 6c79 2073 7472  e relatively str
-0000cc70: 6169 6768 7466 6f72 7761 7264 2c20 616e  aightforward, an
-0000cc80: 6420 6368 6f73 656e 2074 6f20 7265 666c  d chosen to refl
-0000cc90: 6563 7420 7468 6520 6c6f 6f6b 2061 6e64  ect the look and
-0000cca0: 2f6f 7220 6d65 616e 696e 6720 6f66 2074  /or meaning of t
-0000ccb0: 6865 206f 7269 6769 6e61 6c20 7379 6d62  he original symb
-0000ccc0: 6f6c 2e0a 0a23 2323 2323 2046 756c 6c20  ol...##### Full 
-0000ccd0: 4c69 7374 0a0a 6060 600a e286 9220 285c  List..```.... (\
-0000cce0: 7532 3139 3229 2020 2020 2020 2020 2020  u2192)          
-0000ccf0: 2020 2020 2020 2020 3d3e 2022 2d3e 220a          => "->".
-0000cd00: c397 2028 5c78 6437 2920 2020 2020 2020  .. (\xd7)       
-0000cd10: 2020 2020 2020 2020 2020 2020 203d 3e20               => 
-0000cd20: 222a 2220 286f 6e6c 7920 6d75 6c74 6970  "*" (only multip
-0000cd30: 6c69 6361 7469 6f6e 290a e286 9120 285c  lication).... (\
-0000cd40: 7532 3139 3129 2020 2020 2020 2020 2020  u2191)          
-0000cd50: 2020 2020 2020 2020 3d3e 2022 2a2a 2220          => "**" 
-0000cd60: 286f 6e6c 7920 6578 706f 6e65 6e74 6961  (only exponentia
-0000cd70: 7469 6f6e 290a c3b7 2028 5c78 6637 2920  tion)... (\xf7) 
-0000cd80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cd90: 2020 203d 3e20 222f 2220 286f 6e6c 7920     => "/" (only 
-0000cda0: 6469 7669 7369 6f6e 290a c3b7 2f20 285c  division).../ (\
-0000cdb0: 7866 372f 2920 2020 2020 2020 2020 2020  xf7/)           
-0000cdc0: 2020 2020 2020 203d 3e20 222f 2f22 0ae2         => "//"..
-0000cdd0: 81bb 2028 5c75 3230 3762 2920 2020 2020  .. (\u207b)     
-0000cde0: 2020 2020 2020 2020 2020 2020 203d 3e20               => 
-0000cdf0: 222d 2220 286f 6e6c 7920 6e65 6761 7469  "-" (only negati
-0000ce00: 6f6e 290a e289 a020 285c 7532 3236 3029  on).... (\u2260)
-0000ce10: 206f 7220 c2ac 3d20 285c 7861 633d 2920   or ..= (\xac=) 
-0000ce20: 2020 203d 3e20 2221 3d22 0ae2 89a4 2028     => "!=".... (
-0000ce30: 5c75 3232 3634 2920 6f72 20e2 8a86 2028  \u2264) or ... (
-0000ce40: 5c75 3232 3836 2920 2020 203d 3e20 223c  \u2286)    => "<
-0000ce50: 3d22 0ae2 89a5 2028 5c75 3232 3635 2920  =".... (\u2265) 
-0000ce60: 6f72 20e2 8a87 2028 5c75 3232 3837 2920  or ... (\u2287) 
-0000ce70: 2020 203d 3e20 223e 3d22 0ae2 8a8a 2028     => ">=".... (
-0000ce80: 5c75 3232 3861 2920 2020 2020 2020 2020  \u228a)         
-0000ce90: 2020 2020 2020 2020 203d 3e20 223c 220a           => "<".
-0000cea0: e28a 8b20 285c 7532 3238 6229 2020 2020  ... (\u228b)    
-0000ceb0: 2020 2020 2020 2020 2020 2020 2020 3d3e                =>
-0000cec0: 2022 3e22 0ae2 88a7 2028 5c75 3232 3237   ">".... (\u2227
-0000ced0: 2920 6f72 20e2 88a9 2028 5c75 3232 3239  ) or ... (\u2229
-0000cee0: 2920 2020 203d 3e20 2226 220a e288 a820  )    => "&".... 
-0000cef0: 285c 7532 3232 3829 206f 7220 e288 aa20  (\u2228) or ... 
-0000cf00: 285c 7532 3232 6129 2020 2020 3d3e 2022  (\u222a)    => "
-0000cf10: 7c22 0ae2 8abb 2028 5c75 3232 6262 2920  |".... (\u22bb) 
-0000cf20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cf30: 203d 3e20 225e 220a c2ab 2028 5c78 6162   => "^"... (\xab
-0000cf40: 2920 2020 2020 2020 2020 2020 2020 2020  )               
-0000cf50: 2020 2020 203d 3e20 223c 3c22 0ac2 bb20       => "<<"... 
-0000cf60: 285c 7862 6229 2020 2020 2020 2020 2020  (\xbb)          
-0000cf70: 2020 2020 2020 2020 2020 3d3e 2022 3e3e            => ">>
-0000cf80: 220a e280 a620 285c 7532 3032 3629 2020  ".... (\u2026)  
-0000cf90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cfa0: 3d3e 2022 2e2e 2e22 0ace bb20 285c 7530  => "..."... (\u0
-0000cfb0: 3362 6229 2020 2020 2020 2020 2020 2020  3bb)            
-0000cfc0: 2020 2020 2020 3d3e 2022 6c61 6d62 6461        => "lambda
-0000cfd0: 220a e286 a620 285c 7532 3161 3629 2020  ".... (\u21a6)  
-0000cfe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cff0: 3d3e 2022 7c3e 220a e286 a420 285c 7532  => "|>".... (\u2
-0000d000: 3161 3429 2020 2020 2020 2020 2020 2020  1a4)            
-0000d010: 2020 2020 2020 3d3e 2022 3c7c 220a 2ae2        => "<|".*.
-0000d020: 86a6 2028 2a5c 7532 3161 3629 2020 2020  .. (*\u21a6)    
-0000d030: 2020 2020 2020 2020 2020 2020 3d3e 2022              => "
-0000d040: 7c2a 3e22 0ae2 86a4 2a20 285c 7532 3161  |*>"....* (\u21a
-0000d050: 342a 2920 2020 2020 2020 2020 2020 2020  4*)             
-0000d060: 2020 203d 3e20 223c 2a7c 220a 2a2a e286     => "<*|".**..
-0000d070: a620 282a 2a5c 7532 3161 3629 2020 2020  . (**\u21a6)    
-0000d080: 2020 2020 2020 2020 2020 3d3e 2022 7c2a            => "|*
-0000d090: 2a3e 220a e286 a42a 2a20 285c 7532 3161  *>"....** (\u21a
-0000d0a0: 342a 2a29 2020 2020 2020 2020 2020 2020  4**)            
-0000d0b0: 2020 3d3e 2022 3c2a 2a7c 220a 3fe2 86a6    => "<**|".?...
-0000d0c0: 2028 3f5c 7532 3161 3629 2020 2020 2020   (?\u21a6)      
-0000d0d0: 2020 2020 2020 2020 2020 3d3e 2022 7c3f            => "|?
-0000d0e0: 3e22 0ae2 86a4 3f20 283f 5c75 3231 6134  >"....? (?\u21a4
-0000d0f0: 2920 2020 2020 2020 2020 2020 2020 2020  )               
-0000d100: 203d 3e20 223c 3f7c 220a 3f2a e286 a620   => "<?|".?*... 
-0000d110: 283f 2a5c 7532 3161 3629 2020 2020 2020  (?*\u21a6)      
-0000d120: 2020 2020 2020 2020 3d3e 2022 7c3f 2a3e          => "|?*>
-0000d130: 220a e286 a42a 3f20 285c 7532 3161 342a  "....*? (\u21a4*
-0000d140: 3f29 2020 2020 2020 2020 2020 2020 2020  ?)              
-0000d150: 3d3e 2022 3c2a 3f7c 220a 3f2a 2ae2 86a6  => "<*?|".?**...
-0000d160: 2028 3f2a 2a5c 7532 3161 3629 2020 2020   (?**\u21a6)    
-0000d170: 2020 2020 2020 2020 3d3e 2022 7c3f 2a2a          => "|?**
-0000d180: 3e22 0ae2 86a4 2a2a 3f20 285c 7532 3161  >"....**? (\u21a
-0000d190: 342a 2a3f 2920 2020 2020 2020 2020 2020  4**?)           
-0000d1a0: 203d 3e20 223c 2a2a 3f7c 220a e288 9820   => "<**?|".... 
-0000d1b0: 285c 7532 3231 3829 2020 2020 2020 2020  (\u2218)        
-0000d1c0: 2020 2020 2020 2020 2020 3d3e 2022 2e2e            => "..
-0000d1d0: 220a e288 983e 2028 5c75 3232 3138 3e29  "....> (\u2218>)
-0000d1e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d1f0: 3d3e 2022 2e2e 3e22 0a3c e288 9820 283c  => "..>".<... (<
-0000d200: 5c75 3232 3138 2920 2020 2020 2020 2020  \u2218)         
-0000d210: 2020 2020 2020 203d 3e20 223c 2e2e 220a         => "<..".
-0000d220: e288 982a 3e20 285c 7532 3231 382a 3e29  ...*> (\u2218*>)
-0000d230: 2020 2020 2020 2020 2020 2020 2020 3d3e                =>
-0000d240: 2022 2e2e 2a3e 220a 3c2a e288 9820 283c   "..*>".<*... (<
-0000d250: 2a5c 7532 3231 3829 2020 2020 2020 2020  *\u2218)        
-0000d260: 2020 2020 2020 3d3e 2022 3c2a 2e2e 220a        => "<*..".
-0000d270: e288 982a 2a3e 2028 5c75 3232 3138 2a2a  ...**> (\u2218**
-0000d280: 3e29 2020 2020 2020 2020 2020 2020 3d3e  >)            =>
-0000d290: 2022 2e2e 2a2a 3e22 0a3c 2a2a e288 9820   "..**>".<**... 
-0000d2a0: 283c 2a2a 5c75 3232 3138 2920 2020 2020  (<**\u2218)     
-0000d2b0: 2020 2020 2020 203d 3e20 223c 2a2a 2e2e         => "<**..
-0000d2c0: 220a e288 983f 3e20 285c 7532 3231 383f  "....?> (\u2218?
-0000d2d0: 3e29 2020 2020 2020 2020 2020 2020 2020  >)              
-0000d2e0: 3d3e 2022 2e2e 3f3e 220a 3c3f e288 9820  => "..?>".<?... 
-0000d2f0: 283c 3f5c 7532 3231 3829 2020 2020 2020  (<?\u2218)      
-0000d300: 2020 2020 2020 2020 3d3e 2022 3c3f 2e2e          => "<?..
-0000d310: 220a e288 983f 2a3e 2028 5c75 3232 3138  "....?*> (\u2218
-0000d320: 3f2a 3e29 2020 2020 2020 2020 2020 2020  ?*>)            
-0000d330: 3d3e 2022 2e2e 3f2a 3e22 0a3c 2a3f e288  => "..?*>".<*?..
-0000d340: 9820 283c 2a3f 5c75 3232 3138 2920 2020  . (<*?\u2218)   
-0000d350: 2020 2020 2020 2020 203d 3e20 223c 2a3f           => "<*?
-0000d360: 2e2e 220a e288 983f 2a2a 3e20 285c 7532  .."....?**> (\u2
-0000d370: 3231 383f 2a2a 3e29 2020 2020 2020 2020  218?**>)        
-0000d380: 2020 3d3e 2022 2e2e 3f2a 2a3e 220a 3c2a    => "..?**>".<*
-0000d390: 2a3f e288 9820 283c 2a2a 3f5c 7532 3231  *?... (<**?\u221
-0000d3a0: 3829 2020 2020 2020 2020 2020 3d3e 2022  8)          => "
-0000d3b0: 3c2a 2a3f 2e2e 220a 6060 600a 0a23 2320  <**?..".```..## 
-0000d3c0: 4b65 7977 6f72 6473 0a0a 6060 607b 636f  Keywords..```{co
-0000d3d0: 6e74 656e 7473 7d0a 2d2d 2d0a 6c6f 6361  ntents}.---.loca
-0000d3e0: 6c3a 0a64 6570 7468 3a20 310a 2d2d 2d0a  l:.depth: 1.---.
-0000d3f0: 6060 600a 0a23 2323 2060 6d61 7463 6860  ```..### `match`
-0000d400: 0a0a 436f 636f 6e75 7420 7072 6f76 6964  ..Coconut provid
-0000d410: 6573 2066 756c 6c79 2d66 6561 7475 7265  es fully-feature
-0000d420: 642c 2066 756e 6374 696f 6e61 6c20 7061  d, functional pa
-0000d430: 7474 6572 6e2d 6d61 7463 6869 6e67 2074  ttern-matching t
-0000d440: 6872 6f75 6768 2069 7473 2060 6d61 7463  hrough its `matc
-0000d450: 6860 2073 7461 7465 6d65 6e74 732e 0a0a  h` statements...
-0000d460: 2323 2323 2320 4f76 6572 7669 6577 0a0a  ##### Overview..
-0000d470: 4d61 7463 6820 7374 6174 656d 656e 7473  Match statements
-0000d480: 2066 6f6c 6c6f 7720 7468 6520 6261 7369   follow the basi
-0000d490: 6320 7379 6e74 6178 2060 6d61 7463 6820  c syntax `match 
-0000d4a0: 3c70 6174 7465 726e 3e20 696e 203c 7661  <pattern> in <va
-0000d4b0: 6c75 653e 602e 2054 6865 206d 6174 6368  lue>`. The match
-0000d4c0: 2073 7461 7465 6d65 6e74 2077 696c 6c20   statement will 
-0000d4d0: 6174 7465 6d70 7420 746f 206d 6174 6368  attempt to match
-0000d4e0: 2074 6865 2076 616c 7565 2061 6761 696e   the value again
-0000d4f0: 7374 2074 6865 2070 6174 7465 726e 2c20  st the pattern, 
-0000d500: 616e 6420 6966 2073 7563 6365 7373 6675  and if successfu
-0000d510: 6c2c 2062 696e 6420 616e 7920 7661 7269  l, bind any vari
-0000d520: 6162 6c65 7320 696e 2074 6865 2070 6174  ables in the pat
-0000d530: 7465 726e 2074 6f20 7768 6174 6576 6572  tern to whatever
-0000d540: 2069 7320 696e 2074 6865 2073 616d 6520   is in the same 
-0000d550: 706f 7369 7469 6f6e 2069 6e20 7468 6520  position in the 
-0000d560: 7661 6c75 652c 2061 6e64 2065 7865 6375  value, and execu
-0000d570: 7465 2074 6865 2063 6f64 6520 6265 6c6f  te the code belo
-0000d580: 7720 7468 6520 6d61 7463 6820 7374 6174  w the match stat
-0000d590: 656d 656e 742e 204d 6174 6368 2073 7461  ement. Match sta
-0000d5a0: 7465 6d65 6e74 7320 616c 736f 2073 7570  tements also sup
-0000d5b0: 706f 7274 2c20 696e 2074 6865 6972 2062  port, in their b
-0000d5c0: 6173 6963 2073 796e 7461 782c 2061 6e20  asic syntax, an 
-0000d5d0: 6069 6620 3c63 6f6e 643e 6020 7468 6174  `if <cond>` that
-0000d5e0: 2077 696c 6c20 6368 6563 6b20 7468 6520   will check the 
-0000d5f0: 636f 6e64 6974 696f 6e20 6166 7465 7220  condition after 
-0000d600: 6578 6563 7574 696e 6720 7468 6520 6d61  executing the ma
-0000d610: 7463 6820 6265 666f 7265 2065 7865 6375  tch before execu
-0000d620: 7469 6e67 2074 6865 2063 6f64 6520 6265  ting the code be
-0000d630: 6c6f 772c 2061 6e64 2061 6e20 6065 6c73  low, and an `els
-0000d640: 6560 2073 7461 7465 6d65 6e74 2061 6674  e` statement aft
-0000d650: 6572 7761 7264 7320 7468 6174 2077 696c  erwards that wil
-0000d660: 6c20 6f6e 6c79 2062 6520 6578 6563 7574  l only be execut
-0000d670: 6564 2069 6620 7468 6520 606d 6174 6368  ed if the `match
-0000d680: 6020 7374 6174 656d 656e 7420 6973 206e  ` statement is n
-0000d690: 6f74 2e20 5768 6174 2069 7320 616c 6c6f  ot. What is allo
-0000d6a0: 7765 6420 696e 2074 6865 206d 6174 6368  wed in the match
-0000d6b0: 2073 7461 7465 6d65 6e74 2773 2070 6174   statement's pat
-0000d6c0: 7465 726e 2068 6173 206e 6f20 6571 7569  tern has no equi
-0000d6d0: 7661 6c65 6e74 2069 6e20 5079 7468 6f6e  valent in Python
-0000d6e0: 2c20 616e 6420 7468 7573 2074 6865 2073  , and thus the s
-0000d6f0: 7065 6369 6669 6361 7469 6f6e 7320 6265  pecifications be
-0000d700: 6c6f 7720 6172 6520 7072 6f76 6964 6564  low are provided
-0000d710: 2074 6f20 6578 706c 6169 6e20 6974 2e0a   to explain it..
-0000d720: 0a23 2323 2323 2053 796e 7461 7820 5370  .##### Syntax Sp
-0000d730: 6563 6966 6963 6174 696f 6e0a 0a43 6f63  ecification..Coc
-0000d740: 6f6e 7574 206d 6174 6368 2073 7461 7465  onut match state
-0000d750: 6d65 6e74 2073 796e 7461 7820 6973 0a60  ment syntax is.`
-0000d760: 6060 636f 636f 6e75 740a 6d61 7463 6820  ``coconut.match 
-0000d770: 3c70 6174 7465 726e 3e20 5b6e 6f74 5d20  <pattern> [not] 
-0000d780: 696e 203c 7661 6c75 653e 205b 6966 203c  in <value> [if <
-0000d790: 636f 6e64 3e5d 3a0a 2020 2020 3c62 6f64  cond>]:.    <bod
-0000d7a0: 793e 0a5b 656c 7365 3a0a 2020 2020 3c62  y>.[else:.    <b
-0000d7b0: 6f64 793e 5d0a 6060 600a 7768 6572 6520  ody>].```.where 
-0000d7c0: 603c 7661 6c75 653e 6020 6973 2074 6865  `<value>` is the
-0000d7d0: 2069 7465 6d20 746f 206d 6174 6368 2061   item to match a
-0000d7e0: 6761 696e 7374 2c20 603c 636f 6e64 3e60  gainst, `<cond>`
-0000d7f0: 2069 7320 616e 206f 7074 696f 6e61 6c20   is an optional 
-0000d800: 6164 6469 7469 6f6e 616c 2063 6865 636b  additional check
-0000d810: 2c20 616e 6420 603c 626f 6479 3e60 2069  , and `<body>` i
-0000d820: 7320 7369 6d70 6c79 2063 6f64 6520 7468  s simply code th
-0000d830: 6174 2069 7320 6578 6563 7574 6564 2069  at is executed i
-0000d840: 6620 7468 6520 6865 6164 6572 2061 626f  f the header abo
-0000d850: 7665 2069 7420 7375 6363 6565 6473 2e20  ve it succeeds. 
-0000d860: 603c 7061 7474 6572 6e3e 6020 666f 6c6c  `<pattern>` foll
-0000d870: 6f77 7320 6974 7320 6f77 6e2c 2073 7065  ows its own, spe
-0000d880: 6369 616c 2073 796e 7461 782c 2064 6566  cial syntax, def
-0000d890: 696e 6564 2072 6f75 6768 6c79 2061 7320  ined roughly as 
-0000d8a0: 6265 6c6f 772e 2049 6e20 7468 6520 7379  below. In the sy
-0000d8b0: 6e74 6178 2073 7065 6369 6669 6361 7469  ntax specificati
-0000d8c0: 6f6e 2062 656c 6f77 2c20 6272 6163 6b65  on below, bracke
-0000d8d0: 7473 2064 656e 6f74 6520 6f70 7469 6f6e  ts denote option
-0000d8e0: 616c 2073 796e 7461 7820 616e 6420 7061  al syntax and pa
-0000d8f0: 7265 6e74 6865 7365 7320 666f 6c6c 6f77  rentheses follow
-0000d900: 6564 2062 7920 6120 602a 6020 6465 6e6f  ed by a `*` deno
-0000d910: 7465 2074 6861 7420 7468 6520 7379 6e74  te that the synt
-0000d920: 6178 206d 6179 2061 7070 6561 7220 7a65  ax may appear ze
-0000d930: 726f 206f 7220 6d6f 7265 2074 696d 6573  ro or more times
-0000d940: 2e0a 0a60 6060 636f 636f 6e75 740a 7061  ...```coconut.pa
-0000d950: 7474 6572 6e20 3a3a 3d20 616e 645f 7061  ttern ::= and_pa
-0000d960: 7474 6572 6e20 2822 6f72 2220 616e 645f  ttern ("or" and_
-0000d970: 7061 7474 6572 6e29 2a20 2023 206d 6174  pattern)*  # mat
-0000d980: 6368 2061 6e79 0a0a 616e 645f 7061 7474  ch any..and_patt
-0000d990: 6572 6e20 3a3a 3d20 6173 5f70 6174 7465  ern ::= as_patte
-0000d9a0: 726e 2028 2261 6e64 2220 6173 5f70 6174  rn ("and" as_pat
-0000d9b0: 7465 726e 292a 2020 2320 6d61 7463 6820  tern)*  # match 
-0000d9c0: 616c 6c0a 0a61 735f 7061 7474 6572 6e20  all..as_pattern 
-0000d9d0: 3a3a 3d20 696e 6669 785f 7061 7474 6572  ::= infix_patter
-0000d9e0: 6e20 2822 6173 2220 6e61 6d65 292a 2020  n ("as" name)*  
-0000d9f0: 2320 6578 706c 6963 6974 2062 696e 6469  # explicit bindi
-0000da00: 6e67 0a0a 696e 6669 785f 7061 7474 6572  ng..infix_patter
-0000da10: 6e20 3a3a 3d20 6261 725f 6f72 5f70 6174  n ::= bar_or_pat
-0000da20: 7465 726e 2028 2260 2220 4558 5052 2022  tern ("`" EXPR "
-0000da30: 6022 205b 4558 5052 5d29 2a20 2023 2069  `" [EXPR])*  # i
-0000da40: 6e66 6978 2063 6865 636b 0a0a 6261 725f  nfix check..bar_
-0000da50: 6f72 5f70 6174 7465 726e 203a 3a3d 2070  or_pattern ::= p
-0000da60: 6174 7465 726e 2028 227c 2220 7061 7474  attern ("|" patt
-0000da70: 6572 6e29 2a20 2023 206d 6174 6368 2061  ern)*  # match a
-0000da80: 6e79 0a0a 6261 7365 5f70 6174 7465 726e  ny..base_pattern
-0000da90: 203a 3a3d 2028 0a20 2020 2022 2822 2070   ::= (.    "(" p
-0000daa0: 6174 7465 726e 2022 2922 2020 2020 2020  attern ")"      
-0000dab0: 2020 2020 2020 2020 2020 2020 2320 7061              # pa
-0000dac0: 7265 6e74 6865 7365 730a 2020 2020 7c20  rentheses.    | 
-0000dad0: 224e 6f6e 6522 207c 2022 5472 7565 2220  "None" | "True" 
-0000dae0: 7c20 2246 616c 7365 2220 2020 2020 2023  | "False"      #
-0000daf0: 2063 6f6e 7374 616e 7473 0a20 2020 207c   constants.    |
-0000db00: 204e 554d 4245 5220 2020 2020 2020 2020   NUMBER         
-0000db10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000db20: 2320 6e75 6d62 6572 730a 2020 2020 7c20  # numbers.    | 
-0000db30: 5354 5249 4e47 2020 2020 2020 2020 2020  STRING          
-0000db40: 2020 2020 2020 2020 2020 2020 2020 2023                 #
-0000db50: 2073 7472 696e 6773 0a20 2020 207c 205b   strings.    | [
-0000db60: 2261 7322 5d20 4e41 4d45 2020 2020 2020  "as"] NAME      
-0000db70: 2020 2020 2020 2020 2020 2020 2020 2320                # 
-0000db80: 7661 7269 6162 6c65 2062 696e 6469 6e67  variable binding
-0000db90: 0a20 2020 207c 2022 3d3d 2220 4558 5052  .    | "==" EXPR
-0000dba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000dbb0: 2020 2020 2020 2320 6571 7561 6c69 7479        # equality
-0000dbc0: 2063 6865 636b 0a20 2020 207c 2022 6973   check.    | "is
-0000dbd0: 2220 4558 5052 2020 2020 2020 2020 2020  " EXPR          
-0000dbe0: 2020 2020 2020 2020 2020 2020 2320 6964              # id
-0000dbf0: 656e 7469 7479 2063 6865 636b 0a20 2020  entity check.   
-0000dc00: 207c 2044 4f54 5445 445f 4e41 4d45 2020   | DOTTED_NAME  
-0000dc10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000dc20: 2020 2320 696d 706c 6963 6974 2065 7175    # implicit equ
-0000dc30: 616c 6974 7920 6368 6563 6b20 2864 6973  ality check (dis
-0000dc40: 6162 6c65 6420 696e 2064 6573 7472 7563  abled in destruc
-0000dc50: 7475 7269 6e67 2061 7373 6967 6e6d 656e  turing assignmen
-0000dc60: 7429 0a20 2020 207c 204e 414d 4520 2228  t).    | NAME "(
-0000dc70: 2220 7061 7474 6572 6e73 2022 2922 2020  " patterns ")"  
-0000dc80: 2020 2020 2020 2020 2320 636c 6173 7365          # classe
-0000dc90: 7320 6f72 2064 6174 6120 7479 7065 730a  s or data types.
-0000dca0: 2020 2020 7c20 2264 6174 6122 204e 414d      | "data" NAM
-0000dcb0: 4520 2228 2220 7061 7474 6572 6e73 2022  E "(" patterns "
-0000dcc0: 2922 2020 2023 2064 6174 6120 7479 7065  )"   # data type
-0000dcd0: 730a 2020 2020 7c20 2263 6c61 7373 2220  s.    | "class" 
-0000dce0: 4e41 4d45 2022 2822 2070 6174 7465 726e  NAME "(" pattern
-0000dcf0: 7320 2229 2220 2023 2063 6c61 7373 6573  s ")"  # classes
-0000dd00: 0a20 2020 207c 2022 7b22 2070 6174 7465  .    | "{" patte
-0000dd10: 726e 5f70 6169 7273 2020 2020 2020 2020  rn_pairs        
-0000dd20: 2020 2020 2020 2320 6469 6374 696f 6e61        # dictiona
-0000dd30: 7269 6573 0a20 2020 2020 2020 205b 222c  ries.        [",
-0000dd40: 2220 222a 2a22 2028 4e41 4d45 207c 2022  " "**" (NAME | "
-0000dd50: 7b7d 2229 5d20 227d 2220 2320 2028 6b65  {}")] "}" #  (ke
-0000dd60: 7973 206d 7573 7420 6265 2063 6f6e 7374  ys must be const
-0000dd70: 616e 7473 206f 7220 6571 7561 6c69 7479  ants or equality
-0000dd80: 2063 6865 636b 7329 0a20 2020 207c 205b   checks).    | [
-0000dd90: 2273 2220 7c20 2266 2220 7c20 226d 225d  "s" | "f" | "m"]
-0000dda0: 2022 7b22 0a20 2020 2020 2020 2070 6174   "{".        pat
-0000ddb0: 7465 726e 5f63 6f6e 7374 730a 2020 2020  tern_consts.    
-0000ddc0: 2020 2020 5b22 2c22 2028 222a 5f22 207c      ["," ("*_" |
-0000ddd0: 2022 2a28 2922 295d 0a20 2020 2020 2022   "*()")].      "
-0000dde0: 7d22 2020 2020 2020 2020 2020 2020 2020  }"              
-0000ddf0: 2020 2020 2020 2020 2020 2020 2020 2320                # 
-0000de00: 7365 7473 0a20 2020 207c 2028 4558 5052  sets.    | (EXPR
-0000de10: 2920 2d3e 2070 6174 7465 726e 2020 2020  ) -> pattern    
-0000de20: 2020 2020 2020 2020 2020 2320 7669 6577            # view
-0000de30: 2070 6174 7465 726e 730a 2020 2020 7c20   patterns.    | 
-0000de40: 2228 2220 7061 7474 6572 6e73 2022 2922  "(" patterns ")"
-0000de50: 2020 2020 2020 2020 2020 2020 2020 2023                 #
-0000de60: 2073 6571 7565 6e63 6573 2063 616e 2062   sequences can b
-0000de70: 6520 696e 2074 7570 6c65 2066 6f72 6d0a  e in tuple form.
-0000de80: 2020 2020 7c20 225b 2220 7061 7474 6572      | "[" patter
-0000de90: 6e73 2022 5d22 2020 2020 2020 2020 2020  ns "]"          
-0000dea0: 2020 2020 2023 2020 6f72 2069 6e20 6c69       #  or in li
-0000deb0: 7374 2066 6f72 6d0a 2020 2020 7c20 2228  st form.    | "(
-0000dec0: 7c22 2070 6174 7465 726e 7320 227c 2922  |" patterns "|)"
-0000ded0: 2020 2020 2020 2020 2020 2020 2023 206c               # l
-0000dee0: 617a 7920 6c69 7374 730a 2020 2020 7c20  azy lists.    | 
-0000def0: 2822 2822 207c 2022 5b22 2920 2020 2020  ("(" | "[")     
-0000df00: 2020 2020 2020 2020 2020 2020 2020 2023                 #
-0000df10: 2073 7461 7220 7370 6c69 7473 0a20 2020   star splits.   
-0000df20: 2020 2020 205b 7061 7474 6572 6e73 2022       [patterns "
-0000df30: 2c22 5d0a 2020 2020 2020 2020 222a 2220  ,"].        "*" 
-0000df40: 7061 7474 6572 6e0a 2020 2020 2020 2020  pattern.        
-0000df50: 5b22 2c22 2070 6174 7465 726e 735d 0a20  ["," patterns]. 
-0000df60: 2020 2020 2020 205b 222a 2220 7061 7474         ["*" patt
-0000df70: 6572 6e0a 2020 2020 2020 2020 5b22 2c22  ern.        [","
-0000df80: 2070 6174 7465 726e 735d 5d0a 2020 2020   patterns]].    
-0000df90: 2020 2822 2922 207c 2022 5d22 290a 2020    (")" | "]").  
-0000dfa0: 2020 7c20 5b28 2020 2020 2020 2020 2020    | [(          
-0000dfb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000dfc0: 2020 2023 2073 6571 7565 6e63 6520 7370     # sequence sp
-0000dfd0: 6c69 7473 0a20 2020 2020 2020 2022 2822  lits.        "("
-0000dfe0: 2070 6174 7465 726e 7320 2229 220a 2020   patterns ")".  
-0000dff0: 2020 2020 2020 7c20 225b 2220 7061 7474        | "[" patt
-0000e000: 6572 6e73 2022 5d22 0a20 2020 2020 2029  erns "]".      )
-0000e010: 2022 2b22 5d20 4e41 4d45 205b 222b 2220   "+"] NAME ["+" 
-0000e020: 280a 2020 2020 2020 2020 2228 2220 7061  (.        "(" pa
-0000e030: 7474 6572 6e73 2022 2922 2020 2020 2020  tterns ")"      
-0000e040: 2020 2020 2020 2020 2020 2023 2074 6869             # thi
-0000e050: 7320 6d61 7463 6820 6d75 7374 2062 6520  s match must be 
-0000e060: 7468 6520 7361 6d65 0a20 2020 2020 2020  the same.       
-0000e070: 207c 2022 5b22 2070 6174 7465 726e 7320   | "[" patterns 
-0000e080: 225d 2220 2020 2020 2020 2020 2020 2020  "]"             
-0000e090: 2020 2320 2063 6f6e 7374 7275 6374 2061    #  construct a
-0000e0a0: 7320 7468 6520 6669 7273 7420 6d61 7463  s the first matc
-0000e0b0: 680a 2020 2020 2020 295d 205b 222b 2220  h.      )] ["+" 
-0000e0c0: 4e41 4d45 205b 222b 2220 280a 2020 2020  NAME ["+" (.    
-0000e0d0: 2020 2020 2228 2220 7061 7474 6572 6e73      "(" patterns
-0000e0e0: 2022 2922 2020 2020 2020 2020 2020 2020   ")"            
-0000e0f0: 2020 2020 2023 2061 6e64 2073 616d 6520       # and same 
-0000e100: 6865 7265 0a20 2020 2020 2020 207c 2022  here.        | "
-0000e110: 5b22 2070 6174 7465 726e 7320 225d 220a  [" patterns "]".
-0000e120: 2020 2020 2020 295d 5d0a 2020 2020 7c20        )]].    | 
-0000e130: 5b28 2020 2020 2020 2020 2020 2020 2020  [(              
-0000e140: 2020 2020 2020 2020 2020 2020 2020 2023                 #
-0000e150: 2069 7465 7261 626c 6520 7370 6c69 7473   iterable splits
-0000e160: 0a20 2020 2020 2020 2022 2822 2070 6174  .        "(" pat
-0000e170: 7465 726e 7320 2229 220a 2020 2020 2020  terns ")".      
-0000e180: 2020 7c20 225b 2220 7061 7474 6572 6e73    | "[" patterns
-0000e190: 2022 5d22 0a20 2020 2020 2020 207c 2022   "]".        | "
-0000e1a0: 287c 2220 7061 7474 6572 6e73 2022 7c29  (|" patterns "|)
-0000e1b0: 220a 2020 2020 2020 2920 223a 3a22 5d20  ".      ) "::"] 
-0000e1c0: 4e41 4d45 205b 223a 3a22 2028 0a20 2020  NAME ["::" (.   
-0000e1d0: 2020 2020 2022 2822 2070 6174 7465 726e       "(" pattern
-0000e1e0: 7320 2229 220a 2020 2020 2020 2020 7c20  s ")".        | 
-0000e1f0: 225b 2220 7061 7474 6572 6e73 2022 5d22  "[" patterns "]"
-0000e200: 0a20 2020 2020 2020 207c 2022 287c 2220  .        | "(|" 
-0000e210: 7061 7474 6572 6e73 2022 7c29 220a 2020  patterns "|)".  
-0000e220: 2020 2020 295d 205b 2022 3a3a 2220 4e41      )] [ "::" NA
-0000e230: 4d45 205b 0a20 2020 2020 2020 2022 2822  ME [.        "("
-0000e240: 2070 6174 7465 726e 7320 2229 220a 2020   patterns ")".  
-0000e250: 2020 2020 2020 7c20 225b 2220 7061 7474        | "[" patt
-0000e260: 6572 6e73 2022 5d22 0a20 2020 2020 2020  erns "]".       
-0000e270: 207c 2022 287c 2220 7061 7474 6572 6e73   | "(|" patterns
-0000e280: 2022 7c29 220a 2020 2020 2020 5d5d 0a20   "|)".      ]]. 
-0000e290: 2020 207c 205b 5354 5249 4e47 2022 2b22     | [STRING "+"
-0000e2a0: 5d20 4e41 4d45 2020 2020 2020 2020 2020  ] NAME          
-0000e2b0: 2020 2020 2320 636f 6d70 6c65 7820 7374      # complex st
-0000e2c0: 7269 6e67 206d 6174 6368 696e 670a 2020  ring matching.  
-0000e2d0: 2020 2020 2020 5b22 2b22 2053 5452 494e        ["+" STRIN
-0000e2e0: 475d 0a20 2020 2020 2020 205b 222b 2220  G].        ["+" 
-0000e2f0: 4e41 4d45 205b 222b 2220 5354 5249 4e47  NAME ["+" STRING
-0000e300: 5d5d 0a29 0a60 6060 0a0a 2323 2323 2320  ]].).```..##### 
-0000e310: 5365 6d61 6e74 6963 7320 5370 6563 6966  Semantics Specif
-0000e320: 6963 6174 696f 6e0a 0a60 6d61 7463 6860  ication..`match`
-0000e330: 2073 7461 7465 6d65 6e74 7320 7769 6c6c   statements will
-0000e340: 2074 616b 6520 7468 6569 7220 7061 7474   take their patt
-0000e350: 6572 6e20 616e 6420 6174 7465 6d70 7420  ern and attempt 
-0000e360: 746f 2022 6d61 7463 6822 2061 6761 696e  to "match" again
-0000e370: 7374 2069 742c 2070 6572 666f 726d 696e  st it, performin
-0000e380: 6720 7468 6520 6368 6563 6b73 2061 6e64  g the checks and
-0000e390: 2064 6563 6f6e 7374 7275 6374 696f 6e73   deconstructions
-0000e3a0: 206f 6e20 7468 6520 6172 6775 6d65 6e74   on the argument
-0000e3b0: 7320 6173 2073 7065 6369 6669 6564 2062  s as specified b
-0000e3c0: 7920 7468 6520 7061 7474 6572 6e2e 2054  y the pattern. T
-0000e3d0: 6865 2064 6966 6665 7265 6e74 2063 6f6e  he different con
-0000e3e0: 7374 7275 6374 7320 7468 6174 2063 616e  structs that can
-0000e3f0: 2062 6520 7370 6563 6966 6965 6420 696e   be specified in
-0000e400: 2061 2070 6174 7465 726e 2c20 616e 6420   a pattern, and 
-0000e410: 7468 6569 7220 6675 6e63 7469 6f6e 2c20  their function, 
-0000e420: 6172 653a 0a2d 2056 6172 6961 626c 6520  are:.- Variable 
-0000e430: 4269 6e64 696e 6773 3a0a 2020 2d20 496d  Bindings:.  - Im
-0000e440: 706c 6963 6974 2042 696e 6469 6e67 7320  plicit Bindings 
-0000e450: 2860 3c76 6172 3e60 293a 2077 696c 6c20  (`<var>`): will 
-0000e460: 6d61 7463 6820 746f 2061 6e79 7468 696e  match to anythin
-0000e470: 672c 2061 6e64 2077 696c 6c20 6265 2062  g, and will be b
-0000e480: 6f75 6e64 2074 6f20 7768 6174 6576 6572  ound to whatever
-0000e490: 2074 6865 7920 6d61 7463 6820 746f 2c20   they match to, 
-0000e4a0: 7769 7468 2073 6f6d 6520 6578 6365 7074  with some except
-0000e4b0: 696f 6e73 3a0a 2020 2020 2a20 4966 2074  ions:.    * If t
-0000e4c0: 6865 2073 616d 6520 7661 7269 6162 6c65  he same variable
-0000e4d0: 2069 7320 7573 6564 206d 756c 7469 706c   is used multipl
-0000e4e0: 6520 7469 6d65 732c 2061 2063 6865 636b  e times, a check
-0000e4f0: 2077 696c 6c20 6265 2070 6572 666f 726d   will be perform
-0000e500: 6564 2074 6861 7420 6561 6368 2075 7365  ed that each use
-0000e510: 206d 6174 6368 6573 2074 6f20 7468 6520   matches to the 
-0000e520: 7361 6d65 2076 616c 7565 2e0a 2020 2020  same value..    
-0000e530: 2a20 4966 2074 6865 2076 6172 6961 626c  * If the variabl
-0000e540: 6520 6e61 6d65 2060 5f60 2069 7320 7573  e name `_` is us
-0000e550: 6564 2c20 6e6f 7468 696e 6720 7769 6c6c  ed, nothing will
-0000e560: 2062 6520 626f 756e 6420 616e 6420 6576   be bound and ev
-0000e570: 6572 7974 6869 6e67 2077 696c 6c20 616c  erything will al
-0000e580: 7761 7973 206d 6174 6368 2074 6f20 6974  ways match to it
-0000e590: 2028 605f 6020 6973 2043 6f63 6f6e 7574   (`_` is Coconut
-0000e5a0: 2773 2022 7769 6c64 6361 7264 2229 2e0a  's "wildcard")..
-0000e5b0: 2020 2d20 4578 706c 6963 6974 2042 696e    - Explicit Bin
-0000e5c0: 6469 6e67 7320 2860 3c70 6174 7465 726e  dings (`<pattern
-0000e5d0: 3e20 6173 203c 7661 723e 6029 3a20 7769  > as <var>`): wi
-0000e5e0: 6c6c 2062 696e 6420 603c 7661 723e 6020  ll bind `<var>` 
-0000e5f0: 746f 2060 3c70 6174 7465 726e 3e60 2e0a  to `<pattern>`..
-0000e600: 2d20 4261 7369 6320 4368 6563 6b73 3a0a  - Basic Checks:.
-0000e610: 2020 2d20 436f 6e73 7461 6e74 732c 204e    - Constants, N
-0000e620: 756d 6265 7273 2c20 616e 6420 5374 7269  umbers, and Stri
-0000e630: 6e67 733a 2077 696c 6c20 6f6e 6c79 206d  ngs: will only m
-0000e640: 6174 6368 2074 6f20 7468 6520 7361 6d65  atch to the same
-0000e650: 2063 6f6e 7374 616e 742c 206e 756d 6265   constant, numbe
-0000e660: 722c 206f 7220 7374 7269 6e67 2069 6e20  r, or string in 
-0000e670: 7468 6520 7361 6d65 2070 6f73 6974 696f  the same positio
-0000e680: 6e20 696e 2074 6865 2061 7267 756d 656e  n in the argumen
-0000e690: 7473 2e0a 2020 2d20 4571 7561 6c69 7479  ts..  - Equality
-0000e6a0: 2043 6865 636b 7320 2860 3d3d 3c65 7870   Checks (`==<exp
-0000e6b0: 723e 6029 3a20 7769 6c6c 2063 6865 636b  r>`): will check
-0000e6c0: 2074 6861 7420 7768 6174 6576 6572 2069   that whatever i
-0000e6d0: 7320 696e 2074 6861 7420 706f 7369 7469  s in that positi
-0000e6e0: 6f6e 2069 7320 603d 3d60 2074 6f20 7468  on is `==` to th
-0000e6f0: 6520 6578 7072 6573 7369 6f6e 2060 3c65  e expression `<e
-0000e700: 7870 723e 602e 0a20 202d 2049 6465 6e74  xpr>`..  - Ident
-0000e710: 6974 7920 4368 6563 6b73 2028 6069 7320  ity Checks (`is 
-0000e720: 3c65 7870 723e 6029 3a20 7769 6c6c 2063  <expr>`): will c
-0000e730: 6865 636b 2074 6861 7420 7768 6174 6576  heck that whatev
-0000e740: 6572 2069 7320 696e 2074 6861 7420 706f  er is in that po
-0000e750: 7369 7469 6f6e 2060 6973 6020 7468 6520  sition `is` the 
-0000e760: 6578 7072 6573 7369 6f6e 2060 3c65 7870  expression `<exp
-0000e770: 723e 602e 0a2d 2041 7262 6974 7261 7279  r>`..- Arbitrary
-0000e780: 2046 756e 6374 696f 6e20 5061 7474 6572   Function Patter
-0000e790: 6e73 3a0a 2020 2d20 496e 6669 7820 4368  ns:.  - Infix Ch
-0000e7a0: 6563 6b73 2028 6060 203c 7061 7474 6572  ecks (`` <patter
-0000e7b0: 6e3e 2060 3c6f 703e 6020 3c65 7870 723e  n> `<op>` <expr>
-0000e7c0: 2060 6029 3a20 7769 6c6c 2063 6865 636b   ``): will check
-0000e7d0: 2074 6861 7420 7468 6520 6f70 6572 6174   that the operat
-0000e7e0: 6f72 2060 3c6f 703e 2428 3f2c 203c 6578  or `<op>$(?, <ex
-0000e7f0: 7072 3e29 6020 7265 7475 726e 7320 6120  pr>)` returns a 
-0000e800: 7472 7574 6879 2076 616c 7565 2077 6865  truthy value whe
-0000e810: 6e20 6361 6c6c 6564 206f 6e20 7768 6174  n called on what
-0000e820: 6576 6572 2069 7320 696e 2074 6861 7420  ever is in that 
-0000e830: 706f 7369 7469 6f6e 2c20 7468 656e 206d  position, then m
-0000e840: 6174 6368 6573 2060 3c70 6174 7465 726e  atches `<pattern
-0000e850: 3e60 2e20 466f 7220 6578 616d 706c 652c  >`. For example,
-0000e860: 2060 6020 7820 6069 7369 6e73 7461 6e63   `` x `isinstanc
-0000e870: 6560 2069 6e74 2060 6020 7769 6c6c 2063  e` int `` will c
-0000e880: 6865 636b 2074 6861 7420 7768 6174 6576  heck that whatev
-0000e890: 6572 2069 7320 696e 2074 6861 7420 706f  er is in that po
-0000e8a0: 7369 7469 6f6e 2060 6973 696e 7374 616e  sition `isinstan
-0000e8b0: 6365 2428 3f2c 2069 6e74 2960 2061 6e64  ce$(?, int)` and
-0000e8c0: 2062 696e 6420 6974 2074 6f20 6078 602e   bind it to `x`.
-0000e8d0: 2049 6620 603c 6578 7072 3e60 2069 7320   If `<expr>` is 
-0000e8e0: 6e6f 7420 6769 7665 6e2c 2077 696c 6c20  not given, will 
-0000e8f0: 7369 6d70 6c79 2063 6865 636b 2060 3c6f  simply check `<o
-0000e900: 703e 6020 6469 7265 6374 6c79 2072 6174  p>` directly rat
-0000e910: 6865 7220 7468 616e 2060 3c6f 703e 2428  her than `<op>$(
-0000e920: 3c65 7870 723e 2960 2e20 4164 6469 7469  <expr>)`. Additi
-0000e930: 6f6e 616c 6c79 2c20 6060 2060 3c6f 703e  onally, `` `<op>
-0000e940: 6020 6060 2063 616e 2069 6e73 7465 6164  ` `` can instead
-0000e950: 2062 6520 6120 5b63 7573 746f 6d20 6f70   be a [custom op
-0000e960: 6572 6174 6f72 5d28 2363 7573 746f 6d2d  erator](#custom-
-0000e970: 6f70 6572 6174 6f72 7329 2028 696e 2074  operators) (in t
-0000e980: 6861 7420 6361 7365 2c20 6e6f 2062 6163  hat case, no bac
-0000e990: 6b74 6963 6b73 2073 686f 756c 6420 6265  kticks should be
-0000e9a0: 2075 7365 6429 2e0a 2020 2d20 5669 6577   used)..  - View
-0000e9b0: 2050 6174 7465 726e 7320 2860 283c 6578   Patterns (`(<ex
-0000e9c0: 7072 6573 7369 6f6e 3e29 202d 3e20 3c70  pression>) -> <p
-0000e9d0: 6174 7465 726e 3e60 293a 2063 616c 6c73  attern>`): calls
-0000e9e0: 2060 3c65 7870 7265 7373 696f 6e3e 6020   `<expression>` 
-0000e9f0: 6f6e 2074 6865 2069 7465 6d20 6265 696e  on the item bein
-0000ea00: 6720 6d61 7463 6865 6420 616e 6420 6d61  g matched and ma
-0000ea10: 7463 6865 7320 7468 6520 7265 7375 6c74  tches the result
-0000ea20: 2074 6f20 603c 7061 7474 6572 6e3e 602e   to `<pattern>`.
-0000ea30: 2054 6865 206d 6174 6368 2066 6169 6c73   The match fails
-0000ea40: 2069 6620 6120 5b60 4d61 7463 6845 7272   if a [`MatchErr
-0000ea50: 6f72 605d 2823 6d61 7463 6865 7272 6f72  or`](#matcherror
-0000ea60: 2920 6973 2072 6169 7365 642e 2060 3c65  ) is raised. `<e
-0000ea70: 7870 7265 7373 696f 6e3e 6020 6d61 7920  xpression>` may 
-0000ea80: 6265 2075 6e70 6172 656e 7468 6573 697a  be unparenthesiz
-0000ea90: 6564 206f 6e6c 7920 7768 656e 2069 7420  ed only when it 
-0000eaa0: 6973 2061 2073 696e 676c 6520 6174 6f6d  is a single atom
-0000eab0: 2e0a 2d20 436c 6173 7320 616e 6420 4461  ..- Class and Da
-0000eac0: 7461 2054 7970 6520 4d61 7463 6869 6e67  ta Type Matching
-0000ead0: 3a0a 2020 2d20 436c 6173 7365 7320 6f72  :.  - Classes or
-0000eae0: 2044 6174 6120 5479 7065 7320 2860 3c6e   Data Types (`<n
-0000eaf0: 616d 653e 283c 6172 6773 3e29 6029 3a20  ame>(<args>)`): 
-0000eb00: 7769 6c6c 206d 6174 6368 2061 7320 6120  will match as a 
-0000eb10: 6461 7461 2074 7970 6520 6966 2067 6976  data type if giv
-0000eb20: 656e 205b 6120 436f 636f 6e75 7420 6064  en [a Coconut `d
-0000eb30: 6174 6160 2074 7970 655d 2823 6461 7461  ata` type](#data
-0000eb40: 2920 286f 7220 6120 7475 706c 6520 6f66  ) (or a tuple of
-0000eb50: 2043 6f63 6f6e 7574 2064 6174 6120 7479   Coconut data ty
-0000eb60: 7065 7329 2061 6e64 2061 2063 6c61 7373  pes) and a class
-0000eb70: 206f 7468 6572 7769 7365 2e0a 2020 2d20   otherwise..  - 
-0000eb80: 4461 7461 2054 7970 6573 2028 6064 6174  Data Types (`dat
-0000eb90: 6120 3c6e 616d 653e 283c 6172 6773 3e29  a <name>(<args>)
-0000eba0: 6029 3a20 7769 6c6c 2063 6865 636b 2074  `): will check t
-0000ebb0: 6861 7420 7768 6174 6576 6572 2069 7320  hat whatever is 
-0000ebc0: 696e 2074 6861 7420 706f 7369 7469 6f6e  in that position
-0000ebd0: 2069 7320 6f66 2064 6174 6120 7479 7065   is of data type
-0000ebe0: 2060 3c6e 616d 653e 6020 616e 6420 7769   `<name>` and wi
-0000ebf0: 6c6c 206d 6174 6368 2074 6865 2061 7474  ll match the att
-0000ec00: 7269 6275 7465 7320 746f 2060 3c61 7267  ributes to `<arg
-0000ec10: 733e 602e 2047 656e 6572 616c 6c79 2c20  s>`. Generally, 
-0000ec20: 6064 6174 6120 3c6e 616d 653e 283c 6172  `data <name>(<ar
-0000ec30: 6773 3e29 6020 7769 6c6c 206d 6174 6368  gs>)` will match
-0000ec40: 2061 6e79 2064 6174 6120 7479 7065 2074   any data type t
-0000ec50: 6861 7420 636f 756c 6420 6861 7665 2062  hat could have b
-0000ec60: 6565 6e20 636f 6e73 7472 7563 7465 6420  een constructed 
-0000ec70: 7769 7468 2060 6d61 6b65 6461 7461 283c  with `makedata(<
-0000ec80: 6e61 6d65 3e2c 203c 6172 6773 3e29 602e  name>, <args>)`.
-0000ec90: 2049 6e63 6c75 6465 7320 7375 7070 6f72   Includes suppor
-0000eca0: 7420 666f 7220 706f 7369 7469 6f6e 616c  t for positional
-0000ecb0: 2061 7267 756d 656e 7473 2c20 6e61 6d65   arguments, name
-0000ecc0: 6420 6172 6775 6d65 6e74 732c 2064 6566  d arguments, def
-0000ecd0: 6175 6c74 2061 7267 756d 656e 7473 2c20  ault arguments, 
-0000ece0: 616e 6420 7374 6172 7265 6420 6172 6775  and starred argu
-0000ecf0: 6d65 6e74 732e 2041 6c73 6f20 7375 7070  ments. Also supp
-0000ed00: 6f72 7473 2073 7472 6963 7420 6174 7472  orts strict attr
-0000ed10: 6962 7574 6573 2062 7920 7072 6570 656e  ibutes by prepen
-0000ed20: 6469 6e67 2061 2064 6f74 2074 6f20 7468  ding a dot to th
-0000ed30: 6520 6174 7472 6962 7574 6520 6e61 6d65  e attribute name
-0000ed40: 2074 6861 7420 7261 6973 6573 2060 4174   that raises `At
-0000ed50: 7472 6962 7574 4572 726f 7260 2069 6620  tributError` if 
-0000ed60: 7468 6520 6174 7472 6962 7574 6520 6973  the attribute is
-0000ed70: 206e 6f74 2070 7265 7365 6e74 2072 6174   not present rat
-0000ed80: 6865 7220 7468 616e 2066 6169 6c69 6e67  her than failing
-0000ed90: 2074 6865 206d 6174 6368 2028 652e 672e   the match (e.g.
-0000eda0: 2060 6461 7461 204d 7944 6174 6128 2e6d   `data MyData(.m
-0000edb0: 795f 6174 7472 3d3c 736f 6d65 5f70 6174  y_attr=<some_pat
-0000edc0: 7465 726e 3e29 6029 2e0a 2020 2d20 436c  tern>)`)..  - Cl
-0000edd0: 6173 7365 7320 2860 636c 6173 7320 3c6e  asses (`class <n
-0000ede0: 616d 653e 283c 6172 6773 3e29 6029 3a20  ame>(<args>)`): 
-0000edf0: 646f 6573 205b 5045 502d 3633 342d 7374  does [PEP-634-st
-0000ee00: 796c 6520 636c 6173 7320 6d61 7463 6869  yle class matchi
-0000ee10: 6e67 5d28 6874 7470 733a 2f2f 7777 772e  ng](https://www.
-0000ee20: 7079 7468 6f6e 2e6f 7267 2f64 6576 2f70  python.org/dev/p
-0000ee30: 6570 732f 7065 702d 3036 3334 2f23 636c  eps/pep-0634/#cl
-0000ee40: 6173 732d 7061 7474 6572 6e73 292e 2041  ass-patterns). A
-0000ee50: 6c73 6f20 7375 7070 6f72 7473 2073 7472  lso supports str
-0000ee60: 6963 7420 6174 7472 6962 7574 6520 6d61  ict attribute ma
-0000ee70: 7463 6869 6e67 2061 7320 6162 6f76 652e  tching as above.
-0000ee80: 0a2d 204d 6170 7069 6e67 2044 6573 7472  .- Mapping Destr
-0000ee90: 7563 7475 7269 6e67 3a0a 2020 2d20 4469  ucturing:.  - Di
-0000eea0: 6374 7320 2860 7b3c 6b65 793e 3a20 3c76  cts (`{<key>: <v
-0000eeb0: 616c 7565 3e2c 202e 2e2e 7d60 293a 2077  alue>, ...}`): w
-0000eec0: 696c 6c20 6d61 7463 6820 616e 7920 6d61  ill match any ma
-0000eed0: 7070 696e 6720 2860 636f 6c6c 6563 7469  pping (`collecti
-0000eee0: 6f6e 732e 6162 632e 4d61 7070 696e 6760  ons.abc.Mapping`
-0000eef0: 2920 7769 7468 2074 6865 2067 6976 656e  ) with the given
-0000ef00: 206b 6579 7320 616e 6420 7661 6c75 6573   keys and values
-0000ef10: 2074 6861 7420 6d61 7463 6820 7468 6520   that match the 
-0000ef20: 7661 6c75 6520 7061 7474 6572 6e73 2e20  value patterns. 
-0000ef30: 4b65 7973 206d 7573 7420 6265 2063 6f6e  Keys must be con
-0000ef40: 7374 616e 7473 206f 7220 6571 7561 6c69  stants or equali
-0000ef50: 7479 2063 6865 636b 732e 0a20 202d 2044  ty checks..  - D
-0000ef60: 6963 7473 2057 6974 6820 5265 7374 2028  icts With Rest (
-0000ef70: 607b 3c70 6169 7273 3e2c 202a 2a3c 7265  `{<pairs>, **<re
-0000ef80: 7374 3e7d 6029 3a20 7769 6c6c 206d 6174  st>}`): will mat
-0000ef90: 6368 2061 206d 6170 7069 6e67 2028 6063  ch a mapping (`c
-0000efa0: 6f6c 6c65 6374 696f 6e73 2e61 6263 2e4d  ollections.abc.M
-0000efb0: 6170 7069 6e67 6029 2063 6f6e 7461 696e  apping`) contain
-0000efc0: 696e 6720 616c 6c20 7468 6520 603c 7061  ing all the `<pa
-0000efd0: 6972 733e 602c 2061 6e64 2077 696c 6c20  irs>`, and will 
-0000efe0: 7075 7420 6120 6064 6963 7460 206f 6620  put a `dict` of 
-0000eff0: 6576 6572 7974 6869 6e67 2065 6c73 6520  everything else 
-0000f000: 696e 746f 2060 3c72 6573 743e 602e 2049  into `<rest>`. I
-0000f010: 6620 603c 7265 7374 3e60 2069 7320 607b  f `<rest>` is `{
-0000f020: 7d60 2c20 7769 6c6c 2065 6e66 6f72 6365  }`, will enforce
-0000f030: 2074 6861 7420 7468 6520 6d61 7070 696e   that the mappin
-0000f040: 6720 6973 2065 7861 6374 6c79 2074 6865  g is exactly the
-0000f050: 2073 616d 6520 6c65 6e67 7468 2061 7320   same length as 
-0000f060: 603c 7061 6972 733e 602e 0a2d 2053 6574  `<pairs>`..- Set
-0000f070: 2044 6573 7472 7563 7475 7269 6e67 3a0a   Destructuring:.
-0000f080: 2020 2d20 5365 7473 2028 6073 7b3c 636f    - Sets (`s{<co
-0000f090: 6e73 7461 6e74 733e 2c20 2a5f 7d60 293a  nstants>, *_}`):
-0000f0a0: 2077 696c 6c20 6d61 7463 6820 6120 7365   will match a se
-0000f0b0: 7420 2860 636f 6c6c 6563 7469 6f6e 732e  t (`collections.
-0000f0c0: 6162 632e 5365 7460 2920 7468 6174 2063  abc.Set`) that c
-0000f0d0: 6f6e 7461 696e 7320 7468 6520 6769 7665  ontains the give
-0000f0e0: 6e20 603c 636f 6e73 7461 6e74 733e 602c  n `<constants>`,
-0000f0f0: 2074 686f 7567 6820 6974 206d 6179 2061   though it may a
-0000f100: 6c73 6f20 636f 6e74 6169 6e20 6f74 6865  lso contain othe
-0000f110: 7220 6974 656d 732e 2054 6865 2060 7360  r items. The `s`
-0000f120: 2070 7265 6669 7820 616e 6420 7468 6520   prefix and the 
-0000f130: 602a 5f60 2061 7265 206f 7074 696f 6e61  `*_` are optiona
-0000f140: 6c2e 0a20 202d 2046 6978 6564 2d6c 656e  l..  - Fixed-len
-0000f150: 6774 6820 5365 7473 2028 6073 7b3c 636f  gth Sets (`s{<co
-0000f160: 6e73 7461 6e74 733e 2c20 2a28 297d 6029  nstants>, *()}`)
-0000f170: 3a20 7769 6c6c 206d 6174 6368 2061 2060  : will match a `
-0000f180: 7365 7460 2028 6063 6f6c 6c65 6374 696f  set` (`collectio
-0000f190: 6e73 2e61 6263 2e53 6574 6029 2074 6861  ns.abc.Set`) tha
-0000f1a0: 7420 636f 6e74 6169 6e73 2074 6865 2067  t contains the g
-0000f1b0: 6976 656e 2060 3c63 6f6e 7374 616e 7473  iven `<constants
-0000f1c0: 3e60 2c20 616e 6420 6e6f 7468 696e 6720  >`, and nothing 
-0000f1d0: 656c 7365 2e0a 2020 2d20 4672 6f7a 656e  else..  - Frozen
-0000f1e0: 7365 7473 2028 6066 7b3c 636f 6e73 7461  sets (`f{<consta
-0000f1f0: 6e74 733e 7d60 293a 2077 696c 6c20 6d61  nts>}`): will ma
-0000f200: 7463 6820 6120 6066 726f 7a65 6e73 6574  tch a `frozenset
-0000f210: 6020 2860 6672 6f7a 656e 7365 7460 2920  ` (`frozenset`) 
-0000f220: 7468 6174 2063 6f6e 7461 696e 7320 7468  that contains th
-0000f230: 6520 6769 7665 6e20 603c 636f 6e73 7461  e given `<consta
-0000f240: 6e74 733e 602e 204d 6179 2075 7365 2065  nts>`. May use e
-0000f250: 6974 6865 7220 6e6f 726d 616c 206f 7220  ither normal or 
-0000f260: 6669 7865 642d 6c65 6e67 7468 2073 796e  fixed-length syn
-0000f270: 7461 782e 0a20 202d 204d 756c 7469 7365  tax..  - Multise
-0000f280: 7473 2028 606d 7b3c 636f 6e73 7461 6e74  ts (`m{<constant
-0000f290: 733e 7d60 293a 2077 696c 6c20 6d61 7463  s>}`): will matc
-0000f2a0: 6820 6120 5b60 6d75 6c74 6973 6574 605d  h a [`multiset`]
-0000f2b0: 2823 6d75 6c74 6973 6574 2920 2860 636f  (#multiset) (`co
-0000f2c0: 6c6c 6563 7469 6f6e 732e 436f 756e 7465  llections.Counte
-0000f2d0: 7260 2920 7468 6174 2063 6f6e 7461 696e  r`) that contain
-0000f2e0: 7320 6174 206c 6561 7374 2074 6865 2067  s at least the g
-0000f2f0: 6976 656e 2060 3c63 6f6e 7374 616e 7473  iven `<constants
-0000f300: 3e60 2e20 4d61 7920 7573 6520 6569 7468  >`. May use eith
-0000f310: 6572 206e 6f72 6d61 6c20 6f72 2066 6978  er normal or fix
-0000f320: 6564 2d6c 656e 6774 6820 7379 6e74 6178  ed-length syntax
-0000f330: 2e0a 2d20 5365 7175 656e 6365 2044 6573  ..- Sequence Des
-0000f340: 7472 7563 7475 7269 6e67 3a0a 2020 2d20  tructuring:.  - 
-0000f350: 4c69 7374 7320 2860 5b3c 7061 7474 6572  Lists (`[<patter
-0000f360: 6e73 3e5d 6029 2c20 5475 706c 6573 2028  ns>]`), Tuples (
-0000f370: 6028 3c70 6174 7465 726e 733e 2960 293a  `(<patterns>)`):
-0000f380: 2077 696c 6c20 6f6e 6c79 206d 6174 6368   will only match
-0000f390: 2061 2073 6571 7565 6e63 6520 2860 636f   a sequence (`co
-0000f3a0: 6c6c 6563 7469 6f6e 732e 6162 632e 5365  llections.abc.Se
-0000f3b0: 7175 656e 6365 6029 206f 6620 7468 6520  quence`) of the 
-0000f3c0: 7361 6d65 206c 656e 6774 682c 2061 6e64  same length, and
-0000f3d0: 2077 696c 6c20 6368 6563 6b20 7468 6520   will check the 
-0000f3e0: 636f 6e74 656e 7473 2061 6761 696e 7374  contents against
-0000f3f0: 2060 3c70 6174 7465 726e 733e 6020 2843   `<patterns>` (C
-0000f400: 6f63 6f6e 7574 2061 7574 6f6d 6174 6963  oconut automatic
-0000f410: 616c 6c79 2072 6567 6973 7465 7273 2060  ally registers `
-0000f420: 6e75 6d70 7960 2061 7272 6179 7320 616e  numpy` arrays an
-0000f430: 6420 6063 6f6c 6c65 6374 696f 6e73 2e64  d `collections.d
-0000f440: 6571 7565 6020 6f62 6a65 6374 7320 6173  eque` objects as
-0000f450: 2073 6571 7565 6e63 6573 292e 0a20 202d   sequences)..  -
-0000f460: 204c 617a 7920 6c69 7374 7320 2860 287c   Lazy lists (`(|
-0000f470: 3c70 6174 7465 726e 733e 7c29 6029 3a20  <patterns>|)`): 
-0000f480: 7361 6d65 2061 7320 6c69 7374 206f 7220  same as list or 
-0000f490: 7475 706c 6520 6d61 7463 6869 6e67 2c20  tuple matching, 
-0000f4a0: 6275 7420 6368 6563 6b73 2066 6f72 2061  but checks for a
-0000f4b0: 6e20 4974 6572 6162 6c65 2028 6063 6f6c  n Iterable (`col
-0000f4c0: 6c65 6374 696f 6e73 2e61 6263 2e49 7465  lections.abc.Ite
-0000f4d0: 7261 626c 6560 2920 696e 7374 6561 6420  rable`) instead 
-0000f4e0: 6f66 2061 2053 6571 7565 6e63 652e 0a20  of a Sequence.. 
-0000f4f0: 202d 2048 6561 642d 5461 696c 2053 706c   - Head-Tail Spl
-0000f500: 6974 7320 2860 3c6c 6973 742f 7475 706c  its (`<list/tupl
-0000f510: 653e 202b 203c 7661 723e 6020 6f72 2060  e> + <var>` or `
-0000f520: 283c 7061 7474 6572 6e73 3e2c 202a 3c76  (<patterns>, *<v
-0000f530: 6172 3e29 6029 3a20 7769 6c6c 206d 6174  ar>)`): will mat
-0000f540: 6368 2074 6865 2062 6567 696e 6e69 6e67  ch the beginning
-0000f550: 206f 6620 7468 6520 7365 7175 656e 6365   of the sequence
-0000f560: 2061 6761 696e 7374 2074 6865 2060 3c6c   against the `<l
-0000f570: 6973 742f 7475 706c 653e 602f 603c 7061  ist/tuple>`/`<pa
-0000f580: 7474 6572 6e73 3e60 2c20 7468 656e 2062  tterns>`, then b
-0000f590: 696e 6420 7468 6520 7265 7374 2074 6f20  ind the rest to 
-0000f5a0: 603c 7661 723e 602c 2061 6e64 206d 616b  `<var>`, and mak
-0000f5b0: 6520 6974 2074 6865 2074 7970 6520 6f66  e it the type of
-0000f5c0: 2074 6865 2063 6f6e 7374 7275 6374 2075   the construct u
-0000f5d0: 7365 642e 0a20 202d 2049 6e69 742d 4c61  sed..  - Init-La
-0000f5e0: 7374 2053 706c 6974 7320 2860 3c76 6172  st Splits (`<var
-0000f5f0: 3e20 2b20 3c6c 6973 742f 7475 706c 653e  > + <list/tuple>
-0000f600: 6020 6f72 2060 282a 3c76 6172 3e2c 203c  ` or `(*<var>, <
-0000f610: 7061 7474 6572 6e73 3e29 6029 3a20 6578  patterns>)`): ex
-0000f620: 6163 746c 7920 7468 6520 7361 6d65 2061  actly the same a
-0000f630: 7320 6865 6164 2d74 6169 6c20 7370 6c69  s head-tail spli
-0000f640: 7473 2c20 6275 7420 6f6e 2074 6865 2065  ts, but on the e
-0000f650: 6e64 2069 6e73 7465 6164 206f 6620 7468  nd instead of th
-0000f660: 6520 6265 6769 6e6e 696e 6720 6f66 2074  e beginning of t
-0000f670: 6865 2073 6571 7565 6e63 652e 0a20 202d  he sequence..  -
-0000f680: 2048 6561 642d 4c61 7374 2053 706c 6974   Head-Last Split
-0000f690: 7320 2860 3c6c 6973 742f 7475 706c 653e  s (`<list/tuple>
-0000f6a0: 202b 203c 7661 723e 202b 203c 6c69 7374   + <var> + <list
-0000f6b0: 2f74 7570 6c65 3e60 206f 7220 6028 3c70  /tuple>` or `(<p
-0000f6c0: 6174 7465 726e 733e 2c20 2a3c 7661 723e  atterns>, *<var>
-0000f6d0: 2c20 3c70 6174 7465 726e 733e 2960 293a  , <patterns>)`):
-0000f6e0: 2074 6865 2063 6f6d 6269 6e61 7469 6f6e   the combination
-0000f6f0: 206f 6620 6120 6865 6164 2d74 6169 6c20   of a head-tail 
-0000f700: 616e 6420 616e 2069 6e69 742d 6c61 7374  and an init-last
-0000f710: 2073 706c 6974 2e0a 2020 2d20 5365 6172   split..  - Sear
-0000f720: 6368 2053 706c 6974 7320 2860 3c76 6172  ch Splits (`<var
-0000f730: 313e 202b 203c 6c69 7374 2f74 7570 6c65  1> + <list/tuple
-0000f740: 3e20 2b20 3c76 6172 323e 6020 6f72 2060  > + <var2>` or `
-0000f750: 282a 3c76 6172 313e 2c20 3c70 6174 7465  (*<var1>, <patte
-0000f760: 726e 733e 2c20 2a3c 7661 7232 3e29 6029  rns>, *<var2>)`)
-0000f770: 3a20 7365 6172 6368 6573 2066 6f72 2074  : searches for t
-0000f780: 6865 2066 6972 7374 206f 6363 7572 7265  he first occurre
-0000f790: 6e63 6520 6f66 2074 6865 2060 3c6c 6973  nce of the `<lis
-0000f7a0: 742f 7475 706c 653e 602f 603c 7061 7474  t/tuple>`/`<patt
-0000f7b0: 6572 6e73 3e60 2069 6e20 7468 6520 7365  erns>` in the se
-0000f7c0: 7175 656e 6365 2c20 7468 656e 2070 7574  quence, then put
-0000f7d0: 7320 6576 6572 7974 6869 6e67 2062 6566  s everything bef
-0000f7e0: 6f72 6520 696e 746f 2060 3c76 6172 313e  ore into `<var1>
-0000f7f0: 6020 616e 6420 6576 6572 7974 6869 6e67  ` and everything
-0000f800: 2061 6674 6572 2069 6e74 6f20 603c 7661   after into `<va
-0000f810: 7232 3e60 2e0a 2020 2d20 4865 6164 2d4c  r2>`..  - Head-L
-0000f820: 6173 7420 5365 6172 6368 2053 706c 6974  ast Search Split
-0000f830: 7320 2860 3c6c 6973 742f 7475 706c 653e  s (`<list/tuple>
-0000f840: 202b 203c 7661 723e 202b 203c 6c69 7374   + <var> + <list
-0000f850: 2f74 7570 6c65 3e20 2b20 3c76 6172 3e20  /tuple> + <var> 
-0000f860: 2b20 3c6c 6973 742f 7475 706c 653e 6020  + <list/tuple>` 
-0000f870: 6f72 2060 283c 7061 7474 6572 6e73 3e2c  or `(<patterns>,
-0000f880: 202a 3c76 6172 3e2c 203c 7061 7474 6572   *<var>, <patter
-0000f890: 6e73 3e2c 202a 3c76 6172 3e2c 203c 7061  ns>, *<var>, <pa
-0000f8a0: 7474 6572 6e73 3e29 6029 3a20 7468 6520  tterns>)`): the 
-0000f8b0: 636f 6d62 696e 6174 696f 6e20 6f66 2061  combination of a
-0000f8c0: 2068 6561 642d 7461 696c 2073 706c 6974   head-tail split
-0000f8d0: 2061 6e64 2061 2073 6561 7263 6820 7370   and a search sp
-0000f8e0: 6c69 742e 0a20 202d 2049 7465 7261 626c  lit..  - Iterabl
-0000f8f0: 6520 5370 6c69 7473 2028 603c 6c69 7374  e Splits (`<list
-0000f900: 2f74 7570 6c65 2f6c 617a 7920 6c69 7374  /tuple/lazy list
-0000f910: 3e20 3a3a 203c 7661 723e 203a 3a20 3c6c  > :: <var> :: <l
-0000f920: 6973 742f 7475 706c 652f 6c61 7a79 206c  ist/tuple/lazy l
-0000f930: 6973 743e 203a 3a20 3c76 6172 3e20 3a3a  ist> :: <var> ::
-0000f940: 203c 6c69 7374 2f74 7570 6c65 2f6c 617a   <list/tuple/laz
-0000f950: 7920 6c69 7374 3e60 293a 2073 616d 6520  y list>`): same 
-0000f960: 6173 206f 7468 6572 2073 6571 7565 6e63  as other sequenc
-0000f970: 6520 6465 7374 7275 6374 7572 696e 672c  e destructuring,
-0000f980: 2062 7574 2077 6f72 6b73 206f 6e20 616e   but works on an
-0000f990: 7920 6974 6572 6162 6c65 2028 6063 6f6c  y iterable (`col
-0000f9a0: 6c65 6374 696f 6e73 2e61 6263 2e49 7465  lections.abc.Ite
-0000f9b0: 7261 626c 6560 292c 2069 6e63 6c75 6469  rable`), includi
-0000f9c0: 6e67 2069 6e66 696e 6974 6520 6974 6572  ng infinite iter
-0000f9d0: 6174 6f72 7320 286e 6f74 6520 7468 6174  ators (note that
-0000f9e0: 2069 6620 616e 2069 7465 7261 746f 7220   if an iterator 
-0000f9f0: 6973 206d 6174 6368 6564 2061 6761 696e  is matched again
-0000fa00: 7374 2069 7420 7769 6c6c 2062 6520 6d6f  st it will be mo
-0000fa10: 6469 6669 6564 2075 6e6c 6573 7320 6974  dified unless it
-0000fa20: 2069 7320 5b60 7265 6974 6572 6162 6c65   is [`reiterable
-0000fa30: 605d 2823 7265 6974 6572 6162 6c65 2929  `](#reiterable))
-0000fa40: 2e0a 2020 2d20 436f 6d70 6c65 7820 5374  ..  - Complex St
-0000fa50: 7269 6e67 204d 6174 6368 696e 6720 2860  ring Matching (`
-0000fa60: 3c73 7472 696e 673e 202b 203c 7661 723e  <string> + <var>
-0000fa70: 202b 203c 7374 7269 6e67 3e20 2b20 3c76   + <string> + <v
-0000fa80: 6172 3e20 2b20 3c73 7472 696e 673e 6029  ar> + <string>`)
-0000fa90: 3a20 7374 7269 6e67 206d 6174 6368 696e  : string matchin
-0000faa0: 6720 7375 7070 6f72 7473 2074 6865 2073  g supports the s
-0000fab0: 616d 6520 6465 7374 7275 6374 7572 696e  ame destructurin
-0000fac0: 6720 6f70 7469 6f6e 7320 6173 2061 626f  g options as abo
-0000fad0: 7665 2e0a 0a5f 4e6f 7465 3a20 4c69 6b65  ve..._Note: Like
-0000fae0: 205b 6974 6572 6174 6f72 2073 6c69 6369   [iterator slici
-0000faf0: 6e67 5d28 2369 7465 7261 746f 722d 736c  ng](#iterator-sl
-0000fb00: 6963 696e 6729 2c20 6974 6572 6174 6f72  icing), iterator
-0000fb10: 2061 6e64 206c 617a 7920 6c69 7374 206d   and lazy list m
-0000fb20: 6174 6368 696e 6720 6d61 6b65 206e 6f20  atching make no 
-0000fb30: 6775 6172 616e 7465 6520 7468 6174 2074  guarantee that t
-0000fb40: 6865 206f 7269 6769 6e61 6c20 6974 6572  he original iter
-0000fb50: 6174 6f72 206d 6174 6368 6564 2061 6761  ator matched aga
-0000fb60: 696e 7374 2062 6520 7072 6573 6572 7665  inst be preserve
-0000fb70: 6420 2874 6f20 7072 6573 6572 7665 2074  d (to preserve t
-0000fb80: 6865 2069 7465 7261 746f 722c 2075 7365  he iterator, use
-0000fb90: 2043 6f63 6f6e 7574 2773 205b 6072 6569   Coconut's [`rei
-0000fba0: 7465 7261 626c 6560 5d28 2372 6569 7465  terable`](#reite
-0000fbb0: 7261 626c 6529 2062 7569 6c74 2d69 6e29  rable) built-in)
-0000fbc0: 2e5f 0a0a 5768 656e 2063 6865 636b 696e  ._..When checkin
-0000fbd0: 6720 7768 6574 6865 7220 6f72 206e 6f74  g whether or not
-0000fbe0: 2061 6e20 6f62 6a65 6374 2063 616e 2062   an object can b
-0000fbf0: 6520 6d61 7463 6865 6420 6167 6169 6e73  e matched agains
-0000fc00: 7420 696e 2061 2070 6172 7469 6375 6c61  t in a particula
-0000fc10: 7220 6661 7368 696f 6e2c 2043 6f63 6f6e  r fashion, Cocon
-0000fc20: 7574 206d 616b 6573 2075 7365 206f 6620  ut makes use of 
-0000fc30: 5079 7468 6f6e 2773 2061 6273 7472 6163  Python's abstrac
-0000fc40: 7420 6261 7365 2063 6c61 7373 6573 2e20  t base classes. 
-0000fc50: 5468 6572 6566 6f72 652c 2074 6f20 656e  Therefore, to en
-0000fc60: 7375 7265 2070 726f 7065 7220 6d61 7463  sure proper matc
-0000fc70: 6869 6e67 2066 6f72 2061 2063 7573 746f  hing for a custo
-0000fc80: 6d20 6f62 6a65 6374 2c20 6974 2773 2072  m object, it's r
-0000fc90: 6563 6f6d 6d65 6e64 6564 2074 6f20 7265  ecommended to re
-0000fca0: 6769 7374 6572 2069 7420 7769 7468 2074  gister it with t
-0000fcb0: 6865 2070 726f 7065 7220 6162 7374 7261  he proper abstra
-0000fcc0: 6374 2062 6173 6520 636c 6173 7365 732e  ct base classes.
-0000fcd0: 0a0a 2323 2323 2320 4578 616d 706c 6573  ..##### Examples
-0000fce0: 0a0a 2a2a 436f 636f 6e75 743a 2a2a 0a60  ..**Coconut:**.`
-0000fcf0: 6060 636f 636f 6e75 740a 6465 6620 6661  ``coconut.def fa
-0000fd00: 6374 6f72 6961 6c28 7661 6c75 6529 3a0a  ctorial(value):.
-0000fd10: 2020 2020 6d61 7463 6820 3020 696e 2076      match 0 in v
-0000fd20: 616c 7565 3a0a 2020 2020 2020 2020 7265  alue:.        re
-0000fd30: 7475 726e 2031 0a20 2020 2065 6c73 653a  turn 1.    else:
-0000fd40: 206d 6174 6368 206e 2060 6973 696e 7374   match n `isinst
-0000fd50: 616e 6365 6020 696e 7420 696e 2076 616c  ance` int in val
-0000fd60: 7565 2069 6620 6e20 3e20 303a 2020 2320  ue if n > 0:  # 
-0000fd70: 436f 636f 6e75 7420 616c 6c6f 7773 206e  Coconut allows n
-0000fd80: 6573 7469 6e67 206f 6620 7374 6174 656d  esting of statem
-0000fd90: 656e 7473 206f 6e20 7468 6520 7361 6d65  ents on the same
-0000fda0: 206c 696e 650a 2020 2020 2020 2020 7265   line.        re
-0000fdb0: 7475 726e 206e 202a 2066 6163 746f 7269  turn n * factori
-0000fdc0: 616c 286e 2d31 290a 2020 2020 656c 7365  al(n-1).    else
-0000fdd0: 3a0a 2020 2020 2020 2020 7261 6973 6520  :.        raise 
-0000fde0: 5479 7065 4572 726f 7228 2269 6e76 616c  TypeError("inval
-0000fdf0: 6964 2061 7267 756d 656e 7420 746f 2066  id argument to f
-0000fe00: 6163 746f 7269 616c 206f 663a 2022 2b72  actorial of: "+r
-0000fe10: 6570 7228 7661 6c75 6529 290a 0a33 207c  epr(value))..3 |
-0000fe20: 3e20 6661 6374 6f72 6961 6c20 7c3e 2070  > factorial |> p
-0000fe30: 7269 6e74 0a60 6060 0a5f 5368 6f77 6361  rint.```._Showca
-0000fe40: 7365 7320 6065 6c73 6560 2073 7461 7465  ses `else` state
-0000fe50: 6d65 6e74 732c 2077 6869 6368 2077 6f72  ments, which wor
-0000fe60: 6b20 6d75 6368 206c 696b 6520 6065 6c73  k much like `els
-0000fe70: 6560 2073 7461 7465 6d65 6e74 7320 696e  e` statements in
-0000fe80: 2050 7974 686f 6e3a 2074 6865 2063 6f64   Python: the cod
-0000fe90: 6520 756e 6465 7220 616e 2060 656c 7365  e under an `else
-0000fea0: 6020 7374 6174 656d 656e 7420 6973 206f  ` statement is o
-0000feb0: 6e6c 7920 6578 6563 7574 6564 2069 6620  nly executed if 
-0000fec0: 7468 6520 636f 7272 6573 706f 6e64 696e  the correspondin
-0000fed0: 6720 6d61 7463 6820 6661 696c 732e 5f0a  g match fails._.
-0000fee0: 0a60 6060 636f 636f 6e75 740a 6461 7461  .```coconut.data
-0000fef0: 2070 6f69 6e74 2878 2c20 7929 3a0a 2020   point(x, y):.  
-0000ff00: 2020 6465 6620 7472 616e 7366 6f72 6d28    def transform(
-0000ff10: 7365 6c66 2c20 6f74 6865 7229 3a0a 2020  self, other):.  
-0000ff20: 2020 2020 2020 6d61 7463 6820 706f 696e        match poin
-0000ff30: 7428 782c 2079 2920 696e 206f 7468 6572  t(x, y) in other
-0000ff40: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
-0000ff50: 7475 726e 2070 6f69 6e74 2873 656c 662e  turn point(self.
-0000ff60: 7820 2b20 782c 2073 656c 662e 7920 2b20  x + x, self.y + 
-0000ff70: 7929 0a20 2020 2020 2020 2065 6c73 653a  y).        else:
-0000ff80: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
-0000ff90: 7365 2054 7970 6545 7272 6f72 2822 6172  se TypeError("ar
-0000ffa0: 6720 746f 2074 7261 6e73 666f 726d 206d  g to transform m
-0000ffb0: 7573 7420 6265 2061 2070 6f69 6e74 2229  ust be a point")
-0000ffc0: 0a0a 706f 696e 7428 312c 3229 207c 3e20  ..point(1,2) |> 
-0000ffd0: 706f 696e 7428 332c 3429 2e74 7261 6e73  point(3,4).trans
-0000ffe0: 666f 726d 207c 3e20 7072 696e 740a 706f  form |> print.po
-0000fff0: 696e 7428 312c 3229 207c 3e20 283d 3d29  int(1,2) |> (==)
-00010000: 2428 706f 696e 7428 312c 3229 2920 7c3e  $(point(1,2)) |>
-00010010: 2070 7269 6e74 0a60 6060 0a5f 5368 6f77   print.```._Show
-00010020: 6361 7365 7320 6d61 7463 6869 6e67 2074  cases matching t
-00010030: 6f20 6461 7461 2074 7970 6573 2061 6e64  o data types and
-00010040: 2074 6865 2064 6566 6175 6c74 2065 7175   the default equ
-00010050: 616c 6974 7920 6f70 6572 6174 6f72 2e20  ality operator. 
-00010060: 5661 6c75 6573 2064 6566 696e 6564 2062  Values defined b
-00010070: 7920 7468 6520 7573 6572 2077 6974 6820  y the user with 
-00010080: 7468 6520 6064 6174 6160 2073 7461 7465  the `data` state
-00010090: 6d65 6e74 2063 616e 2062 6520 6d61 7463  ment can be matc
-000100a0: 6865 6420 6167 6169 6e73 7420 616e 6420  hed against and 
-000100b0: 7468 6569 7220 636f 6e74 656e 7473 2061  their contents a
-000100c0: 6363 6573 7365 6420 6279 2073 7065 6369  ccessed by speci
-000100d0: 6669 6361 6c6c 7920 7265 6665 7265 6e63  fically referenc
-000100e0: 696e 6720 6172 6775 6d65 6e74 7320 746f  ing arguments to
-000100f0: 2074 6865 2064 6174 6120 7479 7065 2773   the data type's
-00010100: 2063 6f6e 7374 7275 6374 6f72 2e5f 0a0a   constructor._..
-00010110: 6060 6063 6f63 6f6e 7574 0a63 6c61 7373  ```coconut.class
-00010120: 2054 7265 650a 6461 7461 2045 6d70 7479   Tree.data Empty
-00010130: 2829 2066 726f 6d20 5472 6565 0a64 6174  () from Tree.dat
-00010140: 6120 4c65 6166 286e 2920 6672 6f6d 2054  a Leaf(n) from T
-00010150: 7265 650a 6461 7461 204e 6f64 6528 6c2c  ree.data Node(l,
-00010160: 2072 2920 6672 6f6d 2054 7265 650a 0a64   r) from Tree..d
-00010170: 6566 2064 6570 7468 2854 7265 6528 2929  ef depth(Tree())
-00010180: 203d 2030 0a0a 6164 6470 6174 7465 726e   = 0..addpattern
-00010190: 2064 6566 2064 6570 7468 2854 7265 6528   def depth(Tree(
-000101a0: 6e29 2920 3d20 310a 0a61 6464 7061 7474  n)) = 1..addpatt
-000101b0: 6572 6e20 6465 6620 6465 7074 6828 5472  ern def depth(Tr
-000101c0: 6565 286c 2c20 7229 2920 3d20 3120 2b20  ee(l, r)) = 1 + 
-000101d0: 6d61 7828 5b64 6570 7468 286c 292c 2064  max([depth(l), d
-000101e0: 6570 7468 2872 295d 290a 0a45 6d70 7479  epth(r)])..Empty
-000101f0: 2829 207c 3e20 6465 7074 6820 7c3e 2070  () |> depth |> p
-00010200: 7269 6e74 0a4c 6561 6628 3529 207c 3e20  rint.Leaf(5) |> 
-00010210: 6465 7074 6820 7c3e 2070 7269 6e74 0a4e  depth |> print.N
-00010220: 6f64 6528 4c65 6166 2832 292c 204e 6f64  ode(Leaf(2), Nod
-00010230: 6528 456d 7074 7928 292c 204c 6561 6628  e(Empty(), Leaf(
-00010240: 3329 2929 207c 3e20 6465 7074 6820 7c3e  3))) |> depth |>
-00010250: 2070 7269 6e74 0a60 6060 0a5f 5368 6f77   print.```._Show
-00010260: 6361 7365 7320 686f 7720 7468 6520 636f  cases how the co
-00010270: 6d62 696e 6174 696f 6e20 6f66 2064 6174  mbination of dat
-00010280: 6120 7479 7065 7320 616e 6420 6d61 7463  a types and matc
-00010290: 6820 7374 6174 656d 656e 7473 2063 616e  h statements can
-000102a0: 2062 6520 7573 6564 2074 6f20 706f 7765   be used to powe
-000102b0: 7266 756c 2065 6666 6563 7420 746f 2072  rful effect to r
-000102c0: 6570 6c69 6361 7465 2074 6865 2075 7361  eplicate the usa
-000102d0: 6765 206f 6620 616c 6765 6272 6169 6320  ge of algebraic 
-000102e0: 6461 7461 2074 7970 6573 2069 6e20 6f74  data types in ot
-000102f0: 6865 7220 6675 6e63 7469 6f6e 616c 2070  her functional p
-00010300: 726f 6772 616d 6d69 6e67 206c 616e 6775  rogramming langu
-00010310: 6167 6573 2e5f 0a0a 6060 6063 6f63 6f6e  ages._..```cocon
-00010320: 7574 0a64 6566 2064 7570 6c69 6361 7465  ut.def duplicate
-00010330: 5f66 6972 7374 285b 785d 202b 2078 7320  _first([x] + xs 
-00010340: 6173 206c 2920 3d0a 2020 2020 5b78 5d20  as l) =.    [x] 
-00010350: 2b20 6c0a 0a5b 312c 322c 335d 207c 3e20  + l..[1,2,3] |> 
-00010360: 6475 706c 6963 6174 655f 6669 7273 7420  duplicate_first 
-00010370: 7c3e 2070 7269 6e74 0a60 6060 0a5f 5368  |> print.```._Sh
-00010380: 6f77 6361 7365 7320 6865 6164 2d74 6169  owcases head-tai
-00010390: 6c20 7370 6c69 7474 696e 672c 206f 6e65  l splitting, one
-000103a0: 206f 6620 7468 6520 6d6f 7374 2063 6f6d   of the most com
-000103b0: 6d6f 6e20 7573 6573 206f 6620 7061 7474  mon uses of patt
-000103c0: 6572 6e2d 6d61 7463 6869 6e67 2c20 7768  ern-matching, wh
-000103d0: 6572 6520 6120 602b 203c 7661 723e 6020  ere a `+ <var>` 
-000103e0: 286f 7220 603a 3a20 3c76 6172 3e60 2066  (or `:: <var>` f
-000103f0: 6f72 2061 6e79 2069 7465 7261 626c 6529  or any iterable)
-00010400: 2061 7420 7468 6520 656e 6420 6f66 2061   at the end of a
-00010410: 206c 6973 7420 6f72 2074 7570 6c65 206c   list or tuple l
-00010420: 6974 6572 616c 2063 616e 2062 6520 7573  iteral can be us
-00010430: 6564 2074 6f20 6d61 7463 6820 7468 6520  ed to match the 
-00010440: 7265 7374 206f 6620 7468 6520 7365 7175  rest of the sequ
-00010450: 656e 6365 2e5f 0a0a 6060 600a 6465 6620  ence._..```.def 
-00010460: 7369 6576 6528 5b68 6561 645d 203a 3a20  sieve([head] :: 
-00010470: 7461 696c 2920 3d0a 2020 2020 5b68 6561  tail) =.    [hea
-00010480: 645d 203a 3a20 7369 6576 6528 6e20 666f  d] :: sieve(n fo
-00010490: 7220 6e20 696e 2074 6169 6c20 6966 206e  r n in tail if n
-000104a0: 2025 2068 6561 6429 0a0a 6164 6470 6174   % head)..addpat
-000104b0: 7465 726e 2064 6566 2073 6965 7665 2828  tern def sieve((
-000104c0: 7c7c 2929 203d 205b 5d0a 6060 600a 5f53  ||)) = [].```._S
-000104d0: 686f 7763 6173 6573 2068 6f77 2074 6f20  howcases how to 
-000104e0: 6d61 7463 6820 6167 6169 6e73 7420 6974  match against it
-000104f0: 6572 6174 6f72 732c 206e 616d 656c 7920  erators, namely 
-00010500: 7468 6174 2074 6865 2065 6d70 7479 2069  that the empty i
-00010510: 7465 7261 746f 7220 6361 7365 2028 6028  terator case (`(
-00010520: 7c7c 2960 2920 6d75 7374 2063 6f6d 6520  ||)`) must come 
-00010530: 6c61 7374 2c20 6f74 6865 7277 6973 6520  last, otherwise 
-00010540: 7468 6174 2063 6173 6520 7769 6c6c 2065  that case will e
-00010550: 7868 6175 7374 2074 6865 2077 686f 6c65  xhaust the whole
-00010560: 2069 7465 7261 746f 7220 6265 666f 7265   iterator before
-00010570: 2061 6e79 206f 7468 6572 2070 6174 7465   any other patte
-00010580: 726e 2068 6173 2061 2063 6861 6e63 6520  rn has a chance 
-00010590: 746f 206d 6174 6368 2061 6761 696e 7374  to match against
-000105a0: 2069 742e 5f0a 0a60 6060 0a64 6566 206f   it._..```.def o
-000105b0: 6464 5f70 7269 6d65 7328 703d 3329 203d  dd_primes(p=3) =
-000105c0: 0a20 2020 2028 702c 2920 3a3a 2066 696c  .    (p,) :: fil
-000105d0: 7465 7228 2d3e 205f 2025 2070 2021 3d20  ter(-> _ % p != 
-000105e0: 302c 206f 6464 5f70 7269 6d65 7328 7020  0, odd_primes(p 
-000105f0: 2b20 3229 290a 0a64 6566 2070 7269 6d65  + 2))..def prime
-00010600: 7328 2920 3d0a 2020 2020 2832 2c29 203a  s() =.    (2,) :
-00010610: 3a20 6f64 645f 7072 696d 6573 2829 0a0a  : odd_primes()..
-00010620: 6465 6620 7477 696e 5f70 7269 6d65 7328  def twin_primes(
-00010630: 5f20 3a3a 205b 702c 2028 2e2d 3229 202d  _ :: [p, (.-2) -
-00010640: 3e20 705d 203a 3a20 7073 2920 3d0a 2020  > p] :: ps) =.  
-00010650: 2020 5b28 702c 2070 2b32 295d 203a 3a20    [(p, p+2)] :: 
-00010660: 7477 696e 5f70 7269 6d65 7328 5b70 202b  twin_primes([p +
-00010670: 2032 5d20 3a3a 2070 7329 0a0a 6164 6470   2] :: ps)..addp
-00010680: 6174 7465 726e 2064 6566 2074 7769 6e5f  attern def twin_
-00010690: 7072 696d 6573 2829 203d 2020 2320 7479  primes() =  # ty
-000106a0: 7065 3a20 6967 6e6f 7265 0a20 2020 2074  pe: ignore.    t
-000106b0: 7769 6e5f 7072 696d 6573 2870 7269 6d65  win_primes(prime
-000106c0: 7328 2929 0a0a 7477 696e 5f70 7269 6d65  s())..twin_prime
-000106d0: 7328 2924 5b3a 355d 207c 3e20 6c69 7374  s()$[:5] |> list
-000106e0: 207c 3e20 7072 696e 740a 6060 600a 5f53   |> print.```._S
-000106f0: 686f 7763 6173 6573 2074 6865 2075 7365  howcases the use
-00010700: 206f 6620 616e 2069 7465 7261 626c 6520   of an iterable 
-00010710: 7365 6172 6368 2070 6174 7465 726e 2061  search pattern a
-00010720: 6e64 2061 2076 6965 7720 7061 7474 6572  nd a view patter
-00010730: 6e20 746f 2063 6f6e 7374 7275 6374 2061  n to construct a
-00010740: 6e20 6974 6572 6174 6f72 206f 6620 616c  n iterator of al
-00010750: 6c20 7477 696e 2070 7269 6d65 732e 5f0a  l twin primes._.
-00010760: 0a2a 2a50 7974 686f 6e3a 2a2a 0a5f 4361  .**Python:**._Ca
-00010770: 6e27 7420 6265 2064 6f6e 6520 7769 7468  n't be done with
-00010780: 6f75 7420 6120 6c6f 6e67 2073 6572 6965  out a long serie
-00010790: 7320 6f66 2063 6865 636b 7320 666f 7220  s of checks for 
-000107a0: 6561 6368 2060 6d61 7463 6860 2073 7461  each `match` sta
-000107b0: 7465 6d65 6e74 2e20 5365 6520 7468 6520  tement. See the 
-000107c0: 636f 6d70 696c 6564 2063 6f64 6520 666f  compiled code fo
-000107d0: 7220 7468 6520 5079 7468 6f6e 2073 796e  r the Python syn
-000107e0: 7461 782e 5f0a 0a23 2323 2060 6361 7365  tax._..### `case
-000107f0: 600a 0a43 6f63 6f6e 7574 2773 2060 6361  `..Coconut's `ca
-00010800: 7365 6020 626c 6f63 6b73 2073 6572 7665  se` blocks serve
-00010810: 2061 7320 616e 2065 7874 656e 7369 6f6e   as an extension
-00010820: 206f 6620 436f 636f 6e75 7427 7320 606d   of Coconut's `m
-00010830: 6174 6368 6020 7374 6174 656d 656e 7420  atch` statement 
-00010840: 666f 7220 7065 7266 6f72 6d69 6e67 206d  for performing m
-00010850: 756c 7469 706c 6520 606d 6174 6368 6020  ultiple `match` 
-00010860: 7374 6174 656d 656e 7473 2061 6761 696e  statements again
-00010870: 7374 2074 6865 2073 616d 6520 7661 6c75  st the same valu
-00010880: 652c 2077 6865 7265 206f 6e6c 7920 6f6e  e, where only on
-00010890: 6520 6f66 2074 6865 6d20 7368 6f75 6c64  e of them should
-000108a0: 2073 7563 6365 6564 2e20 556e 6c69 6b65   succeed. Unlike
-000108b0: 206c 6f6e 6520 606d 6174 6368 6020 7374   lone `match` st
-000108c0: 6174 656d 656e 7473 2c20 6f6e 6c79 206f  atements, only o
-000108d0: 6e65 206d 6174 6368 2073 7461 7465 6d65  ne match stateme
-000108e0: 6e74 2069 6e73 6964 6520 6f66 2061 2060  nt inside of a `
-000108f0: 6361 7365 6020 626c 6f63 6b20 7769 6c6c  case` block will
-00010900: 2065 7665 7220 7375 6363 6565 642c 2061   ever succeed, a
-00010910: 6e64 2074 6875 7320 6d6f 7265 2067 656e  nd thus more gen
-00010920: 6572 616c 206d 6174 6368 6573 2073 686f  eral matches sho
-00010930: 756c 6420 6265 2070 7574 2062 656c 6f77  uld be put below
-00010940: 206d 6f72 6520 7370 6563 6966 6963 206f   more specific o
-00010950: 6e65 732e 0a0a 436f 636f 6e75 7427 7320  nes...Coconut's 
-00010960: 6063 6173 6560 2062 6c6f 636b 7320 6172  `case` blocks ar
-00010970: 6520 616e 2065 7874 656e 7369 6f6e 206f  e an extension o
-00010980: 6620 5079 7468 6f6e 2033 2e31 3027 7320  f Python 3.10's 
-00010990: 5b60 6361 7365 6020 626c 6f63 6b73 5d28  [`case` blocks](
-000109a0: 6874 7470 733a 2f2f 7777 772e 7079 7468  https://www.pyth
-000109b0: 6f6e 2e6f 7267 2f64 6576 2f70 6570 732f  on.org/dev/peps/
-000109c0: 7065 702d 3036 3334 2920 746f 2073 7570  pep-0634) to sup
-000109d0: 706f 7274 2061 6464 6974 696f 6e61 6c20  port additional 
-000109e0: 7061 7474 6572 6e2d 6d61 7463 6869 6e67  pattern-matching
-000109f0: 2063 6f6e 7374 7275 6374 7320 6164 6465   constructs adde
-00010a00: 6420 6279 2043 6f63 6f6e 7574 2028 616e  d by Coconut (an
-00010a10: 6420 436f 636f 6e75 7420 7769 6c6c 2065  d Coconut will e
-00010a20: 6e73 7572 6520 7468 6174 2074 6865 7920  nsure that they 
-00010a30: 776f 726b 206f 6e20 616c 6c20 5079 7468  work on all Pyth
-00010a40: 6f6e 2076 6572 7369 6f6e 732c 206e 6f74  on versions, not
-00010a50: 206a 7573 7420 332e 3130 2b29 2e0a 0a45   just 3.10+)...E
-00010a60: 6163 6820 7061 7474 6572 6e20 696e 2061  ach pattern in a
-00010a70: 2063 6173 6520 626c 6f63 6b20 6973 2063   case block is c
-00010a80: 6865 636b 6564 2075 6e74 696c 2061 206d  hecked until a m
-00010a90: 6174 6368 2069 7320 666f 756e 642c 2061  atch is found, a
-00010aa0: 6e64 2074 6865 6e20 7468 6520 636f 7272  nd then the corr
-00010ab0: 6573 706f 6e64 696e 6720 626f 6479 2069  esponding body i
-00010ac0: 7320 6578 6563 7574 6564 2c20 616e 6420  s executed, and 
-00010ad0: 7468 6520 6361 7365 2062 6c6f 636b 2074  the case block t
-00010ae0: 6572 6d69 6e61 7465 642e 2054 6865 2073  erminated. The s
-00010af0: 796e 7461 7820 666f 7220 6361 7365 2062  yntax for case b
-00010b00: 6c6f 636b 7320 6973 0a60 6060 636f 636f  locks is.```coco
-00010b10: 6e75 740a 6d61 7463 6820 3c76 616c 7565  nut.match <value
-00010b20: 3e3a 0a20 2020 2063 6173 6520 3c70 6174  >:.    case <pat
-00010b30: 7465 726e 3e20 5b69 6620 3c63 6f6e 643e  tern> [if <cond>
-00010b40: 5d3a 0a20 2020 2020 2020 203c 626f 6479  ]:.        <body
-00010b50: 3e0a 2020 2020 6361 7365 203c 7061 7474  >.    case <patt
-00010b60: 6572 6e3e 205b 6966 203c 636f 6e64 3e5d  ern> [if <cond>]
-00010b70: 3a0a 2020 2020 2020 2020 3c62 6f64 793e  :.        <body>
-00010b80: 0a20 2020 202e 2e2e 0a5b 656c 7365 3a0a  .    ....[else:.
-00010b90: 2020 2020 3c62 6f64 793e 5d0a 6060 600a      <body>].```.
-00010ba0: 7768 6572 6520 603c 7061 7474 6572 6e3e  where `<pattern>
-00010bb0: 6020 6973 2061 6e79 2060 6d61 7463 6860  ` is any `match`
-00010bc0: 2070 6174 7465 726e 2c20 603c 7661 6c75   pattern, `<valu
-00010bd0: 653e 6020 6973 2074 6865 2069 7465 6d20  e>` is the item 
-00010be0: 746f 206d 6174 6368 2061 6761 696e 7374  to match against
-00010bf0: 2c20 603c 636f 6e64 3e60 2069 7320 616e  , `<cond>` is an
-00010c00: 206f 7074 696f 6e61 6c20 6164 6469 7469   optional additi
-00010c10: 6f6e 616c 2063 6865 636b 2c20 616e 6420  onal check, and 
-00010c20: 603c 626f 6479 3e60 2069 7320 7369 6d70  `<body>` is simp
-00010c30: 6c79 2063 6f64 6520 7468 6174 2069 7320  ly code that is 
-00010c40: 6578 6563 7574 6564 2069 6620 7468 6520  executed if the 
-00010c50: 6865 6164 6572 2061 626f 7665 2069 7420  header above it 
-00010c60: 7375 6363 6565 6473 2e20 4e6f 7465 2074  succeeds. Note t
-00010c70: 6865 2061 6273 656e 6365 206f 6620 616e  he absence of an
-00010c80: 2060 696e 6020 696e 2074 6865 2060 6d61   `in` in the `ma
-00010c90: 7463 6860 2073 7461 7465 6d65 6e74 733a  tch` statements:
-00010ca0: 2074 6861 7427 7320 6265 6361 7573 6520   that's because 
-00010cb0: 7468 6520 603c 7661 6c75 653e 6020 696e  the `<value>` in
-00010cc0: 2060 6361 7365 203c 7661 6c75 653e 6020   `case <value>` 
-00010cd0: 6973 2074 616b 696e 6720 6974 7320 706c  is taking its pl
-00010ce0: 6163 652e 2049 6620 6e6f 2060 656c 7365  ace. If no `else
-00010cf0: 6020 6973 2070 7265 7365 6e74 2061 6e64  ` is present and
-00010d00: 206e 6f20 6d61 7463 6820 7375 6363 6565   no match succee
-00010d10: 6473 2c20 7468 656e 2074 6865 2060 6361  ds, then the `ca
-00010d20: 7365 6020 7374 6174 656d 656e 7420 6973  se` statement is
-00010d30: 2073 696d 706c 7920 736b 6970 7065 6420   simply skipped 
-00010d40: 6f76 6572 2061 7320 7769 7468 205b 606d  over as with [`m
-00010d50: 6174 6368 6020 7374 6174 656d 656e 7473  atch` statements
-00010d60: 5d28 236d 6174 6368 2920 2874 686f 7567  ](#match) (thoug
-00010d70: 6820 756e 6c69 6b65 205b 6465 7374 7275  h unlike [destru
-00010d80: 6374 7572 696e 6720 6173 7369 676e 6d65  cturing assignme
-00010d90: 6e74 735d 2823 6465 7374 7275 6374 7572  nts](#destructur
-00010da0: 696e 672d 6173 7369 676e 6d65 6e74 2929  ing-assignment))
-00010db0: 2e0a 0a41 6464 6974 696f 6e61 6c6c 792c  ...Additionally,
-00010dc0: 2060 6361 7365 7360 2063 616e 2062 6520   `cases` can be 
-00010dd0: 7573 6564 2061 7320 7468 6520 746f 702d  used as the top-
-00010de0: 6c65 7665 6c20 6b65 7977 6f72 6420 696e  level keyword in
-00010df0: 7374 6561 6420 6f66 2060 6d61 7463 6860  stead of `match`
-00010e00: 2c20 616e 6420 696e 2073 7563 6820 6120  , and in such a 
-00010e10: 6063 6173 6560 2062 6c6f 636b 2060 6d61  `case` block `ma
-00010e20: 7463 6860 2069 7320 616c 6c6f 7765 6420  tch` is allowed 
-00010e30: 666f 7220 6561 6368 2063 6173 6520 7261  for each case ra
-00010e40: 7468 6572 2074 6861 6e20 6063 6173 6560  ther than `case`
-00010e50: 2e20 5f44 4550 5245 4341 5445 443a 2043  . _DEPRECATED: C
-00010e60: 6f63 6f6e 7574 2061 6c73 6f20 7375 7070  oconut also supp
-00010e70: 6f72 7473 2060 6361 7365 6020 696e 7374  orts `case` inst
-00010e80: 6561 6420 6f66 2060 6361 7365 7360 2061  ead of `cases` a
-00010e90: 7320 7468 6520 746f 702d 6c65 7665 6c20  s the top-level 
-00010ea0: 6b65 7977 6f72 6420 666f 7220 6261 636b  keyword for back
-00010eb0: 7761 7264 732d 636f 6d70 6174 6962 696c  wards-compatibil
-00010ec0: 6974 7920 7075 7270 6f73 6573 2e5f 0a0a  ity purposes._..
-00010ed0: 2323 2323 2320 4578 616d 706c 6573 0a0a  ##### Examples..
-00010ee0: 2a2a 436f 636f 6e75 743a 2a2a 0a60 6060  **Coconut:**.```
-00010ef0: 636f 636f 6e75 740a 6465 6620 636c 6173  coconut.def clas
-00010f00: 7369 6679 5f73 6571 7565 6e63 6528 7661  sify_sequence(va
-00010f10: 6c75 6529 3a0a 2020 2020 6f75 7420 3d20  lue):.    out = 
-00010f20: 2222 2020 2020 2020 2020 2320 756e 6c69  ""        # unli
-00010f30: 6b65 2077 6974 6820 6e6f 726d 616c 206d  ke with normal m
-00010f40: 6174 6368 6573 2c20 6f6e 6c79 206f 6e65  atches, only one
-00010f50: 206f 6620 7468 6520 7061 7474 6572 6e73   of the patterns
-00010f60: 0a20 2020 206d 6174 6368 2076 616c 7565  .    match value
-00010f70: 3a20 2020 2020 2320 2077 696c 6c20 6d61  :     #  will ma
-00010f80: 7463 682c 2061 6e64 206f 7574 2077 696c  tch, and out wil
-00010f90: 6c20 6f6e 6c79 2067 6574 2061 7070 656e  l only get appen
-00010fa0: 6465 6420 746f 206f 6e63 650a 2020 2020  ded to once.    
-00010fb0: 2020 2020 6361 7365 2028 293a 0a20 2020      case ():.   
-00010fc0: 2020 2020 2020 2020 206f 7574 202b 3d20           out += 
-00010fd0: 2265 6d70 7479 220a 2020 2020 2020 2020  "empty".        
-00010fe0: 6361 7365 2028 5f2c 293a 0a20 2020 2020  case (_,):.     
-00010ff0: 2020 2020 2020 206f 7574 202b 3d20 2273         out += "s
-00011000: 696e 676c 6574 6f6e 220a 2020 2020 2020  ingleton".      
-00011010: 2020 6361 7365 2028 782c 7829 3a0a 2020    case (x,x):.  
-00011020: 2020 2020 2020 2020 2020 6f75 7420 2b3d            out +=
-00011030: 2022 6475 706c 6963 6174 6520 7061 6972   "duplicate pair
-00011040: 206f 6620 222b 7374 7228 7829 0a20 2020   of "+str(x).   
-00011050: 2020 2020 2063 6173 6520 285f 2c5f 293a       case (_,_):
-00011060: 0a20 2020 2020 2020 2020 2020 206f 7574  .            out
-00011070: 202b 3d20 2270 6169 7222 0a20 2020 2020   += "pair".     
-00011080: 2020 2063 6173 6520 5f20 6973 2028 7475     case _ is (tu
-00011090: 706c 652c 206c 6973 7429 3a0a 2020 2020  ple, list):.    
-000110a0: 2020 2020 2020 2020 6f75 7420 2b3d 2022          out += "
-000110b0: 7365 7175 656e 6365 220a 2020 2020 656c  sequence".    el
-000110c0: 7365 3a0a 2020 2020 2020 2020 7261 6973  se:.        rais
-000110d0: 6520 5479 7065 4572 726f 7228 290a 2020  e TypeError().  
-000110e0: 2020 7265 7475 726e 206f 7574 0a0a 5b5d    return out..[]
-000110f0: 207c 3e20 636c 6173 7369 6679 5f73 6571   |> classify_seq
-00011100: 7565 6e63 6520 7c3e 2070 7269 6e74 0a28  uence |> print.(
-00011110: 2920 7c3e 2063 6c61 7373 6966 795f 7365  ) |> classify_se
-00011120: 7175 656e 6365 207c 3e20 7072 696e 740a  quence |> print.
-00011130: 5b31 5d20 7c3e 2063 6c61 7373 6966 795f  [1] |> classify_
-00011140: 7365 7175 656e 6365 207c 3e20 7072 696e  sequence |> prin
-00011150: 740a 2831 2c31 2920 7c3e 2063 6c61 7373  t.(1,1) |> class
-00011160: 6966 795f 7365 7175 656e 6365 207c 3e20  ify_sequence |> 
-00011170: 7072 696e 740a 2831 2c32 2920 7c3e 2063  print.(1,2) |> c
-00011180: 6c61 7373 6966 795f 7365 7175 656e 6365  lassify_sequence
-00011190: 207c 3e20 7072 696e 740a 2831 2c31 2c31   |> print.(1,1,1
-000111a0: 2920 7c3e 2063 6c61 7373 6966 795f 7365  ) |> classify_se
-000111b0: 7175 656e 6365 207c 3e20 7072 696e 740a  quence |> print.
-000111c0: 6060 600a 5f45 7861 6d70 6c65 206f 6620  ```._Example of 
-000111d0: 7573 696e 6720 436f 636f 6e75 7427 7320  using Coconut's 
-000111e0: 6063 6173 6560 2073 796e 7461 782e 5f0a  `case` syntax._.
-000111f0: 6060 6063 6f63 6f6e 7574 0a63 6173 6573  ```coconut.cases
-00011200: 207b 2261 223a 2031 2c20 2262 223a 2032   {"a": 1, "b": 2
-00011210: 7d3a 0a20 2020 206d 6174 6368 207b 2261  }:.    match {"a
-00011220: 223a 2061 7d3a 0a20 2020 2020 2020 2070  ": a}:.        p
-00011230: 6173 730a 2020 2020 6d61 7463 6820 5f3a  ass.    match _:
-00011240: 0a20 2020 2020 2020 2061 7373 6572 7420  .        assert 
-00011250: 4661 6c73 650a 6173 7365 7274 2061 203d  False.assert a =
-00011260: 3d20 310a 6060 600a 5f45 7861 6d70 6c65  = 1.```._Example
-00011270: 206f 6620 7468 6520 6063 6173 6573 6020   of the `cases` 
-00011280: 6b65 7977 6f72 6420 696e 7374 6561 642e  keyword instead.
-00011290: 5f0a 0a2a 2a50 7974 686f 6e3a 2a2a 0a5f  _..**Python:**._
-000112a0: 4361 6e27 7420 6265 2064 6f6e 6520 7769  Can't be done wi
-000112b0: 7468 6f75 7420 6120 6c6f 6e67 2073 6572  thout a long ser
-000112c0: 6965 7320 6f66 2063 6865 636b 7320 666f  ies of checks fo
-000112d0: 7220 6561 6368 2060 6d61 7463 6860 2073  r each `match` s
-000112e0: 7461 7465 6d65 6e74 2e20 5365 6520 7468  tatement. See th
-000112f0: 6520 636f 6d70 696c 6564 2063 6f64 6520  e compiled code 
-00011300: 666f 7220 7468 6520 5079 7468 6f6e 2073  for the Python s
-00011310: 796e 7461 782e 5f0a 0a23 2323 2060 6d61  yntax._..### `ma
-00011320: 7463 6820 666f 7260 0a0a 436f 636f 6e75  tch for`..Coconu
-00011330: 7420 7375 7070 6f72 7473 2070 6174 7465  t supports patte
-00011340: 726e 2d6d 6174 6368 696e 6720 696e 2066  rn-matching in f
-00011350: 6f72 206c 6f6f 7073 2c20 7768 6572 6520  or loops, where 
-00011360: 7468 6520 7061 7474 6572 6e20 6973 206d  the pattern is m
-00011370: 6174 6368 6564 2061 6761 696e 7374 2065  atched against e
-00011380: 6163 6820 6974 656d 2069 6e20 7468 6520  ach item in the 
-00011390: 6974 6572 6162 6c65 2e20 5468 6520 7379  iterable. The sy
-000113a0: 6e74 6178 2069 730a 6060 6063 6f63 6f6e  ntax is.```cocon
-000113b0: 7574 0a5b 6d61 7463 685d 2066 6f72 203c  ut.[match] for <
-000113c0: 7061 7474 6572 6e3e 2069 6e20 3c69 7465  pattern> in <ite
-000113d0: 7261 626c 653e 3a0a 2020 2020 3c62 6f64  rable>:.    <bod
-000113e0: 793e 0a60 6060 0a77 6869 6368 2069 7320  y>.```.which is 
-000113f0: 6571 7569 7661 6c65 6e74 2074 6f20 7468  equivalent to th
-00011400: 6520 5b64 6573 7472 7563 7475 7269 6e67  e [destructuring
-00011410: 2061 7373 6967 6e6d 656e 745d 2823 6465   assignment](#de
-00011420: 7374 7275 6374 7572 696e 672d 6173 7369  structuring-assi
-00011430: 676e 6d65 6e74 290a 6060 6063 6f63 6f6e  gnment).```cocon
-00011440: 7574 0a66 6f72 2065 6c65 6d20 696e 203c  ut.for elem in <
-00011450: 6974 6572 6162 6c65 3e3a 0a20 2020 206d  iterable>:.    m
-00011460: 6174 6368 203c 7061 7474 6572 6e3e 203d  atch <pattern> =
-00011470: 2065 6c65 6d0a 2020 2020 3c62 6f64 793e   elem.    <body>
-00011480: 0a60 6060 0a0a 5061 7474 6572 6e2d 6d61  .```..Pattern-ma
-00011490: 7463 6869 6e67 2063 616e 2061 6c73 6f20  tching can also 
-000114a0: 6265 2075 7365 6420 696e 2060 6173 796e  be used in `asyn
-000114b0: 6320 666f 7260 206c 6f6f 7073 2c20 7769  c for` loops, wi
-000114c0: 7468 2062 6f74 6820 6061 7379 6e63 206d  th both `async m
-000114d0: 6174 6368 2066 6f72 6020 616e 6420 606d  atch for` and `m
-000114e0: 6174 6368 2061 7379 6e63 2066 6f72 6020  atch async for` 
-000114f0: 616c 6c6f 7765 6420 6173 2065 7870 6c69  allowed as expli
-00011500: 6369 7420 7379 6e74 6178 6573 2e0a 0a23  cit syntaxes...#
-00011510: 2323 2323 2045 7861 6d70 6c65 0a0a 2a2a  #### Example..**
-00011520: 436f 636f 6e75 743a 2a2a 0a60 6060 0a66  Coconut:**.```.f
-00011530: 6f72 207b 2275 7365 7222 3a20 7569 642c  or {"user": uid,
-00011540: 202a 2a5f 7d20 696e 2067 6574 5f64 6174   **_} in get_dat
-00011550: 6128 293a 0a20 2020 2070 7269 6e74 2875  a():.    print(u
-00011560: 6964 290a 6060 600a 0a2a 2a50 7974 686f  id).```..**Pytho
-00011570: 6e3a 2a2a 0a60 6060 0a66 6f72 2075 7365  n:**.```.for use
-00011580: 725f 6461 7461 2069 6e20 6765 745f 6461  r_data in get_da
-00011590: 7461 2829 3a0a 2020 2020 7569 6420 3d20  ta():.    uid = 
-000115a0: 7573 6572 5f64 6174 615b 2275 7365 7222  user_data["user"
-000115b0: 5d0a 2020 2020 7072 696e 7428 7569 6429  ].    print(uid)
-000115c0: 0a60 6060 0a0a 2323 2320 6064 6174 6160  .```..### `data`
-000115d0: 0a0a 436f 636f 6e75 7427 7320 6064 6174  ..Coconut's `dat
-000115e0: 6160 206b 6579 776f 7264 2069 7320 7573  a` keyword is us
-000115f0: 6564 2074 6f20 6372 6561 7465 2069 6d6d  ed to create imm
-00011600: 7574 6162 6c65 2c20 616c 6765 6272 6169  utable, algebrai
-00011610: 6320 6461 7461 2074 7970 6573 2c20 696e  c data types, in
-00011620: 636c 7564 696e 6720 6275 696c 742d 696e  cluding built-in
-00011630: 2073 7570 706f 7274 2066 6f72 2064 6573   support for des
-00011640: 7472 7563 7475 7269 6e67 205b 7061 7474  tructuring [patt
-00011650: 6572 6e2d 6d61 7463 6869 6e67 5d28 236d  ern-matching](#m
-00011660: 6174 6368 2920 616e 6420 5b60 666d 6170  atch) and [`fmap
-00011670: 605d 2823 666d 6170 292e 0a0a 5468 6520  `](#fmap)...The 
-00011680: 7379 6e74 6178 2066 6f72 2060 6461 7461  syntax for `data
-00011690: 6020 626c 6f63 6b73 2069 7320 6120 6372  ` blocks is a cr
-000116a0: 6f73 7320 6265 7477 6565 6e20 7468 6520  oss between the 
-000116b0: 7379 6e74 6178 2066 6f72 2066 756e 6374  syntax for funct
-000116c0: 696f 6e73 2061 6e64 2074 6865 2073 796e  ions and the syn
-000116d0: 7461 7820 666f 7220 636c 6173 7365 732e  tax for classes.
-000116e0: 2054 6865 2066 6972 7374 206c 696e 6520   The first line 
-000116f0: 6c6f 6f6b 7320 6c69 6b65 2061 2066 756e  looks like a fun
-00011700: 6374 696f 6e20 6465 6669 6e69 7469 6f6e  ction definition
-00011710: 2c20 6275 7420 7468 6520 7265 7374 206f  , but the rest o
-00011720: 6620 7468 6520 626f 6479 206c 6f6f 6b73  f the body looks
-00011730: 206c 696b 6520 6120 636c 6173 732c 2075   like a class, u
-00011740: 7375 616c 6c79 2063 6f6e 7461 696e 696e  sually containin
-00011750: 6720 6d65 7468 6f64 2064 6566 696e 6974  g method definit
-00011760: 696f 6e73 2e20 5468 6973 2069 7320 6265  ions. This is be
-00011770: 6361 7573 6520 7768 696c 6520 6064 6174  cause while `dat
-00011780: 6160 2062 6c6f 636b 7320 6163 7475 616c  a` blocks actual
-00011790: 6c79 2065 6e64 2075 7020 6173 2063 6c61  ly end up as cla
-000117a0: 7373 6573 2069 6e20 5079 7468 6f6e 2c20  sses in Python, 
-000117b0: 436f 636f 6e75 7420 6175 746f 6d61 7469  Coconut automati
-000117c0: 6361 6c6c 7920 6372 6561 7465 7320 6120  cally creates a 
-000117d0: 7370 6563 6961 6c2c 2069 6d6d 7574 6162  special, immutab
-000117e0: 6c65 2063 6f6e 7374 7275 6374 6f72 2062  le constructor b
-000117f0: 6173 6564 206f 6e20 7468 6520 6769 7665  ased on the give
-00011800: 6e20 6172 6775 6d65 6e74 732e 0a0a 436f  n arguments...Co
-00011810: 636f 6e75 7420 6461 7461 2073 7461 7465  conut data state
-00011820: 6d65 6e74 2073 796e 7461 7820 6c6f 6f6b  ment syntax look
-00011830: 7320 6c69 6b65 3a0a 6060 6063 6f63 6f6e  s like:.```cocon
-00011840: 7574 0a64 6174 6120 3c6e 616d 653e 283c  ut.data <name>(<
-00011850: 6172 6773 3e29 205b 6672 6f6d 203c 696e  args>) [from <in
-00011860: 6865 7269 7473 3e5d 3a0a 2020 2020 3c62  herits>]:.    <b
-00011870: 6f64 793e 0a60 6060 0a60 3c6e 616d 653e  ody>.```.`<name>
-00011880: 6020 6973 2074 6865 206e 616d 6520 6f66  ` is the name of
-00011890: 2074 6865 206e 6577 2064 6174 6120 7479   the new data ty
-000118a0: 7065 2c20 603c 6172 6773 3e60 2061 7265  pe, `<args>` are
-000118b0: 2074 6865 2061 7267 756d 656e 7473 2074   the arguments t
-000118c0: 6f20 6974 7320 636f 6e73 7472 7563 746f  o its constructo
-000118d0: 7220 6173 2077 656c 6c20 6173 2074 6865  r as well as the
-000118e0: 206e 616d 6573 206f 6620 6974 7320 6174   names of its at
-000118f0: 7472 6962 7574 6573 2c20 603c 626f 6479  tributes, `<body
-00011900: 3e60 2063 6f6e 7461 696e 7320 7468 6520  >` contains the 
-00011910: 6461 7461 2074 7970 6527 7320 6d65 7468  data type's meth
-00011920: 6f64 732c 2061 6e64 2060 3c69 6e68 6572  ods, and `<inher
-00011930: 6974 733e 6020 6f70 7469 6f6e 616c 6c79  its>` optionally
-00011940: 2063 6f6e 7461 696e 7320 616e 7920 6465   contains any de
-00011950: 7369 7265 6420 6261 7365 2063 6c61 7373  sired base class
-00011960: 6573 2e0a 0a43 6f63 6f6e 7574 2061 6c6c  es...Coconut all
-00011970: 6f77 7320 6461 7461 2066 6965 6c64 7320  ows data fields 
-00011980: 696e 2060 3c61 7267 733e 6020 746f 2068  in `<args>` to h
-00011990: 6176 6520 6465 6661 756c 7473 2061 6e64  ave defaults and
-000119a0: 2f6f 7220 5b74 7970 6520 616e 6e6f 7461  /or [type annota
-000119b0: 7469 6f6e 735d 2823 656e 6861 6e63 6564  tions](#enhanced
-000119c0: 2d74 7970 652d 616e 6e6f 7461 7469 6f6e  -type-annotation
-000119d0: 2920 6174 7461 6368 6564 2074 6f20 7468  ) attached to th
-000119e0: 656d 2c20 616e 6420 7375 7070 6f72 7473  em, and supports
-000119f0: 2061 2073 7461 7272 6564 2070 6172 616d   a starred param
-00011a00: 6574 6572 2061 7420 7468 6520 656e 6420  eter at the end 
-00011a10: 746f 2063 6f6c 6c65 6374 2065 7874 7261  to collect extra
-00011a20: 2061 7267 756d 656e 7473 2e20 4164 6469   arguments. Addi
-00011a30: 7469 6f6e 616c 6c79 2c20 436f 636f 6e75  tionally, Coconu
-00011a40: 7420 616c 6c6f 7773 2074 7970 6520 7061  t allows type pa
-00011a50: 7261 6d65 7465 7273 2074 6f20 6265 2073  rameters to be s
-00011a60: 7065 6369 6669 6564 2069 6e20 6272 6163  pecified in brac
-00011a70: 6b65 7473 2061 6674 6572 2060 3c6e 616d  kets after `<nam
-00011a80: 653e 6020 7573 696e 6720 436f 636f 6e75  e>` using Coconu
-00011a90: 7427 7320 5b74 7970 6520 7061 7261 6d65  t's [type parame
-00011aa0: 7465 7220 7379 6e74 6178 5d28 2374 7970  ter syntax](#typ
-00011ab0: 652d 7061 7261 6d65 7465 722d 7379 6e74  e-parameter-synt
-00011ac0: 6178 292e 0a0a 5772 6974 696e 6720 636f  ax)...Writing co
-00011ad0: 6e73 7472 7563 746f 7273 2066 6f72 2060  nstructors for `
-00011ae0: 6461 7461 6020 7479 7065 7320 6d75 7374  data` types must
-00011af0: 2062 6520 646f 6e65 2075 7369 6e67 2074   be done using t
-00011b00: 6865 2060 5f5f 6e65 775f 5f60 206d 6574  he `__new__` met
-00011b10: 686f 6420 696e 7374 6561 6420 6f66 2074  hod instead of t
-00011b20: 6865 2060 5f5f 696e 6974 5f5f 6020 6d65  he `__init__` me
-00011b30: 7468 6f64 2e20 466f 7220 6865 6c70 696e  thod. For helpin
-00011b40: 6720 746f 2065 6173 696c 7920 7772 6974  g to easily writ
-00011b50: 6520 605f 5f6e 6577 5f5f 6020 6d65 7468  e `__new__` meth
-00011b60: 6f64 732c 2043 6f63 6f6e 7574 2070 726f  ods, Coconut pro
-00011b70: 7669 6465 7320 7468 6520 5b6d 616b 6564  vides the [maked
-00011b80: 6174 615d 2823 6d61 6b65 6461 7461 2920  ata](#makedata) 
-00011b90: 6275 696c 742d 696e 2e0a 0a53 7562 636c  built-in...Subcl
-00011ba0: 6173 7369 6e67 2060 6461 7461 6020 7479  assing `data` ty
-00011bb0: 7065 7320 6361 6e20 6265 2064 6f6e 6520  pes can be done 
-00011bc0: 6561 7369 6c79 2062 7920 696e 6865 7269  easily by inheri
-00011bd0: 7469 6e67 2066 726f 6d20 7468 656d 2065  ting from them e
-00011be0: 6974 6865 7220 696e 2061 6e6f 7468 6572  ither in another
-00011bf0: 2060 6461 7461 6020 7374 6174 656d 656e   `data` statemen
-00011c00: 7420 6f72 2061 206e 6f72 6d61 6c20 5079  t or a normal Py
-00011c10: 7468 6f6e 2060 636c 6173 7360 2e20 4966  thon `class`. If
-00011c20: 2061 206e 6f72 6d61 6c20 6063 6c61 7373   a normal `class
-00011c30: 6020 7374 6174 656d 656e 7420 6973 2075  ` statement is u
-00011c40: 7365 642c 206d 616b 696e 6720 7468 6520  sed, making the 
-00011c50: 6e65 7720 7375 6263 6c61 7373 2069 6d6d  new subclass imm
-00011c60: 7574 6162 6c65 2077 696c 6c20 7265 7175  utable will requ
-00011c70: 6972 6520 6164 6469 6e67 2074 6865 206c  ire adding the l
-00011c80: 696e 650a 6060 6063 6f63 6f6e 7574 0a5f  ine.```coconut._
-00011c90: 5f73 6c6f 7473 5f5f 203d 2028 290a 6060  _slots__ = ().``
-00011ca0: 600a 7768 6963 6820 7769 6c6c 206e 6565  `.which will nee
-00011cb0: 6420 746f 2062 6520 7075 7420 696e 2074  d to be put in t
-00011cc0: 6865 2073 7562 636c 6173 7320 626f 6479  he subclass body
-00011cd0: 2062 6566 6f72 6520 616e 7920 6d65 7468   before any meth
-00011ce0: 6f64 206f 7220 6174 7472 6962 7574 6520  od or attribute 
-00011cf0: 6465 6669 6e69 7469 6f6e 732e 2049 6620  definitions. If 
-00011d00: 796f 7520 6e65 6564 2074 6f20 696e 6865  you need to inhe
-00011d10: 7269 7420 6d61 6769 6320 6d65 7468 6f64  rit magic method
-00011d20: 7320 6672 6f6d 2061 2062 6173 6520 636c  s from a base cl
-00011d30: 6173 7320 696e 2079 6f75 7220 6064 6174  ass in your `dat
-00011d40: 6160 2074 7970 652c 2073 7563 6820 7375  a` type, such su
-00011d50: 6263 6c61 7373 696e 6720 6973 2074 6865  bclassing is the
-00011d60: 2072 6563 6f6d 6d65 6e64 6564 206d 6574   recommended met
-00011d70: 686f 642c 2061 7320 7468 6520 6064 6174  hod, as the `dat
-00011d80: 6120 2e2e 2e20 6672 6f6d 202e 2e2e 6020  a ... from ...` 
-00011d90: 7379 6e74 6178 2077 696c 6c20 6f76 6572  syntax will over
-00011da0: 7772 6974 6520 616e 7920 6d61 6769 6320  write any magic 
-00011db0: 6d65 7468 6f64 7320 696e 2074 6865 2062  methods in the b
-00011dc0: 6173 6520 636c 6173 7320 7769 7468 206d  ase class with m
-00011dd0: 6167 6963 206d 6574 686f 6473 2062 7569  agic methods bui
-00011de0: 6c74 2066 6f72 2074 6865 206e 6577 2060  lt for the new `
-00011df0: 6461 7461 6020 7479 7065 2e0a 0a43 6f6d  data` type...Com
-00011e00: 7061 7265 6420 746f 205b 606e 616d 6564  pared to [`named
-00011e10: 7475 706c 6560 735d 2823 616e 6f6e 796d  tuple`s](#anonym
-00011e20: 6f75 732d 6e61 6d65 6474 7570 6c65 7329  ous-namedtuples)
-00011e30: 2c20 6672 6f6d 2077 6869 6368 2060 6461  , from which `da
-00011e40: 7461 6020 7479 7065 7320 6172 6520 6465  ta` types are de
-00011e50: 7269 7665 642c 2060 6461 7461 6020 7479  rived, `data` ty
-00011e60: 7065 733a 0a0a 2d20 7573 6520 7479 7065  pes:..- use type
-00011e70: 6420 6571 7561 6c69 7479 2c0a 2d20 646f  d equality,.- do
-00011e80: 6e27 7420 7375 7070 6f72 7420 7475 706c  n't support tupl
-00011e90: 6520 6164 6469 7469 6f6e 206f 7220 6d75  e addition or mu
-00011ea0: 6c74 6970 6c69 6361 7469 6f6e 2028 756e  ltiplication (un
-00011eb0: 6c65 7373 2065 7870 6c69 6369 746c 7920  less explicitly 
-00011ec0: 6465 6669 6e65 6420 7669 6120 7370 6563  defined via spec
-00011ed0: 6961 6c20 6d65 7468 6f64 7320 696e 2074  ial methods in t
-00011ee0: 6865 2060 6461 7461 6020 626f 6479 292c  he `data` body),
-00011ef0: 0a2d 2073 7570 706f 7274 2073 7461 7272  .- support starr
-00011f00: 6564 2c20 7479 7065 642c 2061 6e64 205b  ed, typed, and [
-00011f10: 7061 7474 6572 6e2d 6d61 7463 6869 6e67  pattern-matching
-00011f20: 5d28 236d 6174 6368 2d64 6174 6129 2061  ](#match-data) a
-00011f30: 7267 756d 656e 7473 2c20 616e 640a 2d20  rguments, and.- 
-00011f40: 6861 7665 2073 7065 6369 616c 205b 7061  have special [pa
-00011f50: 7474 6572 6e2d 6d61 7463 6869 6e67 5d28  ttern-matching](
-00011f60: 236d 6174 6368 2920 6265 6861 7669 6f72  #match) behavior
-00011f70: 2e0a 0a4c 696b 6520 5b60 6e61 6d65 6474  ...Like [`namedt
-00011f80: 7570 6c65 6073 5d28 6874 7470 733a 2f2f  uple`s](https://
-00011f90: 646f 6373 2e70 7974 686f 6e2e 6f72 672f  docs.python.org/
-00011fa0: 332f 6c69 6272 6172 792f 636f 6c6c 6563  3/library/collec
-00011fb0: 7469 6f6e 732e 6874 6d6c 236e 616d 6564  tions.html#named
-00011fc0: 7475 706c 652d 6661 6374 6f72 792d 6675  tuple-factory-fu
-00011fd0: 6e63 7469 6f6e 2d66 6f72 2d74 7570 6c65  nction-for-tuple
-00011fe0: 732d 7769 7468 2d6e 616d 6564 2d66 6965  s-with-named-fie
-00011ff0: 6c64 7329 2c20 6064 6174 6160 2074 7970  lds), `data` typ
-00012000: 6573 2061 6c73 6f20 7375 7070 6f72 7420  es also support 
-00012010: 6120 7661 7269 6574 7920 6f66 2065 7874  a variety of ext
-00012020: 7261 206d 6574 686f 6473 2c20 7375 6368  ra methods, such
-00012030: 2061 7320 5b60 2e5f 6173 6469 6374 2829   as [`._asdict()
-00012040: 605d 2868 7474 7073 3a2f 2f64 6f63 732e  `](https://docs.
-00012050: 7079 7468 6f6e 2e6f 7267 2f33 2f6c 6962  python.org/3/lib
-00012060: 7261 7279 2f63 6f6c 6c65 6374 696f 6e73  rary/collections
-00012070: 2e68 746d 6c23 636f 6c6c 6563 7469 6f6e  .html#collection
-00012080: 732e 736f 6d65 6e61 6d65 6474 7570 6c65  s.somenamedtuple
-00012090: 2e5f 6173 6469 6374 2920 616e 6420 5b60  ._asdict) and [`
-000120a0: 2e5f 7265 706c 6163 6528 2a2a 6b77 6172  ._replace(**kwar
-000120b0: 6773 2960 5d28 6874 7470 733a 2f2f 646f  gs)`](https://do
-000120c0: 6373 2e70 7974 686f 6e2e 6f72 672f 332f  cs.python.org/3/
-000120d0: 6c69 6272 6172 792f 636f 6c6c 6563 7469  library/collecti
-000120e0: 6f6e 732e 6874 6d6c 2363 6f6c 6c65 6374  ons.html#collect
-000120f0: 696f 6e73 2e73 6f6d 656e 616d 6564 7475  ions.somenamedtu
-00012100: 706c 652e 5f72 6570 6c61 6365 292e 0a0a  ple._replace)...
-00012110: 2323 2323 2320 5261 7469 6f6e 616c 650a  ##### Rationale.
-00012120: 0a41 206d 6169 6e73 7461 7920 6f66 2066  .A mainstay of f
-00012130: 756e 6374 696f 6e61 6c20 7072 6f67 7261  unctional progra
-00012140: 6d6d 696e 6720 7468 6174 2043 6f63 6f6e  mming that Cocon
-00012150: 7574 2069 6d70 726f 7665 7320 696e 2050  ut improves in P
-00012160: 7974 686f 6e20 6973 2074 6865 2075 7365  ython is the use
-00012170: 206f 6620 7661 6c75 6573 2c20 6f72 2069   of values, or i
-00012180: 6d6d 7574 6162 6c65 2064 6174 6120 7479  mmutable data ty
-00012190: 7065 732e 2049 6d6d 7574 6162 6c65 2064  pes. Immutable d
-000121a0: 6174 6120 6361 6e20 6265 2076 6572 7920  ata can be very 
-000121b0: 7573 6566 756c 2062 6563 6175 7365 2069  useful because i
-000121c0: 7420 6775 6172 616e 7465 6573 2074 6861  t guarantees tha
-000121d0: 7420 6f6e 6365 2079 6f75 2068 6176 6520  t once you have 
-000121e0: 736f 6d65 2064 6174 6120 6974 2077 6f6e  some data it won
-000121f0: 2774 2063 6861 6e67 652c 2062 7574 2069  't change, but i
-00012200: 6e20 5079 7468 6f6e 2063 7265 6174 696e  n Python creatin
-00012210: 6720 6375 7374 6f6d 2069 6d6d 7574 6162  g custom immutab
-00012220: 6c65 2064 6174 6120 7479 7065 7320 6973  le data types is
-00012230: 2064 6966 6669 6375 6c74 2e20 436f 636f   difficult. Coco
-00012240: 6e75 7420 6d61 6b65 7320 6974 2076 6572  nut makes it ver
-00012250: 7920 6561 7379 2062 7920 7072 6f76 6964  y easy by provid
-00012260: 696e 6720 6064 6174 6160 2062 6c6f 636b  ing `data` block
-00012270: 732e 0a0a 2323 2323 2320 4578 616d 706c  s...##### Exampl
-00012280: 6573 0a0a 2a2a 436f 636f 6e75 743a 2a2a  es..**Coconut:**
-00012290: 0a60 6060 636f 636f 6e75 740a 6461 7461  .```coconut.data
-000122a0: 2076 6563 746f 7232 2878 3a69 6e74 3d30   vector2(x:int=0
-000122b0: 2c20 793a 696e 743d 3029 3a0a 2020 2020  , y:int=0):.    
-000122c0: 6465 6620 5f5f 6162 735f 5f28 7365 6c66  def __abs__(self
-000122d0: 293a 0a20 2020 2020 2020 2072 6574 7572  ):.        retur
-000122e0: 6e20 2873 656c 662e 782a 2a32 202b 2073  n (self.x**2 + s
-000122f0: 656c 662e 792a 2a32 292a 2a2e 350a 0a76  elf.y**2)**.5..v
-00012300: 203d 2076 6563 746f 7232 2833 2c20 3429   = vector2(3, 4)
-00012310: 0a76 207c 3e20 7072 696e 7420 2023 2061  .v |> print  # a
-00012320: 6c6c 2064 6174 6120 7479 7065 7320 636f  ll data types co
-00012330: 6d65 2077 6974 6820 6120 6275 696c 742d  me with a built-
-00012340: 696e 205f 5f72 6570 725f 5f0a 7620 7c3e  in __repr__.v |>
-00012350: 2061 6273 207c 3e20 7072 696e 740a 762e   abs |> print.v.
-00012360: 7820 3d20 3220 2023 2074 6869 7320 7769  x = 2  # this wi
-00012370: 6c6c 2066 6169 6c20 6265 6361 7573 6520  ll fail because 
-00012380: 6461 7461 206f 626a 6563 7473 2061 7265  data objects are
-00012390: 2069 6d6d 7574 6162 6c65 0a76 6563 746f   immutable.vecto
-000123a0: 7232 2829 207c 3e20 7072 696e 740a 6060  r2() |> print.``
-000123b0: 600a 5f53 686f 7763 6173 6573 2074 6865  `._Showcases the
-000123c0: 2073 796e 7461 782c 2066 6561 7475 7265   syntax, feature
-000123d0: 732c 2061 6e64 2069 6d6d 7574 6162 6c65  s, and immutable
-000123e0: 206e 6174 7572 6520 6f66 2060 6461 7461   nature of `data
-000123f0: 6020 7479 7065 732c 2061 7320 7765 6c6c  ` types, as well
-00012400: 2061 7320 7468 6520 7573 6520 6f66 2064   as the use of d
-00012410: 6566 6175 6c74 2061 7267 756d 656e 7473  efault arguments
-00012420: 2061 6e64 2074 7970 6520 616e 6e6f 7461   and type annota
-00012430: 7469 6f6e 732e 5f0a 0a60 6060 636f 636f  tions._..```coco
-00012440: 6e75 740a 6461 7461 2045 6d70 7479 2829  nut.data Empty()
-00012450: 0a64 6174 6120 4c65 6166 286e 290a 6461  .data Leaf(n).da
-00012460: 7461 204e 6f64 6528 6c2c 2072 290a 0a64  ta Node(l, r)..d
-00012470: 6566 2073 697a 6528 456d 7074 7928 2929  ef size(Empty())
-00012480: 203d 2030 0a0a 6164 6470 6174 7465 726e   = 0..addpattern
-00012490: 2064 6566 2073 697a 6528 4c65 6166 286e   def size(Leaf(n
-000124a0: 2929 203d 2031 0a0a 6164 6470 6174 7465  )) = 1..addpatte
-000124b0: 726e 2064 6566 2073 697a 6528 4e6f 6465  rn def size(Node
-000124c0: 286c 2c20 7229 2920 3d20 7369 7a65 286c  (l, r)) = size(l
-000124d0: 2920 2b20 7369 7a65 2872 290a 0a73 697a  ) + size(r)..siz
-000124e0: 6528 4e6f 6465 2845 6d70 7479 2829 2c20  e(Node(Empty(), 
-000124f0: 4c65 6166 2831 3029 2929 203d 3d20 310a  Leaf(10))) == 1.
-00012500: 6060 600a 5f53 686f 7763 6173 6573 2074  ```._Showcases t
-00012510: 6865 2061 6c67 6562 7261 6963 206e 6174  he algebraic nat
-00012520: 7572 6520 6f66 2060 6461 7461 6020 7479  ure of `data` ty
-00012530: 7065 7320 7768 656e 2063 6f6d 6269 6e65  pes when combine
-00012540: 6420 7769 7468 2070 6174 7465 726e 2d6d  d with pattern-m
-00012550: 6174 6368 696e 672e 5f0a 0a60 6060 636f  atching._..```co
-00012560: 636f 6e75 740a 6461 7461 2076 6563 746f  conut.data vecto
-00012570: 7228 2a70 7473 293a 0a20 2020 2022 2222  r(*pts):.    """
-00012580: 496d 6d75 7461 626c 6520 6172 6269 7472  Immutable arbitr
-00012590: 6172 792d 6c65 6e67 7468 2076 6563 746f  ary-length vecto
-000125a0: 722e 2222 220a 0a20 2020 2064 6566 205f  r."""..    def _
-000125b0: 5f61 6273 5f5f 2873 656c 6629 203d 0a20  _abs__(self) =. 
-000125c0: 2020 2020 2020 2073 656c 662e 7074 7320         self.pts 
-000125d0: 7c3e 206d 6170 2428 706f 7724 283f 2c20  |> map$(pow$(?, 
-000125e0: 3229 2920 7c3e 2073 756d 207c 3e20 706f  2)) |> sum |> po
-000125f0: 7724 283f 2c20 302e 3529 0a0a 2020 2020  w$(?, 0.5)..    
-00012600: 6465 6620 5f5f 6164 645f 5f28 7365 6c66  def __add__(self
-00012610: 2c20 6f74 6865 7229 203d 0a20 2020 2020  , other) =.     
-00012620: 2020 2076 6563 746f 7228 2a6f 7468 6572     vector(*other
-00012630: 5f70 7473 2920 3d20 6f74 6865 720a 2020  _pts) = other.  
-00012640: 2020 2020 2020 6173 7365 7274 206c 656e        assert len
-00012650: 286f 7468 6572 5f70 7473 2920 3d3d 206c  (other_pts) == l
-00012660: 656e 2873 656c 662e 7074 7329 0a20 2020  en(self.pts).   
-00012670: 2020 2020 206d 6170 2828 2b29 2c20 7365       map((+), se
-00012680: 6c66 2e70 7473 2c20 6f74 6865 725f 7074  lf.pts, other_pt
-00012690: 7329 207c 2a3e 2076 6563 746f 720a 0a20  s) |*> vector.. 
-000126a0: 2020 2064 6566 205f 5f6e 6567 5f5f 2873     def __neg__(s
-000126b0: 656c 6629 203d 0a20 2020 2020 2020 2073  elf) =.        s
-000126c0: 656c 662e 7074 7320 7c3e 206d 6170 2428  elf.pts |> map$(
-000126d0: 282d 2929 207c 2a3e 2076 6563 746f 720a  (-)) |*> vector.
-000126e0: 0a20 2020 2064 6566 205f 5f73 7562 5f5f  .    def __sub__
-000126f0: 2873 656c 662c 206f 7468 6572 2920 3d0a  (self, other) =.
-00012700: 2020 2020 2020 2020 7365 6c66 202b 202d          self + -
-00012710: 6f74 6865 720a 6060 600a 5f53 686f 7763  other.```._Showc
-00012720: 6173 6573 2073 7461 7272 6564 2060 6461  ases starred `da
-00012730: 7461 6020 6465 636c 6172 6174 696f 6e2e  ta` declaration.
-00012740: 5f0a 0a2a 2a50 7974 686f 6e3a 2a2a 0a5f  _..**Python:**._
-00012750: 4361 6e27 7420 6265 2064 6f6e 6520 7769  Can't be done wi
-00012760: 7468 6f75 7420 6120 7365 7269 6573 206f  thout a series o
-00012770: 6620 6d65 7468 6f64 2064 6566 696e 6974  f method definit
-00012780: 696f 6e73 2066 6f72 2065 6163 6820 6461  ions for each da
-00012790: 7461 2074 7970 652e 2053 6565 2074 6865  ta type. See the
-000127a0: 2063 6f6d 7069 6c65 6420 636f 6465 2066   compiled code f
-000127b0: 6f72 2074 6865 2050 7974 686f 6e20 7379  or the Python sy
-000127c0: 6e74 6178 2e5f 0a0a 2323 2323 2060 6d61  ntax._..#### `ma
-000127d0: 7463 6820 6461 7461 600a 0a49 6e20 6164  tch data`..In ad
-000127e0: 6469 7469 6f6e 2074 6f20 6e6f 726d 616c  dition to normal
-000127f0: 2060 6461 7461 6020 7374 6174 656d 656e   `data` statemen
-00012800: 7473 2c20 436f 636f 6e75 7420 616c 736f  ts, Coconut also
-00012810: 2073 7570 706f 7274 7320 7061 7474 6572   supports patter
-00012820: 6e2d 6d61 7463 6869 6e67 2064 6174 6120  n-matching data 
-00012830: 7374 6174 656d 656e 7473 2074 6861 7420  statements that 
-00012840: 656e 6162 6c65 2074 6865 2075 7365 206f  enable the use o
-00012850: 6620 436f 636f 6e75 7427 7320 7061 7474  f Coconut's patt
-00012860: 6572 6e2d 6d61 7463 6869 6e67 2073 796e  ern-matching syn
-00012870: 7461 7820 746f 2064 6566 696e 6520 7468  tax to define th
-00012880: 6520 6461 7461 2074 7970 6527 7320 636f  e data type's co
-00012890: 6e73 7472 7563 746f 722e 2050 6174 7465  nstructor. Patte
-000128a0: 726e 2d6d 6174 6368 696e 6720 6461 7461  rn-matching data
-000128b0: 2074 7970 6573 206c 6f6f 6b20 6c69 6b65   types look like
-000128c0: 0a60 6060 0a5b 6d61 7463 685d 2064 6174  .```.[match] dat
-000128d0: 6120 3c6e 616d 653e 283c 7061 7474 6572  a <name>(<patter
-000128e0: 6e73 3e29 205b 6672 6f6d 203c 6261 7365  ns>) [from <base
-000128f0: 2063 6c61 7373 3e5d 3a0a 2020 2020 3c62   class>]:.    <b
-00012900: 6f64 793e 0a60 6060 0a77 6865 7265 2060  ody>.```.where `
-00012910: 3c70 6174 7465 726e 733e 6020 6172 6520  <patterns>` are 
-00012920: 6578 6163 746c 7920 6173 2069 6e20 5b70  exactly as in [p
-00012930: 6174 7465 726e 2d6d 6174 6368 696e 6720  attern-matching 
-00012940: 6675 6e63 7469 6f6e 735d 2823 7061 7474  functions](#patt
-00012950: 6572 6e2d 6d61 7463 6869 6e67 2d66 756e  ern-matching-fun
-00012960: 6374 696f 6e73 292e 0a0a 4974 2069 7320  ctions)...It is 
-00012970: 696d 706f 7274 616e 7420 746f 206b 6565  important to kee
-00012980: 7020 696e 206d 696e 6420 7468 6174 2070  p in mind that p
-00012990: 6174 7465 726e 2d6d 6174 6368 696e 6720  attern-matching 
-000129a0: 6461 7461 2074 7970 6573 2076 6172 7920  data types vary 
-000129b0: 6672 6f6d 206e 6f72 6d61 6c20 6461 7461  from normal data
-000129c0: 2074 7970 6573 2069 6e20 6120 7661 7269   types in a vari
-000129d0: 6574 7920 6f66 2077 6179 732e 2046 6972  ety of ways. Fir
-000129e0: 7374 2c20 6c69 6b65 2070 6174 7465 726e  st, like pattern
-000129f0: 2d6d 6174 6368 696e 6720 6675 6e63 7469  -matching functi
-00012a00: 6f6e 732c 2074 6865 7920 7261 6973 6520  ons, they raise 
-00012a10: 5b60 4d61 7463 6845 7272 6f72 605d 2823  [`MatchError`](#
-00012a20: 6d61 7463 6865 7272 6f72 2920 696e 7374  matcherror) inst
-00012a30: 6561 6420 6f66 2060 5479 7065 4572 726f  ead of `TypeErro
-00012a40: 7260 2077 6865 6e20 7061 7373 6564 2074  r` when passed t
-00012a50: 6865 2077 726f 6e67 2061 7267 756d 656e  he wrong argumen
-00012a60: 7473 2e20 5365 636f 6e64 2c20 7061 7474  ts. Second, patt
-00012a70: 6572 6e2d 6d61 7463 6869 6e67 2064 6174  ern-matching dat
-00012a80: 6120 7479 7065 7320 7769 6c6c 206e 6f74  a types will not
-00012a90: 2064 6f20 616e 7920 7370 6563 6961 6c20   do any special 
-00012aa0: 6861 6e64 6c69 6e67 206f 6620 7374 6172  handling of star
-00012ab0: 7265 6420 6172 6775 6d65 6e74 732e 2054  red arguments. T
-00012ac0: 6875 732c 0a60 6060 0a64 6174 6120 7665  hus,.```.data ve
-00012ad0: 6328 2a78 7329 0a60 6060 0a77 6865 6e20  c(*xs).```.when 
-00012ae0: 6974 6572 6174 6564 206f 7665 7220 7769  iterated over wi
-00012af0: 6c6c 2069 7465 7261 7465 206f 7665 7220  ll iterate over 
-00012b00: 616c 6c20 7468 6520 656c 656d 656e 7473  all the elements
-00012b10: 206f 6620 6078 7360 2c20 6275 740a 6060   of `xs`, but.``
-00012b20: 600a 6d61 7463 6820 6461 7461 2076 6563  `.match data vec
-00012b30: 282a 7873 290a 6060 600a 7768 656e 2069  (*xs).```.when i
-00012b40: 7465 7261 7465 6420 6f76 6572 2077 696c  terated over wil
-00012b50: 6c20 6f6e 6c79 2067 6976 6520 7468 6520  l only give the 
-00012b60: 7369 6e67 6c65 2065 6c65 6d65 6e74 2060  single element `
-00012b70: 7873 602e 0a0a 2323 2323 2320 4578 616d  xs`...##### Exam
-00012b80: 706c 650a 0a2a 2a43 6f63 6f6e 7574 3a2a  ple..**Coconut:*
-00012b90: 2a0a 6060 600a 6461 7461 206e 616d 6564  *.```.data named
-00012ba0: 7074 286e 616d 6520 6069 7369 6e73 7461  pt(name `isinsta
-00012bb0: 6e63 6560 2073 7472 2c20 7820 6069 7369  nce` str, x `isi
-00012bc0: 6e73 7461 6e63 6560 2069 6e74 2c20 7920  nstance` int, y 
-00012bd0: 6069 7369 6e73 7461 6e63 6560 2069 6e74  `isinstance` int
-00012be0: 293a 0a20 2020 2064 6566 206d 6167 2873  ):.    def mag(s
-00012bf0: 656c 6629 203d 2028 7365 6c66 2e78 2a2a  elf) = (self.x**
-00012c00: 3220 2b20 7365 6c66 2e79 2a2a 3229 2a2a  2 + self.y**2)**
-00012c10: 302e 350a 6060 600a 0a2a 2a50 7974 686f  0.5.```..**Pytho
-00012c20: 6e3a 2a2a 0a5f 4361 6e27 7420 6265 2064  n:**._Can't be d
-00012c30: 6f6e 6520 7769 7468 6f75 7420 6120 7365  one without a se
-00012c40: 7269 6573 206f 6620 6d65 7468 6f64 2064  ries of method d
-00012c50: 6566 696e 6974 696f 6e73 2066 6f72 2065  efinitions for e
-00012c60: 6163 6820 6461 7461 2074 7970 652e 2053  ach data type. S
-00012c70: 6565 2074 6865 2063 6f6d 7069 6c65 6420  ee the compiled 
-00012c80: 636f 6465 2066 6f72 2074 6865 2050 7974  code for the Pyt
-00012c90: 686f 6e20 7379 6e74 6178 2e5f 0a0a 2323  hon syntax._..##
-00012ca0: 2320 6077 6865 7265 600a 0a43 6f63 6f6e  # `where`..Cocon
-00012cb0: 7574 2773 2060 7768 6572 6560 2073 7461  ut's `where` sta
-00012cc0: 7465 6d65 6e74 2069 7320 6578 7472 656d  tement is extrem
-00012cd0: 656c 7920 7374 7261 6967 6874 666f 7277  ely straightforw
-00012ce0: 6172 642e 2054 6865 2073 796e 7461 7820  ard. The syntax 
-00012cf0: 666f 7220 6120 6077 6865 7265 6020 7374  for a `where` st
-00012d00: 6174 656d 656e 7420 6973 206a 7573 740a  atement is just.
-00012d10: 6060 600a 3c73 746d 743e 2077 6865 7265  ```.<stmt> where
-00012d20: 3a0a 2020 2020 3c62 6f64 793e 0a60 6060  :.    <body>.```
-00012d30: 0a77 6869 6368 206a 7573 7420 6578 6563  .which just exec
-00012d40: 7574 6573 2060 3c62 6f64 793e 6020 666f  utes `<body>` fo
-00012d50: 6c6c 6f77 6564 2062 7920 603c 7374 6d74  llowed by `<stmt
-00012d60: 3e60 2e0a 0a23 2323 2323 2045 7861 6d70  >`...##### Examp
-00012d70: 6c65 0a0a 2a2a 436f 636f 6e75 743a 2a2a  le..**Coconut:**
-00012d80: 0a60 6060 636f 636f 6e75 740a 6320 3d20  .```coconut.c = 
-00012d90: 6120 2b20 6220 7768 6572 653a 0a20 2020  a + b where:.   
-00012da0: 2061 203d 2031 0a20 2020 2062 203d 2032   a = 1.    b = 2
-00012db0: 0a60 6060 0a0a 2a2a 5079 7468 6f6e 3a2a  .```..**Python:*
-00012dc0: 2a0a 6060 6063 6f63 6f6e 7574 5f70 7974  *.```coconut_pyt
-00012dd0: 686f 6e0a 6120 3d20 310a 6220 3d20 320a  hon.a = 1.b = 2.
-00012de0: 6320 3d20 6120 2b20 620a 6060 600a 0a23  c = a + b.```..#
-00012df0: 2323 2048 616e 646c 696e 6720 4b65 7977  ## Handling Keyw
-00012e00: 6f72 642f 5661 7269 6162 6c65 204e 616d  ord/Variable Nam
-00012e10: 6520 4f76 6572 6c61 700a 0a49 6e20 436f  e Overlap..In Co
-00012e20: 636f 6e75 742c 2074 6865 2066 6f6c 6c6f  conut, the follo
-00012e30: 7769 6e67 206b 6579 776f 7264 7320 6172  wing keywords ar
-00012e40: 6520 616c 736f 2076 616c 6964 2076 6172  e also valid var
-00012e50: 6961 626c 6520 6e61 6d65 733a 0a2d 2060  iable names:.- `
-00012e60: 6173 796e 6360 2028 6b65 7977 6f72 6420  async` (keyword 
-00012e70: 696e 2050 7974 686f 6e20 332e 3529 0a2d  in Python 3.5).-
-00012e80: 2060 6177 6169 7460 2028 6b65 7977 6f72   `await` (keywor
-00012e90: 6420 696e 2050 7974 686f 6e20 332e 3529  d in Python 3.5)
-00012ea0: 0a2d 2060 6461 7461 600a 2d20 606d 6174  .- `data`.- `mat
-00012eb0: 6368 600a 2d20 6063 6173 6560 0a2d 2060  ch`.- `case`.- `
-00012ec0: 6361 7365 7360 0a2d 2060 6164 6470 6174  cases`.- `addpat
-00012ed0: 7465 726e 600a 2d20 6077 6865 7265 600a  tern`.- `where`.
-00012ee0: 2d20 606f 7065 7261 746f 7260 0a2d 2060  - `operator`.- `
-00012ef0: 7468 656e 600a 2d20 60ce bb60 2028 6120  then`.- `..` (a 
-00012f00: 5b55 6e69 636f 6465 2061 6c74 6572 6e61  [Unicode alterna
-00012f10: 7469 7665 5d28 2375 6e69 636f 6465 2d61  tive](#unicode-a
-00012f20: 6c74 6572 6e61 7469 7665 7329 2066 6f72  lternatives) for
-00012f30: 2060 6c61 6d62 6461 6029 0a0a 5768 696c   `lambda`)..Whil
-00012f40: 6520 436f 636f 6e75 7420 6361 6e20 7573  e Coconut can us
-00012f50: 7561 6c6c 7920 6469 7361 6d62 6967 7561  ually disambigua
-00012f60: 7465 2074 6865 7365 2074 776f 2075 7365  te these two use
-00012f70: 2063 6173 6573 2c20 7370 6563 6961 6c20   cases, special 
-00012f80: 7379 6e74 6178 2069 7320 6176 6169 6c61  syntax is availa
-00012f90: 626c 6520 666f 7220 6469 7361 6d62 6967  ble for disambig
-00012fa0: 7561 7469 6e67 2074 6865 6d20 6966 206e  uating them if n
-00012fb0: 6563 6573 7361 7279 2e20 4e6f 7465 2074  ecessary. Note t
-00012fc0: 6861 742c 2069 6620 7768 6174 2079 6f75  hat, if what you
-00012fd0: 2772 6520 7772 6974 696e 6720 6361 6e20  're writing can 
-00012fe0: 6265 2069 6e74 6572 7072 6574 6564 2061  be interpreted a
-00012ff0: 7320 7661 6c69 6420 5079 7468 6f6e 2033  s valid Python 3
-00013000: 2c20 436f 636f 6e75 7420 7769 6c6c 2061  , Coconut will a
-00013010: 6c77 6179 7320 7072 6566 6572 2074 6861  lways prefer tha
-00013020: 7420 696e 7465 7270 7265 7461 7469 6f6e  t interpretation
-00013030: 2062 7920 6465 6661 756c 742e 0a0a 546f   by default...To
-00013040: 2073 7065 6369 6679 2074 6861 7420 796f   specify that yo
-00013050: 7520 7761 6e74 2061 205f 7661 7269 6162  u want a _variab
-00013060: 6c65 5f2c 2070 7265 6669 7820 7468 6520  le_, prefix the 
-00013070: 6e61 6d65 2077 6974 6820 6120 6261 636b  name with a back
-00013080: 736c 6173 6820 6173 2069 6e20 605c 6461  slash as in `\da
-00013090: 7461 602c 2061 6e64 2074 6f20 7370 6563  ta`, and to spec
-000130a0: 6966 7920 7468 6174 2079 6f75 2077 616e  ify that you wan
-000130b0: 7420 6120 5f6b 6579 776f 7264 5f2c 2070  t a _keyword_, p
-000130c0: 7265 6669 7820 7468 6520 6e61 6d65 2077  refix the name w
-000130d0: 6974 6820 6120 636f 6c6f 6e20 6173 2069  ith a colon as i
-000130e0: 6e20 603a 6d61 7463 6860 2e0a 0a41 6464  n `:match`...Add
-000130f0: 6974 696f 6e61 6c6c 792c 2062 6163 6b73  itionally, backs
-00013100: 6c61 7368 2073 796e 7461 7820 666f 7220  lash syntax for 
-00013110: 6573 6361 7069 6e67 2076 6172 6961 626c  escaping variabl
-00013120: 6520 6e61 6d65 7320 6361 6e20 616c 736f  e names can also
-00013130: 2062 6520 7573 6564 2074 6f20 6469 7374   be used to dist
-00013140: 696e 6775 6973 6820 6265 7477 6565 6e20  inguish between 
-00013150: 7661 7269 6162 6c65 206e 616d 6573 2061  variable names a
-00013160: 6e64 205b 6375 7374 6f6d 206f 7065 7261  nd [custom opera
-00013170: 746f 7273 5d28 2363 7573 746f 6d2d 6f70  tors](#custom-op
-00013180: 6572 6174 6f72 7329 2061 7320 7765 6c6c  erators) as well
-00013190: 2061 7320 6578 706c 6963 6974 6c79 2073   as explicitly s
-000131a0: 6967 6e69 6679 2074 6861 7420 616e 2061  ignify that an a
-000131b0: 7373 6967 6e6d 656e 7420 746f 2061 2062  ssignment to a b
-000131c0: 7569 6c74 2d69 6e20 6973 2064 6573 6972  uilt-in is desir
-000131d0: 6162 6c65 2074 6f20 6469 736d 6973 7320  able to dismiss 
-000131e0: 5b60 2d2d 7374 7269 6374 6020 7761 726e  [`--strict` warn
-000131f0: 696e 6773 5d28 2373 7472 6963 742d 6d6f  ings](#strict-mo
-00013200: 6465 292e 0a0a 4669 6e61 6c6c 792c 2073  de)...Finally, s
-00013210: 7563 6820 6469 7361 6d62 6967 7561 7469  uch disambiguati
-00013220: 6f6e 2073 796e 7461 7820 6361 6e20 616c  on syntax can al
-00013230: 736f 2062 6520 6865 6c70 6675 6c20 666f  so be helpful fo
-00013240: 7220 6c65 7474 696e 6720 7379 6e74 6178  r letting syntax
-00013250: 2068 6967 686c 6967 6874 6572 7320 6b6e   highlighters kn
-00013260: 6f77 2077 6861 7420 796f 7527 7265 2064  ow what you're d
-00013270: 6f69 6e67 2e0a 0a23 2323 2323 2045 7861  oing...##### Exa
-00013280: 6d70 6c65 730a 0a2a 2a43 6f63 6f6e 7574  mples..**Coconut
-00013290: 3a2a 2a0a 6060 6063 6f63 6f6e 7574 0a5c  :**.```coconut.\
-000132a0: 6461 7461 203d 2035 0a70 7269 6e74 285c  data = 5.print(\
-000132b0: 6461 7461 290a 6060 600a 0a60 6060 636f  data).```..```co
-000132c0: 636f 6e75 740a 2320 7769 7468 6f75 7420  conut.# without 
-000132d0: 7468 6520 636f 6c6f 6e2c 2043 6f63 6f6e  the colon, Cocon
-000132e0: 7574 2077 696c 6c20 696e 7465 7270 7265  ut will interpre
-000132f0: 7420 7468 6973 2061 7320 7468 6520 7661  t this as the va
-00013300: 6c69 6420 5079 7468 6f6e 206d 6174 6368  lid Python match
-00013310: 5b78 2c20 795d 203d 2069 6e70 7574 5f6c  [x, y] = input_l
-00013320: 6973 740a 3a6d 6174 6368 205b 782c 2079  ist.:match [x, y
-00013330: 5d20 3d20 696e 7075 745f 6c69 7374 0a60  ] = input_list.`
-00013340: 6060 0a0a 2a2a 5079 7468 6f6e 3a2a 2a0a  ``..**Python:**.
-00013350: 6060 6063 6f63 6f6e 7574 5f70 7974 686f  ```coconut_pytho
-00013360: 6e0a 6461 7461 203d 2035 0a70 7269 6e74  n.data = 5.print
-00013370: 2864 6174 6129 0a60 6060 0a0a 6060 6063  (data).```..```c
-00013380: 6f63 6f6e 7574 5f70 7974 686f 6e0a 782c  oconut_python.x,
-00013390: 2079 203d 2069 6e70 7574 5f6c 6973 740a   y = input_list.
-000133a0: 6060 600a 0a23 2320 4578 7072 6573 7369  ```..## Expressi
-000133b0: 6f6e 730a 0a60 6060 7b63 6f6e 7465 6e74  ons..```{content
-000133c0: 737d 0a2d 2d2d 0a6c 6f63 616c 3a0a 6465  s}.---.local:.de
-000133d0: 7074 683a 2031 0a2d 2d2d 0a60 6060 0a0a  pth: 1.---.```..
-000133e0: 2323 2320 5374 6174 656d 656e 7420 4c61  ### Statement La
-000133f0: 6d62 6461 730a 0a54 6865 2073 7461 7465  mbdas..The state
-00013400: 6d65 6e74 206c 616d 6264 6120 7379 6e74  ment lambda synt
-00013410: 6178 2069 7320 616e 2065 7874 656e 7369  ax is an extensi
-00013420: 6f6e 206f 6620 7468 6520 5b6e 6f72 6d61  on of the [norma
-00013430: 6c20 6c61 6d62 6461 2073 796e 7461 785d  l lambda syntax]
-00013440: 2823 6c61 6d62 6461 7329 2074 6f20 7375  (#lambdas) to su
-00013450: 7070 6f72 7420 7374 6174 656d 656e 7473  pport statements
-00013460: 2c20 6e6f 7420 6a75 7374 2065 7870 7265  , not just expre
-00013470: 7373 696f 6e73 2e0a 0a54 6865 2073 796e  ssions...The syn
-00013480: 7461 7820 666f 7220 6120 7374 6174 656d  tax for a statem
-00013490: 656e 7420 6c61 6d62 6461 2069 730a 6060  ent lambda is.``
-000134a0: 600a 5b61 7379 6e63 5d20 5b6d 6174 6368  `.[async] [match
-000134b0: 5d20 6465 6620 2861 7267 756d 656e 7473  ] def (arguments
-000134c0: 2920 2d3e 2073 7461 7465 6d65 6e74 3b20  ) -> statement; 
-000134d0: 7374 6174 656d 656e 743b 202e 2e2e 0a60  statement; ....`
-000134e0: 6060 0a77 6865 7265 2060 6172 6775 6d65  ``.where `argume
-000134f0: 6e74 7360 2063 616e 2062 6520 7374 616e  nts` can be stan
-00013500: 6461 7264 2066 756e 6374 696f 6e20 6172  dard function ar
-00013510: 6775 6d65 6e74 7320 6f72 205b 7061 7474  guments or [patt
-00013520: 6572 6e2d 6d61 7463 6869 6e67 2066 756e  ern-matching fun
-00013530: 6374 696f 6e20 6465 6669 6e69 7469 6f6e  ction definition
-00013540: 5d28 2370 6174 7465 726e 2d6d 6174 6368  ](#pattern-match
-00013550: 696e 672d 6675 6e63 7469 6f6e 7329 2061  ing-functions) a
-00013560: 7267 756d 656e 7473 2061 6e64 2060 7374  rguments and `st
-00013570: 6174 656d 656e 7460 2063 616e 2062 6520  atement` can be 
-00013580: 616e 2061 7373 6967 6e6d 656e 7420 7374  an assignment st
-00013590: 6174 656d 656e 7420 6f72 2061 206b 6579  atement or a key
-000135a0: 776f 7264 2073 7461 7465 6d65 6e74 2e20  word statement. 
-000135b0: 4e6f 7465 2074 6861 7420 7468 6520 6061  Note that the `a
-000135c0: 7379 6e63 6020 616e 6420 606d 6174 6368  sync` and `match
-000135d0: 6020 6b65 7977 6f72 6473 2063 616e 2062  ` keywords can b
-000135e0: 6520 696e 2061 6e79 206f 7264 6572 2e0a  e in any order..
-000135f0: 0a49 6620 7468 6520 6c61 7374 2060 7374  .If the last `st
-00013600: 6174 656d 656e 7460 2028 6e6f 7420 666f  atement` (not fo
-00013610: 6c6c 6f77 6564 2062 7920 6120 7365 6d69  llowed by a semi
-00013620: 636f 6c6f 6e29 2069 6e20 6120 7374 6174  colon) in a stat
-00013630: 656d 656e 7420 6c61 6d62 6461 2069 7320  ement lambda is 
-00013640: 616e 2060 6578 7072 6573 7369 6f6e 602c  an `expression`,
-00013650: 2069 7420 7769 6c6c 2061 7574 6f6d 6174   it will automat
-00013660: 6963 616c 6c79 2062 6520 7265 7475 726e  ically be return
-00013670: 6564 2e0a 0a53 7461 7465 6d65 6e74 206c  ed...Statement l
-00013680: 616d 6264 6173 2061 6c73 6f20 7375 7070  ambdas also supp
-00013690: 6f72 7420 696d 706c 6963 6974 206c 616d  ort implicit lam
-000136a0: 6264 6120 7379 6e74 6178 2073 7563 6820  bda syntax such 
-000136b0: 7468 6174 2060 6465 6620 2d3e 205f 6020  that `def -> _` 
-000136c0: 6973 2065 7175 6976 616c 656e 7420 746f  is equivalent to
-000136d0: 2060 6465 6620 285f 3d4e 6f6e 6529 202d   `def (_=None) -
-000136e0: 3e20 5f60 2061 7320 7765 6c6c 2061 7320  > _` as well as 
-000136f0: 6578 706c 6963 6974 6c79 206d 6172 6b69  explicitly marki
-00013700: 6e67 2074 6865 6d20 6173 2070 6174 7465  ng them as patte
-00013710: 726e 2d6d 6174 6368 696e 6720 7375 6368  rn-matching such
-00013720: 2074 6861 7420 606d 6174 6368 2064 6566   that `match def
-00013730: 2028 7829 202d 3e20 7860 2077 696c 6c20   (x) -> x` will 
-00013740: 6265 2061 2070 6174 7465 726e 2d6d 6174  be a pattern-mat
-00013750: 6368 696e 6720 6675 6e63 7469 6f6e 2e0a  ching function..
-00013760: 0a4e 6f74 6520 7468 6174 2073 7461 7465  .Note that state
-00013770: 6d65 6e74 206c 616d 6264 6173 2068 6176  ment lambdas hav
-00013780: 6520 6120 6c6f 7765 7220 7072 6563 6564  e a lower preced
-00013790: 656e 6365 2074 6861 6e20 6e6f 726d 616c  ence than normal
-000137a0: 206c 616d 6264 6173 2061 6e64 2074 6875   lambdas and thu
-000137b0: 7320 6361 7074 7572 6520 7468 696e 6773  s capture things
-000137c0: 206c 696b 6520 7472 6169 6c69 6e67 2063   like trailing c
-000137d0: 6f6d 6d61 732e 0a0a 2323 2323 2320 4578  ommas...##### Ex
-000137e0: 616d 706c 650a 0a2a 2a43 6f63 6f6e 7574  ample..**Coconut
-000137f0: 3a2a 2a0a 6060 6063 6f63 6f6e 7574 0a4c  :**.```coconut.L
-00013800: 207c 3e20 6d61 7024 2864 6566 2028 7829   |> map$(def (x)
-00013810: 202d 3e0a 2020 2020 7920 3d20 312f 783b   ->.    y = 1/x;
-00013820: 0a20 2020 2079 2a28 3120 2d20 7929 290a  .    y*(1 - y)).
-00013830: 6060 600a 0a2a 2a50 7974 686f 6e3a 2a2a  ```..**Python:**
-00013840: 0a60 6060 636f 636f 6e75 745f 7079 7468  .```coconut_pyth
-00013850: 6f6e 0a64 6566 205f 6c61 6d62 6461 2878  on.def _lambda(x
-00013860: 293a 0a20 2020 2079 203d 2031 2f78 0a20  ):.    y = 1/x. 
-00013870: 2020 2072 6574 7572 6e20 792a 2831 202d     return y*(1 -
-00013880: 2079 290a 6d61 7028 5f6c 616d 6264 612c   y).map(_lambda,
-00013890: 204c 290a 6060 600a 0a23 2323 2320 5479   L).```..#### Ty
-000138a0: 7065 2061 6e6e 6f74 6174 696f 6e73 0a0a  pe annotations..
-000138b0: 416e 6f74 6865 7220 6361 7365 2077 6865  Another case whe
-000138c0: 7265 2073 7461 7465 6d65 6e74 206c 616d  re statement lam
-000138d0: 6264 6173 2077 6f75 6c64 2062 6520 7573  bdas would be us
-000138e0: 6564 206f 7665 7220 7374 616e 6461 7264  ed over standard
-000138f0: 206c 616d 6264 6173 2069 7320 7768 656e   lambdas is when
-00013900: 2074 6865 2070 6172 616d 6574 6572 7320   the parameters 
-00013910: 746f 2074 6865 206c 616d 6264 6120 6172  to the lambda ar
-00013920: 6520 7479 7065 6420 7769 7468 2074 7970  e typed with typ
-00013930: 6520 616e 6e6f 7461 7469 6f6e 732e 2053  e annotations. S
-00013940: 7461 7465 6d65 6e74 206c 616d 6264 6173  tatement lambdas
-00013950: 2075 7365 2074 6865 2073 7461 6e64 6172   use the standar
-00013960: 6420 5079 7468 6f6e 2073 796e 7461 7820  d Python syntax 
-00013970: 666f 7220 6164 6469 6e67 2074 7970 6520  for adding type 
-00013980: 616e 6e6f 7461 7469 6f6e 7320 746f 2074  annotations to t
-00013990: 6865 6972 2070 6172 616d 6574 6572 733a  heir parameters:
-000139a0: 0a0a 6060 6063 6f63 6f6e 7574 0a66 203d  ..```coconut.f =
-000139b0: 2064 6566 2028 633a 2073 7472 2920 2d3e   def (c: str) ->
-000139c0: 2070 7269 6e74 2863 290a 0a67 203d 2064   print(c)..g = d
-000139d0: 6566 2028 613a 2069 6e74 2c20 623a 2069  ef (a: int, b: i
-000139e0: 6e74 2920 2d3e 2061 202a 2a20 620a 6060  nt) -> a ** b.``
-000139f0: 600a 0a48 6f77 6576 6572 2c20 7374 6174  `..However, stat
-00013a00: 656d 656e 7420 6c61 6d62 6461 7320 646f  ement lambdas do
-00013a10: 206e 6f74 2073 7570 706f 7274 2072 6574   not support ret
-00013a20: 7572 6e20 7479 7065 2061 6e6e 6f74 6174  urn type annotat
-00013a30: 696f 6e73 2e0a 0a23 2323 204f 7065 7261  ions...### Opera
-00013a40: 746f 7220 4675 6e63 7469 6f6e 730a 0a43  tor Functions..C
-00013a50: 6f63 6f6e 7574 2075 7365 7320 6120 7369  oconut uses a si
-00013a60: 6d70 6c65 206f 7065 7261 746f 7220 6675  mple operator fu
-00013a70: 6e63 7469 6f6e 2073 686f 7274 2d68 616e  nction short-han
-00013a80: 643a 2073 7572 726f 756e 6420 616e 206f  d: surround an o
-00013a90: 7065 7261 746f 7220 7769 7468 2070 6172  perator with par
-00013aa0: 656e 7468 6573 6573 2074 6f20 7265 7472  entheses to retr
-00013ab0: 6965 7665 2069 7473 2066 756e 6374 696f  ieve its functio
-00013ac0: 6e2e 2053 696d 696c 6172 6c79 2074 6f20  n. Similarly to 
-00013ad0: 6974 6572 6174 6f72 2063 6f6d 7072 6568  iterator compreh
-00013ae0: 656e 7369 6f6e 732c 2069 6620 7468 6520  ensions, if the 
-00013af0: 6f70 6572 6174 6f72 2066 756e 6374 696f  operator functio
-00013b00: 6e20 6973 2074 6865 206f 6e6c 7920 6172  n is the only ar
-00013b10: 6775 6d65 6e74 2074 6f20 6120 6675 6e63  gument to a func
-00013b20: 7469 6f6e 2c20 7468 6520 7061 7265 6e74  tion, the parent
-00013b30: 6865 7365 7320 6f66 2074 6865 2066 756e  heses of the fun
-00013b40: 6374 696f 6e20 6361 6c6c 2063 616e 2061  ction call can a
-00013b50: 6c73 6f20 7365 7276 6520 6173 2074 6865  lso serve as the
-00013b60: 2070 6172 656e 7468 6573 6573 2066 6f72   parentheses for
-00013b70: 2074 6865 206f 7065 7261 746f 7220 6675   the operator fu
-00013b80: 6e63 7469 6f6e 2e0a 0a23 2323 2323 2052  nction...##### R
-00013b90: 6174 696f 6e61 6c65 0a0a 4120 7665 7279  ationale..A very
-00013ba0: 2063 6f6d 6d6f 6e20 7468 696e 6720 746f   common thing to
-00013bb0: 2064 6f20 696e 2066 756e 6374 696f 6e61   do in functiona
-00013bc0: 6c20 7072 6f67 7261 6d6d 696e 6720 6973  l programming is
-00013bd0: 2074 6f20 6d61 6b65 2075 7365 206f 6620   to make use of 
-00013be0: 6675 6e63 7469 6f6e 2076 6572 7369 6f6e  function version
-00013bf0: 7320 6f66 2062 7569 6c74 2d69 6e20 6f70  s of built-in op
-00013c00: 6572 6174 6f72 733a 2063 7572 7279 696e  erators: curryin
-00013c10: 6720 7468 656d 2c20 636f 6d70 6f73 696e  g them, composin
-00013c20: 6720 7468 656d 2c20 616e 6420 7069 7069  g them, and pipi
-00013c30: 6e67 2074 6865 6d2e 2054 6f20 6d61 6b65  ng them. To make
-00013c40: 2074 6869 7320 6561 7379 2c20 436f 636f   this easy, Coco
-00013c50: 6e75 7420 7072 6f76 6964 6573 2061 2073  nut provides a s
-00013c60: 686f 7274 2d68 616e 6420 7379 6e74 6178  hort-hand syntax
-00013c70: 2074 6f20 6163 6365 7373 206f 7065 7261   to access opera
-00013c80: 746f 7220 6675 6e63 7469 6f6e 732e 0a0a  tor functions...
-00013c90: 2323 2323 2320 4675 6c6c 204c 6973 740a  ##### Full List.
-00013ca0: 0a60 6060 636f 636f 6e75 740a 283a 3a29  .```coconut.(::)
-00013cb0: 2020 2020 2020 2020 3d3e 2028 6974 6572          => (iter
-00013cc0: 746f 6f6c 732e 6368 6169 6e29 2020 2320  tools.chain)  # 
-00013cd0: 7769 6c6c 206e 6f74 2065 7661 6c75 6174  will not evaluat
-00013ce0: 6520 6974 7320 6172 6775 6d65 6e74 7320  e its arguments 
-00013cf0: 6c61 7a69 6c79 0a28 2429 2020 2020 2020  lazily.($)      
-00013d00: 2020 203d 3e20 2866 756e 6374 6f6f 6c73     => (functools
-00013d10: 2e70 6172 7469 616c 290a 282e 2920 2020  .partial).(.)   
-00013d20: 2020 2020 2020 3d3e 2028 6765 7461 7474        => (getatt
-00013d30: 7229 0a28 2c29 2020 2020 2020 2020 203d  r).(,)         =
-00013d40: 3e20 282a 6172 6773 2920 2d3e 2061 7267  > (*args) -> arg
-00013d50: 7320 2023 2028 6275 7420 7069 636b 6c65  s  # (but pickle
-00013d60: 6162 6c65 290a 282b 2920 2020 2020 2020  able).(+)       
-00013d70: 2020 3d3e 2028 6f70 6572 6174 6f72 2e61    => (operator.a
-00013d80: 6464 290a 282d 2920 2020 2020 2020 2020  dd).(-)         
-00013d90: 3d3e 2023 2031 2061 7267 3a20 6f70 6572  => # 1 arg: oper
-00013da0: 6174 6f72 2e6e 6567 2c20 3220 6172 6773  ator.neg, 2 args
-00013db0: 3a20 6f70 6572 6174 6f72 2e73 7562 0a28  : operator.sub.(
-00013dc0: 2a29 2020 2020 2020 2020 203d 3e20 286f  *)         => (o
-00013dd0: 7065 7261 746f 722e 6d75 6c29 0a28 2a2a  perator.mul).(**
-00013de0: 2920 2020 2020 2020 203d 3e20 286f 7065  )        => (ope
-00013df0: 7261 746f 722e 706f 7729 0a28 2f29 2020  rator.pow).(/)  
-00013e00: 2020 2020 2020 203d 3e20 286f 7065 7261         => (opera
-00013e10: 746f 722e 7472 7565 6469 7629 0a28 2f2f  tor.truediv).(//
-00013e20: 2920 2020 2020 2020 203d 3e20 286f 7065  )        => (ope
-00013e30: 7261 746f 722e 666c 6f6f 7264 6976 290a  rator.floordiv).
-00013e40: 2825 2920 2020 2020 2020 2020 3d3e 2028  (%)         => (
-00013e50: 6f70 6572 6174 6f72 2e6d 6f64 290a 2826  operator.mod).(&
-00013e60: 2920 2020 2020 2020 2020 3d3e 2028 6f70  )         => (op
-00013e70: 6572 6174 6f72 2e61 6e64 5f29 0a28 5e29  erator.and_).(^)
-00013e80: 2020 2020 2020 2020 203d 3e20 286f 7065           => (ope
-00013e90: 7261 746f 722e 786f 7229 0a28 7c29 2020  rator.xor).(|)  
-00013ea0: 2020 2020 2020 203d 3e20 286f 7065 7261         => (opera
-00013eb0: 746f 722e 6f72 5f29 0a28 3c3c 2920 2020  tor.or_).(<<)   
-00013ec0: 2020 2020 203d 3e20 286f 7065 7261 746f       => (operato
-00013ed0: 722e 6c73 6869 6674 290a 283e 3e29 2020  r.lshift).(>>)  
-00013ee0: 2020 2020 2020 3d3e 2028 6f70 6572 6174        => (operat
-00013ef0: 6f72 2e72 7368 6966 7429 0a28 3c29 2020  or.rshift).(<)  
-00013f00: 2020 2020 2020 203d 3e20 286f 7065 7261         => (opera
-00013f10: 746f 722e 6c74 290a 283e 2920 2020 2020  tor.lt).(>)     
-00013f20: 2020 2020 3d3e 2028 6f70 6572 6174 6f72      => (operator
-00013f30: 2e67 7429 0a28 3d3d 2920 2020 2020 2020  .gt).(==)       
-00013f40: 203d 3e20 286f 7065 7261 746f 722e 6571   => (operator.eq
-00013f50: 290a 283c 3d29 2020 2020 2020 2020 3d3e  ).(<=)        =>
-00013f60: 2028 6f70 6572 6174 6f72 2e6c 6529 0a28   (operator.le).(
-00013f70: 3e3d 2920 2020 2020 2020 203d 3e20 286f  >=)        => (o
-00013f80: 7065 7261 746f 722e 6765 290a 2821 3d29  perator.ge).(!=)
-00013f90: 2020 2020 2020 2020 3d3e 2028 6f70 6572          => (oper
-00013fa0: 6174 6f72 2e6e 6529 0a28 7e29 2020 2020  ator.ne).(~)    
-00013fb0: 2020 2020 203d 3e20 286f 7065 7261 746f       => (operato
-00013fc0: 722e 696e 7629 0a28 4029 2020 2020 2020  r.inv).(@)      
-00013fd0: 2020 203d 3e20 286f 7065 7261 746f 722e     => (operator.
-00013fe0: 6d61 746d 756c 290a 287c 3e29 2020 2020  matmul).(|>)    
-00013ff0: 2020 2020 3d3e 2023 2070 6970 6520 666f      => # pipe fo
-00014000: 7277 6172 640a 287c 2a3e 2920 2020 2020  rward.(|*>)     
-00014010: 2020 3d3e 2023 206d 756c 7469 2d61 7267    => # multi-arg
-00014020: 2070 6970 6520 666f 7277 6172 640a 287c   pipe forward.(|
-00014030: 2a2a 3e29 2020 2020 2020 3d3e 2023 206b  **>)      => # k
-00014040: 6579 776f 7264 2061 7267 2070 6970 6520  eyword arg pipe 
-00014050: 666f 7277 6172 640a 283c 7c29 2020 2020  forward.(<|)    
-00014060: 2020 2020 3d3e 2023 2070 6970 6520 6261      => # pipe ba
-00014070: 636b 7761 7264 0a28 3c2a 7c29 2020 2020  ckward.(<*|)    
-00014080: 2020 203d 3e20 2320 6d75 6c74 692d 6172     => # multi-ar
-00014090: 6720 7069 7065 2062 6163 6b77 6172 640a  g pipe backward.
-000140a0: 283c 2a2a 7c29 2020 2020 2020 3d3e 2023  (<**|)      => #
-000140b0: 206b 6579 776f 7264 2061 7267 2070 6970   keyword arg pip
-000140c0: 6520 6261 636b 7761 7264 0a28 7c3f 3e29  e backward.(|?>)
-000140d0: 2020 2020 2020 203d 3e20 2320 4e6f 6e65         => # None
-000140e0: 2d61 7761 7265 2070 6970 6520 666f 7277  -aware pipe forw
-000140f0: 6172 640a 287c 3f2a 3e29 2020 2020 2020  ard.(|?*>)      
-00014100: 3d3e 2023 204e 6f6e 652d 6177 6172 6520  => # None-aware 
-00014110: 6d75 6c74 692d 6172 6720 7069 7065 2066  multi-arg pipe f
-00014120: 6f72 7761 7264 0a28 7c3f 2a2a 3e29 2020  orward.(|?**>)  
-00014130: 2020 203d 3e20 2320 4e6f 6e65 2d61 7761     => # None-awa
-00014140: 7265 206b 6579 776f 7264 2061 7267 2070  re keyword arg p
-00014150: 6970 6520 666f 7277 6172 640a 283c 3f7c  ipe forward.(<?|
-00014160: 2920 2020 2020 2020 3d3e 2023 204e 6f6e  )       => # Non
-00014170: 652d 6177 6172 6520 7069 7065 2062 6163  e-aware pipe bac
-00014180: 6b77 6172 640a 283c 2a3f 7c29 2020 2020  kward.(<*?|)    
-00014190: 2020 3d3e 2023 204e 6f6e 652d 6177 6172    => # None-awar
-000141a0: 6520 6d75 6c74 692d 6172 6720 7069 7065  e multi-arg pipe
-000141b0: 2062 6163 6b77 6172 640a 283c 2a2a 3f7c   backward.(<**?|
-000141c0: 2920 2020 2020 3d3e 2023 204e 6f6e 652d  )     => # None-
-000141d0: 6177 6172 6520 6b65 7977 6f72 6420 6172  aware keyword ar
-000141e0: 6720 7069 7065 2062 6163 6b77 6172 640a  g pipe backward.
-000141f0: 282e 2e29 2c20 283c 2e2e 2920 3d3e 2023  (..), (<..) => #
-00014200: 2062 6163 6b77 6172 6420 6675 6e63 7469   backward functi
-00014210: 6f6e 2063 6f6d 706f 7369 7469 6f6e 0a28  on composition.(
-00014220: 2e2e 3e29 2020 2020 2020 203d 3e20 2320  ..>)       => # 
-00014230: 666f 7277 6172 6420 6675 6e63 7469 6f6e  forward function
-00014240: 2063 6f6d 706f 7369 7469 6f6e 0a28 3c2a   composition.(<*
-00014250: 2e2e 2920 2020 2020 203d 3e20 2320 6d75  ..)      => # mu
-00014260: 6c74 692d 6172 6720 6261 636b 7761 7264  lti-arg backward
-00014270: 2066 756e 6374 696f 6e20 636f 6d70 6f73   function compos
-00014280: 6974 696f 6e0a 282e 2e2a 3e29 2020 2020  ition.(..*>)    
-00014290: 2020 3d3e 2023 206d 756c 7469 2d61 7267    => # multi-arg
-000142a0: 2066 6f72 7761 7264 2066 756e 6374 696f   forward functio
-000142b0: 6e20 636f 6d70 6f73 6974 696f 6e0a 283c  n composition.(<
-000142c0: 2a2a 2e2e 2920 2020 2020 3d3e 2023 206b  **..)     => # k
-000142d0: 6579 776f 7264 2061 7267 2062 6163 6b77  eyword arg backw
-000142e0: 6172 6420 6675 6e63 7469 6f6e 2063 6f6d  ard function com
-000142f0: 706f 7369 7469 6f6e 0a28 2e2e 2a2a 3e29  position.(..**>)
-00014300: 2020 2020 203d 3e20 2320 6b65 7977 6f72       => # keywor
-00014310: 6420 6172 6720 666f 7277 6172 6420 6675  d arg forward fu
-00014320: 6e63 7469 6f6e 2063 6f6d 706f 7369 7469  nction compositi
-00014330: 6f6e 0a28 6e6f 7429 2020 2020 2020 203d  on.(not)       =
-00014340: 3e20 286f 7065 7261 746f 722e 6e6f 745f  > (operator.not_
-00014350: 290a 2861 6e64 2920 2020 2020 2020 3d3e  ).(and)       =>
-00014360: 2023 2062 6f6f 6c65 616e 2061 6e64 0a28   # boolean and.(
-00014370: 6f72 2920 2020 2020 2020 203d 3e20 2320  or)        => # 
-00014380: 626f 6f6c 6561 6e20 6f72 0a28 6973 2920  boolean or.(is) 
-00014390: 2020 2020 2020 203d 3e20 286f 7065 7261         => (opera
-000143a0: 746f 722e 6973 5f29 0a28 696e 2920 2020  tor.is_).(in)   
-000143b0: 2020 2020 203d 3e20 286f 7065 7261 746f       => (operato
-000143c0: 722e 636f 6e74 6169 6e73 290a 2861 7373  r.contains).(ass
-000143d0: 6572 7429 2020 2020 3d3e 2064 6566 2028  ert)    => def (
-000143e0: 636f 6e64 2c20 6d73 673d 4e6f 6e65 2920  cond, msg=None) 
-000143f0: 2d3e 2061 7373 6572 7420 636f 6e64 2c20  -> assert cond, 
-00014400: 6d73 6720 2023 2028 6275 7420 6120 6265  msg  # (but a be
-00014410: 7474 6572 206d 7367 2069 6620 6d73 6720  tter msg if msg 
-00014420: 6973 204e 6f6e 6529 0a28 7261 6973 6529  is None).(raise)
-00014430: 2020 2020 203d 3e20 6465 6620 2865 7863       => def (exc
-00014440: 3d4e 6f6e 652c 2066 726f 6d5f 6578 633d  =None, from_exc=
-00014450: 4e6f 6e65 2920 2d3e 2072 6169 7365 2065  None) -> raise e
-00014460: 7863 2066 726f 6d20 6672 6f6d 5f65 7863  xc from from_exc
-00014470: 2020 2320 6f72 206a 7573 7420 7261 6973    # or just rais
-00014480: 6520 6966 2065 7863 2069 7320 4e6f 6e65  e if exc is None
-00014490: 0a23 2074 6865 7265 2061 7265 2074 776f  .# there are two
-000144a0: 206f 7065 7261 746f 7220 6675 6e63 7469   operator functi
-000144b0: 6f6e 7320 7468 6174 2064 6f6e 2774 2072  ons that don't r
-000144c0: 6571 7569 7265 2070 6172 656e 7468 6573  equire parenthes
-000144d0: 6573 3a0a 2e5b 5d20 2020 2020 2020 2020  es:..[]         
-000144e0: 3d3e 2028 6f70 6572 6174 6f72 2e67 6574  => (operator.get
-000144f0: 6974 656d 290a 2e24 5b5d 2020 2020 2020  item)..$[]      
-00014500: 2020 3d3e 2023 2069 7465 7261 746f 7220    => # iterator 
-00014510: 736c 6963 696e 6720 6f70 6572 6174 6f72  slicing operator
-00014520: 0a60 6060 0a0a 5f46 6f72 2061 6e20 6f70  .```.._For an op
-00014530: 6572 6174 6f72 2066 756e 6374 696f 6e20  erator function 
-00014540: 666f 7220 6675 6e63 7469 6f6e 2061 7070  for function app
-00014550: 6c69 6361 7469 6f6e 2c20 7365 6520 5b60  lication, see [`
-00014560: 6361 6c6c 605d 2823 6361 6c6c 292e 5f0a  call`](#call)._.
-00014570: 0a23 2323 2323 2045 7861 6d70 6c65 0a0a  .##### Example..
-00014580: 2a2a 436f 636f 6e75 743a 2a2a 0a60 6060  **Coconut:**.```
-00014590: 636f 636f 6e75 740a 2872 616e 6765 2830  coconut.(range(0
-000145a0: 2c20 3529 2c20 7261 6e67 6528 352c 2031  , 5), range(5, 1
-000145b0: 3029 2920 7c2a 3e20 6d61 7024 282b 2920  0)) |*> map$(+) 
-000145c0: 7c3e 206c 6973 7420 7c3e 2070 7269 6e74  |> list |> print
-000145d0: 0a60 6060 0a0a 2a2a 5079 7468 6f6e 3a2a  .```..**Python:*
-000145e0: 2a0a 6060 6063 6f63 6f6e 7574 5f70 7974  *.```coconut_pyt
-000145f0: 686f 6e0a 696d 706f 7274 206f 7065 7261  hon.import opera
-00014600: 746f 720a 7072 696e 7428 6c69 7374 286d  tor.print(list(m
-00014610: 6170 286f 7065 7261 746f 722e 6164 642c  ap(operator.add,
-00014620: 2072 616e 6765 2830 2c20 3529 2c20 7261   range(0, 5), ra
-00014630: 6e67 6528 352c 2031 3029 2929 290a 6060  nge(5, 10)))).``
-00014640: 600a 0a23 2323 2049 6d70 6c69 6369 7420  `..### Implicit 
-00014650: 5061 7274 6961 6c20 4170 706c 6963 6174  Partial Applicat
-00014660: 696f 6e0a 0a43 6f63 6f6e 7574 2073 7570  ion..Coconut sup
-00014670: 706f 7274 7320 6120 6e75 6d62 6572 206f  ports a number o
-00014680: 6620 6469 6666 6572 656e 7420 7379 6e74  f different synt
-00014690: 6163 7469 6361 6c20 616c 6961 7365 7320  actical aliases 
-000146a0: 666f 7220 636f 6d6d 6f6e 2070 6172 7469  for common parti
-000146b0: 616c 2061 7070 6c69 6361 7469 6f6e 2075  al application u
-000146c0: 7365 2063 6173 6573 2e20 5468 6573 6520  se cases. These 
-000146d0: 6172 653a 0a60 6060 636f 636f 6e75 740a  are:.```coconut.
-000146e0: 2e61 7474 7220 2020 2020 2020 2020 2020  .attr           
-000146f0: 3d3e 2020 2020 2020 6f70 6572 6174 6f72  =>      operator
-00014700: 2e61 7474 7267 6574 7465 7228 2261 7474  .attrgetter("att
-00014710: 7222 290a 2e6d 6574 686f 6428 6172 6773  r")..method(args
-00014720: 2920 2020 3d3e 2020 2020 2020 6f70 6572  )   =>      oper
-00014730: 6174 6f72 2e6d 6574 686f 6463 616c 6c65  ator.methodcalle
-00014740: 7228 226d 6574 686f 6422 2c20 6172 6773  r("method", args
-00014750: 290a 6f62 6a2e 2020 2020 2020 2020 2020  ).obj.          
-00014760: 2020 3d3e 2020 2020 2020 6765 7461 7474    =>      getatt
-00014770: 7224 286f 626a 290a 6675 6e63 2420 2020  r$(obj).func$   
-00014780: 2020 2020 2020 2020 3d3e 2020 2020 2020          =>      
-00014790: 2824 2924 2866 756e 6329 0a73 6571 5b5d  ($)$(func).seq[]
-000147a0: 2020 2020 2020 2020 2020 203d 3e20 2020             =>   
-000147b0: 2020 206f 7065 7261 746f 722e 6765 7469     operator.geti
-000147c0: 7465 6d24 2873 6571 290a 6974 6572 245b  tem$(seq).iter$[
-000147d0: 5d20 2020 2020 2020 2020 3d3e 2020 2020  ]         =>    
-000147e0: 2020 2320 7468 6520 6571 7569 7661 6c65    # the equivale
-000147f0: 6e74 206f 6620 7365 715b 5d20 666f 7220  nt of seq[] for 
-00014800: 6974 6572 6174 6f72 730a 2e5b 613a 623a  iterators..[a:b:
-00014810: 635d 2020 2020 2020 2020 3d3e 2020 2020  c]        =>    
-00014820: 2020 6f70 6572 6174 6f72 2e69 7465 6d67    operator.itemg
-00014830: 6574 7465 7228 736c 6963 6528 612c 2062  etter(slice(a, b
-00014840: 2c20 6329 290a 2e24 5b61 3a62 3a63 5d20  , c))..$[a:b:c] 
-00014850: 2020 2020 2020 3d3e 2020 2020 2020 2320        =>      # 
-00014860: 7468 6520 6571 7569 7661 6c65 6e74 206f  the equivalent o
-00014870: 6620 2e5b 613a 623a 635d 2066 6f72 2069  f .[a:b:c] for i
-00014880: 7465 7261 746f 7273 0a60 6060 0a0a 4164  terators.```..Ad
-00014890: 6469 7469 6f6e 616c 6c79 2c20 602e 6174  ditionally, `.at
-000148a0: 7472 2e6d 6574 686f 6428 6172 6773 2960  tr.method(args)`
-000148b0: 2c20 602e 5b78 5d5b 795d 602c 2061 6e64  , `.[x][y]`, and
-000148c0: 2060 2e24 5b78 5d24 5b79 5d60 2061 7265   `.$[x]$[y]` are
-000148d0: 2061 6c73 6f20 7375 7070 6f72 7465 642e   also supported.
-000148e0: 0a0a 496e 2061 6464 6974 696f 6e2c 2066  ..In addition, f
-000148f0: 6f72 2065 7665 7279 2043 6f63 6f6e 7574  or every Coconut
-00014900: 205b 6f70 6572 6174 6f72 2066 756e 6374   [operator funct
-00014910: 696f 6e5d 2823 6f70 6572 6174 6f72 2d66  ion](#operator-f
-00014920: 756e 6374 696f 6e73 292c 2043 6f63 6f6e  unctions), Cocon
-00014930: 7574 2073 7570 706f 7274 7320 7379 6e74  ut supports synt
-00014940: 6178 2066 6f72 2069 6d70 6c69 6369 746c  ax for implicitl
-00014950: 7920 7061 7274 6961 6c6c 7920 6170 706c  y partially appl
-00014960: 7969 6e67 2074 6861 7420 6f70 6572 6174  ying that operat
-00014970: 6f72 2066 756e 6374 696f 6e20 6173 0a60  or function as.`
-00014980: 6060 0a28 2e20 3c6f 703e 203c 6172 673e  ``.(. <op> <arg>
-00014990: 290a 283c 6172 673e 203c 6f70 3e20 2e29  ).(<arg> <op> .)
-000149a0: 0a60 6060 0a77 6865 7265 2060 3c6f 703e  .```.where `<op>
-000149b0: 6020 6973 2074 6865 206f 7065 7261 746f  ` is the operato
-000149c0: 7220 6675 6e63 7469 6f6e 2061 6e64 2060  r function and `
-000149d0: 3c61 7267 3e60 2069 7320 616e 7920 6578  <arg>` is any ex
-000149e0: 7072 6573 7369 6f6e 2e20 4e6f 7465 2074  pression. Note t
-000149f0: 6861 742c 2061 7320 7769 7468 206f 7065  hat, as with ope
-00014a00: 7261 746f 7220 6675 6e63 7469 6f6e 7320  rator functions 
-00014a10: 7468 656d 7365 6c76 6573 2c20 7468 6520  themselves, the 
-00014a20: 7061 7265 6e74 6865 7365 7320 6172 6520  parentheses are 
-00014a30: 6e65 6365 7373 6172 7920 666f 7220 7468  necessary for th
-00014a40: 6973 2074 7970 6520 6f66 2069 6d70 6c69  is type of impli
-00014a50: 6369 7420 7061 7274 6961 6c20 6170 706c  cit partial appl
-00014a60: 6963 6174 696f 6e2e 0a0a 4164 6469 7469  ication...Additi
-00014a70: 6f6e 616c 6c79 2c20 436f 636f 6e75 7420  onally, Coconut 
-00014a80: 616c 736f 2073 7570 706f 7274 7320 696d  also supports im
-00014a90: 706c 6963 6974 206f 7065 7261 746f 7220  plicit operator 
-00014aa0: 6675 6e63 7469 6f6e 2070 6172 7469 616c  function partial
-00014ab0: 7320 666f 7220 6172 6269 7472 6172 7920  s for arbitrary 
-00014ac0: 6675 6e63 7469 6f6e 7320 6173 0a60 6060  functions as.```
-00014ad0: 0a28 2e20 603c 6e61 6d65 3e60 203c 6172  .(. `<name>` <ar
-00014ae0: 673e 290a 283c 6172 673e 2060 3c6e 616d  g>).(<arg> `<nam
-00014af0: 653e 6020 2e29 0a60 6060 0a62 6173 6564  e>` .).```.based
-00014b00: 206f 6e20 436f 636f 6e75 7427 7320 5b69   on Coconut's [i
-00014b10: 6e66 6978 206e 6f74 6174 696f 6e5d 2823  nfix notation](#
-00014b20: 696e 6669 782d 6675 6e63 7469 6f6e 7329  infix-functions)
-00014b30: 2077 6865 7265 2060 3c6e 616d 653e 6020   where `<name>` 
-00014b40: 6973 2074 6865 206e 616d 6520 6f66 2074  is the name of t
-00014b50: 6865 2066 756e 6374 696f 6e2e 2041 6464  he function. Add
-00014b60: 6974 696f 6e61 6c6c 792c 2060 6020 603c  itionally, `` `<
-00014b70: 6e61 6d65 3e60 2060 6020 6361 6e20 696e  name>` `` can in
-00014b80: 7374 6561 6420 6265 2061 205b 6375 7374  stead be a [cust
-00014b90: 6f6d 206f 7065 7261 746f 725d 2823 6375  om operator](#cu
-00014ba0: 7374 6f6d 2d6f 7065 7261 746f 7273 2920  stom-operators) 
-00014bb0: 2869 6e20 7468 6174 2063 6173 652c 206e  (in that case, n
-00014bc0: 6f20 6261 636b 7469 636b 7320 7368 6f75  o backticks shou
-00014bd0: 6c64 2062 6520 7573 6564 292e 0a0a 2323  ld be used)...##
-00014be0: 2323 2320 4578 616d 706c 650a 0a2a 2a43  ### Example..**C
-00014bf0: 6f63 6f6e 7574 3a2a 2a0a 6060 6063 6f63  oconut:**.```coc
-00014c00: 6f6e 7574 0a31 207c 3e20 2231 3233 225b  onut.1 |> "123"[
-00014c10: 5d0a 6d6f 6424 203c 7c20 3520 3c7c 2033  ].mod$ <| 5 <| 3
-00014c20: 0a33 207c 3e20 282e 2a32 2920 7c3e 2028  .3 |> (.*2) |> (
-00014c30: 2e2b 3129 0a60 6060 0a0a 2a2a 5079 7468  .+1).```..**Pyth
-00014c40: 6f6e 3a2a 2a0a 6060 6063 6f63 6f6e 7574  on:**.```coconut
-00014c50: 5f70 7974 686f 6e0a 2231 3233 225b 315d  _python."123"[1]
-00014c60: 0a6d 6f64 2835 2c20 3329 0a28 3320 2a20  .mod(5, 3).(3 * 
-00014c70: 3229 202b 2031 0a60 6060 0a0a 2323 2320  2) + 1.```..### 
-00014c80: 456e 6861 6e63 6564 2054 7970 6520 416e  Enhanced Type An
-00014c90: 6e6f 7461 7469 6f6e 0a0a 5369 6e63 6520  notation..Since 
-00014ca0: 436f 636f 6e75 7420 7379 6e74 6178 2069  Coconut syntax i
-00014cb0: 7320 6120 7375 7065 7273 6574 206f 6620  s a superset of 
-00014cc0: 5079 7468 6f6e 2033 2073 796e 7461 782c  Python 3 syntax,
-00014cd0: 2069 7420 7375 7070 6f72 7473 205b 5079   it supports [Py
-00014ce0: 7468 6f6e 2033 2066 756e 6374 696f 6e20  thon 3 function 
-00014cf0: 7479 7065 2061 6e6e 6f74 6174 696f 6e20  type annotation 
-00014d00: 7379 6e74 6178 5d28 6874 7470 733a 2f2f  syntax](https://
-00014d10: 7777 772e 7079 7468 6f6e 2e6f 7267 2f64  www.python.org/d
-00014d20: 6576 2f70 6570 732f 7065 702d 3034 3834  ev/peps/pep-0484
-00014d30: 2f29 2061 6e64 205b 5079 7468 6f6e 2033  /) and [Python 3
-00014d40: 2e36 2076 6172 6961 626c 6520 7479 7065  .6 variable type
-00014d50: 2061 6e6e 6f74 6174 696f 6e20 7379 6e74   annotation synt
-00014d60: 6178 5d28 6874 7470 733a 2f2f 7777 772e  ax](https://www.
-00014d70: 7079 7468 6f6e 2e6f 7267 2f64 6576 2f70  python.org/dev/p
-00014d80: 6570 732f 7065 702d 3035 3236 2f29 2e20  eps/pep-0526/). 
-00014d90: 4279 2064 6566 6175 6c74 2c20 436f 636f  By default, Coco
-00014da0: 6e75 7420 636f 6d70 696c 6573 2061 6c6c  nut compiles all
-00014db0: 2074 7970 6520 616e 6e6f 7461 7469 6f6e   type annotation
-00014dc0: 7320 696e 746f 2050 7974 686f 6e2d 322d  s into Python-2-
-00014dd0: 636f 6d70 6174 6962 6c65 2074 7970 6520  compatible type 
-00014de0: 636f 6d6d 656e 7473 2e20 4966 2079 6f75  comments. If you
-00014df0: 2077 616e 7420 746f 206b 6565 7020 7468   want to keep th
-00014e00: 6520 7479 7065 2061 6e6e 6f74 6174 696f  e type annotatio
-00014e10: 6e73 2069 6e73 7465 6164 2c20 7369 6d70  ns instead, simp
-00014e20: 6c79 2070 6173 7320 6120 602d 2d74 6172  ly pass a `--tar
-00014e30: 6765 7460 2074 6861 7420 7375 7070 6f72  get` that suppor
-00014e40: 7473 2074 6865 6d2e 0a0a 5369 6e63 6520  ts them...Since 
-00014e50: 6e6f 7420 616c 6c20 7375 7070 6f72 7465  not all supporte
-00014e60: 6420 5079 7468 6f6e 2076 6572 7369 6f6e  d Python version
-00014e70: 7320 7375 7070 6f72 7420 7468 6520 5b60  s support the [`
-00014e80: 7479 7069 6e67 605d 2868 7474 7073 3a2f  typing`](https:/
-00014e90: 2f64 6f63 732e 7079 7468 6f6e 2e6f 7267  /docs.python.org
-00014ea0: 2f33 2f6c 6962 7261 7279 2f74 7970 696e  /3/library/typin
-00014eb0: 672e 6874 6d6c 2920 6d6f 6475 6c65 2c20  g.html) module, 
-00014ec0: 436f 636f 6e75 7420 7072 6f76 6964 6573  Coconut provides
-00014ed0: 2074 6865 205b 6054 5950 455f 4348 4543   the [`TYPE_CHEC
-00014ee0: 4b49 4e47 605d 2823 7479 7065 5f63 6865  KING`](#type_che
-00014ef0: 636b 696e 6729 2062 7569 6c74 2d69 6e20  cking) built-in 
-00014f00: 666f 7220 6869 6469 6e67 2079 6f75 7220  for hiding your 
-00014f10: 6074 7970 696e 6760 2069 6d70 6f72 7473  `typing` imports
-00014f20: 2061 6e64 2060 5479 7065 5661 7260 2064   and `TypeVar` d
-00014f30: 6566 696e 6974 696f 6e73 2066 726f 6d20  efinitions from 
-00014f40: 6265 696e 6720 6578 6563 7574 6564 2061  being executed a
-00014f50: 7420 7275 6e74 696d 652e 2043 6f63 6f6e  t runtime. Cocon
-00014f60: 7574 2077 696c 6c20 616c 736f 2061 7574  ut will also aut
-00014f70: 6f6d 6174 6963 616c 6c79 2075 7365 205b  omatically use [
-00014f80: 6074 7970 696e 675f 6578 7465 6e73 696f  `typing_extensio
-00014f90: 6e73 605d 2868 7474 7073 3a2f 2f70 7970  ns`](https://pyp
-00014fa0: 692e 6f72 672f 7072 6f6a 6563 742f 7479  i.org/project/ty
-00014fb0: 7069 6e67 2d65 7874 656e 7369 6f6e 732f  ping-extensions/
-00014fc0: 2920 6f76 6572 2060 7479 7069 6e67 6020  ) over `typing` 
-00014fd0: 7768 656e 2069 6d70 6f72 7469 6e67 206f  when importing o
-00014fe0: 626a 6563 7473 206e 6f74 2061 7661 696c  bjects not avail
-00014ff0: 6162 6c65 2069 6e20 6074 7970 696e 6760  able in `typing`
-00015000: 206f 6e20 7468 6520 6375 7272 656e 7420   on the current 
-00015010: 5079 7468 6f6e 2076 6572 7369 6f6e 2e0a  Python version..
-00015020: 0a46 7572 7468 6572 6d6f 7265 2c20 7768  .Furthermore, wh
-00015030: 656e 2063 6f6d 7069 6c69 6e67 2074 7970  en compiling typ
-00015040: 6520 616e 6e6f 7461 7469 6f6e 7320 746f  e annotations to
-00015050: 2050 7974 686f 6e20 3320 7665 7273 696f   Python 3 versio
-00015060: 6e73 2077 6974 686f 7574 205b 5045 5020  ns without [PEP 
-00015070: 3536 335d 2868 7474 7073 3a2f 2f77 7777  563](https://www
-00015080: 2e70 7974 686f 6e2e 6f72 672f 6465 762f  .python.org/dev/
-00015090: 7065 7073 2f70 6570 2d30 3536 332f 2920  peps/pep-0563/) 
-000150a0: 7375 7070 6f72 742c 2043 6f63 6f6e 7574  support, Coconut
-000150b0: 2077 7261 7073 2061 6e6e 6f74 6174 696f   wraps annotatio
-000150c0: 6e20 696e 2073 7472 696e 6773 2074 6f20  n in strings to 
-000150d0: 7072 6576 656e 7420 7468 656d 2066 726f  prevent them fro
-000150e0: 6d20 6265 696e 6720 6576 616c 7561 7465  m being evaluate
-000150f0: 6420 6174 2072 756e 7469 6d65 2028 6e6f  d at runtime (no
-00015100: 7465 2074 6861 7420 602d 2d6e 6f2d 7772  te that `--no-wr
-00015110: 6170 2d74 7970 6573 6020 6469 7361 626c  ap-types` disabl
-00015120: 6573 2061 6c6c 2077 7261 7070 696e 672c  es all wrapping,
-00015130: 2069 6e63 6c75 6469 6e67 2076 6961 2050   including via P
-00015140: 4550 2035 3633 2073 7570 706f 7274 292e  EP 563 support).
-00015150: 0a0a 4164 6469 7469 6f6e 616c 6c79 2c20  ..Additionally, 
-00015160: 436f 636f 6e75 7420 6164 6473 2073 7065  Coconut adds spe
-00015170: 6369 616c 2073 796e 7461 7820 666f 7220  cial syntax for 
-00015180: 6d61 6b69 6e67 2074 7970 6520 616e 6e6f  making type anno
-00015190: 7461 7469 6f6e 7320 6561 7369 6572 2061  tations easier a
-000151a0: 6e64 2073 696d 706c 6572 2074 6f20 7772  nd simpler to wr
-000151b0: 6974 652e 2057 6865 6e20 696e 7369 6465  ite. When inside
-000151c0: 206f 6620 6120 7479 7065 2061 6e6e 6f74   of a type annot
-000151d0: 6174 696f 6e2c 2043 6f63 6f6e 7574 2074  ation, Coconut t
-000151e0: 7265 6174 7320 6365 7274 6169 6e20 7379  reats certain sy
-000151f0: 6e74 6178 2063 6f6e 7374 7275 6374 7320  ntax constructs 
-00015200: 6469 6666 6572 656e 746c 792c 2063 6f6d  differently, com
-00015210: 7069 6c69 6e67 2074 6865 6d20 746f 2074  piling them to t
-00015220: 7970 6520 616e 6e6f 7461 7469 6f6e 7320  ype annotations 
-00015230: 696e 7374 6561 6420 6f66 2077 6861 7420  instead of what 
-00015240: 7468 6579 2077 6f75 6c64 206e 6f72 6d61  they would norma
-00015250: 6c6c 7920 7265 7072 6573 656e 742e 2053  lly represent. S
-00015260: 7065 6369 6669 6361 6c6c 792c 2043 6f63  pecifically, Coc
-00015270: 6f6e 7574 2061 7070 6c69 6573 2074 6865  onut applies the
-00015280: 2066 6f6c 6c6f 7769 6e67 2074 7261 6e73   following trans
-00015290: 666f 726d 6174 696f 6e73 3a0a 6060 6063  formations:.```c
-000152a0: 6f63 6f6e 7574 0a41 207c 2042 0a20 2020  oconut.A | B.   
-000152b0: 203d 3e20 7479 7069 6e67 2e55 6e69 6f6e   => typing.Union
-000152c0: 5b41 2c20 425d 0a28 413b 2042 290a 2020  [A, B].(A; B).  
-000152d0: 2020 3d3e 2074 7970 696e 672e 5475 706c    => typing.Tupl
-000152e0: 655b 412c 2042 5d0a 413f 0a20 2020 203d  e[A, B].A?.    =
-000152f0: 3e20 7479 7069 6e67 2e4f 7074 696f 6e61  > typing.Optiona
-00015300: 6c5b 415d 0a41 5b5d 0a20 2020 203d 3e20  l[A].A[].    => 
-00015310: 7479 7069 6e67 2e53 6571 7565 6e63 655b  typing.Sequence[
-00015320: 415d 0a41 245b 5d0a 2020 2020 3d3e 2074  A].A$[].    => t
-00015330: 7970 696e 672e 4974 6572 6162 6c65 5b41  yping.Iterable[A
-00015340: 5d0a 2829 202d 3e20 3c72 6574 3e0a 2020  ].() -> <ret>.  
-00015350: 2020 3d3e 2074 7970 696e 672e 4361 6c6c    => typing.Call
-00015360: 6162 6c65 5b5b 5d2c 203c 7265 743e 5d0a  able[[], <ret>].
-00015370: 3c61 7267 3e20 2d3e 203c 7265 743e 0a20  <arg> -> <ret>. 
-00015380: 2020 203d 3e20 7479 7069 6e67 2e43 616c     => typing.Cal
-00015390: 6c61 626c 655b 5b3c 6172 673e 5d2c 203c  lable[[<arg>], <
-000153a0: 7265 743e 5d0a 283c 6172 6773 3e29 202d  ret>].(<args>) -
-000153b0: 3e20 3c72 6574 3e0a 2020 2020 3d3e 2074  > <ret>.    => t
-000153c0: 7970 696e 672e 4361 6c6c 6162 6c65 5b5b  yping.Callable[[
-000153d0: 3c61 7267 733e 5d2c 203c 7265 743e 5d0a  <args>], <ret>].
-000153e0: 2d3e 203c 7265 743e 0a20 2020 203d 3e20  -> <ret>.    => 
-000153f0: 7479 7069 6e67 2e43 616c 6c61 626c 655b  typing.Callable[
-00015400: 2e2e 2e2c 203c 7265 743e 5d0a 283c 6172  ..., <ret>].(<ar
-00015410: 6773 3e2c 202a 2a3c 5061 7261 6d53 7065  gs>, **<ParamSpe
-00015420: 633e 2920 2d3e 203c 7265 743e 0a20 2020  c>) -> <ret>.   
-00015430: 203d 3e20 7479 7069 6e67 2e43 616c 6c61   => typing.Calla
-00015440: 626c 655b 7479 7069 6e67 2e43 6f6e 6361  ble[typing.Conca
-00015450: 7465 6e61 7465 5b3c 6172 6773 3e2c 203c  tenate[<args>, <
-00015460: 5061 7261 6d53 7065 633e 5d2c 203c 7265  ParamSpec>], <re
-00015470: 743e 5d0a 6173 796e 6320 283c 6172 6773  t>].async (<args
-00015480: 3e29 202d 3e20 3c72 6574 3e0a 2020 2020  >) -> <ret>.    
-00015490: 3d3e 2074 7970 696e 672e 4361 6c6c 6162  => typing.Callab
-000154a0: 6c65 5b5b 3c61 7267 733e 5d2c 2074 7970  le[[<args>], typ
-000154b0: 696e 672e 4177 6169 7461 626c 655b 3c72  ing.Awaitable[<r
-000154c0: 6574 3e5d 5d0a 6060 600a 7768 6572 6520  et>]].```.where 
-000154d0: 6074 7970 696e 6760 2069 7320 7468 6520  `typing` is the 
-000154e0: 5079 7468 6f6e 2033 2e35 2062 7569 6c74  Python 3.5 built
-000154f0: 2d69 6e20 5b60 7479 7069 6e67 6020 6d6f  -in [`typing` mo
-00015500: 6475 6c65 5d28 6874 7470 733a 2f2f 646f  dule](https://do
-00015510: 6373 2e70 7974 686f 6e2e 6f72 672f 332f  cs.python.org/3/
-00015520: 6c69 6272 6172 792f 7479 7069 6e67 2e68  library/typing.h
-00015530: 746d 6c29 2e20 466f 7220 6d6f 7265 2069  tml). For more i
-00015540: 6e66 6f72 6d61 7469 6f6e 206f 6e20 7468  nformation on th
-00015550: 6520 4361 6c6c 6162 6c65 2073 796e 7461  e Callable synta
-00015560: 782c 2073 6565 205b 5045 5020 3637 375d  x, see [PEP 677]
-00015570: 2868 7474 7073 3a2f 2f70 6570 732e 7079  (https://peps.py
-00015580: 7468 6f6e 2e6f 7267 2f70 6570 2d30 3637  thon.org/pep-067
-00015590: 3729 2c20 7768 6963 6820 436f 636f 6e75  7), which Coconu
-000155a0: 7420 6675 6c6c 7920 7375 7070 6f72 7473  t fully supports
-000155b0: 2e0a 0a5f 4e6f 7465 3a20 5468 6520 7472  ..._Note: The tr
-000155c0: 616e 7366 6f72 6d61 7469 6f6e 2074 6f20  ansformation to 
-000155d0: 6055 6e69 6f6e 6020 6973 206e 6f74 2064  `Union` is not d
-000155e0: 6f6e 6520 6f6e 2050 7974 686f 6e20 332e  one on Python 3.
-000155f0: 3130 2061 7320 5079 7468 6f6e 2033 2e31  10 as Python 3.1
-00015600: 3020 6861 7320 6e61 7469 7665 205b 5045  0 has native [PE
-00015610: 5020 3630 345d 2868 7474 7073 3a2f 2f77  P 604](https://w
-00015620: 7777 2e70 7974 686f 6e2e 6f72 672f 6465  ww.python.org/de
-00015630: 762f 7065 7073 2f70 6570 2d30 3630 3429  v/peps/pep-0604)
-00015640: 2073 7570 706f 7274 2e5f 0a0a 546f 2075   support._..To u
-00015650: 7365 2074 6865 7365 2074 7261 6e73 666f  se these transfo
-00015660: 726d 6174 696f 6e73 2069 6e20 6120 5b74  rmations in a [t
-00015670: 7970 6520 616c 6961 735d 2868 7474 7073  ype alias](https
-00015680: 3a2f 2f70 6570 732e 7079 7468 6f6e 2e6f  ://peps.python.o
-00015690: 7267 2f70 6570 2d30 3438 342f 2374 7970  rg/pep-0484/#typ
-000156a0: 652d 616c 6961 7365 7329 2c20 7573 6520  e-aliases), use 
-000156b0: 7468 6520 7379 6e74 6178 0a60 6060 0a74  the syntax.```.t
-000156c0: 7970 6520 3c6e 616d 653e 203d 203c 7479  ype <name> = <ty
-000156d0: 7065 3e0a 6060 600a 7768 6963 6820 7769  pe>.```.which wi
-000156e0: 6c6c 2061 6c6c 6f77 2060 3c74 7970 653e  ll allow `<type>
-000156f0: 6020 746f 2069 6e63 6c75 6465 2043 6f63  ` to include Coc
-00015700: 6f6e 7574 2773 2073 7065 6369 616c 2074  onut's special t
-00015710: 7970 6520 616e 6e6f 7461 7469 6f6e 2073  ype annotation s
-00015720: 796e 7461 7820 616e 6420 7479 7065 2060  yntax and type `
-00015730: 3c6e 616d 653e 6020 6173 2061 205b 6074  <name>` as a [`t
-00015740: 7970 696e 672e 5479 7065 416c 6961 7360  yping.TypeAlias`
-00015750: 5d28 6874 7470 733a 2f2f 646f 6373 2e70  ](https://docs.p
-00015760: 7974 686f 6e2e 6f72 672f 332f 6c69 6272  ython.org/3/libr
-00015770: 6172 792f 7479 7069 6e67 2e68 746d 6c23  ary/typing.html#
-00015780: 7479 7069 6e67 2e54 7970 6541 6c69 6173  typing.TypeAlias
-00015790: 292e 2049 6620 796f 7520 7472 7920 746f  ). If you try to
-000157a0: 2069 6e73 7465 6164 206a 7573 7420 646f   instead just do
-000157b0: 2061 206e 616b 6564 2060 3c6e 616d 653e   a naked `<name>
-000157c0: 203d 203c 7479 7065 3e60 2074 7970 6520   = <type>` type 
-000157d0: 616c 6961 732c 2043 6f63 6f6e 7574 2077  alias, Coconut w
-000157e0: 6f6e 2774 2062 6520 6162 6c65 2074 6f20  on't be able to 
-000157f0: 7465 6c6c 2079 6f75 2772 6520 6174 7465  tell you're atte
-00015800: 6d70 7469 6e67 2061 2074 7970 6520 616c  mpting a type al
-00015810: 6961 7320 616e 6420 7468 7573 2077 6f6e  ias and thus won
-00015820: 2774 2061 7070 6c79 2061 6e79 206f 6620  't apply any of 
-00015830: 7468 6520 6162 6f76 6520 7472 616e 7366  the above transf
-00015840: 6f72 6d61 7469 6f6e 732e 0a0a 5375 6368  ormations...Such
-00015850: 2074 7970 6520 616c 6961 7320 7374 6174   type alias stat
-00015860: 656d 656e 7473 e280 9461 7320 7765 6c6c  ements...as well
-00015870: 2061 7320 616c 6c20 6063 6c61 7373 602c   as all `class`,
-00015880: 2060 6461 7461 602c 2061 6e64 2066 756e   `data`, and fun
-00015890: 6374 696f 6e20 6465 6669 6e69 7469 6f6e  ction definition
-000158a0: 7320 696e 2043 6f63 6f6e 7574 e280 9461  s in Coconut...a
-000158b0: 6c73 6f20 7375 7070 6f72 7420 436f 636f  lso support Coco
-000158c0: 6e75 7427 7320 5b74 7970 6520 7061 7261  nut's [type para
-000158d0: 6d65 7465 7220 7379 6e74 6178 5d28 2374  meter syntax](#t
-000158e0: 7970 652d 7061 7261 6d65 7465 722d 7379  ype-parameter-sy
-000158f0: 6e74 6178 292c 2061 6c6c 6f77 696e 6720  ntax), allowing 
-00015900: 796f 7520 746f 2064 6f20 7468 696e 6773  you to do things
-00015910: 206c 696b 6520 6074 7970 6520 4f72 5374   like `type OrSt
-00015920: 725b 545d 203d 2054 207c 2073 7472 602e  r[T] = T | str`.
-00015930: 0a0a 496d 706f 7274 616e 746c 792c 206e  ..Importantly, n
-00015940: 6f74 6520 7468 6174 2060 696e 745b 5d60  ote that `int[]`
-00015950: 2064 6f65 7320 6e6f 7420 6d61 7020 6f6e   does not map on
-00015960: 746f 2060 7479 7069 6e67 2e4c 6973 745b  to `typing.List[
-00015970: 696e 745d 6020 6275 7420 6f6e 746f 2060  int]` but onto `
-00015980: 7479 7069 6e67 2e53 6571 7565 6e63 655b  typing.Sequence[
-00015990: 696e 745d 602e 2054 6869 7320 6973 2062  int]`. This is b
-000159a0: 6563 6175 7365 2c20 7768 656e 2077 7269  ecause, when wri
-000159b0: 7469 6e67 2069 6e20 616e 2069 6469 6f6d  ting in an idiom
-000159c0: 6174 6963 2066 756e 6374 696f 6e61 6c20  atic functional 
-000159d0: 7374 796c 652c 2061 7373 6967 6e6d 656e  style, assignmen
-000159e0: 7420 7368 6f75 6c64 2062 6520 7261 7265  t should be rare
-000159f0: 2061 6e64 2074 7570 6c65 7320 7368 6f75   and tuples shou
-00015a00: 6c64 2062 6520 636f 6d6d 6f6e 2e20 5573  ld be common. Us
-00015a10: 696e 6720 6053 6571 7565 6e63 6560 2063  ing `Sequence` c
-00015a20: 6f76 6572 7320 626f 7468 2063 6173 6573  overs both cases
-00015a30: 2c20 6163 636f 6d6d 6f64 6174 696e 6720  , accommodating 
-00015a40: 7475 706c 6573 2061 6e64 206c 6973 7473  tuples and lists
-00015a50: 2061 6e64 2070 7265 7665 6e74 696e 6720   and preventing 
-00015a60: 696e 6465 7865 6420 6173 7369 676e 6d65  indexed assignme
-00015a70: 6e74 2e20 5768 656e 2061 6e20 696e 6465  nt. When an inde
-00015a80: 7865 6420 6173 7369 676e 6d65 6e74 2069  xed assignment i
-00015a90: 7320 6174 7465 6d70 7465 6420 696e 746f  s attempted into
-00015aa0: 2061 2076 6172 6961 626c 6520 7479 7065   a variable type
-00015ab0: 6420 7769 7468 2060 5365 7175 656e 6365  d with `Sequence
-00015ac0: 602c 204d 7950 7920 7769 6c6c 2067 656e  `, MyPy will gen
-00015ad0: 6572 6174 6520 616e 2065 7272 6f72 3a0a  erate an error:.
-00015ae0: 0a60 6060 636f 636f 6e75 740a 666f 6f3a  .```coconut.foo:
-00015af0: 2069 6e74 5b5d 203d 205b 302c 2031 2c20   int[] = [0, 1, 
-00015b00: 322c 2033 2c20 342c 2035 5d0a 666f 6f5b  2, 3, 4, 5].foo[
-00015b10: 305d 203d 2031 2020 2023 204d 7950 7920  0] = 1   # MyPy 
-00015b20: 6572 726f 723a 2022 556e 7375 7070 6f72  error: "Unsuppor
-00015b30: 7465 6420 7461 7267 6574 2066 6f72 2069  ted target for i
-00015b40: 6e64 6578 6564 2061 7373 6967 6e6d 656e  ndexed assignmen
-00015b50: 7422 0a60 6060 0a0a 4966 2079 6f75 2077  t".```..If you w
-00015b60: 616e 7420 746f 2075 7365 2060 4c69 7374  ant to use `List
-00015b70: 6020 696e 7374 6561 6420 2865 2e67 2e20  ` instead (e.g. 
-00015b80: 6966 2079 6f75 2077 616e 7420 746f 2073  if you want to s
-00015b90: 7570 706f 7274 2069 6e64 6578 6564 2061  upport indexed a
-00015ba0: 7373 6967 6e6d 656e 7429 2c20 7573 6520  ssignment), use 
-00015bb0: 7468 6520 7374 616e 6461 7264 2050 7974  the standard Pyt
-00015bc0: 686f 6e20 332e 3520 7661 7269 6162 6c65  hon 3.5 variable
-00015bd0: 2074 7970 6520 616e 6e6f 7461 7469 6f6e   type annotation
-00015be0: 2073 796e 7461 783a 2060 666f 6f3a 204c   syntax: `foo: L
-00015bf0: 6973 745b 3c74 7970 653e 5d60 2e0a 0a5f  ist[<type>]`..._
-00015c00: 4e6f 7465 3a20 546f 2065 6173 696c 7920  Note: To easily 
-00015c10: 7669 6577 2079 6f75 7220 6465 6669 6e65  view your define
-00015c20: 6420 7479 7065 732c 2073 6565 205b 6072  d types, see [`r
-00015c30: 6576 6561 6c5f 7479 7065 6020 616e 6420  eveal_type` and 
-00015c40: 6072 6576 6561 6c5f 6c6f 6361 6c73 605d  `reveal_locals`]
-00015c50: 2823 7265 7665 616c 2d74 7970 652d 616e  (#reveal-type-an
-00015c60: 642d 7265 7665 616c 2d6c 6f63 616c 7329  d-reveal-locals)
-00015c70: 2e5f 0a0a 2323 2323 2320 4578 616d 706c  ._..##### Exampl
-00015c80: 650a 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0a  e..**Coconut:**.
-00015c90: 6060 6063 6f63 6f6e 7574 0a64 6566 2069  ```coconut.def i
-00015ca0: 6e74 5f6d 6170 280a 2020 2020 663a 2069  nt_map(.    f: i
-00015cb0: 6e74 202d 3e20 696e 742c 0a20 2020 2078  nt -> int,.    x
-00015cc0: 733a 2069 6e74 5b5d 2c0a 2920 2d3e 2069  s: int[],.) -> i
-00015cd0: 6e74 5b5d 203d 0a20 2020 2078 7320 7c3e  nt[] =.    xs |>
-00015ce0: 206d 6170 2428 6629 207c 3e20 6c69 7374   map$(f) |> list
-00015cf0: 0a60 6060 0a0a 2a2a 5079 7468 6f6e 3a2a  .```..**Python:*
-00015d00: 2a0a 6060 6063 6f63 6f6e 7574 5f70 7974  *.```coconut_pyt
-00015d10: 686f 6e0a 696d 706f 7274 2074 7970 696e  hon.import typin
-00015d20: 6720 2023 2075 6e6c 696b 6520 7468 6973  g  # unlike this
-00015d30: 2074 7970 696e 6720 696d 706f 7274 2c20   typing import, 
-00015d40: 436f 636f 6e75 7420 7072 6f64 7563 6573  Coconut produces
-00015d50: 2075 6e69 7665 7273 616c 2063 6f64 650a   universal code.
-00015d60: 6465 6620 696e 745f 6d61 7028 0a20 2020  def int_map(.   
-00015d70: 2066 2c20 2023 2074 7970 653a 2074 7970   f,  # type: typ
-00015d80: 696e 672e 4361 6c6c 6162 6c65 5b5b 696e  ing.Callable[[in
-00015d90: 745d 2c20 696e 745d 0a20 2020 2078 732c  t], int].    xs,
-00015da0: 2020 2320 7479 7065 3a20 7479 7069 6e67    # type: typing
-00015db0: 2e53 6571 7565 6e63 655b 696e 745d 0a29  .Sequence[int].)
-00015dc0: 3a0a 2020 2020 2320 7479 7065 3a20 282e  :.    # type: (.
-00015dd0: 2e2e 2920 2d3e 2074 7970 696e 672e 5365  ..) -> typing.Se
-00015de0: 7175 656e 6365 5b69 6e74 5d0a 2020 2020  quence[int].    
-00015df0: 7265 7475 726e 206c 6973 7428 6d61 7028  return list(map(
-00015e00: 662c 2078 7329 290a 6060 600a 0a23 2323  f, xs)).```..###
-00015e10: 204d 756c 7469 6469 6d65 6e73 696f 6e61   Multidimensiona
-00015e20: 6c20 4172 7261 7920 4c69 7465 7261 6c2f  l Array Literal/
-00015e30: 436f 6e63 6174 656e 6174 696f 6e20 5379  Concatenation Sy
-00015e40: 6e74 6178 0a0a 436f 636f 6e75 7420 7375  ntax..Coconut su
-00015e50: 7070 6f72 7473 206d 756c 7469 6469 6d65  pports multidime
-00015e60: 6e73 696f 6e61 6c20 6172 7261 7920 6c69  nsional array li
-00015e70: 7465 7261 6c20 616e 6420 6172 7261 7920  teral and array 
-00015e80: 5b63 6f6e 6361 7465 6e61 7469 6f6e 5d28  [concatenation](
-00015e90: 6874 7470 733a 2f2f 6e75 6d70 792e 6f72  https://numpy.or
-00015ea0: 672f 646f 632f 7374 6162 6c65 2f72 6566  g/doc/stable/ref
-00015eb0: 6572 656e 6365 2f67 656e 6572 6174 6564  erence/generated
-00015ec0: 2f6e 756d 7079 2e63 6f6e 6361 7465 6e61  /numpy.concatena
-00015ed0: 7465 2e68 746d 6c29 2f5b 7374 6163 6b5d  te.html)/[stack]
-00015ee0: 2868 7474 7073 3a2f 2f6e 756d 7079 2e6f  (https://numpy.o
-00015ef0: 7267 2f64 6f63 2f73 7461 626c 652f 7265  rg/doc/stable/re
-00015f00: 6665 7265 6e63 652f 6765 6e65 7261 7465  ference/generate
-00015f10: 642f 6e75 6d70 792e 7374 6163 6b2e 6874  d/numpy.stack.ht
-00015f20: 6d6c 2920 7379 6e74 6178 2e0a 0a42 7920  ml) syntax...By 
-00015f30: 6465 6661 756c 742c 2061 6c6c 206d 756c  default, all mul
-00015f40: 7469 6469 6d65 6e73 696f 6e61 6c20 6172  tidimensional ar
-00015f50: 7261 7920 7379 6e74 6178 2077 696c 6c20  ray syntax will 
-00015f60: 7369 6d70 6c79 206f 7065 7261 7465 206f  simply operate o
-00015f70: 6e20 5079 7468 6f6e 206c 6973 7473 206f  n Python lists o
-00015f80: 6620 6c69 7374 732e 2048 6f77 6576 6572  f lists. However
-00015f90: 2c20 6966 205b 606e 756d 7079 605d 2823  , if [`numpy`](#
-00015fa0: 6e75 6d70 792d 696e 7465 6772 6174 696f  numpy-integratio
-00015fb0: 6e29 206f 626a 6563 7473 2061 7265 2075  n) objects are u
-00015fc0: 7365 642c 2074 6865 2061 7070 726f 7072  sed, the appropr
-00015fd0: 6961 7465 2060 6e75 6d70 7960 2063 616c  iate `numpy` cal
-00015fe0: 6c73 2077 696c 6c20 6265 206d 6164 6520  ls will be made 
-00015ff0: 696e 7374 6561 642e 2054 6f20 6769 7665  instead. To give
-00016000: 2063 7573 746f 6d20 6f62 6a65 6374 7320   custom objects 
-00016010: 6d75 6c74 6964 696d 656e 7369 6f6e 616c  multidimensional
-00016020: 2061 7272 6179 2063 6f6e 6361 7465 6e61   array concatena
-00016030: 7469 6f6e 2073 7570 706f 7274 2c20 6465  tion support, de
-00016040: 6669 6e65 2060 7479 7065 286f 626a 292e  fine `type(obj).
-00016050: 5f5f 6d61 7463 6f6e 6361 745f 5f60 2028  __matconcat__` (
-00016060: 7368 6f75 6c64 2062 6568 6176 6520 6173  should behave as
-00016070: 2060 6e70 2e63 6f6e 6361 7460 292c 2060   `np.concat`), `
-00016080: 6f62 6a2e 6e64 696d 6020 2873 686f 756c  obj.ndim` (shoul
-00016090: 6420 6265 6861 7665 2061 7320 606e 702e  d behave as `np.
-000160a0: 6e64 6172 7261 792e 6e64 696d 6029 2c20  ndarray.ndim`), 
-000160b0: 616e 6420 606f 626a 2e72 6573 6861 7065  and `obj.reshape
-000160c0: 6020 2873 686f 756c 6420 6265 6861 7665  ` (should behave
-000160d0: 2061 7320 606e 702e 6e64 6172 7261 792e   as `np.ndarray.
-000160e0: 7265 7368 6170 6560 292e 0a0a 4173 2061  reshape`)...As a
-000160f0: 2073 696d 706c 6520 6578 616d 706c 652c   simple example,
-00016100: 2032 4420 6d61 7472 6963 6573 2063 616e   2D matrices can
-00016110: 2062 6520 636f 6e73 7472 7563 7465 6420   be constructed 
-00016120: 6279 2073 6570 6172 6174 696e 6720 7468  by separating th
-00016130: 6520 726f 7773 2077 6974 6820 603b 3b60  e rows with `;;`
-00016140: 2069 6e73 6964 6520 6f66 2061 206c 6973   inside of a lis
-00016150: 7420 6c69 7465 7261 6c3a 0a60 6060 636f  t literal:.```co
-00016160: 636f 6e75 745f 7079 636f 6e0a 3e3e 3e20  conut_pycon.>>> 
-00016170: 5b31 2c20 3220 3b3b 0a20 2020 2020 332c  [1, 2 ;;.     3,
-00016180: 2034 5d0a 0a5b 5b31 2c20 325d 2c20 5b33   4]..[[1, 2], [3
-00016190: 2c20 345d 5d0a 3e3e 3e20 696d 706f 7274  , 4]].>>> import
-000161a0: 206e 756d 7079 2061 7320 6e70 0a3e 3e3e   numpy as np.>>>
-000161b0: 206e 702e 6172 7261 7928 5b31 2c20 3220   np.array([1, 2 
-000161c0: 3b3b 2033 2c20 345d 290a 6172 7261 7928  ;; 3, 4]).array(
-000161d0: 5b5b 312c 2032 5d2c 0a20 2020 2020 2020  [[1, 2],.       
-000161e0: 5b33 2c20 345d 5d29 0a60 6060 0a41 7320  [3, 4]]).```.As 
-000161f0: 6361 6e20 6265 2073 6565 6e2c 2060 6e70  can be seen, `np
-00016200: 2e61 7272 6179 6020 286f 7220 6571 7569  .array` (or equi
-00016210: 7661 6c65 6e74 2920 6361 6e20 6265 2075  valent) can be u
-00016220: 7365 6420 746f 2074 7572 6e20 7468 6520  sed to turn the 
-00016230: 7265 7375 6c74 696e 6720 6c69 7374 206f  resulting list o
-00016240: 6620 6c69 7374 7320 696e 746f 2061 6e20  f lists into an 
-00016250: 6163 7475 616c 2061 7272 6179 2e20 5468  actual array. Th
-00016260: 6973 2073 796e 7461 7820 776f 726b 7320  is syntax works 
-00016270: 6265 6361 7573 6520 603b 3b60 2069 6e73  because `;;` ins
-00016280: 6964 6520 6f66 2061 206c 6973 7420 6c69  ide of a list li
-00016290: 7465 7261 6c20 6675 6e63 7469 6f6e 7320  teral functions 
-000162a0: 6173 2061 2063 6f6e 6361 7465 6e61 7469  as a concatenati
-000162b0: 6f6e 2f73 7461 636b 2061 6c6f 6e67 2074  on/stack along t
-000162c0: 6865 2060 2d32 6020 6178 6973 2028 7769  he `-2` axis (wi
-000162d0: 7468 2074 6865 2069 6e6e 6572 2061 7272  th the inner arr
-000162e0: 6179 7320 6265 696e 6720 6272 6f61 6463  ays being broadc
-000162f0: 6173 7420 746f 2060 2831 2c20 3229 6020  ast to `(1, 2)` 
-00016300: 6172 7261 7973 2062 6566 6f72 6520 636f  arrays before co
-00016310: 6e63 6174 656e 6174 696f 6e29 2e20 4e6f  ncatenation). No
-00016320: 7465 2074 6861 7420 7468 6973 2063 6f6e  te that this con
-00016330: 6361 7465 6e61 7469 6f6e 2069 7320 646f  catenation is do
-00016340: 6e65 2065 6e74 6972 656c 7920 696e 2050  ne entirely in P
-00016350: 7974 686f 6e20 6c69 7374 7320 6f66 206c  ython lists of l
-00016360: 6973 7473 2068 6572 652c 2073 696e 6365  ists here, since
-00016370: 2074 6865 2060 6e70 2e61 7272 6179 6020   the `np.array` 
-00016380: 6361 6c6c 2063 6f6d 6573 206f 6e6c 7920  call comes only 
-00016390: 6174 2074 6865 2065 6e64 2e0a 0a49 6e20  at the end...In 
-000163a0: 6765 6e65 7261 6c2c 2074 6865 206e 756d  general, the num
-000163b0: 6265 7220 6f66 2073 656d 6963 6f6c 6f6e  ber of semicolon
-000163c0: 7320 696e 6469 6361 7465 7320 7468 6520  s indicates the 
-000163d0: 6469 6d65 6e73 696f 6e20 6672 6f6d 2074  dimension from t
-000163e0: 6865 2065 6e64 206f 6e20 7768 6963 6820  he end on which 
-000163f0: 746f 2063 6f6e 6361 7465 6e61 7465 2e20  to concatenate. 
-00016400: 5468 7573 2c20 603b 6020 696e 6469 6361  Thus, `;` indica
-00016410: 7465 7320 636f 6e61 7465 6e61 7469 6f6e  tes conatenation
-00016420: 2061 6c6f 6e67 2074 6865 2060 2d31 6020   along the `-1` 
-00016430: 6178 6973 2c20 603b 3b60 2061 6c6f 6e67  axis, `;;` along
-00016440: 2074 6865 2060 2d32 6020 6178 6973 2c20   the `-2` axis, 
-00016450: 616e 6420 736f 206f 6e2e 2042 6566 6f72  and so on. Befor
-00016460: 6520 636f 6e63 6174 656e 6174 696f 6e2c  e concatenation,
-00016470: 2061 7272 6179 7320 6172 6520 616c 7761   arrays are alwa
-00016480: 7973 2062 726f 6164 6361 7374 2074 6f20  ys broadcast to 
-00016490: 6120 7368 6170 6520 7768 6963 6820 6973  a shape which is
-000164a0: 206c 6172 6765 2065 6e6f 7567 6820 746f   large enough to
-000164b0: 2061 6c6c 6f77 2074 6865 2063 6f6e 6361   allow the conca
-000164c0: 7465 6e61 7469 6f6e 2e0a 0a54 6875 732c  tenation...Thus,
-000164d0: 2069 6620 6061 6020 6973 2061 2060 6e75   if `a` is a `nu
-000164e0: 6d70 7960 2061 7272 6179 2c20 605b 613b  mpy` array, `[a;
-000164f0: 2061 5d60 2069 7320 6571 7569 7661 6c65   a]` is equivale
-00016500: 6e74 2074 6f20 606e 702e 636f 6e63 6174  nt to `np.concat
-00016510: 656e 6174 6528 2861 2c20 6129 2c20 6178  enate((a, a), ax
-00016520: 6973 3d2d 3129 602c 2077 6869 6c65 2060  is=-1)`, while `
-00016530: 5b61 203b 3b20 615d 6020 776f 756c 6420  [a ;; a]` would 
-00016540: 6265 2065 7175 6976 616c 656e 7420 746f  be equivalent to
-00016550: 2061 2076 6572 7369 6f6e 206f 6620 606e   a version of `n
-00016560: 702e 636f 6e63 6174 656e 6174 6528 2861  p.concatenate((a
-00016570: 2c20 6129 2c20 6178 6973 3d2d 3229 6020  , a), axis=-2)` 
-00016580: 7468 6174 2061 6c73 6f20 656e 7375 7265  that also ensure
-00016590: 7320 7468 6174 2060 6160 2069 7320 6174  s that `a` is at
-000165a0: 206c 6561 7374 2074 776f 2064 696d 656e   least two dimen
-000165b0: 7369 6f6e 616c 2e20 466f 7220 6e6f 726d  sional. For norm
-000165c0: 616c 206c 6973 7473 206f 6620 6c69 7374  al lists of list
-000165d0: 732c 2074 6865 2062 6568 6176 696f 7220  s, the behavior 
-000165e0: 6973 2074 6865 2073 616d 652c 2062 7574  is the same, but
-000165f0: 2069 7320 696d 706c 656d 656e 7465 6420   is implemented 
-00016600: 7769 7468 6f75 7420 616e 7920 606e 756d  without any `num
-00016610: 7079 6020 6361 6c6c 732e 0a0a 4966 206d  py` calls...If m
-00016620: 756c 7469 706c 6520 6469 6666 6572 656e  ultiple differen
-00016630: 7420 636f 6e63 6174 656e 6174 696f 6e20  t concatenation 
-00016640: 6f70 6572 6174 6f72 7320 6172 6520 7573  operators are us
-00016650: 6564 2c20 7468 6520 6f70 6572 6174 6f72  ed, the operator
-00016660: 7320 7769 7468 2074 6865 206c 6561 7374  s with the least
-00016670: 206e 756d 6265 7220 6f66 2073 656d 6963   number of semic
-00016680: 6f6c 6f6e 7320 7769 6c6c 2062 696e 6420  olons will bind 
-00016690: 6d6f 7374 2074 6967 6874 6c79 2e20 5468  most tightly. Th
-000166a0: 7573 2c20 796f 7520 6361 6e20 7772 6974  us, you can writ
-000166b0: 6520 6120 3344 2061 7272 6179 206c 6974  e a 3D array lit
-000166c0: 6572 616c 2061 733a 0a60 6060 636f 636f  eral as:.```coco
-000166d0: 6e75 745f 7079 636f 6e0a 3e3e 3e20 5b31  nut_pycon.>>> [1
-000166e0: 2c20 3220 3b3b 0a20 2020 2020 332c 2034  , 2 ;;.     3, 4
-000166f0: 0a20 2020 2020 3b3b 3b0a 2020 2020 2035  .     ;;;.     5
-00016700: 2c20 3620 3b3b 0a20 2020 2020 372c 2038  , 6 ;;.     7, 8
-00016710: 5d0a 0a5b 5b5b 312c 2032 5d2c 205b 332c  ]..[[[1, 2], [3,
-00016720: 2034 5d5d 2c20 5b5b 352c 2036 5d2c 205b   4]], [[5, 6], [
-00016730: 372c 2038 5d5d 5d0a 6060 600a 0a23 2323  7, 8]]].```..###
-00016740: 2323 2043 6f6d 7061 7269 736f 6e20 746f  ## Comparison to
-00016750: 204a 756c 6961 0a0a 436f 636f 6e75 7427   Julia..Coconut'
-00016760: 7320 6d75 6c74 6964 696d 656e 7369 6f6e  s multidimension
-00016770: 616c 2061 7272 6179 2073 796e 7461 7820  al array syntax 
-00016780: 6973 2062 6173 6564 206f 6e20 7468 6174  is based on that
-00016790: 206f 6620 5b4a 756c 6961 5d28 6874 7470   of [Julia](http
-000167a0: 733a 2f2f 646f 6373 2e6a 756c 6961 6c61  s://docs.juliala
-000167b0: 6e67 2e6f 7267 2f65 6e2f 7631 2f6d 616e  ng.org/en/v1/man
-000167c0: 7561 6c2f 6172 7261 7973 2f23 6d61 6e2d  ual/arrays/#man-
-000167d0: 6172 7261 792d 6c69 7465 7261 6c73 292e  array-literals).
-000167e0: 2054 6865 2070 7269 6d61 7279 2064 6966   The primary dif
-000167f0: 6665 7265 6e63 6520 6265 7477 6565 6e20  ference between 
-00016800: 436f 636f 6e75 7427 7320 7379 6e74 6178  Coconut's syntax
-00016810: 2061 6e64 204a 756c 6961 2773 2073 796e   and Julia's syn
-00016820: 7461 7820 6973 2074 6861 7420 6d75 6c74  tax is that mult
-00016830: 6964 696d 656e 7369 6f6e 616c 2061 7272  idimensional arr
-00016840: 6179 7320 6172 6520 726f 772d 6669 7273  ays are row-firs
-00016850: 7420 696e 2043 6f63 6f6e 7574 2028 666f  t in Coconut (fo
-00016860: 6c6c 6f77 696e 6720 606e 756d 7079 6029  llowing `numpy`)
-00016870: 2c20 6275 7420 636f 6c75 6d6e 2d66 6972  , but column-fir
-00016880: 7374 2069 6e20 4a75 6c69 612e 2054 6875  st in Julia. Thu
-00016890: 732c 2060 3b60 2069 7320 7665 7274 6963  s, `;` is vertic
-000168a0: 616c 2063 6f6e 6361 7465 6e61 7469 6f6e  al concatenation
-000168b0: 2069 6e20 4a75 6c69 6120 6275 7420 2a2a   in Julia but **
-000168c0: 686f 7269 7a6f 6e74 616c 2063 6f6e 6361  horizontal conca
-000168d0: 7465 6e61 7469 6f6e 2a2a 2069 6e20 436f  tenation** in Co
-000168e0: 636f 6e75 7420 616e 6420 603b 3b60 2069  conut and `;;` i
-000168f0: 7320 686f 7269 7a6f 6e74 616c 2063 6f6e  s horizontal con
-00016900: 6361 7465 6e61 7469 6f6e 2069 6e20 4a75  catenation in Ju
-00016910: 6c69 6120 6275 7420 2a2a 7665 7274 6963  lia but **vertic
-00016920: 616c 2063 6f6e 6361 7465 6e61 7469 6f6e  al concatenation
-00016930: 2a2a 2069 6e20 436f 636f 6e75 742e 0a0a  ** in Coconut...
-00016940: 2323 2323 2320 4578 616d 706c 6573 0a0a  ##### Examples..
-00016950: 2a2a 436f 636f 6e75 743a 2a2a 0a60 6060  **Coconut:**.```
-00016960: 636f 636f 6e75 745f 7079 636f 6e0a 3e3e  coconut_pycon.>>
-00016970: 3e20 5b5b 313b 3b32 5d20 3b20 5b33 3b3b  > [[1;;2] ; [3;;
-00016980: 345d 5d0a 5b5b 312c 2033 5d2c 205b 322c  4]].[[1, 3], [2,
-00016990: 2034 5d5d 0a60 6060 0a5f 4172 7261 7920   4]].```._Array 
-000169a0: 6c69 7465 7261 6c73 2063 616e 2062 6520  literals can be 
-000169b0: 7772 6974 7465 6e20 696e 2063 6f6c 756d  written in colum
-000169c0: 6e2d 6669 7273 7420 6f72 6465 7220 6966  n-first order if
-000169d0: 2074 6865 2063 6f6c 756d 6e73 2061 7265   the columns are
-000169e0: 2066 6972 7374 2063 7265 6174 6564 2076   first created v
-000169f0: 6961 2076 6572 7469 6361 6c20 636f 6e63  ia vertical conc
-00016a00: 6174 656e 6174 696f 6e20 2860 3b3b 6029  atenation (`;;`)
-00016a10: 2061 6e64 2074 6865 6e20 6a6f 696e 6564   and then joined
-00016a20: 2076 6961 2068 6f72 697a 6f6e 7461 6c20   via horizontal 
-00016a30: 636f 6e63 6174 656e 6174 696f 6e20 2860  concatenation (`
-00016a40: 3b60 292e 5f0a 0a60 6060 636f 636f 6e75  ;`)._..```coconu
-00016a50: 745f 7079 636f 6e0a 3e3e 3e20 5b72 616e  t_pycon.>>> [ran
-00016a60: 6765 2833 2920 7c3e 206c 6973 7420 3b3b  ge(3) |> list ;;
-00016a70: 2078 2b31 2066 6f72 2078 2069 6e20 7261   x+1 for x in ra
-00016a80: 6e67 6528 3329 5d0a 5b5b 302c 2031 2c20  nge(3)].[[0, 1, 
-00016a90: 325d 2c20 5b31 2c20 322c 2033 5d5d 0a60  2], [1, 2, 3]].`
-00016aa0: 6060 0a5f 4172 6269 7472 6172 7920 6578  ``._Arbitrary ex
-00016ab0: 7072 6573 7369 6f6e 732c 2069 6e63 6c75  pressions, inclu
-00016ac0: 6469 6e67 2063 6f6d 7072 6568 656e 7369  ding comprehensi
-00016ad0: 6f6e 732c 2061 7265 2061 6c6c 6f77 6564  ons, are allowed
-00016ae0: 2069 6e20 6d75 6c74 6964 696d 656e 7369   in multidimensi
-00016af0: 6f6e 616c 2061 7272 6179 206c 6974 6572  onal array liter
-00016b00: 616c 732e 5f0a 0a60 6060 636f 636f 6e75  als._..```coconu
-00016b10: 745f 7079 636f 6e0a 3e3e 3e20 696d 706f  t_pycon.>>> impo
-00016b20: 7274 206e 756d 7079 2061 7320 6e70 0a3e  rt numpy as np.>
-00016b30: 3e3e 2061 203d 206e 702e 6172 7261 7928  >> a = np.array(
-00016b40: 5b31 2c20 3220 3b3b 2033 2c20 345d 290a  [1, 2 ;; 3, 4]).
-00016b50: 3e3e 3e20 5b61 203b 2061 5d0a 6172 7261  >>> [a ; a].arra
-00016b60: 7928 5b5b 312c 2032 2c20 312c 2032 5d2c  y([[1, 2, 1, 2],
-00016b70: 0a20 2020 2020 2020 5b33 2c20 342c 2033  .       [3, 4, 3
-00016b80: 2c20 345d 5d29 0a3e 3e3e 205b 6120 3b3b  , 4]]).>>> [a ;;
-00016b90: 2061 5d0a 6172 7261 7928 5b5b 312c 2032   a].array([[1, 2
-00016ba0: 5d2c 0a20 2020 2020 2020 5b33 2c20 345d  ],.       [3, 4]
-00016bb0: 2c0a 2020 2020 2020 205b 312c 2032 5d2c  ,.       [1, 2],
-00016bc0: 0a20 2020 2020 2020 5b33 2c20 345d 5d29  .       [3, 4]])
-00016bd0: 0a3e 3e3e 205b 6120 3b3b 3b20 615d 0a61  .>>> [a ;;; a].a
-00016be0: 7272 6179 285b 5b5b 312c 2032 5d2c 0a20  rray([[[1, 2],. 
-00016bf0: 2020 2020 2020 205b 332c 2034 5d5d 2c0a         [3, 4]],.
-00016c00: 0a20 2020 2020 2020 5b5b 312c 2032 5d2c  .       [[1, 2],
-00016c10: 0a20 2020 2020 2020 205b 332c 2034 5d5d  .        [3, 4]]
-00016c20: 5d29 0a60 6060 0a5f 4765 6e65 7261 6c20  ]).```._General 
-00016c30: 7368 6f77 6361 7365 206f 6620 686f 7720  showcase of how 
-00016c40: 7468 6520 6469 6666 6572 656e 7420 636f  the different co
-00016c50: 6e63 6174 656e 6174 696f 6e20 6f70 6572  ncatenation oper
-00016c60: 6174 6f72 7320 776f 726b 2075 7369 6e67  ators work using
-00016c70: 2060 6e75 6d70 7960 2061 7272 6179 732e   `numpy` arrays.
-00016c80: 5f0a 0a2a 2a50 7974 686f 6e3a 2a2a 205f  _..**Python:** _
-00016c90: 5468 6520 6571 7569 7661 6c65 6e74 2050  The equivalent P
-00016ca0: 7974 686f 6e20 6172 7261 7920 6c69 7465  ython array lite
-00016cb0: 7261 6c73 2063 616e 2062 6520 7365 656e  rals can be seen
-00016cc0: 2069 6e20 7468 6520 7072 696e 7465 6420   in the printed 
-00016cd0: 7265 7072 6573 656e 7461 7469 6f6e 7320  representations 
-00016ce0: 696e 2065 6163 6820 6578 616d 706c 652e  in each example.
-00016cf0: 5f0a 0a23 2323 204c 617a 7920 4c69 7374  _..### Lazy List
-00016d00: 730a 0a43 6f63 6f6e 7574 2073 7570 706f  s..Coconut suppo
-00016d10: 7274 7320 7468 6520 6372 6561 7469 6f6e  rts the creation
-00016d20: 206f 6620 6c61 7a79 206c 6973 7473 2c20   of lazy lists, 
-00016d30: 7768 6572 6520 7468 6520 636f 6e74 656e  where the conten
-00016d40: 7473 2069 6e20 7468 6520 6c69 7374 2077  ts in the list w
-00016d50: 696c 6c20 6265 2074 7265 6174 6564 2061  ill be treated a
-00016d60: 7320 616e 2069 7465 7261 746f 7220 616e  s an iterator an
-00016d70: 6420 6e6f 7420 6576 616c 7561 7465 6420  d not evaluated 
-00016d80: 756e 7469 6c20 7468 6579 2061 7265 206e  until they are n
-00016d90: 6565 6465 642e 2055 6e6c 696b 6520 6e6f  eeded. Unlike no
-00016da0: 726d 616c 2069 7465 7261 746f 7273 2c20  rmal iterators, 
-00016db0: 686f 7765 7665 722c 206c 617a 7920 6c69  however, lazy li
-00016dc0: 7374 7320 6361 6e20 6265 2069 7465 7261  sts can be itera
-00016dd0: 7465 6420 6f76 6572 206d 756c 7469 706c  ted over multipl
-00016de0: 6520 7469 6d65 7320 616e 6420 7374 696c  e times and stil
-00016df0: 6c20 7265 7475 726e 2074 6865 2073 616d  l return the sam
-00016e00: 6520 7265 7375 6c74 2e20 4c61 7a79 206c  e result. Lazy l
-00016e10: 6973 7473 2063 616e 2062 6520 6372 6561  ists can be crea
-00016e20: 7465 6420 696e 2043 6f63 6f6e 7574 2073  ted in Coconut s
-00016e30: 696d 706c 7920 6279 2073 7572 726f 756e  imply by surroun
-00016e40: 6469 6e67 2061 2063 6f6d 6d61 2d73 6570  ding a comma-sep
-00016e50: 6172 6174 6564 206c 6973 7420 6f66 2069  arated list of i
-00016e60: 7465 6d73 2077 6974 6820 6028 7c60 2061  tems with `(|` a
-00016e70: 6e64 2060 7c29 6020 2873 6f2d 6361 6c6c  nd `|)` (so-call
-00016e80: 6564 2022 6261 6e61 6e61 2062 7261 636b  ed "banana brack
-00016e90: 6574 7322 2920 696e 7374 6561 6420 6f66  ets") instead of
-00016ea0: 2060 5b60 2061 6e64 2060 5d60 2066 6f72   `[` and `]` for
-00016eb0: 2061 206c 6973 7420 6f72 2060 2860 2061   a list or `(` a
-00016ec0: 6e64 2060 2960 2066 6f72 2061 2074 7570  nd `)` for a tup
-00016ed0: 6c65 2e0a 0a4c 617a 7920 6c69 7374 7320  le...Lazy lists 
-00016ee0: 7573 6520 5b72 6569 7465 7261 626c 655d  use [reiterable]
-00016ef0: 2823 7265 6974 6572 6162 6c65 2920 756e  (#reiterable) un
-00016f00: 6465 7220 7468 6520 686f 6f64 2074 6f20  der the hood to 
-00016f10: 656e 6162 6c65 2074 6865 6d20 746f 2062  enable them to b
-00016f20: 6520 6974 6572 6174 6564 206f 7665 7220  e iterated over 
-00016f30: 6d75 6c74 6970 6c65 2074 696d 6573 2e20  multiple times. 
-00016f40: 4c61 7a79 206c 6973 7473 2077 696c 6c20  Lazy lists will 
-00016f50: 6576 656e 2063 6f6e 7469 6e75 6520 746f  even continue to
-00016f60: 2062 6520 7265 6974 6572 6162 6c65 2077   be reiterable w
-00016f70: 6865 6e20 636f 6d62 696e 6564 2077 6974  hen combined wit
-00016f80: 6820 5b6c 617a 7920 6368 6169 6e69 6e67  h [lazy chaining
-00016f90: 5d28 2369 7465 7261 746f 722d 6368 6169  ](#iterator-chai
-00016fa0: 6e69 6e67 292e 0a0a 2323 2323 2320 5261  ning)...##### Ra
-00016fb0: 7469 6f6e 616c 650a 0a4c 617a 7920 6c69  tionale..Lazy li
-00016fc0: 7374 732c 2077 6865 7265 2073 6571 7565  sts, where seque
-00016fd0: 6e63 6573 2061 7265 206f 6e6c 7920 6576  nces are only ev
-00016fe0: 616c 7561 7465 6420 7768 656e 2074 6865  aluated when the
-00016ff0: 6972 2063 6f6e 7465 6e74 7320 6172 6520  ir contents are 
-00017000: 7265 7175 6573 7465 642c 2061 7265 2061  requested, are a
-00017010: 206d 6169 6e73 7461 7920 6f66 2066 756e   mainstay of fun
-00017020: 6374 696f 6e61 6c20 7072 6f67 7261 6d6d  ctional programm
-00017030: 696e 672c 2061 6c6c 6f77 696e 6720 666f  ing, allowing fo
-00017040: 7220 6479 6e61 6d69 6320 6576 616c 7561  r dynamic evalua
-00017050: 7469 6f6e 206f 6620 7468 6520 6c69 7374  tion of the list
-00017060: 2773 2063 6f6e 7465 6e74 732e 0a0a 2323  's contents...##
-00017070: 2323 2320 4578 616d 706c 650a 0a2a 2a43  ### Example..**C
-00017080: 6f63 6f6e 7574 3a2a 2a0a 6060 6063 6f63  oconut:**.```coc
-00017090: 6f6e 7574 0a28 7c20 7072 696e 7428 2268  onut.(| print("h
-000170a0: 656c 6c6f 2c22 292c 2070 7269 6e74 2822  ello,"), print("
-000170b0: 776f 726c 6421 2229 207c 2920 7c3e 2063  world!") |) |> c
-000170c0: 6f6e 7375 6d65 0a60 6060 0a0a 2a2a 5079  onsume.```..**Py
-000170d0: 7468 6f6e 3a2a 2a0a 5f43 616e 2774 2062  thon:**._Can't b
-000170e0: 6520 646f 6e65 2077 6974 686f 7574 2061  e done without a
-000170f0: 2063 6f6d 706c 6963 6174 6564 2069 7465   complicated ite
-00017100: 7261 746f 7220 636f 6d70 7265 6865 6e73  rator comprehens
-00017110: 696f 6e20 696e 2070 6c61 6365 206f 6620  ion in place of 
-00017120: 7468 6520 6c61 7a79 206c 6973 742e 2053  the lazy list. S
-00017130: 6565 2074 6865 2063 6f6d 7069 6c65 6420  ee the compiled 
-00017140: 636f 6465 2066 6f72 2074 6865 2050 7974  code for the Pyt
-00017150: 686f 6e20 7379 6e74 6178 2e5f 0a0a 2323  hon syntax._..##
-00017160: 2320 496d 706c 6963 6974 2046 756e 6374  # Implicit Funct
-00017170: 696f 6e20 4170 706c 6963 6174 696f 6e20  ion Application 
-00017180: 616e 6420 436f 6566 6669 6369 656e 7473  and Coefficients
-00017190: 0a0a 436f 636f 6e75 7420 7375 7070 6f72  ..Coconut suppor
-000171a0: 7473 2069 6d70 6c69 6369 7420 6675 6e63  ts implicit func
-000171b0: 7469 6f6e 2061 7070 6c69 6361 7469 6f6e  tion application
-000171c0: 206f 6620 7468 6520 666f 726d 2060 6620   of the form `f 
-000171d0: 7820 7960 2c20 7768 6963 6820 6973 2063  x y`, which is c
-000171e0: 6f6d 7069 6c65 6420 746f 2060 6628 782c  ompiled to `f(x,
-000171f0: 2079 2960 2028 6e6f 7465 3a20 2a2a 6e6f   y)` (note: **no
-00017200: 742a 2a20 6066 2878 2928 7929 6020 6173  t** `f(x)(y)` as
-00017210: 2069 7320 636f 6d6d 6f6e 2069 6e20 6d61   is common in ma
-00017220: 6e79 206c 616e 6775 6167 6573 2077 6974  ny languages wit
-00017230: 6820 6175 746f 6d61 7469 6320 6375 7272  h automatic curr
-00017240: 7969 6e67 292e 0a0a 4164 6469 7469 6f6e  ying)...Addition
-00017250: 616c 6c79 2c20 6966 2074 6865 2066 6972  ally, if the fir
-00017260: 7374 2061 7267 756d 656e 7420 6973 206e  st argument is n
-00017270: 6f74 2063 616c 6c61 626c 652c 2061 6e64  ot callable, and
-00017280: 2069 7320 696e 7374 6561 6420 616e 2060   is instead an `
-00017290: 696e 7460 2c20 6066 6c6f 6174 602c 2060  int`, `float`, `
-000172a0: 636f 6d70 6c65 7860 2c20 6f72 205b 606e  complex`, or [`n
-000172b0: 756d 7079 605d 2823 6e75 6d70 792d 696e  umpy`](#numpy-in
-000172c0: 7465 6772 6174 696f 6e29 206f 626a 6563  tegration) objec
-000172d0: 742c 2074 6865 6e20 7468 6520 7265 7375  t, then the resu
-000172e0: 6c74 2069 7320 6d75 6c74 6970 6c69 6361  lt is multiplica
-000172f0: 7469 6f6e 2072 6174 6865 7220 7468 616e  tion rather than
-00017300: 2066 756e 6374 696f 6e20 6170 706c 6963   function applic
-00017310: 6174 696f 6e2c 2073 7563 6820 7468 6174  ation, such that
-00017320: 2060 3220 7860 2069 7320 6571 7569 7661   `2 x` is equiva
-00017330: 6c65 6e74 2074 6f20 6032 2a78 602e 0a0a  lent to `2*x`...
-00017340: 5468 6f75 6768 2074 6865 2066 6972 7374  Though the first
-00017350: 2069 7465 6d20 6d61 7920 6265 2061 6e79   item may be any
-00017360: 2061 746f 6d2c 2066 6f6c 6c6f 7769 6e67   atom, following
-00017370: 2061 7267 756d 656e 7473 2061 7265 2068   arguments are h
-00017380: 6967 686c 7920 7265 7374 7269 6374 6564  ighly restricted
-00017390: 2c20 616e 6420 6d75 7374 2062 653a 0a2d  , and must be:.-
-000173a0: 2076 6172 6961 626c 6573 2f61 7474 7269   variables/attri
-000173b0: 6275 7465 7320 2865 2e67 2e20 6061 2e62  butes (e.g. `a.b
-000173c0: 6029 2c0a 2d20 6c69 7465 7261 6c20 636f  `),.- literal co
-000173d0: 6e73 7461 6e74 7320 2865 2e67 2e20 6054  nstants (e.g. `T
-000173e0: 7275 6560 292c 0a2d 206e 756d 6265 7220  rue`),.- number 
-000173f0: 6c69 7465 7261 6c73 2028 652e 672e 2060  literals (e.g. `
-00017400: 312e 3560 292c 206f 720a 2d20 6f6e 6520  1.5`), or.- one 
-00017410: 6f66 2074 6865 2061 626f 7665 2066 6f6c  of the above fol
-00017420: 6c6f 7765 6420 6279 2061 6e20 6578 706f  lowed by an expo
-00017430: 6e65 6e74 2028 652e 672e 2060 612a 2a2d  nent (e.g. `a**-
-00017440: 3560 292e 0a0a 466f 7220 6578 616d 706c  5`)...For exampl
-00017450: 652c 2060 2866 202e 2e20 6729 2078 2031  e, `(f .. g) x 1
-00017460: 6020 7769 6c6c 2077 6f72 6b2c 2062 7574  ` will work, but
-00017470: 2060 6620 7820 5b31 5d60 2c20 6066 2078   `f x [1]`, `f x
-00017480: 2028 312b 3229 602c 2061 6e64 2060 6620   (1+2)`, and `f 
-00017490: 2261 6263 2260 2077 696c 6c20 6e6f 742e  "abc"` will not.
-000174a0: 0a0a 496d 706c 6963 6974 2066 756e 6374  ..Implicit funct
-000174b0: 696f 6e20 6170 706c 6963 6174 696f 6e20  ion application 
-000174c0: 616e 6420 636f 6566 6669 6369 656e 7420  and coefficient 
-000174d0: 7379 6e74 6178 2069 7320 6f6e 6c79 2069  syntax is only i
-000174e0: 6e74 656e 6465 6420 666f 7220 7369 6d70  ntended for simp
-000174f0: 6c65 2075 7365 2063 6173 6573 2e20 466f  le use cases. Fo
-00017500: 7220 6d6f 7265 2063 6f6d 706c 6578 2063  r more complex c
-00017510: 6173 6573 2c20 7573 6520 7468 6520 7374  ases, use the st
-00017520: 616e 6461 7264 206d 756c 7469 706c 6963  andard multiplic
-00017530: 6174 696f 6e20 6f70 6572 6174 6f72 2060  ation operator `
-00017540: 2a60 2c20 7374 616e 6461 7264 2066 756e  *`, standard fun
-00017550: 6374 696f 6e20 6170 706c 6963 6174 696f  ction applicatio
-00017560: 6e2c 206f 7220 5b70 6970 6573 5d28 2370  n, or [pipes](#p
-00017570: 6970 6573 292e 0a0a 496d 706c 6963 6974  ipes)...Implicit
-00017580: 2066 756e 6374 696f 6e20 6170 706c 6963   function applic
-00017590: 6174 696f 6e20 616e 6420 636f 6566 6669  ation and coeffi
-000175a0: 6369 656e 7420 7379 6e74 6178 2068 6173  cient syntax has
-000175b0: 2061 206c 6f77 6572 2070 7265 6365 6465   a lower precede
-000175c0: 6e63 6520 7468 616e 2060 2a2a 6020 6275  nce than `**` bu
-000175d0: 7420 6120 6869 6768 6572 2070 7265 6365  t a higher prece
-000175e0: 6465 6e63 6520 7468 616e 2075 6e61 7279  dence than unary
-000175f0: 206f 7065 7261 746f 7273 2e20 4173 2061   operators. As a
-00017600: 2072 6573 756c 742c 2060 3220 782a 2a32   result, `2 x**2
-00017610: 202b 2033 2078 6020 6973 2065 7175 6976   + 3 x` is equiv
-00017620: 616c 656e 7420 746f 2060 3220 2a20 782a  alent to `2 * x*
-00017630: 2a32 202b 2033 202a 2078 602e 0a0a 4475  *2 + 3 * x`...Du
-00017640: 6520 746f 2070 6f74 656e 7469 616c 2063  e to potential c
-00017650: 6f6e 6675 7369 6f6e 2c20 736f 6d65 2073  onfusion, some s
-00017660: 796e 7461 6374 6963 2063 6f6e 7374 7275  yntactic constru
-00017670: 6374 7320 6172 6520 6578 706c 6963 6974  cts are explicit
-00017680: 6c79 2064 6973 616c 6c6f 7765 6420 696e  ly disallowed in
-00017690: 2069 6d70 6c69 6369 7420 6675 6e63 7469   implicit functi
-000176a0: 6f6e 2061 7070 6c69 6361 7469 6f6e 2061  on application a
-000176b0: 6e64 2063 6f65 6666 6963 6965 6e74 2073  nd coefficient s
-000176c0: 796e 7461 782e 2053 7065 6369 6669 6361  yntax. Specifica
-000176d0: 6c6c 793a 0a2d 2053 7472 696e 6773 2061  lly:.- Strings a
-000176e0: 7265 2061 6c77 6179 7320 6469 7361 6c6c  re always disall
-000176f0: 6f77 6564 2065 7665 7279 7768 6572 6520  owed everywhere 
-00017700: 696e 2069 6d70 6c69 6369 7420 6675 6e63  in implicit func
-00017710: 7469 6f6e 2061 7070 6c69 6361 7469 6f6e  tion application
-00017720: 202f 2063 6f65 6666 6963 6965 6e74 2073   / coefficient s
-00017730: 796e 7461 7820 6475 6520 746f 2063 6f6e  yntax due to con
-00017740: 666c 6963 7469 6e67 2077 6974 6820 5b50  flicting with [P
-00017750: 7974 686f 6e27 7320 696d 706c 6963 6974  ython's implicit
-00017760: 2073 7472 696e 6720 636f 6e63 6174 656e   string concaten
-00017770: 6174 696f 6e5d 2868 7474 7073 3a2f 2f73  ation](https://s
-00017780: 7461 636b 6f76 6572 666c 6f77 2e63 6f6d  tackoverflow.com
-00017790: 2f71 7565 7374 696f 6e73 2f31 3838 3432  /questions/18842
-000177a0: 3737 392f 7374 7269 6e67 2d63 6f6e 6361  779/string-conca
-000177b0: 7465 6e61 7469 6f6e 2d77 6974 686f 7574  tenation-without
-000177c0: 2d6f 7065 7261 746f 7229 2e0a 2d20 4d75  -operator)..- Mu
-000177d0: 6c74 6970 6c79 696e 6720 7477 6f20 6f72  ltiplying two or
-000177e0: 206d 6f72 6520 6e75 6d65 7269 6320 6c69   more numeric li
-000177f0: 7465 7261 6c73 2077 6974 6820 696d 706c  terals with impl
-00017800: 6963 6974 2063 6f65 6666 6963 6965 6e74  icit coefficient
-00017810: 2073 796e 7461 7820 6973 2070 726f 6869   syntax is prohi
-00017820: 6269 7465 642c 2073 6f20 6031 3020 3230  bited, so `10 20
-00017830: 6020 6973 206e 6f74 2061 6c6c 6f77 6564  ` is not allowed
-00017840: 2e0a 2d20 6061 7761 6974 6020 6973 206e  ..- `await` is n
-00017850: 6f74 2061 6c6c 6f77 6564 2069 6e20 6672  ot allowed in fr
-00017860: 6f6e 7420 6f66 2069 6d70 6c69 6369 7420  ont of implicit 
-00017870: 6675 6e63 7469 6f6e 2061 7070 6c69 6361  function applica
-00017880: 7469 6f6e 2061 6e64 2063 6f65 6666 6963  tion and coeffic
-00017890: 6965 6e74 2073 796e 7461 782e 2054 6f20  ient syntax. To 
-000178a0: 7573 6520 6061 7761 6974 602c 2073 696d  use `await`, sim
-000178b0: 706c 7920 7061 7265 6e74 6865 7369 7a65  ply parenthesize
-000178c0: 2074 6865 2065 7870 7265 7373 696f 6e2c   the expression,
-000178d0: 2061 7320 696e 2060 6177 6169 7420 2866   as in `await (f
-000178e0: 2078 2960 2e0a 0a23 2323 2323 2045 7861   x)`...##### Exa
-000178f0: 6d70 6c65 730a 0a2a 2a43 6f63 6f6e 7574  mples..**Coconut
-00017900: 3a2a 2a0a 6060 6063 6f63 6f6e 7574 0a64  :**.```coconut.d
-00017910: 6566 2066 2878 2c20 7929 203d 2028 782c  ef f(x, y) = (x,
-00017920: 2079 290a 7072 696e 7428 6620 3520 3130   y).print(f 5 10
-00017930: 290a 6060 600a 0a60 6060 636f 636f 6e75  ).```..```coconu
-00017940: 740a 6465 6620 7031 2878 2920 3d20 7820  t.def p1(x) = x 
-00017950: 2b20 310a 7072 696e 7420 3c7c 2070 3120  + 1.print <| p1 
-00017960: 350a 6060 600a 0a60 6060 636f 636f 6e75  5.```..```coconu
-00017970: 740a 7175 6164 203d 2035 2078 2a2a 3220  t.quad = 5 x**2 
-00017980: 2b20 3320 7820 2b20 310a 6060 600a 0a2a  + 3 x + 1.```..*
-00017990: 2a50 7974 686f 6e3a 2a2a 0a60 6060 636f  *Python:**.```co
-000179a0: 636f 6e75 745f 7079 7468 6f6e 0a64 6566  conut_python.def
-000179b0: 2066 2878 2c20 7929 3a20 7265 7475 726e   f(x, y): return
-000179c0: 2028 782c 2079 290a 7072 696e 7428 6628   (x, y).print(f(
-000179d0: 3130 302c 2035 2b36 2929 0a60 6060 0a0a  100, 5+6)).```..
-000179e0: 6060 6063 6f63 6f6e 7574 5f70 7974 686f  ```coconut_pytho
-000179f0: 6e0a 6465 6620 7031 2878 293a 2072 6574  n.def p1(x): ret
-00017a00: 7572 6e20 7820 2b20 310a 7072 696e 7428  urn x + 1.print(
-00017a10: 7031 2835 2929 0a60 6060 0a0a 6060 6063  p1(5)).```..```c
-00017a20: 6f63 6f6e 7574 5f70 7974 686f 6e0a 7175  oconut_python.qu
-00017a30: 6164 203d 2035 202a 2078 2a2a 3220 2b20  ad = 5 * x**2 + 
-00017a40: 3320 2a20 7820 2b20 310a 6060 600a 0a23  3 * x + 1.```..#
-00017a50: 2323 2041 6e6f 6e79 6d6f 7573 204e 616d  ## Anonymous Nam
-00017a60: 6564 7475 706c 6573 0a0a 436f 636f 6e75  edtuples..Coconu
-00017a70: 7420 7375 7070 6f72 7473 2061 6e6f 6e79  t supports anony
-00017a80: 6d6f 7573 205b 606e 616d 6564 7475 706c  mous [`namedtupl
-00017a90: 6560 5d28 6874 7470 733a 2f2f 646f 6373  e`](https://docs
-00017aa0: 2e70 7974 686f 6e2e 6f72 672f 332f 6c69  .python.org/3/li
-00017ab0: 6272 6172 792f 636f 6c6c 6563 7469 6f6e  brary/collection
-00017ac0: 732e 6874 6d6c 2363 6f6c 6c65 6374 696f  s.html#collectio
-00017ad0: 6e73 2e6e 616d 6564 7475 706c 6529 206c  ns.namedtuple) l
-00017ae0: 6974 6572 616c 732c 2073 7563 6820 7468  iterals, such th
-00017af0: 6174 2060 2861 3d31 2c20 623d 3229 6020  at `(a=1, b=2)` 
-00017b00: 6361 6e20 6265 2075 7365 6420 6a75 7374  can be used just
-00017b10: 2061 7320 6028 312c 2032 2960 2c20 6275   as `(1, 2)`, bu
-00017b20: 7420 7769 7468 2061 6464 6564 206e 616d  t with added nam
-00017b30: 6573 2e20 416e 6f6e 796d 6f75 7320 606e  es. Anonymous `n
-00017b40: 616d 6564 7475 706c 6560 7320 6172 6520  amedtuple`s are 
-00017b50: 616c 7761 7973 2070 6963 6b6c 6561 626c  always pickleabl
-00017b60: 652e 0a0a 5468 6520 7379 6e74 6178 2066  e...The syntax f
-00017b70: 6f72 2061 6e6f 6e79 6d6f 7573 206e 616d  or anonymous nam
-00017b80: 6564 7475 706c 6520 6c69 7465 7261 6c73  edtuple literals
-00017b90: 2069 733a 0a60 6060 636f 636f 6e75 740a   is:.```coconut.
-00017ba0: 283c 6e61 6d65 3e20 5b3a 203c 7479 7065  (<name> [: <type
-00017bb0: 3e5d 203d 203c 7661 6c75 653e 2c20 2e2e  >] = <value>, ..
-00017bc0: 2e29 0a60 6060 0a77 6865 7265 2c20 6966  .).```.where, if
-00017bd0: 2060 3c74 7970 653e 6020 6973 2067 6976   `<type>` is giv
-00017be0: 656e 2066 6f72 2061 6e79 2066 6965 6c64  en for any field
-00017bf0: 2c20 5b60 7479 7069 6e67 2e4e 616d 6564  , [`typing.Named
-00017c00: 5475 706c 6560 5d28 6874 7470 733a 2f2f  Tuple`](https://
-00017c10: 646f 6373 2e70 7974 686f 6e2e 6f72 672f  docs.python.org/
-00017c20: 332f 6c69 6272 6172 792f 7479 7069 6e67  3/library/typing
-00017c30: 2e68 746d 6c23 7479 7069 6e67 2e4e 616d  .html#typing.Nam
-00017c40: 6564 5475 706c 6529 2069 7320 7573 6564  edTuple) is used
-00017c50: 2069 6e73 7465 6164 206f 6620 6063 6f6c   instead of `col
-00017c60: 6c65 6374 696f 6e73 2e6e 616d 6564 7475  lections.namedtu
-00017c70: 706c 6560 2e0a 0a23 2323 2323 2060 5f6e  ple`...##### `_n
-00017c80: 616d 6564 7475 706c 655f 6f66 600a 0a4f  amedtuple_of`..O
-00017c90: 6e20 5079 7468 6f6e 2076 6572 7369 6f6e  n Python version
-00017ca0: 7320 603e 3d33 2e36 602c 2060 5f6e 616d  s `>=3.6`, `_nam
-00017cb0: 6564 7475 706c 655f 6f66 6020 6973 2070  edtuple_of` is p
-00017cc0: 726f 7669 6465 6420 6173 2061 2062 7569  rovided as a bui
-00017cd0: 6c74 2d69 6e20 7468 6174 2063 616e 206d  lt-in that can m
-00017ce0: 696d 6963 2074 6865 2062 6568 6176 696f  imic the behavio
-00017cf0: 7220 6f66 2061 6e6f 6e79 6d6f 7573 206e  r of anonymous n
-00017d00: 616d 6564 7475 706c 6520 6c69 7465 7261  amedtuple litera
-00017d10: 6c73 2073 7563 6820 7468 6174 2060 5f6e  ls such that `_n
-00017d20: 616d 6564 7475 706c 655f 6f66 2861 3d31  amedtuple_of(a=1
-00017d30: 2c20 623d 3229 6020 6973 2065 7175 6976  , b=2)` is equiv
-00017d40: 616c 656e 7420 746f 2060 2861 3d31 2c20  alent to `(a=1, 
-00017d50: 623d 3229 602e 2053 696e 6365 2060 5f6e  b=2)`. Since `_n
-00017d60: 616d 6564 7475 706c 655f 6f66 6020 6973  amedtuple_of` is
-00017d70: 206f 6e6c 7920 6176 6169 6c61 626c 6520   only available 
-00017d80: 6f6e 2050 7974 686f 6e20 332e 3620 616e  on Python 3.6 an
-00017d90: 6420 6162 6f76 652c 2068 6f77 6576 6572  d above, however
-00017da0: 2c20 6974 2069 7320 6765 6e65 7261 6c6c  , it is generall
-00017db0: 7920 7265 636f 6d6d 656e 6465 6420 746f  y recommended to
-00017dc0: 2075 7365 2061 6e6f 6e79 6d6f 7573 206e   use anonymous n
-00017dd0: 616d 6564 7475 706c 6520 6c69 7465 7261  amedtuple litera
-00017de0: 6c73 2069 6e73 7465 6164 2c20 6173 2074  ls instead, as t
-00017df0: 6865 7920 776f 726b 206f 6e20 616e 7920  hey work on any 
-00017e00: 5079 7468 6f6e 2076 6572 7369 6f6e 2e0a  Python version..
-00017e10: 0a5f 605f 6e61 6d65 6474 7570 6c65 5f6f  ._`_namedtuple_o
-00017e20: 6660 2069 7320 6a75 7374 2070 726f 7669  f` is just provi
-00017e30: 6465 6420 746f 2067 6976 6520 6e61 6d65  ded to give name
-00017e40: 6474 7570 6c65 206c 6974 6572 616c 7320  dtuple literals 
-00017e50: 6120 7265 7072 6573 656e 7461 7469 6f6e  a representation
-00017e60: 2074 6861 7420 636f 7272 6573 706f 6e64   that correspond
-00017e70: 7320 746f 2061 6e20 6578 7072 6573 7369  s to an expressi
-00017e80: 6f6e 2074 6861 7420 6361 6e20 6265 2075  on that can be u
-00017e90: 7365 6420 746f 2072 6563 7265 6174 6520  sed to recreate 
-00017ea0: 7468 656d 2e5f 0a0a 2323 2323 2320 4578  them._..##### Ex
-00017eb0: 616d 706c 650a 0a2a 2a43 6f63 6f6e 7574  ample..**Coconut
-00017ec0: 3a2a 2a0a 6060 6063 6f63 6f6e 7574 0a75  :**.```coconut.u
-00017ed0: 7365 7273 203d 205b 0a20 2020 2028 6964  sers = [.    (id
-00017ee0: 3d31 2c20 6e61 6d65 3d22 416c 6963 6522  =1, name="Alice"
-00017ef0: 292c 0a20 2020 2028 6964 3d32 2c20 6e61  ),.    (id=2, na
-00017f00: 6d65 3d22 426f 6222 292c 0a5d 0a60 6060  me="Bob"),.].```
-00017f10: 0a0a 2a2a 5079 7468 6f6e 3a2a 2a0a 6060  ..**Python:**.``
-00017f20: 6063 6f63 6f6e 7574 5f70 7974 686f 6e0a  `coconut_python.
-00017f30: 6672 6f6d 2063 6f6c 6c65 6374 696f 6e73  from collections
-00017f40: 2069 6d70 6f72 7420 6e61 6d65 6474 7570   import namedtup
-00017f50: 6c65 0a0a 7573 6572 7320 3d20 5b0a 2020  le..users = [.  
-00017f60: 2020 6e61 6d65 6474 7570 6c65 2822 5f22    namedtuple("_"
-00017f70: 2c20 2269 642c 206e 616d 6522 2928 312c  , "id, name")(1,
-00017f80: 2022 416c 6963 6522 292c 0a20 2020 206e   "Alice"),.    n
-00017f90: 616d 6564 7475 706c 6528 225f 222c 2022  amedtuple("_", "
-00017fa0: 6964 2c20 6e61 6d65 2229 2832 2c20 2242  id, name")(2, "B
-00017fb0: 6f62 2229 2c0a 5d0a 6060 600a 0a23 2323  ob"),.].```..###
-00017fc0: 2053 6574 204c 6974 6572 616c 730a 0a43   Set Literals..C
-00017fd0: 6f63 6f6e 7574 2061 6c6c 6f77 7320 616e  oconut allows an
-00017fe0: 206f 7074 696f 6e61 6c20 6073 6020 746f   optional `s` to
-00017ff0: 2062 6520 7072 6570 656e 6465 6420 696e   be prepended in
-00018000: 2066 726f 6e74 206f 6620 5079 7468 6f6e   front of Python
-00018010: 2073 6574 206c 6974 6572 616c 732e 2057   set literals. W
-00018020: 6869 6c65 2069 6e20 6d6f 7374 2063 6173  hile in most cas
-00018030: 6573 2074 6869 7320 646f 6573 206e 6f74  es this does not
-00018040: 6869 6e67 2c20 696e 2074 6865 2063 6173  hing, in the cas
-00018050: 6520 6f66 2074 6865 2065 6d70 7479 2073  e of the empty s
-00018060: 6574 2069 7420 6c65 7473 2043 6f63 6f6e  et it lets Cocon
-00018070: 7574 206b 6e6f 7720 7468 6174 2069 7420  ut know that it 
-00018080: 6973 2061 6e20 656d 7074 7920 7365 7420  is an empty set 
-00018090: 616e 6420 6e6f 7420 616e 2065 6d70 7479  and not an empty
-000180a0: 2064 6963 7469 6f6e 6172 792e 2053 6574   dictionary. Set
-000180b0: 206c 6974 6572 616c 7320 616c 736f 2073   literals also s
-000180c0: 7570 706f 7274 2075 6e70 6163 6b69 6e67  upport unpacking
-000180d0: 2073 796e 7461 7820 2865 2e67 2e20 6073   syntax (e.g. `s
-000180e0: 7b2a 7873 7d60 292e 0a0a 4164 6469 7469  {*xs}`)...Additi
-000180f0: 6f6e 616c 6c79 2c20 436f 636f 6e75 7420  onally, Coconut 
-00018100: 616c 736f 2073 7570 706f 7274 7320 7265  also supports re
-00018110: 706c 6163 696e 6720 7468 6520 6073 6020  placing the `s` 
-00018120: 7769 7468 2061 6e20 6066 6020 746f 2067  with an `f` to g
-00018130: 656e 6572 6174 6520 6120 6066 726f 7a65  enerate a `froze
-00018140: 6e73 6574 6020 6f72 2061 6e20 606d 6020  nset` or an `m` 
-00018150: 746f 2067 656e 6572 6174 6520 6120 436f  to generate a Co
-00018160: 636f 6e75 7420 5b60 6d75 6c74 6973 6574  conut [`multiset
-00018170: 605d 2823 6d75 6c74 6973 6574 292e 0a0a  `](#multiset)...
-00018180: 2323 2323 2320 4578 616d 706c 650a 0a2a  ##### Example..*
-00018190: 2a43 6f63 6f6e 7574 3a2a 2a0a 6060 6063  *Coconut:**.```c
-000181a0: 6f63 6f6e 7574 0a65 6d70 7479 5f66 726f  oconut.empty_fro
-000181b0: 7a65 6e5f 7365 7420 3d20 667b 7d0a 6060  zen_set = f{}.``
-000181c0: 600a 0a2a 2a50 7974 686f 6e3a 2a2a 0a60  `..**Python:**.`
-000181d0: 6060 636f 636f 6e75 745f 7079 7468 6f6e  ``coconut_python
-000181e0: 0a65 6d70 7479 5f66 726f 7a65 6e5f 7365  .empty_frozen_se
-000181f0: 7420 3d20 6672 6f7a 656e 7365 7428 290a  t = frozenset().
-00018200: 6060 600a 0a23 2323 2049 6d61 6769 6e61  ```..### Imagina
-00018210: 7279 204c 6974 6572 616c 730a 0a49 6e20  ry Literals..In 
-00018220: 6164 6469 7469 6f6e 2074 6f20 5079 7468  addition to Pyth
-00018230: 6f6e 2773 2060 3c6e 756d 3e6a 6020 6f72  on's `<num>j` or
-00018240: 2060 3c6e 756d 3e4a 6020 6e6f 7461 7469   `<num>J` notati
-00018250: 6f6e 2066 6f72 2069 6d61 6769 6e61 7279  on for imaginary
-00018260: 206c 6974 6572 616c 732c 2043 6f63 6f6e   literals, Cocon
-00018270: 7574 2061 6c73 6f20 7375 7070 6f72 7473  ut also supports
-00018280: 2060 3c6e 756d 3e69 6020 6f72 2060 3c6e   `<num>i` or `<n
-00018290: 756d 3e49 602c 2074 6f20 6d61 6b65 2069  um>I`, to make i
-000182a0: 6d61 6769 6e61 7279 206c 6974 6572 616c  maginary literal
-000182b0: 7320 6d6f 7265 2072 6561 6461 626c 6520  s more readable 
-000182c0: 6966 2075 7365 6420 696e 2061 206d 6174  if used in a mat
-000182d0: 6865 6d61 7469 6361 6c20 636f 6e74 6578  hematical contex
-000182e0: 742e 0a0a 2323 2323 2320 5079 7468 6f6e  t...##### Python
-000182f0: 2044 6f63 730a 0a49 6d61 6769 6e61 7279   Docs..Imaginary
-00018300: 206c 6974 6572 616c 7320 6172 6520 6465   literals are de
-00018310: 7363 7269 6265 6420 6279 2074 6865 2066  scribed by the f
-00018320: 6f6c 6c6f 7769 6e67 206c 6578 6963 616c  ollowing lexical
-00018330: 2064 6566 696e 6974 696f 6e73 3a0a 6060   definitions:.``
-00018340: 6063 6f63 6f6e 7574 0a69 6d61 676e 756d  `coconut.imagnum
-00018350: 6265 7220 3a3a 3d20 2866 6c6f 6174 6e75  ber ::= (floatnu
-00018360: 6d62 6572 207c 2069 6e74 7061 7274 2920  mber | intpart) 
-00018370: 2822 6a22 207c 2022 4a22 207c 2022 6922  ("j" | "J" | "i"
-00018380: 207c 2022 4922 290a 6060 600a 416e 2069   | "I").```.An i
-00018390: 6d61 6769 6e61 7279 206c 6974 6572 616c  maginary literal
-000183a0: 2079 6965 6c64 7320 6120 636f 6d70 6c65   yields a comple
-000183b0: 7820 6e75 6d62 6572 2077 6974 6820 6120  x number with a 
-000183c0: 7265 616c 2070 6172 7420 6f66 2030 2e30  real part of 0.0
-000183d0: 2e20 436f 6d70 6c65 7820 6e75 6d62 6572  . Complex number
-000183e0: 7320 6172 6520 7265 7072 6573 656e 7465  s are represente
-000183f0: 6420 6173 2061 2070 6169 7220 6f66 2066  d as a pair of f
-00018400: 6c6f 6174 696e 6720 706f 696e 7420 6e75  loating point nu
-00018410: 6d62 6572 7320 616e 6420 6861 7665 2074  mbers and have t
-00018420: 6865 2073 616d 6520 7265 7374 7269 6374  he same restrict
-00018430: 696f 6e73 206f 6e20 7468 6569 7220 7261  ions on their ra
-00018440: 6e67 652e 2054 6f20 6372 6561 7465 2061  nge. To create a
-00018450: 2063 6f6d 706c 6578 206e 756d 6265 7220   complex number 
-00018460: 7769 7468 2061 206e 6f6e 7a65 726f 2072  with a nonzero r
-00018470: 6561 6c20 7061 7274 2c20 6164 6420 6120  eal part, add a 
-00018480: 666c 6f61 7469 6e67 2070 6f69 6e74 206e  floating point n
-00018490: 756d 6265 7220 746f 2069 742c 2065 2e67  umber to it, e.g
-000184a0: 2e2c 2060 2833 2b34 6929 602e 2053 6f6d  ., `(3+4i)`. Som
-000184b0: 6520 6578 616d 706c 6573 206f 6620 696d  e examples of im
-000184c0: 6167 696e 6172 7920 6c69 7465 7261 6c73  aginary literals
-000184d0: 3a0a 6060 6063 6f63 6f6e 7574 0a33 2e31  :.```coconut.3.1
-000184e0: 3469 2020 2031 302e 6920 2020 2031 3069  4i   10.i    10i
-000184f0: 2020 2020 202e 3030 3169 2020 2031 6531       .001i   1e1
-00018500: 3030 6920 2033 2e31 3465 2d31 3069 0a60  00i  3.14e-10i.`
-00018510: 6060 0a0a 2323 2323 2320 4578 616d 706c  ``..##### Exampl
-00018520: 650a 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0a  e..**Coconut:**.
-00018530: 6060 6063 6f63 6f6e 7574 0a33 202b 2034  ```coconut.3 + 4
-00018540: 6920 7c3e 2061 6273 207c 3e20 7072 696e  i |> abs |> prin
-00018550: 740a 6060 600a 0a2a 2a50 7974 686f 6e3a  t.```..**Python:
-00018560: 2a2a 0a60 6060 636f 636f 6e75 745f 7079  **.```coconut_py
-00018570: 7468 6f6e 0a70 7269 6e74 2861 6273 2833  thon.print(abs(3
-00018580: 202b 2034 6a29 290a 6060 600a 0a23 2323   + 4j)).```..###
-00018590: 2041 6c74 6572 6e61 7469 7665 2054 6572   Alternative Ter
-000185a0: 6e61 7279 204f 7065 7261 746f 720a 0a50  nary Operator..P
-000185b0: 7974 686f 6e20 7375 7070 6f72 7473 2074  ython supports t
-000185c0: 6865 2074 6572 6e61 7279 206f 7065 7261  he ternary opera
-000185d0: 746f 7220 7379 6e74 6178 0a60 6060 636f  tor syntax.```co
-000185e0: 636f 6e75 745f 7079 7468 6f6e 0a72 6573  conut_python.res
-000185f0: 756c 7420 3d20 6966 5f74 7275 6520 6966  ult = if_true if
-00018600: 2063 6f6e 6469 7469 6f6e 2065 6c73 6520   condition else 
-00018610: 6966 5f66 616c 7365 0a60 6060 0a77 6869  if_false.```.whi
-00018620: 6368 2c20 7369 6e63 6520 436f 636f 6e75  ch, since Coconu
-00018630: 7420 6973 2061 2073 7570 6572 7365 7420  t is a superset 
-00018640: 6f66 2050 7974 686f 6e2c 2043 6f63 6f6e  of Python, Cocon
-00018650: 7574 2061 6c73 6f20 7375 7070 6f72 7473  ut also supports
-00018660: 2e0a 0a48 6f77 6576 6572 2c20 436f 636f  ...However, Coco
-00018670: 6e75 7420 616c 736f 2070 726f 7669 6465  nut also provide
-00018680: 7320 616e 2061 6c74 6572 6e61 7469 7665  s an alternative
-00018690: 2073 796e 7461 7820 7468 6174 2075 7365   syntax that use
-000186a0: 7320 7468 6520 6d6f 7265 2063 6f6e 7665  s the more conve
-000186b0: 6e74 696f 6e61 6c20 6172 6775 6d65 6e74  ntional argument
-000186c0: 206f 7264 6572 696e 6720 6173 0a60 6060   ordering as.```
-000186d0: 0a72 6573 756c 7420 3d20 6966 2063 6f6e  .result = if con
-000186e0: 6469 7469 6f6e 2074 6865 6e20 6966 5f74  dition then if_t
-000186f0: 7275 6520 656c 7365 2069 665f 6661 6c73  rue else if_fals
-00018700: 650a 6060 600a 6d61 6b69 6e67 2075 7365  e.```.making use
-00018710: 206f 6620 7468 6520 436f 636f 6e75 742d   of the Coconut-
-00018720: 7370 6563 6966 6963 2060 7468 656e 6020  specific `then` 
-00018730: 6b65 7977 6f72 6420 285b 7468 6f75 6768  keyword ([though
-00018740: 2043 6f63 6f6e 7574 2073 7469 6c6c 2061   Coconut still a
-00018750: 6c6c 6f77 7320 6074 6865 6e60 2061 7320  llows `then` as 
-00018760: 6120 7661 7269 6162 6c65 206e 616d 655d  a variable name]
-00018770: 2823 6861 6e64 6c69 6e67 2d6b 6579 776f  (#handling-keywo
-00018780: 7264 2d76 6172 6961 626c 652d 6e61 6d65  rd-variable-name
-00018790: 2d6f 7665 726c 6170 2929 2e0a 0a23 2323  -overlap))...###
-000187a0: 2323 2045 7861 6d70 6c65 0a0a 2a2a 436f  ## Example..**Co
-000187b0: 636f 6e75 743a 2a2a 0a60 6060 636f 636f  conut:**.```coco
-000187c0: 6e75 740a 7661 6c75 6520 3d20 280a 2020  nut.value = (.  
-000187d0: 2020 6966 2073 686f 756c 645f 7573 655f    if should_use_
-000187e0: 6128 2920 7468 656e 2061 0a20 2020 2065  a() then a.    e
-000187f0: 6c73 6520 6966 2073 686f 756c 645f 7573  lse if should_us
-00018800: 655f 6228 2920 7468 656e 2062 0a20 2020  e_b() then b.   
-00018810: 2065 6c73 6520 6966 2073 686f 756c 645f   else if should_
-00018820: 7573 655f 6328 2920 7468 656e 2063 0a20  use_c() then c. 
-00018830: 2020 2065 6c73 6520 6661 6c6c 6261 636b     else fallback
-00018840: 0a29 0a60 6060 0a0a 2a2a 5079 7468 6f6e  .).```..**Python
-00018850: 3a2a 2a0a 6060 6063 6f63 6f6e 7574 5f70  :**.```coconut_p
-00018860: 7974 686f 6e0a 7661 6c75 6520 3d20 280a  ython.value = (.
-00018870: 2020 2020 6120 6966 2073 686f 756c 645f      a if should_
-00018880: 7573 655f 6128 2920 656c 7365 0a20 2020  use_a() else.   
-00018890: 2062 2069 6620 7368 6f75 6c64 5f75 7365   b if should_use
-000188a0: 5f62 2829 2065 6c73 650a 2020 2020 6320  _b() else.    c 
-000188b0: 6966 2073 686f 756c 645f 7573 655f 6328  if should_use_c(
-000188c0: 2920 656c 7365 0a20 2020 2066 616c 6c62  ) else.    fallb
-000188d0: 6163 6b0a 290a 6060 600a 0a23 2320 4675  ack.).```..## Fu
-000188e0: 6e63 7469 6f6e 2044 6566 696e 6974 696f  nction Definitio
-000188f0: 6e0a 0a60 6060 7b63 6f6e 7465 6e74 737d  n..```{contents}
-00018900: 0a2d 2d2d 0a6c 6f63 616c 3a0a 6465 7074  .---.local:.dept
-00018910: 683a 2031 0a2d 2d2d 0a60 6060 0a0a 2323  h: 1.---.```..##
-00018920: 2320 5461 696c 2043 616c 6c20 4f70 7469  # Tail Call Opti
-00018930: 6d69 7a61 7469 6f6e 0a0a 436f 636f 6e75  mization..Coconu
-00018940: 7420 7769 6c6c 2070 6572 666f 726d 2061  t will perform a
-00018950: 7574 6f6d 6174 6963 205b 7461 696c 2063  utomatic [tail c
-00018960: 616c 6c5d 2868 7474 7073 3a2f 2f65 6e2e  all](https://en.
-00018970: 7769 6b69 7065 6469 612e 6f72 672f 7769  wikipedia.org/wi
-00018980: 6b69 2f54 6169 6c5f 6361 6c6c 2920 6f70  ki/Tail_call) op
-00018990: 7469 6d69 7a61 7469 6f6e 2061 6e64 2074  timization and t
-000189a0: 6169 6c20 7265 6375 7273 696f 6e20 656c  ail recursion el
-000189b0: 696d 696e 6174 696f 6e20 6f6e 2061 6e79  imination on any
-000189c0: 2066 756e 6374 696f 6e20 7468 6174 206d   function that m
-000189d0: 6565 7473 2074 6865 2066 6f6c 6c6f 7769  eets the followi
-000189e0: 6e67 2063 7269 7465 7269 613a 0a0a 312e  ng criteria:..1.
-000189f0: 2069 7420 6d75 7374 2064 6972 6563 746c   it must directl
-00018a00: 7920 7265 7475 726e 2028 7573 696e 6720  y return (using 
-00018a10: 6569 7468 6572 2060 7265 7475 726e 6020  either `return` 
-00018a20: 6f72 205b 6173 7369 676e 6d65 6e74 2066  or [assignment f
-00018a30: 756e 6374 696f 6e20 6e6f 7461 7469 6f6e  unction notation
-00018a40: 5d28 2361 7373 6967 6e6d 656e 742d 6675  ](#assignment-fu
-00018a50: 6e63 7469 6f6e 7329 2920 6120 6361 6c6c  nctions)) a call
-00018a60: 2074 6f20 6974 7365 6c66 2028 7461 696c   to itself (tail
-00018a70: 2072 6563 7572 7369 6f6e 2065 6c69 6d69   recursion elimi
-00018a80: 6e61 7469 6f6e 2c20 7468 6520 6d6f 7374  nation, the most
-00018a90: 2070 6f77 6572 6675 6c20 6f70 7469 6d69   powerful optimi
-00018aa0: 7a61 7469 6f6e 2920 6f72 2061 6e6f 7468  zation) or anoth
-00018ab0: 6572 2066 756e 6374 696f 6e20 2874 6169  er function (tai
-00018ac0: 6c20 6361 6c6c 206f 7074 696d 697a 6174  l call optimizat
-00018ad0: 696f 6e29 2c0a 322e 2069 7420 6d75 7374  ion),.2. it must
-00018ae0: 206e 6f74 2062 6520 6120 6765 6e65 7261   not be a genera
-00018af0: 746f 7220 2875 7365 7320 6079 6965 6c64  tor (uses `yield
-00018b00: 6029 206f 7220 616e 2061 7379 6e63 6872  `) or an asynchr
-00018b10: 6f6e 6f75 7320 6675 6e63 7469 6f6e 2028  onous function (
-00018b20: 7573 6573 2060 6173 796e 6360 292e 0a0a  uses `async`)...
-00018b30: 5461 696c 2063 616c 6c20 6f70 7469 6d69  Tail call optimi
-00018b40: 7a61 7469 6f6e 2028 7468 6f75 6768 206e  zation (though n
-00018b50: 6f74 2074 6169 6c20 7265 6375 7273 696f  ot tail recursio
-00018b60: 6e20 656c 696d 696e 6174 696f 6e29 2077  n elimination) w
-00018b70: 696c 6c20 776f 726b 2065 7665 6e20 666f  ill work even fo
-00018b80: 7220 3129 206d 7574 7561 6c20 7265 6375  r 1) mutual recu
-00018b90: 7273 696f 6e20 616e 6420 3229 2070 6174  rsion and 2) pat
-00018ba0: 7465 726e 2d6d 6174 6368 696e 6720 6675  tern-matching fu
-00018bb0: 6e63 7469 6f6e 7320 7370 6c69 7420 6163  nctions split ac
-00018bc0: 726f 7373 206d 756c 7469 706c 6520 6465  ross multiple de
-00018bd0: 6669 6e69 7469 6f6e 7320 7573 696e 6720  finitions using 
-00018be0: 5b60 6164 6470 6174 7465 726e 605d 2823  [`addpattern`](#
-00018bf0: 6164 6470 6174 7465 726e 292e 0a0a 4966  addpattern)...If
-00018c00: 2079 6f75 2061 7265 2065 6e63 6f75 6e74   you are encount
-00018c10: 6572 696e 6720 6120 6052 756e 7469 6d65  ering a `Runtime
-00018c20: 4572 726f 7260 2064 7565 2074 6f20 6d61  Error` due to ma
-00018c30: 7869 6d75 6d20 7265 6375 7273 696f 6e20  ximum recursion 
-00018c40: 6465 7074 682c 2069 7420 6973 2068 6967  depth, it is hig
-00018c50: 686c 7920 7265 636f 6d6d 656e 6465 6420  hly recommended 
-00018c60: 7468 6174 2079 6f75 2072 6577 7269 7465  that you rewrite
-00018c70: 2079 6f75 7220 6675 6e63 7469 6f6e 2074   your function t
-00018c80: 6f20 6d65 6574 2065 6974 6865 7220 7468  o meet either th
-00018c90: 6520 6372 6974 6572 6961 2061 626f 7665  e criteria above
-00018ca0: 2066 6f72 2074 6169 6c20 6361 6c6c 206f   for tail call o
-00018cb0: 7074 696d 697a 6174 696f 6e2c 206f 7220  ptimization, or 
-00018cc0: 7468 6520 636f 7272 6573 706f 6e64 696e  the correspondin
-00018cd0: 6720 6372 6974 6572 6961 2066 6f72 205b  g criteria for [
-00018ce0: 6072 6563 7572 7369 7665 5f69 7465 7261  `recursive_itera
-00018cf0: 746f 7260 5d28 2372 6563 7572 7369 7665  tor`](#recursive
-00018d00: 2d69 7465 7261 746f 7229 2c20 6569 7468  -iterator), eith
-00018d10: 6572 206f 6620 7768 6963 6820 7368 6f75  er of which shou
-00018d20: 6c64 2070 7265 7665 6e74 2073 7563 6820  ld prevent such 
-00018d30: 6572 726f 7273 2e0a 0a23 2323 2323 2045  errors...##### E
-00018d40: 7861 6d70 6c65 0a0a 2a2a 436f 636f 6e75  xample..**Coconu
-00018d50: 743a 2a2a 0a60 6060 636f 636f 6e75 740a  t:**.```coconut.
-00018d60: 2320 756e 6c69 6b65 2069 6e20 5079 7468  # unlike in Pyth
-00018d70: 6f6e 2c20 7468 6973 2066 756e 6374 696f  on, this functio
-00018d80: 6e20 7769 6c6c 206e 6576 6572 2068 6974  n will never hit
-00018d90: 2061 206d 6178 696d 756d 2072 6563 7572   a maximum recur
-00018da0: 7369 6f6e 2064 6570 7468 2065 7272 6f72  sion depth error
-00018db0: 0a64 6566 2066 6163 746f 7269 616c 286e  .def factorial(n
-00018dc0: 2c20 6163 633d 3129 3a0a 2020 2020 6d61  , acc=1):.    ma
-00018dd0: 7463 6820 6e3a 0a20 2020 2020 2020 2063  tch n:.        c
-00018de0: 6173 6520 303a 0a20 2020 2020 2020 2020  ase 0:.         
-00018df0: 2020 2072 6574 7572 6e20 6163 630a 2020     return acc.  
-00018e00: 2020 2020 2020 6361 7365 2069 6e74 2829        case int()
-00018e10: 2069 6620 6e20 3e20 303a 0a20 2020 2020   if n > 0:.     
-00018e20: 2020 2020 2020 2072 6574 7572 6e20 6661         return fa
-00018e30: 6374 6f72 6961 6c28 6e2d 312c 2061 6363  ctorial(n-1, acc
-00018e40: 2a6e 290a 6060 600a 5f53 686f 7763 6173  *n).```._Showcas
-00018e50: 6573 2074 6169 6c20 7265 6375 7273 696f  es tail recursio
-00018e60: 6e20 656c 696d 696e 6174 696f 6e2e 5f0a  n elimination._.
-00018e70: 0a60 6060 636f 636f 6e75 740a 2320 756e  .```coconut.# un
-00018e80: 6c69 6b65 2069 6e20 5079 7468 6f6e 2c20  like in Python, 
-00018e90: 6e65 6974 6865 7220 6f66 2074 6865 7365  neither of these
-00018ea0: 2066 756e 6374 696f 6e73 2077 696c 6c20   functions will 
-00018eb0: 6576 6572 2068 6974 2061 206d 6178 696d  ever hit a maxim
-00018ec0: 756d 2072 6563 7572 7369 6f6e 2064 6570  um recursion dep
-00018ed0: 7468 2065 7272 6f72 0a64 6566 2069 735f  th error.def is_
-00018ee0: 6576 656e 2830 2920 3d20 5472 7565 0a61  even(0) = True.a
-00018ef0: 6464 7061 7474 6572 6e20 6465 6620 6973  ddpattern def is
-00018f00: 5f65 7665 6e28 6e20 6069 7369 6e73 7461  _even(n `isinsta
-00018f10: 6e63 6560 2069 6e74 2069 6620 6e20 3e20  nce` int if n > 
-00018f20: 3029 203d 2069 735f 6f64 6428 6e2d 3129  0) = is_odd(n-1)
-00018f30: 0a0a 6465 6620 6973 5f6f 6464 2830 2920  ..def is_odd(0) 
-00018f40: 3d20 4661 6c73 650a 6164 6470 6174 7465  = False.addpatte
-00018f50: 726e 2064 6566 2069 735f 6f64 6428 6e20  rn def is_odd(n 
-00018f60: 6069 7369 6e73 7461 6e63 6560 2069 6e74  `isinstance` int
-00018f70: 2069 6620 6e20 3e20 3029 203d 2069 735f   if n > 0) = is_
-00018f80: 6576 656e 286e 2d31 290a 6060 600a 5f53  even(n-1).```._S
-00018f90: 686f 7763 6173 6573 2074 6169 6c20 6361  howcases tail ca
-00018fa0: 6c6c 206f 7074 696d 697a 6174 696f 6e2e  ll optimization.
-00018fb0: 5f0a 0a2a 2a50 7974 686f 6e3a 2a2a 0a5f  _..**Python:**._
-00018fc0: 4361 6e27 7420 6265 2064 6f6e 6520 7769  Can't be done wi
-00018fd0: 7468 6f75 7420 7265 7772 6974 696e 6720  thout rewriting 
-00018fe0: 7468 6520 6675 6e63 7469 6f6e 2873 292e  the function(s).
-00018ff0: 5f0a 0a23 2323 2320 602d 2d6e 6f2d 7463  _..#### `--no-tc
-00019000: 6f60 2066 6c61 670a 0a54 6169 6c20 6361  o` flag..Tail ca
-00019010: 6c6c 206f 7074 696d 697a 6174 696f 6e20  ll optimization 
-00019020: 7769 6c6c 2062 6520 7475 726e 6564 206f  will be turned o
-00019030: 6666 2069 6620 796f 7520 7061 7373 2074  ff if you pass t
-00019040: 6865 2060 2d2d 6e6f 2d74 636f 6020 636f  he `--no-tco` co
-00019050: 6d6d 616e 642d 6c69 6e65 206f 7074 696f  mmand-line optio
-00019060: 6e2c 2077 6869 6368 2069 7320 7573 6566  n, which is usef
-00019070: 756c 2069 6620 796f 7520 6172 6520 6861  ul if you are ha
-00019080: 7669 6e67 2074 726f 7562 6c65 2072 6561  ving trouble rea
-00019090: 6469 6e67 2079 6f75 7220 7472 6163 6562  ding your traceb
-000190a0: 6163 6b73 2061 6e64 2f6f 7220 6e65 6564  acks and/or need
-000190b0: 206d 6178 696d 756d 2070 6572 666f 726d   maximum perform
-000190c0: 616e 6365 2e0a 0a60 2d2d 6e6f 2d74 636f  ance...`--no-tco
-000190d0: 6020 646f 6573 206e 6f74 2064 6973 6162  ` does not disab
-000190e0: 6c65 2074 6169 6c20 7265 6375 7273 696f  le tail recursio
-000190f0: 6e20 656c 696d 696e 6174 696f 6e2e 0a54  n elimination..T
-00019100: 6869 7320 6973 2062 6563 6175 7365 2074  his is because t
-00019110: 6169 6c20 7265 6375 7273 696f 6e20 656c  ail recursion el
-00019120: 696d 696e 6174 696f 6e20 6973 2075 7375  imination is usu
-00019130: 616c 6c79 2066 6173 7465 7220 7468 616e  ally faster than
-00019140: 2064 6f69 6e67 206e 6f74 6869 6e67 2c20   doing nothing, 
-00019150: 7768 696c 6520 6f74 6865 7220 7479 7065  while other type
-00019160: 7320 6f66 2074 6169 6c20 6361 6c6c 206f  s of tail call o
-00019170: 7074 696d 697a 6174 696f 6e20 6172 6520  ptimization are 
-00019180: 7573 7561 6c6c 7920 736c 6f77 6572 2074  usually slower t
-00019190: 6861 6e20 646f 696e 6720 6e6f 7468 696e  han doing nothin
-000191a0: 672e 0a54 6169 6c20 7265 6375 7273 696f  g..Tail recursio
-000191b0: 6e20 656c 696d 696e 6174 696f 6e20 7265  n elimination re
-000191c0: 7375 6c74 7320 696e 2061 2062 6967 2070  sults in a big p
-000191d0: 6572 666f 726d 616e 6365 2077 696e 2062  erformance win b
-000191e0: 6563 6175 7365 2050 7974 686f 6e20 6861  ecause Python ha
-000191f0: 7320 6120 6661 6972 6c79 206c 6172 6765  s a fairly large
-00019200: 2066 756e 6374 696f 6e20 6361 6c6c 206f   function call o
-00019210: 7665 7268 6561 642e 2042 7920 756e 7769  verhead. By unwi
-00019220: 6e64 696e 6720 6120 7265 6375 7273 6976  nding a recursiv
-00019230: 6520 6675 6e63 7469 6f6e 2c20 6661 7220  e function, far 
-00019240: 6665 7765 7220 6675 6e63 7469 6f6e 2063  fewer function c
-00019250: 616c 6c73 206e 6565 6420 746f 2062 6520  alls need to be 
-00019260: 6d61 6465 2e0a 5768 656e 2074 6865 2060  made..When the `
-00019270: 2d2d 6e6f 2d74 636f 6020 666c 6167 2069  --no-tco` flag i
-00019280: 7320 6469 7361 626c 6564 2c20 436f 636f  s disabled, Coco
-00019290: 6e75 7420 7769 6c6c 2061 7474 656d 7074  nut will attempt
-000192a0: 2074 6f20 646f 2061 6c6c 2074 7970 6573   to do all types
-000192b0: 206f 6620 7461 696c 2063 616c 6c20 6f70   of tail call op
-000192c0: 7469 6d69 7a61 7469 6f6e 732c 2068 616e  timizations, han
-000192d0: 646c 696e 6720 6e6f 6e2d 7265 6375 7273  dling non-recurs
-000192e0: 6976 6520 7461 696c 2063 616c 6c73 2c20  ive tail calls, 
-000192f0: 7370 6c69 7420 7061 7474 6572 6e2d 6d61  split pattern-ma
-00019300: 7463 6869 6e67 2066 756e 6374 696f 6e73  tching functions
-00019310: 2c20 6d75 7475 616c 2072 6563 7572 7369  , mutual recursi
-00019320: 6f6e 2c20 616e 6420 7461 696c 2072 6563  on, and tail rec
-00019330: 7572 7369 6f6e 2e20 5768 656e 2074 6865  ursion. When the
-00019340: 2060 2d2d 6e6f 2d74 636f 6020 666c 6167   `--no-tco` flag
-00019350: 2069 7320 656e 6162 6c65 642c 2043 6f63   is enabled, Coc
-00019360: 6f6e 7574 2077 696c 6c20 6e6f 206c 6f6e  onut will no lon
-00019370: 6765 7220 7065 7266 6f72 6d20 616e 7920  ger perform any 
-00019380: 7461 696c 2063 616c 6c20 6f70 7469 6d69  tail call optimi
-00019390: 7a61 7469 6f6e 7320 6f74 6865 7220 7468  zations other th
-000193a0: 616e 2074 6169 6c20 7265 6375 7273 696f  an tail recursio
-000193b0: 6e20 656c 696d 696e 6174 696f 6e2e 0a0a  n elimination...
-000193c0: 2323 2323 2054 6169 6c20 5265 6375 7273  #### Tail Recurs
-000193d0: 696f 6e20 456c 696d 696e 6174 696f 6e20  ion Elimination 
-000193e0: 616e 6420 5079 7468 6f6e 206c 616d 6264  and Python lambd
-000193f0: 6173 0a0a 436f 636f 6e75 7420 646f 6573  as..Coconut does
-00019400: 206e 6f74 2070 6572 666f 726d 2074 6169   not perform tai
-00019410: 6c20 7265 6375 7273 696f 6e20 656c 696d  l recursion elim
-00019420: 696e 6174 696f 6e20 696e 2066 756e 6374  ination in funct
-00019430: 696f 6e73 2074 6861 7420 7574 696c 697a  ions that utiliz
-00019440: 6520 6c61 6d62 6461 7320 6f72 2069 6e6e  e lambdas or inn
-00019450: 6572 2066 756e 6374 696f 6e73 2e20 5468  er functions. Th
-00019460: 6973 2069 7320 6265 6361 7573 6520 6f66  is is because of
-00019470: 2074 6865 2077 6179 2074 6861 7420 5079   the way that Py
-00019480: 7468 6f6e 2068 616e 646c 6573 206c 616d  thon handles lam
-00019490: 6264 6173 2e0a 0a45 6163 6820 6c61 6d62  bdas...Each lamb
-000194a0: 6461 2073 746f 7265 7320 6120 706f 696e  da stores a poin
-000194b0: 7465 7220 746f 2074 6865 206e 616d 6573  ter to the names
-000194c0: 7061 6365 2065 6e63 6c6f 7369 6e67 2069  pace enclosing i
-000194d0: 742c 2072 6174 6865 7220 7468 616e 2061  t, rather than a
-000194e0: 2063 6f70 7920 6f66 2074 6865 206e 616d   copy of the nam
-000194f0: 6573 7061 6365 2e20 5468 7573 2c20 6966  espace. Thus, if
-00019500: 2074 6865 2043 6f63 6f6e 7574 2063 6f6d   the Coconut com
-00019510: 7069 6c65 7220 7472 6965 7320 746f 2072  piler tries to r
-00019520: 6563 7963 6c65 2061 6e79 7468 696e 6720  ecycle anything 
-00019530: 696e 2074 6865 206e 616d 6573 7061 6365  in the namespace
-00019540: 2074 6861 7420 7072 6f64 7563 6564 2074   that produced t
-00019550: 6865 206c 616d 6264 612c 2077 6869 6368  he lambda, which
-00019560: 206e 6565 6473 2074 6f20 6265 2064 6f6e   needs to be don
-00019570: 6520 666f 7220 5452 452c 2074 6865 206c  e for TRE, the l
-00019580: 616d 6264 6120 6361 6e20 6265 2063 6861  ambda can be cha
-00019590: 6e67 6564 2072 6574 726f 6163 7469 7665  nged retroactive
-000195a0: 6c79 2e0a 0a41 2073 696d 706c 6520 6578  ly...A simple ex
-000195b0: 616d 706c 6520 6465 6d6f 6e73 7472 6174  ample demonstrat
-000195c0: 696e 6720 7468 6973 2062 6568 6176 696f  ing this behavio
-000195d0: 7220 696e 2050 7974 686f 6e3a 0a0a 6060  r in Python:..``
-000195e0: 6070 7974 686f 6e0a 7820 3d20 310a 666f  `python.x = 1.fo
-000195f0: 6f20 3d20 6c61 6d62 6461 3a20 780a 7072  o = lambda: x.pr
-00019600: 696e 7428 666f 6f28 2929 2020 2320 310a  int(foo())  # 1.
-00019610: 7820 3d20 3220 2020 2020 2020 2020 2320  x = 2         # 
-00019620: 4469 7265 6374 6c79 2061 6c74 6572 2074  Directly alter t
-00019630: 6865 2076 616c 7565 7320 696e 2074 6865  he values in the
-00019640: 206e 616d 6573 7061 6365 2065 6e63 6c6f   namespace enclo
-00019650: 7369 6e67 2066 6f6f 0a70 7269 6e74 2866  sing foo.print(f
-00019660: 6f6f 2829 2920 2023 2032 2028 2129 0a60  oo())  # 2 (!).`
-00019670: 6060 0a0a 4265 6361 7573 6520 7468 6973  ``..Because this
-00019680: 2063 6f75 6c64 2068 6176 6520 756e 696e   could have unin
-00019690: 7465 6e64 6564 2061 6e64 2070 6f74 656e  tended and poten
-000196a0: 7469 616c 6c79 2064 616d 6167 696e 6720  tially damaging 
-000196b0: 636f 6e73 6571 7565 6e63 6573 2c20 436f  consequences, Co
-000196c0: 636f 6e75 7420 6f70 7473 2074 6f20 6e6f  conut opts to no
-000196d0: 7420 7065 7266 6f72 6d20 5452 4520 6f6e  t perform TRE on
-000196e0: 2061 6e79 2066 756e 6374 696f 6e20 7769   any function wi
-000196f0: 7468 2061 206c 616d 6264 6120 6f72 2069  th a lambda or i
-00019700: 6e6e 6572 2066 756e 6374 696f 6e2e 0a0a  nner function...
-00019710: 2323 2320 4173 7369 676e 6d65 6e74 2046  ### Assignment F
-00019720: 756e 6374 696f 6e73 0a0a 436f 636f 6e75  unctions..Coconu
-00019730: 7420 616c 6c6f 7773 2066 6f72 2061 7373  t allows for ass
-00019740: 6967 6e6d 656e 7420 6675 6e63 7469 6f6e  ignment function
-00019750: 2064 6566 696e 6974 696f 6e20 7468 6174   definition that
-00019760: 2061 7574 6f6d 6174 6963 616c 6c79 2072   automatically r
-00019770: 6574 7572 6e73 2074 6865 206c 6173 7420  eturns the last 
-00019780: 6c69 6e65 206f 6620 7468 6520 6675 6e63  line of the func
-00019790: 7469 6f6e 2062 6f64 792e 2041 6e20 6173  tion body. An as
-000197a0: 7369 676e 6d65 6e74 2066 756e 6374 696f  signment functio
-000197b0: 6e20 6973 2063 6f6e 7374 7275 6374 6564  n is constructed
-000197c0: 2062 7920 7375 6273 7469 7475 7469 6e67   by substituting
-000197d0: 2060 3d60 2066 6f72 2060 3a60 2061 6674   `=` for `:` aft
-000197e0: 6572 2074 6865 2066 756e 6374 696f 6e20  er the function 
-000197f0: 6465 6669 6e69 7469 6f6e 206c 696e 652e  definition line.
-00019800: 2054 6875 732c 2074 6865 2073 796e 7461   Thus, the synta
-00019810: 7820 666f 7220 6173 7369 676e 6d65 6e74  x for assignment
-00019820: 2066 756e 6374 696f 6e20 6465 6669 6e69   function defini
-00019830: 7469 6f6e 2069 7320 6569 7468 6572 0a60  tion is either.`
-00019840: 6060 636f 636f 6e75 740a 5b61 7379 6e63  ``coconut.[async
-00019850: 5d20 6465 6620 3c6e 616d 653e 283c 6172  ] def <name>(<ar
-00019860: 6773 3e29 203d 203c 6578 7072 3e0a 6060  gs>) = <expr>.``
-00019870: 600a 666f 7220 6f6e 652d 6c69 6e65 7273  `.for one-liners
-00019880: 206f 720a 6060 6063 6f63 6f6e 7574 0a5b   or.```coconut.[
-00019890: 6173 796e 635d 2064 6566 203c 6e61 6d65  async] def <name
-000198a0: 3e28 3c61 7267 733e 2920 3d0a 2020 2020  >(<args>) =.    
-000198b0: 3c73 746d 7473 3e0a 2020 2020 3c65 7870  <stmts>.    <exp
-000198c0: 723e 0a60 6060 0a66 6f72 2066 756c 6c20  r>.```.for full 
-000198d0: 6675 6e63 7469 6f6e 732c 2077 6865 7265  functions, where
-000198e0: 2060 3c6e 616d 653e 6020 6973 2074 6865   `<name>` is the
-000198f0: 206e 616d 6520 6f66 2074 6865 2066 756e   name of the fun
-00019900: 6374 696f 6e2c 2060 3c61 7267 733e 6020  ction, `<args>` 
-00019910: 6172 6520 7468 6520 6675 6e63 7469 6f6e  are the function
-00019920: 7320 6172 6775 6d65 6e74 732c 2060 3c73  s arguments, `<s
-00019930: 746d 7473 3e60 2061 7265 2061 6e79 2073  tmts>` are any s
-00019940: 7461 7465 6d65 6e74 7320 7468 6174 2074  tatements that t
-00019950: 6865 2066 756e 6374 696f 6e20 7368 6f75  he function shou
-00019960: 6c64 2065 7865 6375 7465 2c20 616e 6420  ld execute, and 
-00019970: 603c 6578 7072 3e60 2069 7320 7468 6520  `<expr>` is the 
-00019980: 7661 6c75 6520 7468 6174 2074 6865 2066  value that the f
-00019990: 756e 6374 696f 6e20 7368 6f75 6c64 2072  unction should r
-000199a0: 6574 7572 6e2e 0a0a 5f4e 6f74 653a 2041  eturn..._Note: A
-000199b0: 7373 6967 6e6d 656e 7420 6675 6e63 7469  ssignment functi
-000199c0: 6f6e 2064 6566 696e 6974 696f 6e20 6361  on definition ca
-000199d0: 6e20 6265 2063 6f6d 6269 6e65 6420 7769  n be combined wi
-000199e0: 7468 2069 6e66 6978 2061 6e64 2f6f 7220  th infix and/or 
-000199f0: 7061 7474 6572 6e2d 6d61 7463 6869 6e67  pattern-matching
-00019a00: 2066 756e 6374 696f 6e20 6465 6669 6e69   function defini
-00019a10: 7469 6f6e 2e5f 0a0a 2323 2323 2320 5261  tion._..##### Ra
-00019a20: 7469 6f6e 616c 650a 0a43 6f63 6f6e 7574  tionale..Coconut
-00019a30: 2773 2041 7373 6967 6e6d 656e 7420 6675  's Assignment fu
-00019a40: 6e63 7469 6f6e 2064 6566 696e 6974 696f  nction definitio
-00019a50: 6e20 6973 2061 7320 6561 7379 2074 6f20  n is as easy to 
-00019a60: 7772 6974 6520 6173 2061 7373 6967 6e6d  write as assignm
-00019a70: 656e 7420 746f 2061 206c 616d 6264 612c  ent to a lambda,
-00019a80: 2062 7574 2077 696c 6c20 6170 7065 6172   but will appear
-00019a90: 206e 616d 6564 2069 6e20 7472 6163 6562   named in traceb
-00019aa0: 6163 6b73 2c20 6173 2069 7420 636f 6d70  acks, as it comp
-00019ab0: 696c 6573 2074 6f20 6e6f 726d 616c 2050  iles to normal P
-00019ac0: 7974 686f 6e20 6675 6e63 7469 6f6e 2064  ython function d
-00019ad0: 6566 696e 6974 696f 6e2e 0a0a 2323 2323  efinition...####
-00019ae0: 2320 4578 616d 706c 650a 0a2a 2a43 6f63  # Example..**Coc
-00019af0: 6f6e 7574 3a2a 2a0a 6060 6063 6f63 6f6e  onut:**.```cocon
-00019b00: 7574 0a64 6566 2062 696e 6578 7028 7829  ut.def binexp(x)
-00019b10: 203d 2032 2a2a 780a 3520 7c3e 2062 696e   = 2**x.5 |> bin
-00019b20: 6578 7020 7c3e 2070 7269 6e74 0a60 6060  exp |> print.```
-00019b30: 0a0a 2a2a 5079 7468 6f6e 3a2a 2a0a 6060  ..**Python:**.``
-00019b40: 6063 6f63 6f6e 7574 5f70 7974 686f 6e0a  `coconut_python.
-00019b50: 6465 6620 6269 6e65 7870 2878 293a 2072  def binexp(x): r
-00019b60: 6574 7572 6e20 322a 2a78 0a70 7269 6e74  eturn 2**x.print
-00019b70: 2862 696e 6578 7028 3529 290a 6060 600a  (binexp(5)).```.
-00019b80: 0a23 2323 2050 6174 7465 726e 2d4d 6174  .### Pattern-Mat
-00019b90: 6368 696e 6720 4675 6e63 7469 6f6e 730a  ching Functions.
-00019ba0: 0a43 6f63 6f6e 7574 2070 6174 7465 726e  .Coconut pattern
-00019bb0: 2d6d 6174 6368 696e 6720 6675 6e63 7469  -matching functi
-00019bc0: 6f6e 7320 6172 6520 6a75 7374 206e 6f72  ons are just nor
-00019bd0: 6d61 6c20 6675 6e63 7469 6f6e 732c 2065  mal functions, e
-00019be0: 7863 6570 7420 7768 6572 6520 7468 6520  xcept where the 
-00019bf0: 6172 6775 6d65 6e74 7320 6172 6520 7061  arguments are pa
-00019c00: 7474 6572 6e73 2074 6f20 6265 206d 6174  tterns to be mat
-00019c10: 6368 6564 2061 6761 696e 7374 2069 6e73  ched against ins
-00019c20: 7465 6164 206f 6620 7661 7269 6162 6c65  tead of variable
-00019c30: 7320 746f 2062 6520 6173 7369 676e 6564  s to be assigned
-00019c40: 2074 6f2e 2054 6865 2073 796e 7461 7820   to. The syntax 
-00019c50: 666f 7220 7061 7474 6572 6e2d 6d61 7463  for pattern-matc
-00019c60: 6869 6e67 2066 756e 6374 696f 6e20 6465  hing function de
-00019c70: 6669 6e69 7469 6f6e 2069 730a 6060 6063  finition is.```c
-00019c80: 6f63 6f6e 7574 0a5b 6173 796e 635d 205b  oconut.[async] [
-00019c90: 6d61 7463 685d 2064 6566 203c 6e61 6d65  match] def <name
-00019ca0: 3e28 3c61 7267 3e2c 203c 6172 673e 2c20  >(<arg>, <arg>, 
-00019cb0: 2e2e 2e20 5b69 6620 3c63 6f6e 643e 5d29  ... [if <cond>])
-00019cc0: 205b 2d3e 203c 7265 7475 726e 5f74 7970   [-> <return_typ
-00019cd0: 653e 5d3a 0a20 2020 203c 626f 6479 3e0a  e>]:.    <body>.
-00019ce0: 6060 600a 7768 6572 6520 603c 6172 673e  ```.where `<arg>
-00019cf0: 6020 6973 2064 6566 696e 6564 2061 730a  ` is defined as.
-00019d00: 6060 6063 6f63 6f6e 7574 0a5b 2a7c 2a2a  ```coconut.[*|**
-00019d10: 5d20 3c70 6174 7465 726e 3e20 5b3d 203c  ] <pattern> [= <
-00019d20: 6465 6661 756c 743e 5d0a 6060 600a 7768  default>].```.wh
-00019d30: 6572 6520 603c 6e61 6d65 3e60 2069 7320  ere `<name>` is 
-00019d40: 7468 6520 6e61 6d65 206f 6620 7468 6520  the name of the 
-00019d50: 6675 6e63 7469 6f6e 2c20 603c 636f 6e64  function, `<cond
-00019d60: 3e60 2069 7320 616e 206f 7074 696f 6e61  >` is an optiona
-00019d70: 6c20 6164 6469 7469 6f6e 616c 2063 6865  l additional che
-00019d80: 636b 2c20 603c 626f 6479 3e60 2069 7320  ck, `<body>` is 
-00019d90: 7468 6520 626f 6479 206f 6620 7468 6520  the body of the 
-00019da0: 6675 6e63 7469 6f6e 2c20 603c 7061 7474  function, `<patt
-00019db0: 6572 6e3e 6020 6973 2064 6566 696e 6564  ern>` is defined
-00019dc0: 2062 7920 436f 636f 6e75 7427 7320 5b60   by Coconut's [`
-00019dd0: 6d61 7463 6860 2073 7461 7465 6d65 6e74  match` statement
-00019de0: 5d28 236d 6174 6368 292c 2060 3c64 6566  ](#match), `<def
-00019df0: 6175 6c74 3e60 2069 7320 7468 6520 6f70  ault>` is the op
-00019e00: 7469 6f6e 616c 2064 6566 6175 6c74 2069  tional default i
-00019e10: 6620 6e6f 2061 7267 756d 656e 7420 6973  f no argument is
-00019e20: 2070 6173 7365 642c 2061 6e64 2060 3c72   passed, and `<r
-00019e30: 6574 7572 6e5f 7479 7065 3e60 2069 7320  eturn_type>` is 
-00019e40: 7468 6520 6f70 7469 6f6e 616c 2072 6574  the optional ret
-00019e50: 7572 6e20 7479 7065 2061 6e6e 6f74 6174  urn type annotat
-00019e60: 696f 6e20 286e 6f74 6520 7468 6174 2061  ion (note that a
-00019e70: 7267 756d 656e 7420 7479 7065 2061 6e6e  rgument type ann
-00019e80: 6f74 6174 696f 6e73 2061 7265 206e 6f74  otations are not
-00019e90: 2073 7570 706f 7274 6564 2066 6f72 2070   supported for p
-00019ea0: 6174 7465 726e 2d6d 6174 6368 696e 6720  attern-matching 
-00019eb0: 6675 6e63 7469 6f6e 7329 2e20 5468 6520  functions). The 
-00019ec0: 606d 6174 6368 6020 6b65 7977 6f72 6420  `match` keyword 
-00019ed0: 6174 2074 6865 2062 6567 696e 6e69 6e67  at the beginning
-00019ee0: 2069 7320 6f70 7469 6f6e 616c 2c20 6275   is optional, bu
-00019ef0: 7420 6973 2073 6f6d 6574 696d 6573 206e  t is sometimes n
-00019f00: 6563 6573 7361 7279 2074 6f20 6469 7361  ecessary to disa
-00019f10: 6d62 6967 7561 7465 2070 6174 7465 726e  mbiguate pattern
-00019f20: 2d6d 6174 6368 696e 6720 6675 6e63 7469  -matching functi
-00019f30: 6f6e 2064 6566 696e 6974 696f 6e20 6672  on definition fr
-00019f40: 6f6d 206e 6f72 6d61 6c20 6675 6e63 7469  om normal functi
-00019f50: 6f6e 2064 6566 696e 6974 696f 6e2c 2073  on definition, s
-00019f60: 696e 6365 2050 7974 686f 6e20 6675 6e63  ince Python func
-00019f70: 7469 6f6e 2064 6566 696e 6974 696f 6e20  tion definition 
-00019f80: 7769 6c6c 2061 6c77 6179 7320 7461 6b65  will always take
-00019f90: 2070 7265 6365 6465 6e63 652e 204e 6f74   precedence. Not
-00019fa0: 6520 7468 6174 2074 6865 2060 6173 796e  e that the `asyn
-00019fb0: 6360 2061 6e64 2060 6d61 7463 6860 206b  c` and `match` k
-00019fc0: 6579 776f 7264 7320 6361 6e20 6265 2069  eywords can be i
-00019fd0: 6e20 616e 7920 6f72 6465 722e 0a0a 4966  n any order...If
-00019fe0: 2060 3c70 6174 7465 726e 3e60 2068 6173   `<pattern>` has
-00019ff0: 2061 2076 6172 6961 626c 6520 6e61 6d65   a variable name
-0001a000: 2028 6569 7468 6572 2064 6972 6563 746c   (either directl
-0001a010: 7920 6f72 2077 6974 6820 6061 7360 292c  y or with `as`),
-0001a020: 2074 6865 2072 6573 756c 7469 6e67 2070   the resulting p
-0001a030: 6174 7465 726e 2d6d 6174 6368 696e 6720  attern-matching 
-0001a040: 6675 6e63 7469 6f6e 2077 696c 6c20 7375  function will su
-0001a050: 7070 6f72 7420 6b65 7977 6f72 6420 6172  pport keyword ar
-0001a060: 6775 6d65 6e74 7320 7573 696e 6720 7468  guments using th
-0001a070: 6174 2076 6172 6961 626c 6520 6e61 6d65  at variable name
-0001a080: 2e0a 0a49 6e20 6164 6469 7469 6f6e 2074  ...In addition t
-0001a090: 6f20 7375 7070 6f72 7469 6e67 2070 6174  o supporting pat
-0001a0a0: 7465 726e 2d6d 6174 6368 696e 6720 696e  tern-matching in
-0001a0b0: 2074 6865 6972 2061 7267 756d 656e 7473   their arguments
-0001a0c0: 2c20 7061 7474 6572 6e2d 6d61 7463 6869  , pattern-matchi
-0001a0d0: 6e67 2066 756e 6374 696f 6e20 6465 6669  ng function defi
-0001a0e0: 6e69 7469 6f6e 7320 616c 736f 2068 6176  nitions also hav
-0001a0f0: 6520 6120 636f 7570 6c65 206f 6620 6e6f  e a couple of no
-0001a100: 7461 626c 6520 6469 6666 6572 656e 6365  table difference
-0001a110: 7320 636f 6d70 6172 6564 2074 6f20 5079  s compared to Py
-0001a120: 7468 6f6e 2066 756e 6374 696f 6e73 2e20  thon functions. 
-0001a130: 5370 6563 6966 6963 616c 6c79 3a0a 2d20  Specifically:.- 
-0001a140: 4966 2070 6174 7465 726e 2d6d 6174 6368  If pattern-match
-0001a150: 696e 6720 6675 6e63 7469 6f6e 2064 6566  ing function def
-0001a160: 696e 6974 696f 6e20 6661 696c 732c 2069  inition fails, i
-0001a170: 7420 7769 6c6c 2072 6169 7365 2061 205b  t will raise a [
-0001a180: 604d 6174 6368 4572 726f 7260 5d28 236d  `MatchError`](#m
-0001a190: 6174 6368 6572 726f 7229 2028 6a75 7374  atcherror) (just
-0001a1a0: 206c 696b 6520 5b64 6573 7472 7563 7475   like [destructu
-0001a1b0: 7269 6e67 2061 7373 6967 6e6d 656e 745d  ring assignment]
-0001a1c0: 2823 6465 7374 7275 6374 7572 696e 672d  (#destructuring-
-0001a1d0: 6173 7369 676e 6d65 6e74 2929 2069 6e73  assignment)) ins
-0001a1e0: 7465 6164 206f 6620 6120 6054 7970 6545  tead of a `TypeE
-0001a1f0: 7272 6f72 602e 0a2d 2041 6c6c 2064 6566  rror`..- All def
-0001a200: 6175 6c74 7320 696e 2070 6174 7465 726e  aults in pattern
-0001a210: 2d6d 6174 6368 696e 6720 6675 6e63 7469  -matching functi
-0001a220: 6f6e 2064 6566 696e 6974 696f 6e20 6172  on definition ar
-0001a230: 6520 6c61 7465 2d62 6f75 6e64 2072 6174  e late-bound rat
-0001a240: 6865 7220 7468 616e 2065 6172 6c79 2d62  her than early-b
-0001a250: 6f75 6e64 2e20 5468 7573 2c20 606d 6174  ound. Thus, `mat
-0001a260: 6368 2064 6566 2066 2878 733d 5b5d 2920  ch def f(xs=[]) 
-0001a270: 3d20 7873 6020 7769 6c6c 2069 6e73 7461  = xs` will insta
-0001a280: 6e74 6961 7465 2061 206e 6577 206c 6973  ntiate a new lis
-0001a290: 7420 666f 7220 6561 6368 2063 616c 6c20  t for each call 
-0001a2a0: 7768 6572 6520 6078 7360 2069 7320 6e6f  where `xs` is no
-0001a2b0: 7420 6769 7665 6e2c 2075 6e6c 696b 6520  t given, unlike 
-0001a2c0: 6064 6566 2066 2878 733d 5b5d 2920 3d20  `def f(xs=[]) = 
-0001a2d0: 7873 602c 2077 6869 6368 2077 696c 6c20  xs`, which will 
-0001a2e0: 7573 6520 7468 6520 7361 6d65 206c 6973  use the same lis
-0001a2f0: 7420 666f 7220 616c 6c20 6361 6c6c 7320  t for all calls 
-0001a300: 7768 6572 6520 6078 7360 2069 7320 756e  where `xs` is un
-0001a310: 7370 6563 6966 6965 642e 0a0a 5f4e 6f74  specified..._Not
-0001a320: 653a 2050 6174 7465 726e 2d6d 6174 6368  e: Pattern-match
-0001a330: 696e 6720 6675 6e63 7469 6f6e 2064 6566  ing function def
-0001a340: 696e 6974 696f 6e20 6361 6e20 6265 2063  inition can be c
-0001a350: 6f6d 6269 6e65 6420 7769 7468 2061 7373  ombined with ass
-0001a360: 6967 6e6d 656e 7420 616e 642f 6f72 2069  ignment and/or i
-0001a370: 6e66 6978 2066 756e 6374 696f 6e20 6465  nfix function de
-0001a380: 6669 6e69 7469 6f6e 2e5f 0a0a 2323 2323  finition._..####
-0001a390: 2320 4578 616d 706c 650a 0a2a 2a43 6f63  # Example..**Coc
-0001a3a0: 6f6e 7574 3a2a 2a0a 6060 6063 6f63 6f6e  onut:**.```cocon
-0001a3b0: 7574 0a64 6566 206c 6173 745f 7477 6f28  ut.def last_two(
-0001a3c0: 5f20 2b20 5b61 2c20 625d 293a 0a20 2020  _ + [a, b]):.   
-0001a3d0: 2072 6574 7572 6e20 612c 2062 0a64 6566   return a, b.def
-0001a3e0: 2078 7964 6963 745f 746f 5f78 7974 7570   xydict_to_xytup
-0001a3f0: 6c65 287b 2278 223a 2078 2060 6973 696e  le({"x": x `isin
-0001a400: 7374 616e 6365 6020 696e 742c 2022 7922  stance` int, "y"
-0001a410: 3a20 7920 6069 7369 6e73 7461 6e63 6560  : y `isinstance`
-0001a420: 2069 6e74 7d29 3a0a 2020 2020 7265 7475   int}):.    retu
-0001a430: 726e 2078 2c20 790a 0a72 616e 6765 2835  rn x, y..range(5
-0001a440: 2920 7c3e 206c 6173 745f 7477 6f20 7c3e  ) |> last_two |>
-0001a450: 2070 7269 6e74 0a7b 2278 223a 312c 2022   print.{"x":1, "
-0001a460: 7922 3a32 7d20 7c3e 2078 7964 6963 745f  y":2} |> xydict_
-0001a470: 746f 5f78 7974 7570 6c65 207c 3e20 7072  to_xytuple |> pr
-0001a480: 696e 740a 6060 600a 0a2a 2a50 7974 686f  int.```..**Pytho
-0001a490: 6e3a 2a2a 0a5f 4361 6e27 7420 6265 2064  n:**._Can't be d
-0001a4a0: 6f6e 6520 7769 7468 6f75 7420 6120 6c6f  one without a lo
-0001a4b0: 6e67 2073 6572 6965 7320 6f66 2063 6865  ng series of che
-0001a4c0: 636b 7320 6174 2074 6865 2074 6f70 206f  cks at the top o
-0001a4d0: 6620 7468 6520 6675 6e63 7469 6f6e 2e20  f the function. 
-0001a4e0: 5365 6520 7468 6520 636f 6d70 696c 6564  See the compiled
-0001a4f0: 2063 6f64 6520 666f 7220 7468 6520 5079   code for the Py
-0001a500: 7468 6f6e 2073 796e 7461 782e 5f0a 0a23  thon syntax._..#
-0001a510: 2323 2060 6164 6470 6174 7465 726e 6020  ## `addpattern` 
-0001a520: 4675 6e63 7469 6f6e 730a 0a43 6f63 6f6e  Functions..Cocon
-0001a530: 7574 2070 726f 7669 6465 7320 7468 6520  ut provides the 
-0001a540: 6061 6464 7061 7474 6572 6e20 6465 6660  `addpattern def`
-0001a550: 2073 796e 7461 7820 6173 2061 2073 686f   syntax as a sho
-0001a560: 7274 6375 7420 666f 7220 7468 6520 6675  rtcut for the fu
-0001a570: 6c6c 0a60 6060 636f 636f 6e75 740a 4061  ll.```coconut.@a
-0001a580: 6464 7061 7474 6572 6e28 6675 6e63 290a  ddpattern(func).
-0001a590: 6d61 7463 6820 6465 6620 6675 6e63 282e  match def func(.
-0001a5a0: 2e2e 293a 0a20 202e 2e2e 0a60 6060 0a73  ..):.  ....```.s
-0001a5b0: 796e 7461 7820 7573 696e 6720 7468 6520  yntax using the 
-0001a5c0: 5b60 6164 6470 6174 7465 726e 605d 2823  [`addpattern`](#
-0001a5d0: 6164 6470 6174 7465 726e 2920 6465 636f  addpattern) deco
-0001a5e0: 7261 746f 722e 0a0a 4966 2079 6f75 2077  rator...If you w
-0001a5f0: 616e 7420 746f 2070 7574 2061 2064 6563  ant to put a dec
-0001a600: 6f72 6174 6f72 206f 6e20 616e 2060 6164  orator on an `ad
-0001a610: 6470 6174 7465 726e 2064 6566 6020 6675  dpattern def` fu
-0001a620: 6e63 7469 6f6e 2c20 6d61 6b65 2073 7572  nction, make sur
-0001a630: 6520 746f 2070 7574 2069 7420 6f6e 2074  e to put it on t
-0001a640: 6865 205f 6c61 7374 5f20 7061 7474 6572  he _last_ patter
-0001a650: 6e20 6675 6e63 7469 6f6e 2e0a 0a23 2323  n function...###
-0001a660: 2323 2045 7861 6d70 6c65 0a0a 2a2a 436f  ## Example..**Co
-0001a670: 636f 6e75 743a 2a2a 0a60 6060 636f 636f  conut:**.```coco
-0001a680: 6e75 740a 6465 6620 6661 6374 6f72 6961  nut.def factoria
-0001a690: 6c28 3029 203d 2031 0a61 6464 7061 7474  l(0) = 1.addpatt
-0001a6a0: 6572 6e20 6465 6620 6661 6374 6f72 6961  ern def factoria
-0001a6b0: 6c28 6e29 203d 206e 202a 2066 6163 746f  l(n) = n * facto
-0001a6c0: 7269 616c 286e 202d 2031 290a 6060 600a  rial(n - 1).```.
-0001a6d0: 0a2a 2a50 7974 686f 6e3a 2a2a 0a5f 4361  .**Python:**._Ca
-0001a6e0: 6e27 7420 6265 2064 6f6e 6520 7769 7468  n't be done with
-0001a6f0: 6f75 7420 6120 636f 6d70 6c69 6361 7465  out a complicate
-0001a700: 6420 6465 636f 7261 746f 7220 6465 6669  d decorator defi
-0001a710: 6e69 7469 6f6e 2061 6e64 2061 206c 6f6e  nition and a lon
-0001a720: 6720 7365 7269 6573 206f 6620 6368 6563  g series of chec
-0001a730: 6b73 2066 6f72 2065 6163 6820 7061 7474  ks for each patt
-0001a740: 6572 6e2d 6d61 7463 6869 6e67 2e20 5365  ern-matching. Se
-0001a750: 6520 7468 6520 636f 6d70 696c 6564 2063  e the compiled c
-0001a760: 6f64 6520 666f 7220 7468 6520 5079 7468  ode for the Pyth
-0001a770: 6f6e 2073 796e 7461 782e 5f0a 0a23 2323  on syntax._..###
-0001a780: 2045 7870 6c69 6369 7420 4765 6e65 7261   Explicit Genera
-0001a790: 746f 7273 0a0a 436f 636f 6e75 7420 7375  tors..Coconut su
-0001a7a0: 7070 6f72 7473 2074 6865 2073 796e 7461  pports the synta
-0001a7b0: 780a 6060 600a 5b61 7379 6e63 5d20 7969  x.```.[async] yi
-0001a7c0: 656c 6420 6465 6620 3c6e 616d 653e 283c  eld def <name>(<
-0001a7d0: 6172 6773 3e29 3a0a 2020 2020 3c62 6f64  args>):.    <bod
-0001a7e0: 793e 0a60 6060 0a74 6f20 6465 6e6f 7465  y>.```.to denote
-0001a7f0: 2074 6861 7420 796f 7520 6172 6520 6578   that you are ex
-0001a800: 706c 6963 6974 6c79 2064 6566 696e 696e  plicitly definin
-0001a810: 6720 6120 6765 6e65 7261 746f 7220 6675  g a generator fu
-0001a820: 6e63 7469 6f6e 2e20 5468 6973 2069 7320  nction. This is 
-0001a830: 7573 6566 756c 2074 6f20 656e 7375 7265  useful to ensure
-0001a840: 2074 6861 742c 2065 7665 6e20 6966 2061   that, even if a
-0001a850: 6c6c 2074 6865 2060 7969 656c 6460 7320  ll the `yield`s 
-0001a860: 696e 2079 6f75 7220 6675 6e63 7469 6f6e  in your function
-0001a870: 2061 7265 2072 656d 6f76 6564 2c20 6974   are removed, it
-0001a880: 276c 6c20 616c 7761 7973 2062 6520 6120  'll always be a 
-0001a890: 6765 6e65 7261 746f 7220 6675 6e63 7469  generator functi
-0001a8a0: 6f6e 2e20 4e6f 7465 2074 6861 7420 7468  on. Note that th
-0001a8b0: 6520 6061 7379 6e63 6020 616e 6420 6079  e `async` and `y
-0001a8c0: 6965 6c64 6020 6b65 7977 6f72 6473 2063  ield` keywords c
-0001a8d0: 616e 2062 6520 696e 2061 6e79 206f 7264  an be in any ord
-0001a8e0: 6572 2e0a 0a45 7870 6c69 6369 7420 6765  er...Explicit ge
-0001a8f0: 6e65 7261 746f 7220 6675 6e63 7469 6f6e  nerator function
-0001a900: 7320 616c 736f 2073 7570 706f 7274 205b  s also support [
-0001a910: 7061 7474 6572 6e2d 6d61 7463 6869 6e67  pattern-matching
-0001a920: 2073 796e 7461 785d 2823 7061 7474 6572   syntax](#patter
-0001a930: 6e2d 6d61 7463 6869 6e67 2d66 756e 6374  n-matching-funct
-0001a940: 696f 6e73 292c 205b 696e 6669 7820 6675  ions), [infix fu
-0001a950: 6e63 7469 6f6e 2064 6566 696e 6974 696f  nction definitio
-0001a960: 6e5d 2823 696e 6669 782d 6675 6e63 7469  n](#infix-functi
-0001a970: 6f6e 7329 2c20 616e 6420 5b61 7373 6967  ons), and [assig
-0001a980: 6e6d 656e 7420 6675 6e63 7469 6f6e 2073  nment function s
-0001a990: 796e 7461 785d 2823 6173 7369 676e 6d65  yntax](#assignme
-0001a9a0: 6e74 2d66 756e 6374 696f 6e73 2920 2874  nt-functions) (t
-0001a9b0: 686f 7567 6820 6e6f 7465 2074 6861 7420  hough note that 
-0001a9c0: 6173 7369 676e 6d65 6e74 2066 756e 6374  assignment funct
-0001a9d0: 696f 6e20 7379 6e74 6178 2068 6572 6520  ion syntax here 
-0001a9e0: 6372 6561 7465 7320 6120 6765 6e65 7261  creates a genera
-0001a9f0: 746f 7220 7265 7475 726e 292e 0a0a 2323  tor return)...##
-0001aa00: 2323 2320 4578 616d 706c 650a 0a2a 2a43  ### Example..**C
-0001aa10: 6f63 6f6e 7574 3a2a 2a0a 6060 6063 6f63  oconut:**.```coc
-0001aa20: 6f6e 7574 0a79 6965 6c64 2064 6566 2065  onut.yield def e
-0001aa30: 6d70 7479 5f69 7428 293a 2070 6173 730a  mpty_it(): pass.
-0001aa40: 6060 600a 0a2a 2a50 7974 686f 6e3a 2a2a  ```..**Python:**
-0001aa50: 0a60 6060 636f 636f 6e75 745f 7079 7468  .```coconut_pyth
-0001aa60: 6f6e 0a64 6566 2065 6d70 7479 5f69 7428  on.def empty_it(
-0001aa70: 293a 0a20 2020 2069 6620 4661 6c73 653a  ):.    if False:
-0001aa80: 0a20 2020 2020 2020 2079 6965 6c64 0a60  .        yield.`
-0001aa90: 6060 0a0a 2323 2320 446f 7474 6564 2046  ``..### Dotted F
-0001aaa0: 756e 6374 696f 6e20 4465 6669 6e69 7469  unction Definiti
-0001aab0: 6f6e 0a0a 436f 636f 6e75 7420 616c 6c6f  on..Coconut allo
-0001aac0: 7773 2066 6f72 2066 756e 6374 696f 6e20  ws for function 
-0001aad0: 6465 6669 6e69 7469 6f6e 2075 7369 6e67  definition using
-0001aae0: 2061 2064 6f74 7465 6420 6e61 6d65 2074   a dotted name t
-0001aaf0: 6f20 6173 7369 676e 2061 2066 756e 6374  o assign a funct
-0001ab00: 696f 6e20 6173 2061 206d 6574 686f 6420  ion as a method 
-0001ab10: 6f66 2061 6e20 6f62 6a65 6374 2061 7320  of an object as 
-0001ab20: 7370 6563 6966 6965 6420 696e 205b 5045  specified in [PE
-0001ab30: 5020 3534 325d 2868 7474 7073 3a2f 2f77  P 542](https://w
-0001ab40: 7777 2e70 7974 686f 6e2e 6f72 672f 6465  ww.python.org/de
-0001ab50: 762f 7065 7073 2f70 6570 2d30 3534 322f  v/peps/pep-0542/
-0001ab60: 292e 0a0a 2323 2323 2320 4578 616d 706c  )...##### Exampl
-0001ab70: 650a 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0a  e..**Coconut:**.
-0001ab80: 6060 6063 6f63 6f6e 7574 0a64 6566 204d  ```coconut.def M
-0001ab90: 7943 6c61 7373 2e6d 795f 6d65 7468 6f64  yClass.my_method
-0001aba0: 2873 656c 6629 3a0a 2020 2020 2e2e 2e0a  (self):.    ....
-0001abb0: 6060 600a 0a2a 2a50 7974 686f 6e3a 2a2a  ```..**Python:**
-0001abc0: 0a60 6060 636f 636f 6e75 745f 7079 7468  .```coconut_pyth
-0001abd0: 6f6e 0a64 6566 206d 795f 6d65 7468 6f64  on.def my_method
-0001abe0: 2873 656c 6629 3a0a 2020 2020 2e2e 2e0a  (self):.    ....
-0001abf0: 4d79 436c 6173 732e 6d79 5f6d 6574 686f  MyClass.my_metho
-0001ac00: 6420 3d20 6d79 5f6d 6574 686f 640a 6060  d = my_method.``
-0001ac10: 600a 0a23 2320 5374 6174 656d 656e 7473  `..## Statements
-0001ac20: 0a0a 6060 607b 636f 6e74 656e 7473 7d0a  ..```{contents}.
-0001ac30: 2d2d 2d0a 6c6f 6361 6c3a 0a64 6570 7468  ---.local:.depth
-0001ac40: 3a20 310a 2d2d 2d0a 6060 600a 0a23 2323  : 1.---.```..###
-0001ac50: 2044 6573 7472 7563 7475 7269 6e67 2041   Destructuring A
-0001ac60: 7373 6967 6e6d 656e 740a 0a43 6f63 6f6e  ssignment..Cocon
-0001ac70: 7574 2073 7570 706f 7274 7320 7369 676e  ut supports sign
-0001ac80: 6966 6963 616e 746c 7920 656e 6861 6e63  ificantly enhanc
-0001ac90: 6564 2064 6573 7472 7563 7475 7269 6e67  ed destructuring
-0001aca0: 2061 7373 6967 6e6d 656e 742c 2073 696d   assignment, sim
-0001acb0: 696c 6172 2074 6f20 5079 7468 6f6e 2773  ilar to Python's
-0001acc0: 2074 7570 6c65 2f6c 6973 7420 6465 7374   tuple/list dest
-0001acd0: 7275 6374 7572 696e 672c 2062 7574 206d  ructuring, but m
-0001ace0: 7563 6820 6d6f 7265 2070 6f77 6572 6675  uch more powerfu
-0001acf0: 6c2e 2054 6865 2073 796e 7461 7820 666f  l. The syntax fo
-0001ad00: 7220 436f 636f 6e75 7427 7320 6465 7374  r Coconut's dest
-0001ad10: 7275 6374 7572 696e 6720 6173 7369 676e  ructuring assign
-0001ad20: 6d65 6e74 2069 730a 6060 6063 6f63 6f6e  ment is.```cocon
-0001ad30: 7574 0a5b 6d61 7463 685d 203c 7061 7474  ut.[match] <patt
-0001ad40: 6572 6e3e 203d 203c 7661 6c75 653e 0a60  ern> = <value>.`
-0001ad50: 6060 0a77 6865 7265 2060 3c76 616c 7565  ``.where `<value
-0001ad60: 3e60 2069 7320 616e 7920 6578 7072 6573  >` is any expres
-0001ad70: 7369 6f6e 2061 6e64 2060 3c70 6174 7465  sion and `<patte
-0001ad80: 726e 3e60 2069 7320 6465 6669 6e65 6420  rn>` is defined 
-0001ad90: 6279 2043 6f63 6f6e 7574 2773 205b 606d  by Coconut's [`m
-0001ada0: 6174 6368 6020 7374 6174 656d 656e 745d  atch` statement]
-0001adb0: 2823 6d61 7463 6829 2e20 5468 6520 606d  (#match). The `m
-0001adc0: 6174 6368 6020 6b65 7977 6f72 6420 6174  atch` keyword at
-0001add0: 2074 6865 2062 6567 696e 6e69 6e67 2069   the beginning i
-0001ade0: 7320 6f70 7469 6f6e 616c 2c20 6275 7420  s optional, but 
-0001adf0: 6973 2073 6f6d 6574 696d 6573 206e 6563  is sometimes nec
-0001ae00: 6573 7361 7279 2074 6f20 6469 7361 6d62  essary to disamb
-0001ae10: 6967 7561 7465 2064 6573 7472 7563 7475  iguate destructu
-0001ae20: 7269 6e67 2061 7373 6967 6e6d 656e 7420  ring assignment 
-0001ae30: 6672 6f6d 206e 6f72 6d61 6c20 6173 7369  from normal assi
-0001ae40: 676e 6d65 6e74 2c20 7768 6963 6820 7769  gnment, which wi
-0001ae50: 6c6c 2061 6c77 6179 7320 7461 6b65 2070  ll always take p
-0001ae60: 7265 6365 6465 6e63 652e 2043 6f63 6f6e  recedence. Cocon
-0001ae70: 7574 2773 2064 6573 7472 7563 7475 7269  ut's destructuri
-0001ae80: 6e67 2061 7373 6967 6e6d 656e 7420 6973  ng assignment is
-0001ae90: 2065 7175 6976 616c 656e 7420 746f 2061   equivalent to a
-0001aea0: 206d 6174 6368 2073 7461 7465 6d65 6e74   match statement
-0001aeb0: 2074 6861 7420 666f 6c6c 6f77 7320 7468   that follows th
-0001aec0: 6520 7379 6e74 6178 3a0a 6060 6063 6f63  e syntax:.```coc
-0001aed0: 6f6e 7574 0a6d 6174 6368 203c 7061 7474  onut.match <patt
-0001aee0: 6572 6e3e 2069 6e20 3c76 616c 7565 3e3a  ern> in <value>:
-0001aef0: 0a20 2020 2070 6173 730a 656c 7365 3a0a  .    pass.else:.
-0001af00: 2020 2020 6572 7220 3d20 4d61 7463 6845      err = MatchE
-0001af10: 7272 6f72 283c 6572 726f 7220 6d65 7373  rror(<error mess
-0001af20: 6167 653e 290a 2020 2020 6572 722e 7061  age>).    err.pa
-0001af30: 7474 6572 6e20 3d20 223c 7061 7474 6572  ttern = "<patter
-0001af40: 6e3e 220a 2020 2020 6572 722e 7661 6c75  n>".    err.valu
-0001af50: 6520 3d20 3c76 616c 7565 3e0a 2020 2020  e = <value>.    
-0001af60: 7261 6973 6520 6572 720a 6060 600a 4966  raise err.```.If
-0001af70: 2061 2064 6573 7472 7563 7475 7269 6e67   a destructuring
-0001af80: 2061 7373 6967 6e6d 656e 7420 7374 6174   assignment stat
-0001af90: 656d 656e 7420 6661 696c 732c 2074 6865  ement fails, the
-0001afa0: 6e20 696e 7374 6561 6420 6f66 2063 6f6e  n instead of con
-0001afb0: 7469 6e75 696e 6720 6f6e 2061 7320 6966  tinuing on as if
-0001afc0: 2061 2060 6d61 7463 6860 2062 6c6f 636b   a `match` block
-0001afd0: 2068 6164 2066 6169 6c65 642c 2061 205b   had failed, a [
-0001afe0: 604d 6174 6368 4572 726f 7260 5d28 236d  `MatchError`](#m
-0001aff0: 6174 6368 6572 726f 7229 206f 626a 6563  atcherror) objec
-0001b000: 7420 7769 6c6c 2062 6520 7261 6973 6564  t will be raised
-0001b010: 2064 6573 6372 6962 696e 6720 7468 6520   describing the 
-0001b020: 6661 696c 7572 652e 0a0a 2323 2323 2320  failure...##### 
-0001b030: 4578 616d 706c 650a 0a2a 2a43 6f63 6f6e  Example..**Cocon
-0001b040: 7574 3a2a 2a0a 6060 6063 6f63 6f6e 7574  ut:**.```coconut
-0001b050: 0a5f 202b 205b 612c 2062 5d20 3d20 5b30  ._ + [a, b] = [0
-0001b060: 2c20 312c 2032 2c20 335d 0a70 7269 6e74  , 1, 2, 3].print
-0001b070: 2861 2c20 6229 0a60 6060 0a0a 2a2a 5079  (a, b).```..**Py
-0001b080: 7468 6f6e 3a2a 2a0a 5f43 616e 2774 2062  thon:**._Can't b
-0001b090: 6520 646f 6e65 2077 6974 686f 7574 2061  e done without a
-0001b0a0: 206c 6f6e 6720 7365 7269 6573 206f 6620   long series of 
-0001b0b0: 6368 6563 6b73 2069 6e20 706c 6163 6520  checks in place 
-0001b0c0: 6f66 2074 6865 2064 6573 7472 7563 7475  of the destructu
-0001b0d0: 7269 6e67 2061 7373 6967 6e6d 656e 7420  ring assignment 
-0001b0e0: 7374 6174 656d 656e 742e 2053 6565 2074  statement. See t
-0001b0f0: 6865 2063 6f6d 7069 6c65 6420 636f 6465  he compiled code
-0001b100: 2066 6f72 2074 6865 2050 7974 686f 6e20   for the Python 
-0001b110: 7379 6e74 6178 2e5f 0a0a 2323 2320 5479  syntax._..### Ty
-0001b120: 7065 2050 6172 616d 6574 6572 2053 796e  pe Parameter Syn
-0001b130: 7461 780a 0a43 6f63 6f6e 7574 2066 756c  tax..Coconut ful
-0001b140: 6c79 2073 7570 706f 7274 7320 5b50 4550  ly supports [PEP
-0001b150: 2036 3935 5d28 6874 7470 733a 2f2f 7065   695](https://pe
-0001b160: 7073 2e70 7974 686f 6e2e 6f72 672f 7065  ps.python.org/pe
-0001b170: 702d 3036 3935 2f29 2074 7970 6520 7061  p-0695/) type pa
-0001b180: 7261 6d65 7465 7220 7379 6e74 6178 2028  rameter syntax (
-0001b190: 7769 7468 2074 6865 2063 6176 6561 7420  with the caveat 
-0001b1a0: 7468 6174 2061 6c6c 2074 7970 6520 7661  that all type va
-0001b1b0: 7269 6162 6c65 7320 6172 6520 696e 7661  riables are inva
-0001b1c0: 7269 616e 7420 7261 7468 6572 2074 6861  riant rather tha
-0001b1d0: 6e20 696e 6665 7272 6564 292e 0a0a 5468  n inferred)...Th
-0001b1e0: 6174 2069 6e63 6c75 6465 7320 7479 7065  at includes type
-0001b1f0: 2070 6172 616d 6574 6572 7320 666f 7220   parameters for 
-0001b200: 636c 6173 7365 732c 205b 6064 6174 6160  classes, [`data`
-0001b210: 2074 7970 6573 5d28 2364 6174 6129 2c20   types](#data), 
-0001b220: 616e 6420 5b61 6c6c 2074 7970 6573 206f  and [all types o
-0001b230: 6620 6675 6e63 7469 6f6e 2064 6566 696e  f function defin
-0001b240: 6974 696f 6e5d 2823 6675 6e63 7469 6f6e  ition](#function
-0001b250: 2d64 6566 696e 6974 696f 6e29 2e20 466f  -definition). Fo
-0001b260: 7220 6469 6666 6572 656e 7420 7479 7065  r different type
-0001b270: 7320 6f66 2066 756e 6374 696f 6e20 6465  s of function de
-0001b280: 6669 6e69 7469 6f6e 2c20 7468 6520 7479  finition, the ty
-0001b290: 7065 2070 6172 616d 6574 6572 7320 616c  pe parameters al
-0001b2a0: 7761 7973 2063 6f6d 6520 696e 2062 7261  ways come in bra
-0001b2b0: 636b 6574 7320 7269 6768 7420 6166 7465  ckets right afte
-0001b2c0: 7220 7468 6520 6675 6e63 7469 6f6e 206e  r the function n
-0001b2d0: 616d 652e 2043 6f63 6f6e 7574 2773 205b  ame. Coconut's [
-0001b2e0: 656e 6861 6e63 6564 2074 7970 6520 616e  enhanced type an
-0001b2f0: 6e6f 7461 7469 6f6e 2073 796e 7461 785d  notation syntax]
-0001b300: 2823 656e 6861 6e63 6564 2d74 7970 652d  (#enhanced-type-
-0001b310: 616e 6e6f 7461 7469 6f6e 2920 6973 2073  annotation) is s
-0001b320: 7570 706f 7274 6564 2066 6f72 2061 6c6c  upported for all
-0001b330: 2074 7970 6520 7061 7261 6d65 7465 7220   type parameter 
-0001b340: 626f 756e 6473 2e0a 0a41 6464 6974 696f  bounds...Additio
-0001b350: 6e61 6c6c 792c 2043 6f63 6f6e 7574 2073  nally, Coconut s
-0001b360: 7570 706f 7274 7320 7468 6520 616c 7465  upports the alte
-0001b370: 726e 6174 6976 6520 626f 756e 6473 2073  rnative bounds s
-0001b380: 796e 7461 7820 6f66 2060 7479 7065 204e  yntax of `type N
-0001b390: 6577 5479 7065 5b54 203c 3a20 626f 756e  ewType[T <: boun
-0001b3a0: 645d 203d 202e 2e2e 6020 7261 7468 6572  d] = ...` rather
-0001b3b0: 2074 6861 6e20 6074 7970 6520 4e65 7754   than `type NewT
-0001b3c0: 7970 655b 543a 2062 6f75 6e64 5d20 3d20  ype[T: bound] = 
-0001b3d0: 2e2e 2e60 2c20 746f 206d 616b 6520 6974  ...`, to make it
-0001b3e0: 206d 6f72 6520 636c 6561 7220 7468 6174   more clear that
-0001b3f0: 2069 7420 6973 2061 6e20 7570 7065 7220   it is an upper 
-0001b400: 626f 756e 6420 7261 7468 6572 2074 6861  bound rather tha
-0001b410: 6e20 6120 7479 7065 2e20 496e 2060 2d2d  n a type. In `--
-0001b420: 7374 7269 6374 6020 6d6f 6465 2c20 603c  strict` mode, `<
-0001b430: 3a60 2069 7320 7265 7175 6972 6564 206f  :` is required o
-0001b440: 7665 7220 603a 6020 666f 7220 616c 6c20  ver `:` for all 
-0001b450: 7479 7065 2070 6172 616d 6574 6572 2062  type parameter b
-0001b460: 6f75 6e64 732e 205f 4445 5052 4543 4154  ounds. _DEPRECAT
-0001b470: 4544 3a20 603c 3d60 2063 616e 2061 6c73  ED: `<=` can als
-0001b480: 6f20 6265 2075 7365 6420 6173 2061 6e20  o be used as an 
-0001b490: 616c 7465 726e 6174 6976 6520 746f 2060  alternative to `
-0001b4a0: 3c3a 602e 5f0a 0a5f 4e6f 7465 2074 6861  <:`._.._Note tha
-0001b4b0: 742c 2062 7920 6465 6661 756c 742c 2061  t, by default, a
-0001b4c0: 6c6c 2074 7970 6520 6465 636c 6172 6174  ll type declarat
-0001b4d0: 696f 6e73 2061 7265 2077 7261 7070 6564  ions are wrapped
-0001b4e0: 2069 6e20 7374 7269 6e67 7320 746f 2065   in strings to e
-0001b4f0: 6e61 626c 6520 666f 7277 6172 6420 7265  nable forward re
-0001b500: 6665 7265 6e63 6573 2061 6e64 2069 6d70  ferences and imp
-0001b510: 726f 7665 2072 756e 7469 6d65 2070 6572  rove runtime per
-0001b520: 666f 726d 616e 6365 2e20 4966 2079 6f75  formance. If you
-0001b530: 2064 6f6e 2774 2077 616e 7420 7468 6174   don't want that
-0001b540: e280 9465 2e67 2e20 6265 6361 7573 6520  ...e.g. because 
-0001b550: 796f 7520 7761 6e74 2074 6f20 7573 6520  you want to use 
-0001b560: 7479 7065 2061 6e6e 6f74 6174 696f 6e73  type annotations
-0001b570: 2061 7420 7275 6e74 696d 65e2 8094 7369   at runtime...si
-0001b580: 6d70 6c79 2070 6173 7320 7468 6520 602d  mply pass the `-
-0001b590: 2d6e 6f2d 7772 6170 2d74 7970 6573 6020  -no-wrap-types` 
-0001b5a0: 666c 6167 2e5f 0a0a 2323 2323 2320 5045  flag._..##### PE
-0001b5b0: 5020 3639 3520 446f 6373 0a0a 4465 6669  P 695 Docs..Defi
-0001b5c0: 6e69 6e67 2061 2067 656e 6572 6963 2063  ning a generic c
-0001b5d0: 6c61 7373 2070 7269 6f72 2074 6f20 7468  lass prior to th
-0001b5e0: 6973 2050 4550 206c 6f6f 6b73 2073 6f6d  is PEP looks som
-0001b5f0: 6574 6869 6e67 206c 696b 6520 7468 6973  ething like this
-0001b600: 2e0a 0a60 6060 636f 636f 6e75 745f 7079  ...```coconut_py
-0001b610: 7468 6f6e 0a66 726f 6d20 7479 7069 6e67  thon.from typing
-0001b620: 2069 6d70 6f72 7420 4765 6e65 7269 632c   import Generic,
-0001b630: 2054 7970 6556 6172 0a0a 5f54 5f63 6f20   TypeVar.._T_co 
-0001b640: 3d20 5479 7065 5661 7228 225f 545f 636f  = TypeVar("_T_co
-0001b650: 222c 2063 6f76 6172 6961 6e74 3d54 7275  ", covariant=Tru
-0001b660: 652c 2062 6f75 6e64 3d73 7472 290a 0a63  e, bound=str)..c
-0001b670: 6c61 7373 2043 6c61 7373 4128 4765 6e65  lass ClassA(Gene
-0001b680: 7269 635b 5f54 5f63 6f5d 293a 0a20 2020  ric[_T_co]):.   
-0001b690: 2064 6566 206d 6574 686f 6431 2873 656c   def method1(sel
-0001b6a0: 6629 202d 3e20 5f54 5f63 6f3a 0a20 2020  f) -> _T_co:.   
-0001b6b0: 2020 2020 202e 2e2e 0a60 6060 0a0a 5769       ....```..Wi
-0001b6c0: 7468 2074 6865 206e 6577 2073 796e 7461  th the new synta
-0001b6d0: 782c 2069 7420 6c6f 6f6b 7320 6c69 6b65  x, it looks like
-0001b6e0: 2074 6869 732e 0a0a 6060 6063 6f63 6f6e   this...```cocon
-0001b6f0: 7574 0a63 6c61 7373 2043 6c61 7373 415b  ut.class ClassA[
-0001b700: 543a 2073 7472 5d3a 0a20 2020 2064 6566  T: str]:.    def
-0001b710: 206d 6574 686f 6431 2873 656c 6629 202d   method1(self) -
-0001b720: 3e20 543a 0a20 2020 2020 2020 202e 2e2e  > T:.        ...
-0001b730: 0a60 6060 0a0a 4865 7265 2069 7320 616e  .```..Here is an
-0001b740: 2065 7861 6d70 6c65 206f 6620 6120 6765   example of a ge
-0001b750: 6e65 7269 6320 6675 6e63 7469 6f6e 2074  neric function t
-0001b760: 6f64 6179 2e0a 0a60 6060 636f 636f 6e75  oday...```coconu
-0001b770: 745f 7079 7468 6f6e 0a66 726f 6d20 7479  t_python.from ty
-0001b780: 7069 6e67 2069 6d70 6f72 7420 5479 7065  ping import Type
-0001b790: 5661 720a 0a5f 5420 3d20 5479 7065 5661  Var.._T = TypeVa
-0001b7a0: 7228 225f 5422 290a 0a64 6566 2066 756e  r("_T")..def fun
-0001b7b0: 6328 613a 205f 542c 2062 3a20 5f54 2920  c(a: _T, b: _T) 
-0001b7c0: 2d3e 205f 543a 0a20 2020 202e 2e2e 0a60  -> _T:.    ....`
-0001b7d0: 6060 0a0a 416e 6420 7468 6520 6e65 7720  ``..And the new 
-0001b7e0: 7379 6e74 6178 2e0a 0a60 6060 636f 636f  syntax...```coco
-0001b7f0: 6e75 740a 6465 6620 6675 6e63 5b54 5d28  nut.def func[T](
-0001b800: 613a 2054 2c20 623a 2054 2920 2d3e 2054  a: T, b: T) -> T
-0001b810: 3a0a 2020 2020 2e2e 2e0a 6060 600a 0a48  :.    ....```..H
-0001b820: 6572 6520 6973 2061 6e20 6578 616d 706c  ere is an exampl
-0001b830: 6520 6f66 2061 2067 656e 6572 6963 2074  e of a generic t
-0001b840: 7970 6520 616c 6961 7320 746f 6461 792e  ype alias today.
-0001b850: 0a0a 6060 6063 6f63 6f6e 7574 5f70 7974  ..```coconut_pyt
-0001b860: 686f 6e0a 6672 6f6d 2074 7970 696e 6720  hon.from typing 
-0001b870: 696d 706f 7274 2054 7970 6541 6c69 6173  import TypeAlias
-0001b880: 0a0a 5f54 203d 2054 7970 6556 6172 2822  .._T = TypeVar("
-0001b890: 5f54 2229 0a0a 4c69 7374 4f72 5365 743a  _T")..ListOrSet:
-0001b8a0: 2054 7970 6541 6c69 6173 203d 206c 6973   TypeAlias = lis
-0001b8b0: 745b 5f54 5d20 7c20 7365 745b 5f54 5d0a  t[_T] | set[_T].
-0001b8c0: 6060 600a 0a41 6e64 2077 6974 6820 7468  ```..And with th
-0001b8d0: 6520 6e65 7720 7379 6e74 6178 2e0a 0a60  e new syntax...`
-0001b8e0: 6060 636f 636f 6e75 740a 7479 7065 204c  ``coconut.type L
-0001b8f0: 6973 744f 7253 6574 5b54 5d20 3d20 6c69  istOrSet[T] = li
-0001b900: 7374 5b54 5d20 7c20 7365 745b 545d 0a60  st[T] | set[T].`
-0001b910: 6060 0a0a 0a23 2323 2323 2045 7861 6d70  ``...##### Examp
-0001b920: 6c65 0a0a 2a2a 436f 636f 6e75 743a 2a2a  le..**Coconut:**
-0001b930: 0a60 6060 636f 636f 6e75 740a 6461 7461  .```coconut.data
-0001b940: 2044 5b54 5d28 783a 2054 2c20 793a 2054   D[T](x: T, y: T
-0001b950: 290a 0a64 6566 206d 795f 6964 656e 745b  )..def my_ident[
-0001b960: 545d 2878 3a20 5429 202d 3e20 5420 3d20  T](x: T) -> T = 
-0001b970: 780a 6060 600a 0a2a 2a50 7974 686f 6e3a  x.```..**Python:
-0001b980: 2a2a 0a5f 4361 6e27 7420 6265 2064 6f6e  **._Can't be don
-0001b990: 6520 7769 7468 6f75 7420 6120 636f 6d70  e without a comp
-0001b9a0: 6c65 7820 6465 6669 6e69 7469 6f6e 2066  lex definition f
-0001b9b0: 6f72 2074 6865 2064 6174 6120 7479 7065  or the data type
-0001b9c0: 2e20 5365 6520 7468 6520 636f 6d70 696c  . See the compil
-0001b9d0: 6564 2063 6f64 6520 666f 7220 7468 6520  ed code for the 
-0001b9e0: 5079 7468 6f6e 2073 796e 7461 782e 5f0a  Python syntax._.
-0001b9f0: 0a23 2323 2049 6d70 6c69 6369 7420 6070  .### Implicit `p
-0001ba00: 6173 7360 0a0a 436f 636f 6e75 7420 7375  ass`..Coconut su
-0001ba10: 7070 6f72 7473 2074 6865 2073 696d 706c  pports the simpl
-0001ba20: 6520 6063 6c61 7373 206e 616d 6528 6261  e `class name(ba
-0001ba30: 7365 2960 2061 6e64 2060 6461 7461 206e  se)` and `data n
-0001ba40: 616d 6528 6172 6773 2960 2061 7320 616c  ame(args)` as al
-0001ba50: 6961 7365 7320 666f 7220 6063 6c61 7373  iases for `class
-0001ba60: 206e 616d 6528 6261 7365 293a 2070 6173   name(base): pas
-0001ba70: 7360 2061 6e64 2060 6461 7461 206e 616d  s` and `data nam
-0001ba80: 6528 6172 6773 293a 2070 6173 7360 2e0a  e(args): pass`..
-0001ba90: 0a23 2323 2323 2045 7861 6d70 6c65 0a0a  .##### Example..
-0001baa0: 2a2a 436f 636f 6e75 743a 2a2a 0a60 6060  **Coconut:**.```
-0001bab0: 636f 636f 6e75 740a 636c 6173 7320 5472  coconut.class Tr
-0001bac0: 6565 0a64 6174 6120 456d 7074 7920 6672  ee.data Empty fr
-0001bad0: 6f6d 2054 7265 650a 6461 7461 204c 6561  om Tree.data Lea
-0001bae0: 6628 6974 656d 2920 6672 6f6d 2054 7265  f(item) from Tre
-0001baf0: 650a 6461 7461 204e 6f64 6528 6c65 6674  e.data Node(left
-0001bb00: 2c20 7269 6768 7429 2066 726f 6d20 5472  , right) from Tr
-0001bb10: 6565 0a60 6060 0a0a 2a2a 5079 7468 6f6e  ee.```..**Python
-0001bb20: 3a2a 2a0a 5f43 616e 2774 2062 6520 646f  :**._Can't be do
-0001bb30: 6e65 2077 6974 686f 7574 2061 2073 6572  ne without a ser
-0001bb40: 6965 7320 6f66 206d 6574 686f 6420 6465  ies of method de
-0001bb50: 6669 6e69 7469 6f6e 7320 666f 7220 6561  finitions for ea
-0001bb60: 6368 2064 6174 6120 7479 7065 2e20 5365  ch data type. Se
-0001bb70: 6520 7468 6520 636f 6d70 696c 6564 2063  e the compiled c
-0001bb80: 6f64 6520 666f 7220 7468 6520 5079 7468  ode for the Pyth
-0001bb90: 6f6e 2073 796e 7461 782e 5f0a 0a23 2323  on syntax._..###
-0001bba0: 2044 6563 6f72 6174 6f72 730a 0a55 6e6c   Decorators..Unl
-0001bbb0: 696b 6520 5079 7468 6f6e 2c20 7768 6963  ike Python, whic
-0001bbc0: 6820 6f6e 6c79 2073 7570 706f 7274 7320  h only supports 
-0001bbd0: 6120 7369 6e67 6c65 2076 6172 6961 626c  a single variabl
-0001bbe0: 6520 6f72 2066 756e 6374 696f 6e20 6361  e or function ca
-0001bbf0: 6c6c 2069 6e20 6120 6465 636f 7261 746f  ll in a decorato
-0001bc00: 722c 2043 6f63 6f6e 7574 2073 7570 706f  r, Coconut suppo
-0001bc10: 7274 7320 616e 7920 6578 7072 6573 7369  rts any expressi
-0001bc20: 6f6e 2061 7320 696e 205b 5045 5020 3631  on as in [PEP 61
-0001bc30: 345d 2868 7474 7073 3a2f 2f77 7777 2e70  4](https://www.p
-0001bc40: 7974 686f 6e2e 6f72 672f 6465 762f 7065  ython.org/dev/pe
-0001bc50: 7073 2f70 6570 2d30 3631 342f 292e 0a0a  ps/pep-0614/)...
-0001bc60: 2323 2323 2320 4578 616d 706c 650a 0a2a  ##### Example..*
-0001bc70: 2a43 6f63 6f6e 7574 3a2a 2a0a 6060 6063  *Coconut:**.```c
-0001bc80: 6f63 6f6e 7574 0a40 2077 7261 7070 6572  oconut.@ wrapper
-0001bc90: 3120 2e2e 2077 7261 7070 6572 3224 2861  1 .. wrapper2$(a
-0001bca0: 7267 290a 6465 6620 6675 6e63 2878 2920  rg).def func(x) 
-0001bcb0: 3d20 782a 2a32 0a60 6060 0a0a 2a2a 5079  = x**2.```..**Py
-0001bcc0: 7468 6f6e 3a2a 2a0a 6060 6063 6f63 6f6e  thon:**.```cocon
-0001bcd0: 7574 5f70 7974 686f 6e0a 6465 6620 7772  ut_python.def wr
-0001bce0: 6170 7065 7228 6675 6e63 293a 0a20 2020  apper(func):.   
-0001bcf0: 2072 6574 7572 6e20 7772 6170 7065 7231   return wrapper1
-0001bd00: 2877 7261 7070 6572 3228 6172 672c 2066  (wrapper2(arg, f
-0001bd10: 756e 6329 290a 4077 7261 7070 6572 0a64  unc)).@wrapper.d
-0001bd20: 6566 2066 756e 6328 7829 3a0a 2020 2020  ef func(x):.    
-0001bd30: 7265 7475 726e 2078 2a2a 320a 6060 600a  return x**2.```.
-0001bd40: 0a23 2323 2053 7461 7465 6d65 6e74 204e  .### Statement N
-0001bd50: 6573 7469 6e67 0a0a 436f 636f 6e75 7420  esting..Coconut 
-0001bd60: 7375 7070 6f72 7473 2074 6865 206e 6573  supports the nes
-0001bd70: 7469 6e67 206f 6620 636f 6d70 6f75 6e64  ting of compound
-0001bd80: 2073 7461 7465 6d65 6e74 7320 6f6e 2074   statements on t
-0001bd90: 6865 2073 616d 6520 6c69 6e65 2e20 5468  he same line. Th
-0001bda0: 6973 2061 6c6c 6f77 7320 7468 6520 6d69  is allows the mi
-0001bdb0: 7869 6e67 206f 6620 606d 6174 6368 6020  xing of `match` 
-0001bdc0: 616e 6420 6069 6660 2073 7461 7465 6d65  and `if` stateme
-0001bdd0: 6e74 7320 746f 6765 7468 6572 2c20 6173  nts together, as
-0001bde0: 2077 656c 6c20 6173 2063 6f6d 706f 756e   well as compoun
-0001bdf0: 6420 6074 7279 6020 7374 6174 656d 656e  d `try` statemen
-0001be00: 7473 2e0a 0a23 2323 2323 2045 7861 6d70  ts...##### Examp
-0001be10: 6c65 0a0a 2a2a 436f 636f 6e75 743a 2a2a  le..**Coconut:**
-0001be20: 0a60 6060 636f 636f 6e75 740a 6966 2069  .```coconut.if i
-0001be30: 6e76 616c 6964 2869 6e70 7574 5f6c 6973  nvalid(input_lis
-0001be40: 7429 3a0a 2020 2020 7261 6973 6520 4578  t):.    raise Ex
-0001be50: 6365 7074 696f 6e28 290a 656c 7365 3a20  ception().else: 
-0001be60: 6d61 7463 6820 5b68 6561 645d 202b 2074  match [head] + t
-0001be70: 6169 6c20 696e 2069 6e70 7574 5f6c 6973  ail in input_lis
-0001be80: 743a 0a20 2020 2070 7269 6e74 2868 6561  t:.    print(hea
-0001be90: 642c 2074 6169 6c29 0a65 6c73 653a 0a20  d, tail).else:. 
-0001bea0: 2020 2070 7269 6e74 2869 6e70 7574 5f6c     print(input_l
-0001beb0: 6973 7429 0a60 6060 0a0a 2a2a 5079 7468  ist).```..**Pyth
-0001bec0: 6f6e 3a2a 2a0a 6060 6063 6f63 6f6e 7574  on:**.```coconut
-0001bed0: 5f70 7974 686f 6e0a 6672 6f6d 2063 6f6c  _python.from col
-0001bee0: 6c65 6374 696f 6e73 2e61 6263 2069 6d70  lections.abc imp
-0001bef0: 6f72 7420 5365 7175 656e 6365 0a69 6620  ort Sequence.if 
-0001bf00: 696e 7661 6c69 6428 696e 7075 745f 6c69  invalid(input_li
-0001bf10: 7374 293a 0a20 2020 2072 6169 7365 2045  st):.    raise E
-0001bf20: 7863 6570 7469 6f6e 2829 0a65 6c69 6620  xception().elif 
-0001bf30: 6973 696e 7374 616e 6365 2869 6e70 7574  isinstance(input
-0001bf40: 5f6c 6973 742c 2053 6571 7565 6e63 6529  _list, Sequence)
-0001bf50: 2061 6e64 206c 656e 2869 6e70 7574 5f6c   and len(input_l
-0001bf60: 6973 7429 203e 3d20 313a 0a20 2020 2068  ist) >= 1:.    h
-0001bf70: 6561 642c 2074 6169 6c20 3d20 696e 7075  ead, tail = inpu
-0001bf80: 746c 6973 745b 305d 2c20 696e 7075 746c  tlist[0], inputl
-0001bf90: 6973 745b 313a 5d0a 2020 2020 7072 696e  ist[1:].    prin
-0001bfa0: 7428 6865 6164 2c20 7461 696c 290a 656c  t(head, tail).el
-0001bfb0: 7365 3a0a 2020 2020 7072 696e 7428 696e  se:.    print(in
-0001bfc0: 7075 745f 6c69 7374 290a 6060 600a 0a23  put_list).```..#
-0001bfd0: 2323 2060 6578 6365 7074 6020 5374 6174  ## `except` Stat
-0001bfe0: 656d 656e 7473 0a0a 5079 7468 6f6e 2033  ements..Python 3
-0001bff0: 2072 6571 7569 7265 7320 7468 6174 2069   requires that i
-0001c000: 6620 6d75 6c74 6970 6c65 2065 7863 6570  f multiple excep
-0001c010: 7469 6f6e 7320 6172 6520 746f 2062 6520  tions are to be 
-0001c020: 6361 7567 6874 2c20 7468 6579 206d 7573  caught, they mus
-0001c030: 7420 6265 2070 6c61 6365 6420 696e 7369  t be placed insi
-0001c040: 6465 206f 6620 7061 7265 6e74 6865 7365  de of parenthese
-0001c050: 732c 2073 6f20 6173 2074 6f20 6469 7361  s, so as to disa
-0001c060: 6c6c 6f77 2050 7974 686f 6e20 3227 7320  llow Python 2's 
-0001c070: 7573 6520 6f66 2061 2063 6f6d 6d61 2069  use of a comma i
-0001c080: 6e73 7465 6164 206f 6620 6061 7360 2e20  nstead of `as`. 
-0001c090: 436f 636f 6e75 7420 616c 6c6f 7773 2063  Coconut allows c
-0001c0a0: 6f6d 6d61 7320 696e 2065 7863 6570 7420  ommas in except 
-0001c0b0: 7374 6174 656d 656e 7473 2074 6f20 7472  statements to tr
-0001c0c0: 616e 736c 6174 6520 746f 2063 6174 6368  anslate to catch
-0001c0d0: 696e 6720 6d75 6c74 6970 6c65 2065 7863  ing multiple exc
-0001c0e0: 6570 7469 6f6e 7320 7769 7468 6f75 7420  eptions without 
-0001c0f0: 7468 6520 6e65 6564 2066 6f72 2070 6172  the need for par
-0001c100: 656e 7468 6573 6573 2c20 7369 6e63 652c  entheses, since,
-0001c110: 2061 7320 696e 2050 7974 686f 6e20 332c   as in Python 3,
-0001c120: 2060 6173 6020 6973 2061 6c77 6179 7320   `as` is always 
-0001c130: 7265 7175 6972 6564 2074 6f20 6269 6e64  required to bind
-0001c140: 2074 6865 2065 7863 6570 7469 6f6e 2074   the exception t
-0001c150: 6f20 6120 6e61 6d65 2e0a 0a23 2323 2323  o a name...#####
-0001c160: 2045 7861 6d70 6c65 0a0a 2a2a 436f 636f   Example..**Coco
-0001c170: 6e75 743a 2a2a 0a60 6060 636f 636f 6e75  nut:**.```coconu
-0001c180: 740a 7472 793a 0a20 2020 2075 6e73 6166  t.try:.    unsaf
-0001c190: 655f 6675 6e63 2861 7267 290a 6578 6365  e_func(arg).exce
-0001c1a0: 7074 2053 796e 7461 7845 7272 6f72 2c20  pt SyntaxError, 
-0001c1b0: 5661 6c75 6545 7272 6f72 2061 7320 6572  ValueError as er
-0001c1c0: 723a 0a20 2020 2068 616e 646c 6528 6572  r:.    handle(er
-0001c1d0: 7229 0a60 6060 0a0a 2a2a 5079 7468 6f6e  r).```..**Python
-0001c1e0: 3a2a 2a0a 6060 6063 6f63 6f6e 7574 5f70  :**.```coconut_p
-0001c1f0: 7974 686f 6e0a 7472 793a 0a20 2020 2075  ython.try:.    u
-0001c200: 6e73 6166 655f 6675 6e63 2861 7267 290a  nsafe_func(arg).
-0001c210: 6578 6365 7074 2028 5379 6e74 6178 4572  except (SyntaxEr
-0001c220: 726f 722c 2056 616c 7565 4572 726f 7229  ror, ValueError)
-0001c230: 2061 7320 6572 723a 0a20 2020 2068 616e   as err:.    han
-0001c240: 646c 6528 6572 7229 0a60 6060 0a0a 2323  dle(err).```..##
-0001c250: 2320 496e 2d6c 696e 6520 6067 6c6f 6261  # In-line `globa
-0001c260: 6c60 2041 6e64 2060 6e6f 6e6c 6f63 616c  l` And `nonlocal
-0001c270: 6020 4173 7369 676e 6d65 6e74 0a0a 436f  ` Assignment..Co
-0001c280: 636f 6e75 7420 616c 6c6f 7773 2066 6f72  conut allows for
-0001c290: 2060 676c 6f62 616c 6020 6f72 2060 6e6f   `global` or `no
-0001c2a0: 6e6c 6f63 616c 6020 746f 2070 7265 6365  nlocal` to prece
-0001c2b0: 6465 2061 7373 6967 6e6d 656e 7420 746f  de assignment to
-0001c2c0: 2061 206c 6973 7420 6f66 2076 6172 6961   a list of varia
-0001c2d0: 626c 6573 206f 7220 2861 7567 6d65 6e74  bles or (augment
-0001c2e0: 6564 2920 6173 7369 676e 6d65 6e74 2074  ed) assignment t
-0001c2f0: 6f20 6120 7661 7269 6162 6c65 2074 6f20  o a variable to 
-0001c300: 6d61 6b65 2074 6861 7420 6173 7369 676e  make that assign
-0001c310: 6d65 6e74 2060 676c 6f62 616c 6020 6f72  ment `global` or
-0001c320: 2060 6e6f 6e6c 6f63 616c 602c 2072 6573   `nonlocal`, res
-0001c330: 7065 6374 6976 656c 792e 0a0a 2323 2323  pectively...####
-0001c340: 2320 4578 616d 706c 650a 0a2a 2a43 6f63  # Example..**Coc
-0001c350: 6f6e 7574 3a2a 2a0a 6060 6063 6f63 6f6e  onut:**.```cocon
-0001c360: 7574 0a67 6c6f 6261 6c20 7374 6174 655f  ut.global state_
-0001c370: 612c 2073 7461 7465 5f62 203d 2031 302c  a, state_b = 10,
-0001c380: 2031 3030 0a67 6c6f 6261 6c20 7374 6174   100.global stat
-0001c390: 655f 6320 2b3d 2031 0a60 6060 0a0a 2a2a  e_c += 1.```..**
-0001c3a0: 5079 7468 6f6e 3a2a 2a0a 6060 6063 6f63  Python:**.```coc
-0001c3b0: 6f6e 7574 5f70 7974 686f 6e0a 676c 6f62  onut_python.glob
-0001c3c0: 616c 2073 7461 7465 5f61 2c20 7374 6174  al state_a, stat
-0001c3d0: 655f 623b 2073 7461 7465 5f61 2c20 7374  e_b; state_a, st
-0001c3e0: 6174 655f 6220 3d20 3130 2c20 3130 300a  ate_b = 10, 100.
-0001c3f0: 676c 6f62 616c 2073 7461 7465 5f63 3b20  global state_c; 
-0001c400: 7374 6174 655f 6320 2b3d 2031 0a60 6060  state_c += 1.```
-0001c410: 0a0a 2323 2320 436f 6465 2050 6173 7374  ..### Code Passt
-0001c420: 6872 6f75 6768 0a0a 436f 636f 6e75 7420  hrough..Coconut 
-0001c430: 7375 7070 6f72 7473 2074 6865 2061 6269  supports the abi
-0001c440: 6c69 7479 2074 6f20 7061 7373 2061 7262  lity to pass arb
-0001c450: 6974 7261 7279 2063 6f64 6520 7468 726f  itrary code thro
-0001c460: 7567 6820 7468 6520 636f 6d70 696c 6572  ugh the compiler
-0001c470: 2077 6974 686f 7574 2062 6569 6e67 2074   without being t
-0001c480: 6f75 6368 6564 2c20 666f 7220 636f 6d70  ouched, for comp
-0001c490: 6174 6962 696c 6974 7920 7769 7468 206f  atibility with o
-0001c4a0: 7468 6572 2076 6172 6961 6e74 7320 6f66  ther variants of
-0001c4b0: 2050 7974 686f 6e2c 2073 7563 6820 6173   Python, such as
-0001c4c0: 205b 4379 7468 6f6e 5d28 6874 7470 3a2f   [Cython](http:/
-0001c4d0: 2f63 7974 686f 6e2e 6f72 672f 2920 6f72  /cython.org/) or
-0001c4e0: 205b 4d79 7468 6f6e 5d28 6874 7470 3a2f   [Mython](http:/
-0001c4f0: 2f6d 7974 686f 6e2e 6f72 672f 292e 2041  /mython.org/). A
-0001c500: 6e79 7468 696e 6720 706c 6163 6564 2062  nything placed b
-0001c510: 6574 7765 656e 2060 5c28 6020 616e 6420  etween `\(` and 
-0001c520: 7468 6520 636f 7272 6573 706f 6e64 696e  the correspondin
-0001c530: 6720 636c 6f73 6520 7061 7265 6e74 6865  g close parenthe
-0001c540: 7369 7320 7769 6c6c 2062 6520 7061 7373  sis will be pass
-0001c550: 6564 2074 6872 6f75 6768 2c20 6173 2077  ed through, as w
-0001c560: 656c 6c20 6173 2061 6e79 206c 696e 6520  ell as any line 
-0001c570: 7374 6172 7469 6e67 2077 6974 6820 605c  starting with `\
-0001c580: 5c60 2c20 7768 6963 6820 7769 6c6c 2068  \`, which will h
-0001c590: 6176 6520 7468 6520 6164 6469 7469 6f6e  ave the addition
-0001c5a0: 616c 2065 6666 6563 7420 6f66 2061 6c6c  al effect of all
-0001c5b0: 6f77 696e 6720 696e 6465 6e74 6174 696f  owing indentatio
-0001c5c0: 6e20 756e 6465 7220 6974 2e0a 0a23 2323  n under it...###
-0001c5d0: 2323 2045 7861 6d70 6c65 0a0a 2a2a 436f  ## Example..**Co
-0001c5e0: 636f 6e75 743a 2a2a 0a60 6060 636f 636f  conut:**.```coco
-0001c5f0: 6e75 740a 5c5c 6364 6566 2066 2878 293a  nut.\\cdef f(x):
-0001c600: 0a20 2020 2072 6574 7572 6e20 7820 7c3e  .    return x |>
-0001c610: 2067 0a60 6060 0a0a 2a2a 5079 7468 6f6e   g.```..**Python
-0001c620: 3a2a 2a0a 6060 6063 6f63 6f6e 7574 5f70  :**.```coconut_p
-0001c630: 7974 686f 6e0a 6364 6566 2066 2878 293a  ython.cdef f(x):
-0001c640: 0a20 2020 2072 6574 7572 6e20 6728 7829  .    return g(x)
-0001c650: 0a60 6060 0a0a 2323 2320 456e 6861 6e63  .```..### Enhanc
-0001c660: 6564 2050 6172 656e 7468 6574 6963 616c  ed Parenthetical
-0001c670: 2043 6f6e 7469 6e75 6174 696f 6e0a 0a53   Continuation..S
-0001c680: 696e 6365 2043 6f63 6f6e 7574 2073 796e  ince Coconut syn
-0001c690: 7461 7820 6973 2061 2073 7570 6572 7365  tax is a superse
-0001c6a0: 7420 6f66 2050 7974 686f 6e20 3320 7379  t of Python 3 sy
-0001c6b0: 6e74 6178 2c20 436f 636f 6e75 7420 7375  ntax, Coconut su
-0001c6c0: 7070 6f72 7473 2074 6865 2073 616d 6520  pports the same 
-0001c6d0: 6c69 6e65 2063 6f6e 7469 6e75 6174 696f  line continuatio
-0001c6e0: 6e20 7379 6e74 6178 2061 7320 5079 7468  n syntax as Pyth
-0001c6f0: 6f6e 2e20 5468 6174 206d 6561 6e73 2062  on. That means b
-0001c700: 6f74 6820 6261 636b 736c 6173 6820 6c69  oth backslash li
-0001c710: 6e65 2063 6f6e 7469 6e75 6174 696f 6e20  ne continuation 
-0001c720: 616e 6420 696d 706c 6965 6420 6c69 6e65  and implied line
-0001c730: 2063 6f6e 7469 6e75 6174 696f 6e20 696e   continuation in
-0001c740: 7369 6465 206f 6620 7061 7265 6e74 6865  side of parenthe
-0001c750: 7365 732c 2062 7261 636b 6574 732c 206f  ses, brackets, o
-0001c760: 7220 6272 6163 6573 2077 696c 6c20 616c  r braces will al
-0001c770: 6c20 776f 726b 2e0a 0a49 6e20 5079 7468  l work...In Pyth
-0001c780: 6f6e 2c20 686f 7765 7665 722c 2074 6865  on, however, the
-0001c790: 7265 2061 7265 2073 6f6d 6520 6361 7365  re are some case
-0001c7a0: 7320 2873 7563 6820 6173 206d 756c 7469  s (such as multi
-0001c7b0: 706c 6520 6077 6974 6860 2073 7461 7465  ple `with` state
-0001c7c0: 6d65 6e74 7329 2077 6865 7265 206f 6e6c  ments) where onl
-0001c7d0: 7920 6261 636b 736c 6173 6820 636f 6e74  y backslash cont
-0001c7e0: 696e 7561 7469 6f6e 2c20 616e 6420 6e6f  inuation, and no
-0001c7f0: 7420 7061 7265 6e74 6865 7469 6361 6c20  t parenthetical 
-0001c800: 636f 6e74 696e 7561 7469 6f6e 2c20 6973  continuation, is
-0001c810: 2073 7570 706f 7274 6564 2e20 436f 636f   supported. Coco
-0001c820: 6e75 7420 6164 6473 2073 7570 706f 7274  nut adds support
-0001c830: 2066 6f72 2070 6172 656e 7468 6574 6963   for parenthetic
-0001c840: 616c 2063 6f6e 7469 6e75 6174 696f 6e20  al continuation 
-0001c850: 696e 2061 6c6c 2074 6865 7365 2063 6173  in all these cas
-0001c860: 6573 2e20 5468 6973 2061 6c73 6f20 696e  es. This also in
-0001c870: 636c 7564 6573 2073 7570 706f 7274 2061  cludes support a
-0001c880: 7320 7065 7220 5b50 4550 2036 3739 5d28  s per [PEP 679](
-0001c890: 6874 7470 733a 2f2f 7065 7073 2e70 7974  https://peps.pyt
-0001c8a0: 686f 6e2e 6f72 672f 7065 702d 3036 3739  hon.org/pep-0679
-0001c8b0: 2920 666f 7220 7061 7265 6e74 6865 7369  ) for parenthesi
-0001c8c0: 7a65 6420 6061 7373 6572 7460 2073 7461  zed `assert` sta
-0001c8d0: 7465 6d65 6e74 732e 0a0a 5375 7070 6f72  tements...Suppor
-0001c8e0: 7469 6e67 2070 6172 656e 7468 6574 6963  ting parenthetic
-0001c8f0: 616c 2063 6f6e 7469 6e75 6174 696f 6e20  al continuation 
-0001c900: 6576 6572 7977 6865 7265 2061 6c6c 6f77  everywhere allow
-0001c910: 7320 7468 6520 5b50 4550 2038 5d28 6874  s the [PEP 8](ht
-0001c920: 7470 733a 2f2f 7777 772e 7079 7468 6f6e  tps://www.python
-0001c930: 2e6f 7267 2f64 6576 2f70 6570 732f 7065  .org/dev/peps/pe
-0001c940: 702d 3030 3038 2f29 2063 6f6e 7665 6e74  p-0008/) convent
-0001c950: 696f 6e2c 2077 6869 6368 2061 766f 6964  ion, which avoid
-0001c960: 7320 6261 636b 736c 6173 6820 636f 6e74  s backslash cont
-0001c970: 696e 7561 7469 6f6e 2069 6e20 6661 766f  inuation in favo
-0001c980: 7220 6f66 2069 6d70 6c69 6564 2070 6172  r of implied par
-0001c990: 656e 7468 6574 6963 616c 2063 6f6e 7469  enthetical conti
-0001c9a0: 6e75 6174 696f 6e2c 2074 6f20 616c 7761  nuation, to alwa
-0001c9b0: 7973 2062 6520 706f 7373 6962 6c65 2074  ys be possible t
-0001c9c0: 6f20 666f 6c6c 6f77 2e20 4672 6f6d 2050  o follow. From P
-0001c9d0: 4550 2038 3a0a 0a3e 2054 6865 2070 7265  EP 8:..> The pre
-0001c9e0: 6665 7272 6564 2077 6179 206f 6620 7772  ferred way of wr
-0001c9f0: 6170 7069 6e67 206c 6f6e 6720 6c69 6e65  apping long line
-0001ca00: 7320 6973 2062 7920 7573 696e 6720 5079  s is by using Py
-0001ca10: 7468 6f6e 2773 2069 6d70 6c69 6564 206c  thon's implied l
-0001ca20: 696e 6520 636f 6e74 696e 7561 7469 6f6e  ine continuation
-0001ca30: 2069 6e73 6964 6520 7061 7265 6e74 6865   inside parenthe
-0001ca40: 7365 732c 2062 7261 636b 6574 7320 616e  ses, brackets an
-0001ca50: 6420 6272 6163 6573 2e20 4c6f 6e67 206c  d braces. Long l
-0001ca60: 696e 6573 2063 616e 2062 6520 6272 6f6b  ines can be brok
-0001ca70: 656e 206f 7665 7220 6d75 6c74 6970 6c65  en over multiple
-0001ca80: 206c 696e 6573 2062 7920 7772 6170 7069   lines by wrappi
-0001ca90: 6e67 2065 7870 7265 7373 696f 6e73 2069  ng expressions i
-0001caa0: 6e20 7061 7265 6e74 6865 7365 732e 2054  n parentheses. T
-0001cab0: 6865 7365 2073 686f 756c 6420 6265 2075  hese should be u
-0001cac0: 7365 6420 696e 2070 7265 6665 7265 6e63  sed in preferenc
-0001cad0: 6520 746f 2075 7369 6e67 2061 2062 6163  e to using a bac
-0001cae0: 6b73 6c61 7368 2066 6f72 206c 696e 6520  kslash for line 
-0001caf0: 636f 6e74 696e 7561 7469 6f6e 2e0a 0a5f  continuation..._
-0001cb00: 4e6f 7465 3a20 5061 7373 696e 6720 602d  Note: Passing `-
-0001cb10: 2d73 7472 6963 7460 2077 696c 6c20 656e  -strict` will en
-0001cb20: 666f 7263 6520 7468 6520 5045 5020 3820  force the PEP 8 
-0001cb30: 636f 6e76 656e 7469 6f6e 2062 7920 6469  convention by di
-0001cb40: 7361 6c6c 6f77 696e 6720 6261 636b 736c  sallowing backsl
-0001cb50: 6173 6820 636f 6e74 696e 7561 7469 6f6e  ash continuation
-0001cb60: 732e 5f0a 0a23 2323 2323 2045 7861 6d70  s._..##### Examp
-0001cb70: 6c65 0a0a 2a2a 436f 636f 6e75 743a 2a2a  le..**Coconut:**
-0001cb80: 0a60 6060 636f 636f 6e75 740a 7769 7468  .```coconut.with
-0001cb90: 2028 6f70 656e 2827 2f70 6174 682f 746f   (open('/path/to
-0001cba0: 2f73 6f6d 652f 6669 6c65 2f79 6f75 2f77  /some/file/you/w
-0001cbb0: 616e 742f 746f 2f72 6561 6427 2920 6173  ant/to/read') as
-0001cbc0: 2066 696c 655f 312c 0a20 2020 2020 206f   file_1,.      o
-0001cbd0: 7065 6e28 272f 7061 7468 2f74 6f2f 736f  pen('/path/to/so
-0001cbe0: 6d65 2f66 696c 652f 6265 696e 672f 7772  me/file/being/wr
-0001cbf0: 6974 7465 6e27 2c20 2777 2729 2061 7320  itten', 'w') as 
-0001cc00: 6669 6c65 5f32 293a 0a20 2020 2066 696c  file_2):.    fil
-0001cc10: 655f 322e 7772 6974 6528 6669 6c65 5f31  e_2.write(file_1
-0001cc20: 2e72 6561 6428 2929 0a60 6060 0a0a 2a2a  .read()).```..**
-0001cc30: 5079 7468 6f6e 3a2a 2a0a 6060 6063 6f63  Python:**.```coc
-0001cc40: 6f6e 7574 5f70 7974 686f 6e0a 2320 7370  onut_python.# sp
-0001cc50: 6c69 7420 696e 746f 2074 776f 2077 6974  lit into two wit
-0001cc60: 6820 7374 6174 656d 656e 7473 2066 6f72  h statements for
-0001cc70: 2050 7974 686f 6e20 322e 3620 636f 6d70   Python 2.6 comp
-0001cc80: 6174 6962 696c 6974 790a 7769 7468 206f  atibility.with o
-0001cc90: 7065 6e28 272f 7061 7468 2f74 6f2f 736f  pen('/path/to/so
-0001cca0: 6d65 2f66 696c 652f 796f 752f 7761 6e74  me/file/you/want
-0001ccb0: 2f74 6f2f 7265 6164 2729 2061 7320 6669  /to/read') as fi
-0001ccc0: 6c65 5f31 3a0a 2020 2020 7769 7468 206f  le_1:.    with o
-0001ccd0: 7065 6e28 272f 7061 7468 2f74 6f2f 736f  pen('/path/to/so
-0001cce0: 6d65 2f66 696c 652f 6265 696e 672f 7772  me/file/being/wr
-0001ccf0: 6974 7465 6e27 2c20 2777 2729 2061 7320  itten', 'w') as 
-0001cd00: 6669 6c65 5f32 3a0a 2020 2020 2020 2020  file_2:.        
-0001cd10: 6669 6c65 5f32 2e77 7269 7465 2866 696c  file_2.write(fil
-0001cd20: 655f 312e 7265 6164 2829 290a 6060 600a  e_1.read()).```.
-0001cd30: 0a23 2323 2041 7373 6967 6e6d 656e 7420  .### Assignment 
-0001cd40: 4578 7072 6573 7369 6f6e 2043 6861 696e  Expression Chain
-0001cd50: 696e 670a 0a55 6e6c 696b 6520 5079 7468  ing..Unlike Pyth
-0001cd60: 6f6e 2c20 436f 636f 6e75 7420 616c 6c6f  on, Coconut allo
-0001cd70: 7773 2061 7373 6967 6e6d 656e 7420 6578  ws assignment ex
-0001cd80: 7072 6573 7369 6f6e 7320 746f 2062 6520  pressions to be 
-0001cd90: 6368 6169 6e65 642c 2061 7320 696e 2060  chained, as in `
-0001cda0: 6120 3a3d 2062 203a 3d20 6360 2e20 4e6f  a := b := c`. No
-0001cdb0: 7465 2c20 686f 7765 7665 722c 2074 6861  te, however, tha
-0001cdc0: 7420 6173 7369 676e 6d65 6e74 2065 7870  t assignment exp
-0001cdd0: 7265 7373 696f 6e73 2069 6e20 6765 6e65  ressions in gene
-0001cde0: 7261 6c20 6172 6520 6375 7272 656e 746c  ral are currentl
-0001cdf0: 7920 6f6e 6c79 2073 7570 706f 7274 6564  y only supported
-0001ce00: 206f 6e20 602d 2d74 6172 6765 7420 332e   on `--target 3.
-0001ce10: 3860 206f 7220 6869 6768 6572 2e0a 0a23  8` or higher...#
-0001ce20: 2323 2323 2045 7861 6d70 6c65 0a0a 2a2a  #### Example..**
-0001ce30: 436f 636f 6e75 743a 2a2a 0a60 6060 636f  Coconut:**.```co
-0001ce40: 636f 6e75 740a 2861 203a 3d20 6220 3a3d  conut.(a := b :=
-0001ce50: 2031 290a 6060 600a 0a2a 2a50 7974 686f   1).```..**Pytho
-0001ce60: 6e3a 2a2a 0a60 6060 636f 636f 6e75 745f  n:**.```coconut_
-0001ce70: 7079 7468 6f6e 0a28 6120 3a3d 2028 6220  python.(a := (b 
-0001ce80: 3a3d 2031 2929 0a60 6060 0a0a 2323 2042  := 1)).```..## B
-0001ce90: 7569 6c74 2d49 6e73 0a0a 6060 607b 636f  uilt-Ins..```{co
-0001cea0: 6e74 656e 7473 7d0a 2d2d 2d0a 6c6f 6361  ntents}.---.loca
-0001ceb0: 6c3a 0a64 6570 7468 3a20 320a 2d2d 2d0a  l:.depth: 2.---.
-0001cec0: 6060 600a 0a23 2323 2042 7569 6c74 2d49  ```..### Built-I
-0001ced0: 6e20 4675 6e63 7469 6f6e 2044 6563 6f72  n Function Decor
-0001cee0: 6174 6f72 730a 0a60 6060 7b63 6f6e 7465  ators..```{conte
-0001cef0: 6e74 737d 0a2d 2d2d 0a6c 6f63 616c 3a0a  nts}.---.local:.
-0001cf00: 6465 7074 683a 2031 0a2d 2d2d 0a60 6060  depth: 1.---.```
-0001cf10: 0a0a 2323 2323 2060 6164 6470 6174 7465  ..#### `addpatte
-0001cf20: 726e 600a 0a2a 2a61 6464 7061 7474 6572  rn`..**addpatter
-0001cf30: 6e2a 2a28 5f62 6173 655c 5f66 756e 635f  n**(_base\_func_
-0001cf40: 2c20 2a5f 6164 645c 5f66 756e 6373 5f2c  , *_add\_funcs_,
-0001cf50: 205f 616c 6c6f 775c 5f61 6e79 5c5f 6675   _allow\_any\_fu
-0001cf60: 6e63 5f3d 6046 616c 7365 6029 0a0a 5461  nc_=`False`)..Ta
-0001cf70: 6b65 7320 6f6e 6520 6172 6775 6d65 6e74  kes one argument
-0001cf80: 2074 6861 7420 6973 2061 205b 7061 7474   that is a [patt
-0001cf90: 6572 6e2d 6d61 7463 6869 6e67 2066 756e  ern-matching fun
-0001cfa0: 6374 696f 6e5d 2823 7061 7474 6572 6e2d  ction](#pattern-
-0001cfb0: 6d61 7463 6869 6e67 2d66 756e 6374 696f  matching-functio
-0001cfc0: 6e73 292c 2061 6e64 2072 6574 7572 6e73  ns), and returns
-0001cfd0: 2061 2064 6563 6f72 6174 6f72 2074 6861   a decorator tha
-0001cfe0: 7420 6164 6473 2074 6865 2070 6174 7465  t adds the patte
-0001cff0: 726e 7320 696e 2074 6865 2065 7869 7374  rns in the exist
-0001d000: 696e 6720 6675 6e63 7469 6f6e 2074 6f20  ing function to 
-0001d010: 7468 6520 6e65 7720 6675 6e63 7469 6f6e  the new function
-0001d020: 2062 6569 6e67 2064 6563 6f72 6174 6564   being decorated
-0001d030: 2c20 7768 6572 6520 7468 6520 6578 6973  , where the exis
-0001d040: 7469 6e67 2070 6174 7465 726e 7320 6172  ting patterns ar
-0001d050: 6520 6368 6563 6b65 6420 6669 7273 742c  e checked first,
-0001d060: 2074 6865 6e20 7468 6520 6e65 772e 2060   then the new. `
-0001d070: 6164 6470 6174 7465 726e 6020 616c 736f  addpattern` also
-0001d080: 2073 7570 706f 7274 7320 6120 7368 6f72   supports a shor
-0001d090: 7463 7574 2073 796e 7461 7820 7768 6572  tcut syntax wher
-0001d0a0: 6520 7468 6520 6e65 7720 7061 7474 6572  e the new patter
-0001d0b0: 6e73 2063 616e 2062 6520 7061 7373 6564  ns can be passed
-0001d0c0: 2069 6e20 6469 7265 6374 6c79 2e0a 0a52   in directly...R
-0001d0d0: 6f75 6768 6c79 2065 7175 6976 616c 656e  oughly equivalen
-0001d0e0: 7420 746f 3a0a 6060 600a 6465 6620 5f70  t to:.```.def _p
-0001d0f0: 6174 7465 726e 5f61 6464 6572 2862 6173  attern_adder(bas
-0001d100: 655f 6675 6e63 2c20 6164 645f 6675 6e63  e_func, add_func
-0001d110: 293a 0a20 2020 2064 6566 2061 6464 5f70  ):.    def add_p
-0001d120: 6174 7465 726e 5f66 756e 6328 2a61 7267  attern_func(*arg
-0001d130: 732c 202a 2a6b 7761 7267 7329 3a0a 2020  s, **kwargs):.  
-0001d140: 2020 2020 2020 7472 793a 0a20 2020 2020        try:.     
-0001d150: 2020 2020 2020 2072 6574 7572 6e20 6261         return ba
-0001d160: 7365 5f66 756e 6328 2a61 7267 732c 202a  se_func(*args, *
-0001d170: 2a6b 7761 7267 7329 0a20 2020 2020 2020  *kwargs).       
-0001d180: 2065 7863 6570 7420 4d61 7463 6845 7272   except MatchErr
-0001d190: 6f72 3a0a 2020 2020 2020 2020 2020 2020  or:.            
-0001d1a0: 7265 7475 726e 2061 6464 5f66 756e 6328  return add_func(
-0001d1b0: 2a61 7267 732c 202a 2a6b 7761 7267 7329  *args, **kwargs)
-0001d1c0: 0a20 2020 2072 6574 7572 6e20 6164 645f  .    return add_
-0001d1d0: 7061 7474 6572 6e5f 6675 6e63 0a64 6566  pattern_func.def
-0001d1e0: 2061 6464 7061 7474 6572 6e28 6261 7365   addpattern(base
-0001d1f0: 5f66 756e 632c 202a 6164 645f 6675 6e63  _func, *add_func
-0001d200: 732c 2061 6c6c 6f77 5f61 6e79 5f66 756e  s, allow_any_fun
-0001d210: 633d 4661 6c73 6529 3a0a 2020 2020 2222  c=False):.    ""
-0001d220: 2244 6563 6f72 6174 6f72 2074 6f20 6164  "Decorator to ad
-0001d230: 6420 6120 6e65 7720 6361 7365 2074 6f20  d a new case to 
-0001d240: 6120 7061 7474 6572 6e2d 6d61 7463 6869  a pattern-matchi
-0001d250: 6e67 2066 756e 6374 696f 6e20 2877 6865  ng function (whe
-0001d260: 7265 2074 6865 206e 6577 2063 6173 6520  re the new case 
-0001d270: 6973 2063 6865 636b 6564 206c 6173 7429  is checked last)
-0001d280: 2e0a 0a20 2020 2050 6173 7320 616c 6c6f  ...    Pass allo
-0001d290: 775f 616e 795f 6675 6e63 3d54 7275 6520  w_any_func=True 
-0001d2a0: 746f 2061 6c6c 6f77 2061 6e79 206f 626a  to allow any obj
-0001d2b0: 6563 7420 6173 2074 6865 2062 6173 655f  ect as the base_
-0001d2c0: 6675 6e63 2072 6174 6865 7220 7468 616e  func rather than
-0001d2d0: 206a 7573 7420 7061 7474 6572 6e2d 6d61   just pattern-ma
-0001d2e0: 7463 6869 6e67 2066 756e 6374 696f 6e73  tching functions
-0001d2f0: 2e0a 2020 2020 4966 2061 6464 5f66 756e  ..    If add_fun
-0001d300: 6320 6973 2070 6173 7365 642c 2061 6464  c is passed, add
-0001d310: 7061 7474 6572 6e28 6261 7365 5f66 756e  pattern(base_fun
-0001d320: 632c 2061 6464 5f66 756e 6329 2069 7320  c, add_func) is 
-0001d330: 6571 7569 7661 6c65 6e74 2074 6f20 6164  equivalent to ad
-0001d340: 6470 6174 7465 726e 2862 6173 655f 6675  dpattern(base_fu
-0001d350: 6e63 2928 6164 645f 6675 6e63 292e 0a20  nc)(add_func).. 
-0001d360: 2020 2022 2222 0a20 2020 2069 6620 6e6f     """.    if no
-0001d370: 7420 6164 645f 6675 6e63 733a 0a20 2020  t add_funcs:.   
-0001d380: 2020 2020 2072 6574 7572 6e20 6164 6470       return addp
-0001d390: 6174 7465 726e 2428 6261 7365 5f66 756e  attern$(base_fun
-0001d3a0: 6329 0a20 2020 2066 6f72 2061 6464 5f66  c).    for add_f
-0001d3b0: 756e 6320 696e 2061 6464 5f66 756e 6373  unc in add_funcs
-0001d3c0: 3a0a 2020 2020 2020 2020 6261 7365 5f66  :.        base_f
-0001d3d0: 756e 6320 3d20 7061 7474 6572 6e5f 6164  unc = pattern_ad
-0001d3e0: 6465 7228 6261 7365 5f66 756e 632c 2061  der(base_func, a
-0001d3f0: 6464 5f66 756e 6329 0a20 2020 2072 6574  dd_func).    ret
-0001d400: 7572 6e20 6261 7365 5f66 756e 630a 6060  urn base_func.``
-0001d410: 600a 0a49 6620 796f 7520 7761 6e74 2074  `..If you want t
-0001d420: 6f20 6769 7665 2061 6e20 6061 6464 7061  o give an `addpa
-0001d430: 7474 6572 6e60 2066 756e 6374 696f 6e20  ttern` function 
-0001d440: 6120 646f 6373 7472 696e 672c 206d 616b  a docstring, mak
-0001d450: 6520 7375 7265 2074 6f20 7075 7420 6974  e sure to put it
-0001d460: 206f 6e20 7468 6520 5f6c 6173 745f 2066   on the _last_ f
-0001d470: 756e 6374 696f 6e2e 0a0a 4e6f 7465 2074  unction...Note t
-0001d480: 6861 7420 7468 6520 6675 6e63 7469 6f6e  hat the function
-0001d490: 2074 616b 656e 2062 7920 6061 6464 7061   taken by `addpa
-0001d4a0: 7474 6572 6e60 206d 7573 7420 6265 2061  ttern` must be a
-0001d4b0: 2070 6174 7465 726e 2d6d 6174 6368 696e   pattern-matchin
-0001d4c0: 6720 6675 6e63 7469 6f6e 2e20 4966 2060  g function. If `
-0001d4d0: 6164 6470 6174 7465 726e 6020 7265 6365  addpattern` rece
-0001d4e0: 6976 6573 2061 206e 6f6e 2070 6174 7465  ives a non patte
-0001d4f0: 726e 2d6d 6174 6368 696e 6720 6675 6e63  rn-matching func
-0001d500: 7469 6f6e 2c20 7468 6520 6675 6e63 7469  tion, the functi
-0001d510: 6f6e 2077 6974 6820 6e6f 7420 7261 6973  on with not rais
-0001d520: 6520 604d 6174 6368 4572 726f 7260 2c20  e `MatchError`, 
-0001d530: 616e 6420 6061 6464 7061 7474 6572 6e60  and `addpattern`
-0001d540: 2077 6f6e 2774 2062 6520 6162 6c65 2074   won't be able t
-0001d550: 6f20 6465 7465 6374 2074 6865 2066 6169  o detect the fai
-0001d560: 6c65 6420 6d61 7463 682e 2054 6875 732c  led match. Thus,
-0001d570: 2069 6620 6120 6c61 7465 7220 6675 6e63   if a later func
-0001d580: 7469 6f6e 2077 6173 206d 6561 6e74 2074  tion was meant t
-0001d590: 6f20 6265 2063 616c 6c65 642c 2060 6164  o be called, `ad
-0001d5a0: 6470 6174 7465 726e 6020 7769 6c6c 206e  dpattern` will n
-0001d5b0: 6f74 206b 6e6f 7720 7468 6174 2074 6865  ot know that the
-0001d5c0: 2066 6972 7374 206d 6174 6368 2066 6169   first match fai
-0001d5d0: 6c65 6420 616e 6420 7468 6520 636f 7272  led and the corr
-0001d5e0: 6563 7420 7061 7468 2077 696c 6c20 6e65  ect path will ne
-0001d5f0: 7665 7220 6265 2072 6561 6368 6564 2e0a  ver be reached..
-0001d600: 0a46 6f72 2065 7861 6d70 6c65 2c20 7468  .For example, th
-0001d610: 6520 666f 6c6c 6f77 696e 6720 636f 6465  e following code
-0001d620: 2072 6169 7365 7320 6120 6054 7970 6545   raises a `TypeE
-0001d630: 7272 6f72 603a 0a60 6060 636f 636f 6e75  rror`:.```coconu
-0001d640: 740a 6465 6620 7072 696e 745f 7479 7065  t.def print_type
-0001d650: 2829 3a0a 2020 2020 7072 696e 7428 2252  ():.    print("R
-0001d660: 6563 6569 7665 6420 6e6f 2061 7267 756d  eceived no argum
-0001d670: 656e 7473 2e22 290a 0a40 6164 6470 6174  ents.")..@addpat
-0001d680: 7465 726e 2870 7269 6e74 5f74 7970 6529  tern(print_type)
-0001d690: 0a64 6566 2070 7269 6e74 5f74 7970 6528  .def print_type(
-0001d6a0: 696e 7428 2929 3a0a 2020 2020 7072 696e  int()):.    prin
-0001d6b0: 7428 2252 6563 6569 7665 6420 616e 2069  t("Received an i
-0001d6c0: 6e74 2e22 290a 0a70 7269 6e74 5f74 7970  nt.")..print_typ
-0001d6d0: 6528 2920 2023 2061 7070 6561 7273 2074  e()  # appears t
-0001d6e0: 6f20 776f 726b 0a70 7269 6e74 5f74 7970  o work.print_typ
-0001d6f0: 6528 3129 2023 2054 7970 6545 7272 6f72  e(1) # TypeError
-0001d700: 3a20 7072 696e 745f 7479 7065 2829 2074  : print_type() t
-0001d710: 616b 6573 2030 2070 6f73 6974 696f 6e61  akes 0 positiona
-0001d720: 6c20 6172 6775 6d65 6e74 7320 6275 7420  l arguments but 
-0001d730: 3120 7761 7320 6769 7665 6e0a 6060 600a  1 was given.```.
-0001d740: 0a54 6869 7320 6361 6e20 6265 2066 6978  .This can be fix
-0001d750: 6564 2062 7920 7573 696e 6720 6569 7468  ed by using eith
-0001d760: 6572 2074 6865 2060 6d61 7463 6860 206f  er the `match` o
-0001d770: 7220 6061 6464 7061 7474 6572 6e60 206b  r `addpattern` k
-0001d780: 6579 776f 7264 2e20 466f 7220 6578 616d  eyword. For exam
-0001d790: 706c 653a 0a60 6060 636f 636f 6e75 740a  ple:.```coconut.
-0001d7a0: 6d61 7463 6820 6465 6620 7072 696e 745f  match def print_
-0001d7b0: 7479 7065 2829 3a0a 2020 2020 7072 696e  type():.    prin
-0001d7c0: 7428 2252 6563 6569 7665 6420 6e6f 2061  t("Received no a
-0001d7d0: 7267 756d 656e 7473 2e22 290a 0a61 6464  rguments.")..add
-0001d7e0: 7061 7474 6572 6e20 6465 6620 7072 696e  pattern def prin
-0001d7f0: 745f 7479 7065 2869 6e74 2829 293a 0a20  t_type(int()):. 
-0001d800: 2020 2070 7269 6e74 2822 5265 6365 6976     print("Receiv
-0001d810: 6564 2061 6e20 696e 742e 2229 0a0a 7072  ed an int.")..pr
-0001d820: 696e 745f 7479 7065 2831 2920 2023 2057  int_type(1)  # W
-0001d830: 6f72 6b73 2061 7320 6578 7065 6374 6564  orks as expected
-0001d840: 0a70 7269 6e74 5f74 7970 6528 2254 6869  .print_type("Thi
-0001d850: 7320 6973 2061 2073 7472 696e 672e 2229  s is a string.")
-0001d860: 2023 2052 6169 7365 7320 4d61 7463 6845   # Raises MatchE
-0001d870: 7272 6f72 0a60 6060 0a0a 5468 6520 6c61  rror.```..The la
-0001d880: 7374 2063 6173 6520 696e 2061 6e20 6061  st case in an `a
-0001d890: 6464 7061 7474 6572 6e60 2066 756e 6374  ddpattern` funct
-0001d8a0: 696f 6e2c 2068 6f77 6576 6572 2c20 646f  ion, however, do
-0001d8b0: 6573 6e27 7420 6861 7665 2074 6f20 6265  esn't have to be
-0001d8c0: 2061 2070 6174 7465 726e 2d6d 6174 6368   a pattern-match
-0001d8d0: 696e 6720 6675 6e63 7469 6f6e 2069 6620  ing function if 
-0001d8e0: 6974 2069 7320 696e 7465 6e64 6564 2074  it is intended t
-0001d8f0: 6f20 6361 7463 6820 616c 6c20 7265 6d61  o catch all rema
-0001d900: 696e 696e 6720 6361 7365 732e 0a0a 546f  ining cases...To
-0001d910: 2063 6174 6368 2074 6869 7320 6d69 7374   catch this mist
-0001d920: 616b 652c 2060 6164 6470 6174 7465 726e  ake, `addpattern
-0001d930: 6020 7769 6c6c 2065 6d69 7420 6120 7761  ` will emit a wa
-0001d940: 726e 696e 6720 6966 2070 6173 7365 6420  rning if passed 
-0001d950: 7768 6174 2069 7420 6265 6c69 6576 6573  what it believes
-0001d960: 2074 6f20 6265 2061 206e 6f6e 2d70 6174   to be a non-pat
-0001d970: 7465 726e 2d6d 6174 6368 696e 6720 6675  tern-matching fu
-0001d980: 6e63 7469 6f6e 2e20 486f 7765 7665 722c  nction. However,
-0001d990: 2074 6869 7320 7761 726e 696e 6720 6361   this warning ca
-0001d9a0: 6e20 736f 6d65 7469 6d65 7320 6265 2065  n sometimes be e
-0001d9b0: 7272 6f6e 656f 7573 2069 6620 7468 6520  rroneous if the 
-0001d9c0: 6f72 6967 696e 616c 2070 6174 7465 726e  original pattern
-0001d9d0: 2d6d 6174 6368 696e 6720 6675 6e63 7469  -matching functi
-0001d9e0: 6f6e 2068 6173 2062 6565 6e20 7772 6170  on has been wrap
-0001d9f0: 7065 6420 696e 2073 6f6d 6520 7761 792c  ped in some way,
-0001da00: 2069 6e20 7768 6963 6820 6361 7365 2079   in which case y
-0001da10: 6f75 2063 616e 2070 6173 7320 6061 6c6c  ou can pass `all
-0001da20: 6f77 5f61 6e79 5f66 756e 633d 5472 7565  ow_any_func=True
-0001da30: 6020 746f 2064 6973 6d69 7373 2074 6865  ` to dismiss the
-0001da40: 2077 6172 6e69 6e67 2e0a 0a23 2323 2323   warning...#####
-0001da50: 2045 7861 6d70 6c65 0a0a 2a2a 436f 636f   Example..**Coco
-0001da60: 6e75 743a 2a2a 0a60 6060 636f 636f 6e75  nut:**.```coconu
-0001da70: 740a 6465 6620 6661 6374 6f72 6961 6c28  t.def factorial(
-0001da80: 3029 203d 2031 0a0a 4061 6464 7061 7474  0) = 1..@addpatt
-0001da90: 6572 6e28 6661 6374 6f72 6961 6c29 0a64  ern(factorial).d
-0001daa0: 6566 2066 6163 746f 7269 616c 286e 2920  ef factorial(n) 
-0001dab0: 3d20 6e20 2a20 6661 6374 6f72 6961 6c28  = n * factorial(
-0001dac0: 6e20 2d20 3129 0a60 6060 0a5f 5369 6d70  n - 1).```._Simp
-0001dad0: 6c65 2065 7861 6d70 6c65 206f 6620 6164  le example of ad
-0001dae0: 6469 6e67 2061 206e 6577 2070 6174 7465  ding a new patte
-0001daf0: 726e 2074 6f20 6120 7061 7474 6572 6e2d  rn to a pattern-
-0001db00: 6d61 7463 6869 6e67 2066 756e 6374 696f  matching functio
-0001db10: 6e2e 5f0a 0a60 6060 636f 636f 6e75 740a  n._..```coconut.
-0001db20: 225b 415d 2c20 5b42 5d22 207c 3e20 7769  "[A], [B]" |> wi
-0001db30: 6e64 6f77 736f 6624 2833 2920 7c3e 206d  ndowsof$(3) |> m
-0001db40: 6170 2428 6164 6470 6174 7465 726e 280a  ap$(addpattern(.
-0001db50: 2020 2020 2864 6566 2028 2822 5b22 2c22      (def (("[","
-0001db60: 4122 2c22 5d22 2929 202d 3e20 2241 2229  A","]")) -> "A")
-0001db70: 2c0a 2020 2020 2864 6566 2028 2822 5b22  ,.    (def (("["
-0001db80: 2c22 4222 2c22 5d22 2929 202d 3e20 2242  ,"B","]")) -> "B
-0001db90: 2229 2c0a 2020 2020 2864 6566 2028 285f  "),.    (def ((_
-0001dba0: 2c5f 2c5f 2929 202d 3e20 4e6f 6e65 292c  ,_,_)) -> None),
-0001dbb0: 0a29 2920 7c3e 2066 696c 7465 7224 2828  .)) |> filter$((
-0001dbc0: 2e69 7320 4e6f 6e65 2920 2e2e 3e20 286e  .is None) ..> (n
-0001dbd0: 6f74 2929 207c 3e20 6c69 7374 207c 3e20  ot)) |> list |> 
-0001dbe0: 7072 696e 740a 6060 600a 5f41 6e20 6578  print.```._An ex
-0001dbf0: 616d 706c 6520 6f66 2061 2063 6173 6520  ample of a case 
-0001dc00: 7768 6572 6520 7573 696e 6720 7468 6520  where using the 
-0001dc10: 6061 6464 7061 7474 6572 6e60 2066 756e  `addpattern` fun
-0001dc20: 6374 696f 6e20 6973 206e 6563 6573 7361  ction is necessa
-0001dc30: 7279 206f 7665 7220 7468 6520 5b60 6164  ry over the [`ad
-0001dc40: 6470 6174 7465 726e 6020 6b65 7977 6f72  dpattern` keywor
-0001dc50: 645d 2823 6164 6470 6174 7465 726e 2d66  d](#addpattern-f
-0001dc60: 756e 6374 696f 6e73 2920 6475 6520 746f  unctions) due to
-0001dc70: 2074 6865 2075 7365 206f 6620 696e 2d6c   the use of in-l
-0001dc80: 696e 6520 7061 7474 6572 6e2d 6d61 7463  ine pattern-matc
-0001dc90: 6869 6e67 205b 7374 6174 656d 656e 7420  hing [statement 
-0001dca0: 6c61 6d62 6461 735d 2823 7374 6174 656d  lambdas](#statem
-0001dcb0: 656e 742d 6c61 6d62 6461 7329 2e5f 0a0a  ent-lambdas)._..
-0001dcc0: 2a2a 5079 7468 6f6e 3a2a 2a0a 5f43 616e  **Python:**._Can
-0001dcd0: 2774 2062 6520 646f 6e65 2077 6974 686f  't be done witho
-0001dce0: 7574 2061 2063 6f6d 706c 6963 6174 6564  ut a complicated
-0001dcf0: 2064 6563 6f72 6174 6f72 2064 6566 696e   decorator defin
-0001dd00: 6974 696f 6e20 616e 6420 6120 6c6f 6e67  ition and a long
-0001dd10: 2073 6572 6965 7320 6f66 2063 6865 636b   series of check
-0001dd20: 7320 666f 7220 6561 6368 2070 6174 7465  s for each patte
-0001dd30: 726e 2d6d 6174 6368 696e 672e 2053 6565  rn-matching. See
-0001dd40: 2074 6865 2063 6f6d 7069 6c65 6420 636f   the compiled co
-0001dd50: 6465 2066 6f72 2074 6865 2050 7974 686f  de for the Pytho
-0001dd60: 6e20 7379 6e74 6178 2e5f 0a0a 2323 2323  n syntax._..####
-0001dd70: 2320 6070 7265 7061 7474 6572 6e60 0a0a  # `prepattern`..
-0001dd80: 2a2a 4445 5052 4543 4154 4544 3a2a 2a20  **DEPRECATED:** 
-0001dd90: 436f 636f 6e75 7420 616c 736f 2068 6173  Coconut also has
-0001dda0: 2061 2060 7072 6570 6174 7465 726e 6020   a `prepattern` 
-0001ddb0: 6275 696c 742d 696e 2c20 7768 6963 6820  built-in, which 
-0001ddc0: 6164 6473 2070 6174 7465 726e 7320 696e  adds patterns in
-0001ddd0: 2074 6865 206f 7070 6f73 6974 6520 6f72   the opposite or
-0001dde0: 6465 7220 6f66 2060 6164 6470 6174 7465  der of `addpatte
-0001ddf0: 726e 603b 2060 7072 6570 6174 7465 726e  rn`; `prepattern
-0001de00: 6020 6973 2064 6566 696e 6564 2061 733a  ` is defined as:
-0001de10: 0a0a 6060 6063 6f63 6f6e 7574 5f70 7974  ..```coconut_pyt
-0001de20: 686f 6e0a 6465 6620 7072 6570 6174 7465  hon.def prepatte
-0001de30: 726e 2862 6173 655f 6675 6e63 293a 0a20  rn(base_func):. 
-0001de40: 2020 2022 2222 4465 636f 7261 746f 7220     """Decorator 
-0001de50: 746f 2061 6464 2061 206e 6577 2063 6173  to add a new cas
-0001de60: 6520 746f 2061 2070 6174 7465 726e 2d6d  e to a pattern-m
-0001de70: 6174 6368 696e 6720 6675 6e63 7469 6f6e  atching function
-0001de80: 2c0a 2020 2020 7768 6572 6520 7468 6520  ,.    where the 
-0001de90: 6e65 7720 6361 7365 2069 7320 6368 6563  new case is chec
-0001dea0: 6b65 6420 6669 7273 742e 2222 220a 2020  ked first.""".  
-0001deb0: 2020 6465 6620 7061 7474 6572 6e5f 7072    def pattern_pr
-0001dec0: 6570 656e 6465 7228 6675 6e63 293a 0a20  epender(func):. 
-0001ded0: 2020 2020 2020 2072 6574 7572 6e20 6164         return ad
-0001dee0: 6470 6174 7465 726e 2866 756e 6329 2862  dpattern(func)(b
-0001def0: 6173 655f 6675 6e63 290a 2020 2020 7265  ase_func).    re
-0001df00: 7475 726e 2070 6174 7465 726e 5f70 7265  turn pattern_pre
-0001df10: 7065 6e64 6572 0a60 6060 0a5f 4e6f 7465  pender.```._Note
-0001df20: 3a20 5061 7373 696e 6720 602d 2d73 7472  : Passing `--str
-0001df30: 6963 7460 2064 6973 6162 6c65 7320 6465  ict` disables de
-0001df40: 7072 6563 6174 6564 2066 6561 7475 7265  precated feature
-0001df50: 732e 5f0a 0a23 2323 2320 606d 656d 6f69  s._..#### `memoi
-0001df60: 7a65 600a 0a2a 2a6d 656d 6f69 7a65 2a2a  ze`..**memoize**
-0001df70: 285f 6d61 7873 697a 655f 3d60 4e6f 6e65  (_maxsize_=`None
-0001df80: 602c 205f 7479 7065 645f 3d60 4661 6c73  `, _typed_=`Fals
-0001df90: 6560 290a 0a2a 2a6d 656d 6f69 7a65 2a2a  e`)..**memoize**
-0001dfa0: 285f 7573 6572 5c5f 6675 6e63 7469 6f6e  (_user\_function
-0001dfb0: 5f29 0a0a 436f 636f 6e75 7420 7072 6f76  _)..Coconut prov
-0001dfc0: 6964 6573 2060 6675 6e63 746f 6f6c 732e  ides `functools.
-0001dfd0: 6c72 755f 6361 6368 6560 2061 7320 6120  lru_cache` as a 
-0001dfe0: 6275 696c 742d 696e 2075 6e64 6572 2074  built-in under t
-0001dff0: 6865 206e 616d 6520 606d 656d 6f69 7a65  he name `memoize
-0001e000: 6020 7769 7468 2074 6865 206d 6f64 6966  ` with the modif
-0001e010: 6963 6174 696f 6e20 7468 6174 2074 6865  ication that the
-0001e020: 205f 6d61 7873 697a 655f 2070 6172 616d   _maxsize_ param
-0001e030: 6574 6572 2069 7320 7365 7420 746f 2060  eter is set to `
-0001e040: 4e6f 6e65 6020 6279 2064 6566 6175 6c74  None` by default
-0001e050: 2e20 606d 656d 6f69 7a65 6020 6d61 6b65  . `memoize` make
-0001e060: 7320 7468 6520 7573 6520 6361 7365 206f  s the use case o
-0001e070: 6620 6f70 7469 6d69 7a69 6e67 2072 6563  f optimizing rec
-0001e080: 7572 7369 7665 2066 756e 6374 696f 6e73  ursive functions
-0001e090: 2065 6173 6965 722c 2061 7320 6120 5f6d   easier, as a _m
-0001e0a0: 6178 7369 7a65 5f20 6f66 2060 4e6f 6e65  axsize_ of `None
-0001e0b0: 6020 6973 2075 7375 616c 6c79 2077 6861  ` is usually wha
-0001e0c0: 7420 6973 2064 6573 6972 6564 2069 6e20  t is desired in 
-0001e0d0: 7468 6174 2063 6173 652e 0a0a 5573 6520  that case...Use 
-0001e0e0: 6f66 2060 6d65 6d6f 697a 6560 2072 6571  of `memoize` req
-0001e0f0: 7569 7265 7320 6066 756e 6374 6f6f 6c73  uires `functools
-0001e100: 2e6c 7275 5f63 6163 6865 602c 2077 6869  .lru_cache`, whi
-0001e110: 6368 2065 7869 7374 7320 696e 2074 6865  ch exists in the
-0001e120: 2050 7974 686f 6e20 3320 7374 616e 6461   Python 3 standa
-0001e130: 7264 206c 6962 7261 7279 2c20 6275 7420  rd library, but 
-0001e140: 756e 6465 7220 5079 7468 6f6e 2032 2077  under Python 2 w
-0001e150: 696c 6c20 7265 7175 6972 6520 6070 6970  ill require `pip
-0001e160: 2069 6e73 7461 6c6c 2062 6163 6b70 6f72   install backpor
-0001e170: 7473 2e66 756e 6374 6f6f 6c73 5f6c 7275  ts.functools_lru
-0001e180: 5f63 6163 6865 6020 746f 2066 756e 6374  _cache` to funct
-0001e190: 696f 6e2e 2041 6464 6974 696f 6e61 6c6c  ion. Additionall
-0001e1a0: 792c 2069 6620 6f6e 2050 7974 686f 6e20  y, if on Python 
-0001e1b0: 3220 616e 6420 6062 6163 6b70 6f72 7473  2 and `backports
-0001e1c0: 2e66 756e 6374 6f6f 6c73 5f6c 7275 5f63  .functools_lru_c
-0001e1d0: 6163 6865 6020 6973 2070 7265 7365 6e74  ache` is present
-0001e1e0: 2c20 436f 636f 6e75 7420 7769 6c6c 2070  , Coconut will p
-0001e1f0: 6174 6368 2060 6675 6e63 746f 6f6c 7360  atch `functools`
-0001e200: 2073 7563 6820 7468 6174 2060 6675 6e63   such that `func
-0001e210: 746f 6f6c 732e 6c72 755f 6361 6368 6520  tools.lru_cache 
-0001e220: 3d20 6261 636b 706f 7274 732e 6675 6e63  = backports.func
-0001e230: 746f 6f6c 735f 6c72 755f 6361 6368 652e  tools_lru_cache.
-0001e240: 6c72 755f 6361 6368 6560 2e0a 0a23 2323  lru_cache`...###
-0001e250: 2323 2050 7974 686f 6e20 446f 6373 0a0a  ## Python Docs..
-0001e260: 402a 2a6d 656d 6f69 7a65 2a2a 285f 7573  @**memoize**(_us
-0001e270: 6572 5c5f 6675 6e63 7469 6f6e 5f29 0a0a  er\_function_)..
-0001e280: 402a 2a6d 656d 6f69 7a65 2a2a 285f 6d61  @**memoize**(_ma
-0001e290: 7873 697a 653d 4e6f 6e65 2c20 7479 7065  xsize=None, type
-0001e2a0: 643d 4661 6c73 655f 290a 0a44 6563 6f72  d=False_)..Decor
-0001e2b0: 6174 6f72 2074 6f20 7772 6170 2061 2066  ator to wrap a f
-0001e2c0: 756e 6374 696f 6e20 7769 7468 2061 206d  unction with a m
-0001e2d0: 656d 6f69 7a69 6e67 2063 616c 6c61 626c  emoizing callabl
-0001e2e0: 6520 7468 6174 2073 6176 6573 2075 7020  e that saves up 
-0001e2f0: 746f 2074 6865 205f 6d61 7873 697a 655f  to the _maxsize_
-0001e300: 206d 6f73 7420 7265 6365 6e74 2063 616c   most recent cal
-0001e310: 6c73 2e20 4974 2063 616e 2073 6176 6520  ls. It can save 
-0001e320: 7469 6d65 2077 6865 6e20 616e 2065 7870  time when an exp
-0001e330: 656e 7369 7665 206f 7220 492f 4f20 626f  ensive or I/O bo
-0001e340: 756e 6420 6675 6e63 7469 6f6e 2069 7320  und function is 
-0001e350: 7065 7269 6f64 6963 616c 6c79 2063 616c  periodically cal
-0001e360: 6c65 6420 7769 7468 2074 6865 2073 616d  led with the sam
-0001e370: 6520 6172 6775 6d65 6e74 732e 0a0a 5369  e arguments...Si
-0001e380: 6e63 6520 6120 6469 6374 696f 6e61 7279  nce a dictionary
-0001e390: 2069 7320 7573 6564 2074 6f20 6361 6368   is used to cach
-0001e3a0: 6520 7265 7375 6c74 732c 2074 6865 2070  e results, the p
-0001e3b0: 6f73 6974 696f 6e61 6c20 616e 6420 6b65  ositional and ke
-0001e3c0: 7977 6f72 6420 6172 6775 6d65 6e74 7320  yword arguments 
-0001e3d0: 746f 2074 6865 2066 756e 6374 696f 6e20  to the function 
-0001e3e0: 6d75 7374 2062 6520 6861 7368 6162 6c65  must be hashable
-0001e3f0: 2e0a 0a44 6973 7469 6e63 7420 6172 6775  ...Distinct argu
-0001e400: 6d65 6e74 2070 6174 7465 726e 7320 6d61  ment patterns ma
-0001e410: 7920 6265 2063 6f6e 7369 6465 7265 6420  y be considered 
-0001e420: 746f 2062 6520 6469 7374 696e 6374 2063  to be distinct c
-0001e430: 616c 6c73 2077 6974 6820 7365 7061 7261  alls with separa
-0001e440: 7465 2063 6163 6865 2065 6e74 7269 6573  te cache entries
-0001e450: 2e20 466f 7220 6578 616d 706c 652c 2060  . For example, `
-0001e460: 6628 613d 312c 2062 3d32 2960 2061 6e64  f(a=1, b=2)` and
-0001e470: 2060 6628 623d 322c 2061 3d31 2960 2064   `f(b=2, a=1)` d
-0001e480: 6966 6665 7220 696e 2074 6865 6972 206b  iffer in their k
-0001e490: 6579 776f 7264 2061 7267 756d 656e 7420  eyword argument 
-0001e4a0: 6f72 6465 7220 616e 6420 6d61 7920 6861  order and may ha
-0001e4b0: 7665 2074 776f 2073 6570 6172 6174 6520  ve two separate 
-0001e4c0: 6361 6368 6520 656e 7472 6965 732e 0a0a  cache entries...
-0001e4d0: 4966 205f 7573 6572 5c5f 6675 6e63 7469  If _user\_functi
-0001e4e0: 6f6e 5f20 6973 2073 7065 6369 6669 6564  on_ is specified
-0001e4f0: 2c20 6974 206d 7573 7420 6265 2061 2063  , it must be a c
-0001e500: 616c 6c61 626c 652e 2054 6869 7320 616c  allable. This al
-0001e510: 6c6f 7773 2074 6865 205f 6d65 6d6f 697a  lows the _memoiz
-0001e520: 655f 2064 6563 6f72 6174 6f72 2074 6f20  e_ decorator to 
-0001e530: 6265 2061 7070 6c69 6564 2064 6972 6563  be applied direc
-0001e540: 746c 7920 746f 2061 2075 7365 7220 6675  tly to a user fu
-0001e550: 6e63 7469 6f6e 2c20 6c65 6176 696e 6720  nction, leaving 
-0001e560: 7468 6520 6d61 7873 697a 6520 6174 2069  the maxsize at i
-0001e570: 7473 2064 6566 6175 6c74 2076 616c 7565  ts default value
-0001e580: 206f 6620 604e 6f6e 6560 3a0a 6060 6063   of `None`:.```c
-0001e590: 6f63 6f6e 7574 5f70 7974 686f 6e0a 406d  oconut_python.@m
-0001e5a0: 656d 6f69 7a65 0a64 6566 2063 6f75 6e74  emoize.def count
-0001e5b0: 5f76 6f77 656c 7328 7365 6e74 656e 6365  _vowels(sentence
-0001e5c0: 293a 0a20 2020 2072 6574 7572 6e20 7375  ):.    return su
-0001e5d0: 6d28 7365 6e74 656e 6365 2e63 6f75 6e74  m(sentence.count
-0001e5e0: 2876 6f77 656c 2920 666f 7220 766f 7765  (vowel) for vowe
-0001e5f0: 6c20 696e 2027 4145 494f 5561 6569 6f75  l in 'AEIOUaeiou
-0001e600: 2729 0a60 6060 0a0a 4966 205f 6d61 7873  ').```..If _maxs
-0001e610: 697a 655f 2069 7320 7365 7420 746f 2060  ize_ is set to `
-0001e620: 4e6f 6e65 602c 2074 6865 204c 5255 2066  None`, the LRU f
-0001e630: 6561 7475 7265 2069 7320 6469 7361 626c  eature is disabl
-0001e640: 6564 2061 6e64 2074 6865 2063 6163 6865  ed and the cache
-0001e650: 2063 616e 2067 726f 7720 7769 7468 6f75   can grow withou
-0001e660: 7420 626f 756e 642e 0a0a 4966 205f 7479  t bound...If _ty
-0001e670: 7065 645f 2069 7320 7365 7420 746f 2074  ped_ is set to t
-0001e680: 7275 652c 2066 756e 6374 696f 6e20 6172  rue, function ar
-0001e690: 6775 6d65 6e74 7320 6f66 2064 6966 6665  guments of diffe
-0001e6a0: 7265 6e74 2074 7970 6573 2077 696c 6c20  rent types will 
-0001e6b0: 6265 2063 6163 6865 6420 7365 7061 7261  be cached separa
-0001e6c0: 7465 6c79 2e20 4966 2074 7970 6564 2069  tely. If typed i
-0001e6d0: 7320 6661 6c73 652c 2074 6865 2069 6d70  s false, the imp
-0001e6e0: 6c65 6d65 6e74 6174 696f 6e20 7769 6c6c  lementation will
-0001e6f0: 2075 7375 616c 6c79 2072 6567 6172 6420   usually regard 
-0001e700: 7468 656d 2061 7320 6571 7569 7661 6c65  them as equivale
-0001e710: 6e74 2063 616c 6c73 2061 6e64 206f 6e6c  nt calls and onl
-0001e720: 7920 6361 6368 6520 6120 7369 6e67 6c65  y cache a single
-0001e730: 2072 6573 756c 742e 2028 536f 6d65 2074   result. (Some t
-0001e740: 7970 6573 2073 7563 6820 6173 2073 7472  ypes such as str
-0001e750: 2061 6e64 2069 6e74 206d 6179 2062 6520   and int may be 
-0001e760: 6361 6368 6564 2073 6570 6172 6174 656c  cached separatel
-0001e770: 7920 6576 656e 2077 6865 6e20 7479 7065  y even when type
-0001e780: 6420 6973 2066 616c 7365 2e29 0a0a 4e6f  d is false.)..No
-0001e790: 7465 2c20 7479 7065 2073 7065 6369 6669  te, type specifi
-0001e7a0: 6369 7479 2061 7070 6c69 6573 206f 6e6c  city applies onl
-0001e7b0: 7920 746f 2074 6865 2066 756e 6374 696f  y to the functio
-0001e7c0: 6ee2 8099 7320 696d 6d65 6469 6174 6520  n...s immediate 
-0001e7d0: 6172 6775 6d65 6e74 7320 7261 7468 6572  arguments rather
-0001e7e0: 2074 6861 6e20 7468 6569 7220 636f 6e74   than their cont
-0001e7f0: 656e 7473 2e20 5468 6520 7363 616c 6172  ents. The scalar
-0001e800: 2061 7267 756d 656e 7473 2c20 6044 6563   arguments, `Dec
-0001e810: 696d 616c 2834 3229 6020 616e 6420 6046  imal(42)` and `F
-0001e820: 7261 6374 696f 6e28 3432 2960 2061 7265  raction(42)` are
-0001e830: 2062 6520 7472 6561 7465 6420 6173 2064   be treated as d
-0001e840: 6973 7469 6e63 7420 6361 6c6c 7320 7769  istinct calls wi
-0001e850: 7468 2064 6973 7469 6e63 7420 7265 7375  th distinct resu
-0001e860: 6c74 732e 2049 6e20 636f 6e74 7261 7374  lts. In contrast
-0001e870: 2c20 7468 6520 7475 706c 6520 6172 6775  , the tuple argu
-0001e880: 6d65 6e74 7320 6028 2761 6e73 7765 7227  ments `('answer'
-0001e890: 2c20 4465 6369 6d61 6c28 3432 2929 6020  , Decimal(42))` 
-0001e8a0: 616e 6420 6028 2761 6e73 7765 7227 2c20  and `('answer', 
-0001e8b0: 4672 6163 7469 6f6e 2834 3229 2960 2061  Fraction(42))` a
-0001e8c0: 7265 2074 7265 6174 6564 2061 7320 6571  re treated as eq
-0001e8d0: 7569 7661 6c65 6e74 2e0a 0a54 6865 2064  uivalent...The d
-0001e8e0: 6563 6f72 6174 6f72 2061 6c73 6f20 7072  ecorator also pr
-0001e8f0: 6f76 6964 6573 2061 2060 6361 6368 655f  ovides a `cache_
-0001e900: 636c 6561 7228 2960 2066 756e 6374 696f  clear()` functio
-0001e910: 6e20 666f 7220 636c 6561 7269 6e67 206f  n for clearing o
-0001e920: 7220 696e 7661 6c69 6461 7469 6e67 2074  r invalidating t
-0001e930: 6865 2063 6163 6865 2e0a 0a54 6865 206f  he cache...The o
-0001e940: 7269 6769 6e61 6c20 756e 6465 726c 7969  riginal underlyi
-0001e950: 6e67 2066 756e 6374 696f 6e20 6973 2061  ng function is a
-0001e960: 6363 6573 7369 626c 6520 7468 726f 7567  ccessible throug
-0001e970: 6820 7468 6520 605f 5f77 7261 7070 6564  h the `__wrapped
-0001e980: 5f5f 6020 6174 7472 6962 7574 652e 2054  __` attribute. T
-0001e990: 6869 7320 6973 2075 7365 6675 6c20 666f  his is useful fo
-0001e9a0: 7220 696e 7472 6f73 7065 6374 696f 6e2c  r introspection,
-0001e9b0: 2066 6f72 2062 7970 6173 7369 6e67 2074   for bypassing t
-0001e9c0: 6865 2063 6163 6865 2c20 6f72 2066 6f72  he cache, or for
-0001e9d0: 2072 6577 7261 7070 696e 6720 7468 6520   rewrapping the 
-0001e9e0: 6675 6e63 7469 6f6e 2077 6974 6820 6120  function with a 
-0001e9f0: 6469 6666 6572 656e 7420 6361 6368 652e  different cache.
-0001ea00: 0a0a 5468 6520 6361 6368 6520 6b65 6570  ..The cache keep
-0001ea10: 7320 7265 6665 7265 6e63 6573 2074 6f20  s references to 
-0001ea20: 7468 6520 6172 6775 6d65 6e74 7320 616e  the arguments an
-0001ea30: 6420 7265 7475 726e 2076 616c 7565 7320  d return values 
-0001ea40: 756e 7469 6c20 7468 6579 2061 6765 206f  until they age o
-0001ea50: 7574 206f 6620 7468 6520 6361 6368 6520  ut of the cache 
-0001ea60: 6f72 2075 6e74 696c 2074 6865 2063 6163  or until the cac
-0001ea70: 6865 2069 7320 636c 6561 7265 642e 0a0a  he is cleared...
-0001ea80: 4966 2061 206d 6574 686f 6420 6973 2063  If a method is c
-0001ea90: 6163 6865 642c 2074 6865 2060 7365 6c66  ached, the `self
-0001eaa0: 6020 696e 7374 616e 6365 2061 7267 756d  ` instance argum
-0001eab0: 656e 7420 6973 2069 6e63 6c75 6465 6420  ent is included 
-0001eac0: 696e 2074 6865 2063 6163 6865 2e20 5365  in the cache. Se
-0001ead0: 6520 5b48 6f77 2064 6f20 4920 6361 6368  e [How do I cach
-0001eae0: 6520 6d65 7468 6f64 2063 616c 6c73 3f5d  e method calls?]
-0001eaf0: 2868 7474 7073 3a2f 2f64 6f63 732e 7079  (https://docs.py
-0001eb00: 7468 6f6e 2e6f 7267 2f33 2f66 6171 2f70  thon.org/3/faq/p
-0001eb10: 726f 6772 616d 6d69 6e67 2e68 746d 6c23  rogramming.html#
-0001eb20: 6661 712d 6361 6368 652d 6d65 7468 6f64  faq-cache-method
-0001eb30: 2d63 616c 6c73 290a 0a41 6e20 5b4c 5255  -calls)..An [LRU
-0001eb40: 2028 6c65 6173 7420 7265 6365 6e74 6c79   (least recently
-0001eb50: 2075 7365 6429 2063 6163 6865 5d28 6874   used) cache](ht
-0001eb60: 7470 733a 2f2f 656e 2e77 696b 6970 6564  tps://en.wikiped
-0001eb70: 6961 2e6f 7267 2f77 696b 692f 4361 6368  ia.org/wiki/Cach
-0001eb80: 655f 7265 706c 6163 656d 656e 745f 706f  e_replacement_po
-0001eb90: 6c69 6369 6573 234c 6561 7374 5f72 6563  licies#Least_rec
-0001eba0: 656e 746c 795f 7573 6564 5f28 4c52 5529  ently_used_(LRU)
-0001ebb0: 2920 776f 726b 7320 6265 7374 2077 6865  ) works best whe
-0001ebc0: 6e20 7468 6520 6d6f 7374 2072 6563 656e  n the most recen
-0001ebd0: 7420 6361 6c6c 7320 6172 6520 7468 6520  t calls are the 
-0001ebe0: 6265 7374 2070 7265 6469 6374 6f72 7320  best predictors 
-0001ebf0: 6f66 2075 7063 6f6d 696e 6720 6361 6c6c  of upcoming call
-0001ec00: 7320 2866 6f72 2065 7861 6d70 6c65 2c20  s (for example, 
-0001ec10: 7468 6520 6d6f 7374 2070 6f70 756c 6172  the most popular
-0001ec20: 2061 7274 6963 6c65 7320 6f6e 2061 206e   articles on a n
-0001ec30: 6577 7320 7365 7276 6572 2074 656e 6420  ews server tend 
-0001ec40: 746f 2063 6861 6e67 6520 6561 6368 2064  to change each d
-0001ec50: 6179 292e 2054 6865 2063 6163 6865 e280  ay). The cache..
-0001ec60: 9973 2073 697a 6520 6c69 6d69 7420 6173  .s size limit as
-0001ec70: 7375 7265 7320 7468 6174 2074 6865 2063  sures that the c
-0001ec80: 6163 6865 2064 6f65 7320 6e6f 7420 6772  ache does not gr
-0001ec90: 6f77 2077 6974 686f 7574 2062 6f75 6e64  ow without bound
-0001eca0: 206f 6e20 6c6f 6e67 2d72 756e 6e69 6e67   on long-running
-0001ecb0: 2070 726f 6365 7373 6573 2073 7563 6820   processes such 
-0001ecc0: 6173 2077 6562 2073 6572 7665 7273 2e0a  as web servers..
-0001ecd0: 0a49 6e20 6765 6e65 7261 6c2c 2074 6865  .In general, the
-0001ece0: 204c 5255 2063 6163 6865 2073 686f 756c   LRU cache shoul
-0001ecf0: 6420 6f6e 6c79 2062 6520 7573 6564 2077  d only be used w
-0001ed00: 6865 6e20 796f 7520 7761 6e74 2074 6f20  hen you want to 
-0001ed10: 7265 7573 6520 7072 6576 696f 7573 6c79  reuse previously
-0001ed20: 2063 6f6d 7075 7465 6420 7661 6c75 6573   computed values
-0001ed30: 2e20 4163 636f 7264 696e 676c 792c 2069  . Accordingly, i
-0001ed40: 7420 646f 6573 6ee2 8099 7420 6d61 6b65  t doesn...t make
-0001ed50: 2073 656e 7365 2074 6f20 6361 6368 6520   sense to cache 
-0001ed60: 6675 6e63 7469 6f6e 7320 7769 7468 2073  functions with s
-0001ed70: 6964 652d 6566 6665 6374 732c 2066 756e  ide-effects, fun
-0001ed80: 6374 696f 6e73 2074 6861 7420 6e65 6564  ctions that need
-0001ed90: 2074 6f20 6372 6561 7465 2064 6973 7469   to create disti
-0001eda0: 6e63 7420 6d75 7461 626c 6520 6f62 6a65  nct mutable obje
-0001edb0: 6374 7320 6f6e 2065 6163 6820 6361 6c6c  cts on each call
-0001edc0: 2c20 6f72 2069 6d70 7572 6520 6675 6e63  , or impure func
-0001edd0: 7469 6f6e 7320 7375 6368 2061 7320 7469  tions such as ti
-0001ede0: 6d65 2829 206f 7220 7261 6e64 6f6d 2829  me() or random()
-0001edf0: 2e0a 0a45 7861 6d70 6c65 206f 6620 6566  ...Example of ef
-0001ee00: 6669 6369 656e 746c 7920 636f 6d70 7574  ficiently comput
-0001ee10: 696e 6720 4669 626f 6e61 6363 6920 6e75  ing Fibonacci nu
-0001ee20: 6d62 6572 7320 7573 696e 6720 6120 6361  mbers using a ca
-0001ee30: 6368 6520 746f 2069 6d70 6c65 6d65 6e74  che to implement
-0001ee40: 2061 2064 796e 616d 6963 2070 726f 6772   a dynamic progr
-0001ee50: 616d 6d69 6e67 2074 6563 686e 6971 7565  amming technique
-0001ee60: 3a0a 6060 6063 6f63 6f6e 7574 5f70 7963  :.```coconut_pyc
-0001ee70: 6f6e 0a40 6d65 6d6f 697a 650a 6465 6620  on.@memoize.def 
-0001ee80: 6669 6228 6e29 3a0a 2020 2020 6966 206e  fib(n):.    if n
-0001ee90: 203c 2032 3a0a 2020 2020 2020 2020 7265   < 2:.        re
-0001eea0: 7475 726e 206e 0a20 2020 2072 6574 7572  turn n.    retur
-0001eeb0: 6e20 6669 6228 6e2d 3129 202b 2066 6962  n fib(n-1) + fib
-0001eec0: 286e 2d32 290a 0a3e 3e3e 205b 6669 6228  (n-2)..>>> [fib(
-0001eed0: 6e29 2066 6f72 206e 2069 6e20 7261 6e67  n) for n in rang
-0001eee0: 6528 3136 295d 0a5b 302c 2031 2c20 312c  e(16)].[0, 1, 1,
-0001eef0: 2032 2c20 332c 2035 2c20 382c 2031 332c   2, 3, 5, 8, 13,
-0001ef00: 2032 312c 2033 342c 2035 352c 2038 392c   21, 34, 55, 89,
-0001ef10: 2031 3434 2c20 3233 332c 2033 3737 2c20   144, 233, 377, 
-0001ef20: 3631 305d 0a0a 3e3e 3e20 6669 622e 6361  610]..>>> fib.ca
-0001ef30: 6368 655f 696e 666f 2829 0a43 6163 6865  che_info().Cache
-0001ef40: 496e 666f 2868 6974 733d 3238 2c20 6d69  Info(hits=28, mi
-0001ef50: 7373 6573 3d31 362c 206d 6178 7369 7a65  sses=16, maxsize
-0001ef60: 3d4e 6f6e 652c 2063 7572 7273 697a 653d  =None, currsize=
-0001ef70: 3136 290a 6060 600a 0a23 2323 2323 2045  16).```..##### E
-0001ef80: 7861 6d70 6c65 0a0a 2a2a 436f 636f 6e75  xample..**Coconu
-0001ef90: 743a 2a2a 0a60 6060 636f 636f 6e75 740a  t:**.```coconut.
-0001efa0: 6465 6620 6669 6228 6e20 6966 206e 203c  def fib(n if n <
-0001efb0: 2032 2920 3d20 6e0a 0a40 6d65 6d6f 697a   2) = n..@memoiz
-0001efc0: 650a 4061 6464 7061 7474 6572 6e28 6669  e.@addpattern(fi
-0001efd0: 6229 0a64 6566 2066 6962 286e 2920 3d20  b).def fib(n) = 
-0001efe0: 6669 6228 6e2d 3129 202b 2066 6962 286e  fib(n-1) + fib(n
-0001eff0: 2d32 290a 6060 600a 0a2a 2a50 7974 686f  -2).```..**Pytho
-0001f000: 6e3a 2a2a 0a60 6060 636f 636f 6e75 745f  n:**.```coconut_
-0001f010: 7079 7468 6f6e 0a74 7279 3a0a 2020 2020  python.try:.    
-0001f020: 6672 6f6d 2066 756e 6374 6f6f 6c73 2069  from functools i
-0001f030: 6d70 6f72 7420 6c72 755f 6361 6368 650a  mport lru_cache.
-0001f040: 6578 6365 7074 2049 6d70 6f72 7445 7272  except ImportErr
-0001f050: 6f72 3a0a 2020 2020 6672 6f6d 2062 6163  or:.    from bac
-0001f060: 6b70 6f72 7473 2e66 756e 6374 6f6f 6c73  kports.functools
-0001f070: 5f6c 7275 5f63 6163 6865 2069 6d70 6f72  _lru_cache impor
-0001f080: 7420 6c72 755f 6361 6368 650a 406c 7275  t lru_cache.@lru
-0001f090: 5f63 6163 6865 286d 6178 7369 7a65 3d4e  _cache(maxsize=N
-0001f0a0: 6f6e 6529 0a64 6566 2066 6962 286e 293a  one).def fib(n):
-0001f0b0: 0a20 2020 2069 6620 6e20 3c20 323a 0a20  .    if n < 2:. 
-0001f0c0: 2020 2020 2020 2072 6574 7572 6e20 6e0a         return n.
-0001f0d0: 2020 2020 7265 7475 726e 2066 6962 286e      return fib(n
-0001f0e0: 2d31 2920 2b20 6669 6228 6e2d 3229 0a60  -1) + fib(n-2).`
-0001f0f0: 6060 0a0a 2323 2323 2060 6f76 6572 7269  ``..#### `overri
-0001f100: 6465 600a 0a2a 2a6f 7665 7272 6964 652a  de`..**override*
-0001f110: 2a28 5f66 756e 635f 290a 0a43 6f63 6f6e  *(_func_)..Cocon
-0001f120: 7574 2070 726f 7669 6465 7320 7468 6520  ut provides the 
-0001f130: 6040 6f76 6572 7269 6465 6020 6465 636f  `@override` deco
-0001f140: 7261 746f 7220 746f 2061 6c6c 6f77 2064  rator to allow d
-0001f150: 6563 6c61 7269 6e67 2061 206d 6574 686f  eclaring a metho
-0001f160: 6420 6465 6669 6e69 7469 6f6e 2069 6e20  d definition in 
-0001f170: 6120 7375 6263 6c61 7373 2061 7320 616e  a subclass as an
-0001f180: 206f 7665 7272 6964 6520 6f66 2073 6f6d   override of som
-0001f190: 6520 7061 7265 6e74 2063 6c61 7373 206d  e parent class m
-0001f1a0: 6574 686f 642e 2057 6865 6e20 6040 6f76  ethod. When `@ov
-0001f1b0: 6572 7269 6465 6020 6973 2075 7365 6420  erride` is used 
-0001f1c0: 6f6e 2061 206d 6574 686f 642c 2069 6620  on a method, if 
-0001f1d0: 6120 6d65 7468 6f64 206f 6620 7468 6520  a method of the 
-0001f1e0: 7361 6d65 206e 616d 6520 646f 6573 206e  same name does n
-0001f1f0: 6f74 2065 7869 7374 206f 6e20 736f 6d65  ot exist on some
-0001f200: 2070 6172 656e 7420 636c 6173 732c 2074   parent class, t
-0001f210: 6865 2063 6c61 7373 2064 6566 696e 6974  he class definit
-0001f220: 696f 6e20 7769 6c6c 2072 6169 7365 2061  ion will raise a
-0001f230: 2060 5275 6e74 696d 6545 7272 6f72 602e   `RuntimeError`.
-0001f240: 0a0a 4164 6469 7469 6f6e 616c 6c79 2c20  ..Additionally, 
-0001f250: 606f 7665 7272 6964 6560 2077 696c 6c20  `override` will 
-0001f260: 7072 6573 656e 7420 746f 2074 7970 6520  present to type 
-0001f270: 6368 6563 6b65 7273 2061 7320 5b60 7479  checkers as [`ty
-0001f280: 7069 6e67 5f65 7874 656e 7369 6f6e 732e  ping_extensions.
-0001f290: 6f76 6572 7269 6465 605d 2868 7474 7073  override`](https
-0001f2a0: 3a2f 2f70 7970 692e 6f72 672f 7072 6f6a  ://pypi.org/proj
-0001f2b0: 6563 742f 7479 7069 6e67 2d65 7874 656e  ect/typing-exten
-0001f2c0: 7369 6f6e 732f 292e 0a0a 2323 2323 2320  sions/)...##### 
-0001f2d0: 4578 616d 706c 650a 0a2a 2a43 6f63 6f6e  Example..**Cocon
-0001f2e0: 7574 3a2a 2a0a 6060 6063 6f63 6f6e 7574  ut:**.```coconut
-0001f2f0: 0a63 6c61 7373 2041 3a0a 2020 2020 7820  .class A:.    x 
-0001f300: 3d20 310a 2020 2020 6465 6620 6628 7365  = 1.    def f(se
-0001f310: 6c66 2c20 7929 203d 2073 656c 662e 7820  lf, y) = self.x 
-0001f320: 2b20 790a 0a63 6c61 7373 2042 3a0a 2020  + y..class B:.  
-0001f330: 2020 406f 7665 7272 6964 650a 2020 2020    @override.    
-0001f340: 6465 6620 6628 7365 6c66 2c20 7929 203d  def f(self, y) =
-0001f350: 2073 656c 662e 7820 2b20 7920 2b20 310a   self.x + y + 1.
-0001f360: 6060 600a 0a2a 2a50 7974 686f 6e3a 2a2a  ```..**Python:**
-0001f370: 0a5f 4361 6e27 7420 6265 2064 6f6e 6520  ._Can't be done 
-0001f380: 7769 7468 6f75 7420 6120 6c6f 6e67 2064  without a long d
-0001f390: 6563 6f72 6174 6f72 2064 6566 696e 6974  ecorator definit
-0001f3a0: 696f 6e2e 2054 6865 2066 756c 6c20 6465  ion. The full de
-0001f3b0: 6669 6e69 7469 6f6e 206f 6620 7468 6520  finition of the 
-0001f3c0: 6465 636f 7261 746f 7220 696e 2050 7974  decorator in Pyt
-0001f3d0: 686f 6e20 6361 6e20 6265 2066 6f75 6e64  hon can be found
-0001f3e0: 2069 6e20 7468 6520 436f 636f 6e75 7420   in the Coconut 
-0001f3f0: 6865 6164 6572 2e5f 0a0a 2323 2323 2060  header._..#### `
-0001f400: 7265 6375 7273 6976 655f 6974 6572 6174  recursive_iterat
-0001f410: 6f72 600a 0a2a 2a72 6563 7572 7369 7665  or`..**recursive
-0001f420: 5c5f 6974 6572 6174 6f72 2a2a 285f 6675  \_iterator**(_fu
-0001f430: 6e63 5f29 0a0a 436f 636f 6e75 7420 7072  nc_)..Coconut pr
-0001f440: 6f76 6964 6573 2061 2060 7265 6375 7273  ovides a `recurs
-0001f450: 6976 655f 6974 6572 6174 6f72 6020 6465  ive_iterator` de
-0001f460: 636f 7261 746f 7220 7468 6174 206d 656d  corator that mem
-0001f470: 6f69 7a65 7320 616e 7920 7374 6174 656c  oizes any statel
-0001f480: 6573 732c 2072 6563 7572 7369 7665 2066  ess, recursive f
-0001f490: 756e 6374 696f 6e20 7468 6174 2072 6574  unction that ret
-0001f4a0: 7572 6e73 2061 6e20 6974 6572 6174 6f72  urns an iterator
-0001f4b0: 2e20 546f 2075 7365 2060 7265 6375 7273  . To use `recurs
-0001f4c0: 6976 655f 6974 6572 6174 6f72 6020 6f6e  ive_iterator` on
-0001f4d0: 2061 2066 756e 6374 696f 6e2c 2069 7420   a function, it 
-0001f4e0: 6d75 7374 206d 6565 7420 7468 6520 666f  must meet the fo
-0001f4f0: 6c6c 6f77 696e 6720 6372 6974 6572 6961  llowing criteria
-0001f500: 3a0a 0a31 2e20 796f 7572 2066 756e 6374  :..1. your funct
-0001f510: 696f 6e20 6569 7468 6572 2061 6c77 6179  ion either alway
-0001f520: 7320 6072 6574 7572 6e60 7320 616e 2069  s `return`s an i
-0001f530: 7465 7261 746f 7220 6f72 2067 656e 6572  terator or gener
-0001f540: 6174 6573 2061 6e20 6974 6572 6174 6f72  ates an iterator
-0001f550: 2075 7369 6e67 2060 7969 656c 6460 2c0a   using `yield`,.
-0001f560: 322e 2077 6865 6e20 6361 6c6c 6564 206d  2. when called m
-0001f570: 756c 7469 706c 6520 7469 6d65 7320 7769  ultiple times wi
-0001f580: 7468 2061 7267 756d 656e 7473 2074 6861  th arguments tha
-0001f590: 7420 6172 6520 6571 7561 6c2c 2079 6f75  t are equal, you
-0001f5a0: 7220 6675 6e63 7469 6f6e 2070 726f 6475  r function produ
-0001f5b0: 6365 7320 7468 6520 7361 6d65 2069 7465  ces the same ite
-0001f5c0: 7261 746f 7220 2879 6f75 7220 6675 6e63  rator (your func
-0001f5d0: 7469 6f6e 2069 7320 7374 6174 656c 6573  tion is stateles
-0001f5e0: 7329 2c20 616e 640a 332e 2079 6f75 7220  s), and.3. your 
-0001f5f0: 6675 6e63 7469 6f6e 2067 6574 7320 6361  function gets ca
-0001f600: 6c6c 6564 2028 7573 7561 6c6c 7920 6361  lled (usually ca
-0001f610: 6c6c 7320 6974 7365 6c66 2920 6d75 6c74  lls itself) mult
-0001f620: 6970 6c65 2074 696d 6573 2077 6974 6820  iple times with 
-0001f630: 7468 6520 7361 6d65 2061 7267 756d 656e  the same argumen
-0001f640: 7473 2e0a 0a49 6620 796f 7520 6172 6520  ts...If you are 
-0001f650: 656e 636f 756e 7465 7269 6e67 2061 2060  encountering a `
-0001f660: 5275 6e74 696d 6545 7272 6f72 6020 6475  RuntimeError` du
-0001f670: 6520 746f 206d 6178 696d 756d 2072 6563  e to maximum rec
-0001f680: 7572 7369 6f6e 2064 6570 7468 2c20 6974  ursion depth, it
-0001f690: 2069 7320 6869 6768 6c79 2072 6563 6f6d   is highly recom
-0001f6a0: 6d65 6e64 6564 2074 6861 7420 796f 7520  mended that you 
-0001f6b0: 7265 7772 6974 6520 796f 7572 2066 756e  rewrite your fun
-0001f6c0: 6374 696f 6e20 746f 206d 6565 7420 6569  ction to meet ei
-0001f6d0: 7468 6572 2074 6865 2063 7269 7465 7269  ther the criteri
-0001f6e0: 6120 6162 6f76 6520 666f 7220 6072 6563  a above for `rec
-0001f6f0: 7572 7369 7665 5f69 7465 7261 746f 7260  ursive_iterator`
-0001f700: 2c20 6f72 2074 6865 2063 6f72 7265 7370  , or the corresp
-0001f710: 6f6e 6469 6e67 2063 7269 7465 7269 6120  onding criteria 
-0001f720: 666f 7220 436f 636f 6e75 7427 7320 5b74  for Coconut's [t
-0001f730: 6169 6c20 6361 6c6c 206f 7074 696d 697a  ail call optimiz
-0001f740: 6174 696f 6e5d 2823 7461 696c 2d63 616c  ation](#tail-cal
-0001f750: 6c2d 6f70 7469 6d69 7a61 7469 6f6e 292c  l-optimization),
-0001f760: 2065 6974 6865 7220 6f66 2077 6869 6368   either of which
-0001f770: 2073 686f 756c 6420 7072 6576 656e 7420   should prevent 
-0001f780: 7375 6368 2065 7272 6f72 732e 0a0a 4675  such errors...Fu
-0001f790: 7274 6865 726d 6f72 652c 2060 7265 6375  rthermore, `recu
-0001f7a0: 7273 6976 655f 6974 6572 6174 6f72 6020  rsive_iterator` 
-0001f7b0: 616c 736f 2061 6c6c 6f77 7320 7468 6520  also allows the 
-0001f7c0: 7265 736f 6c75 7469 6f6e 206f 6620 6120  resolution of a 
-0001f7d0: 5b6e 6173 7479 2073 6567 6d65 6e74 6174  [nasty segmentat
-0001f7e0: 696f 6e20 6661 756c 7420 696e 2050 7974  ion fault in Pyt
-0001f7f0: 686f 6e27 7320 6974 6572 6174 6f72 206c  hon's iterator l
-0001f800: 6f67 6963 2074 6861 7420 6861 7320 6e65  ogic that has ne
-0001f810: 7665 7220 6265 656e 2066 6978 6564 5d28  ver been fixed](
-0001f820: 6874 7470 3a2f 2f62 7567 732e 7079 7468  http://bugs.pyth
-0001f830: 6f6e 2e6f 7267 2f69 7373 7565 3134 3031  on.org/issue1401
-0001f840: 3029 2e20 5370 6563 6966 6963 616c 6c79  0). Specifically
-0001f850: 2c20 696e 7374 6561 6420 6f66 2077 7269  , instead of wri
-0001f860: 7469 6e67 0a60 6060 636f 636f 6e75 740a  ting.```coconut.
-0001f870: 7365 7120 3d20 6765 745f 656c 656d 2829  seq = get_elem()
-0001f880: 203a 3a20 7365 710a 6060 600a 7768 6963   :: seq.```.whic
-0001f890: 6820 7769 6c6c 2063 7261 7368 2064 7565  h will crash due
-0001f8a0: 2074 6f20 7468 6520 6166 6f72 656d 656e   to the aforemen
-0001f8b0: 7469 6f6e 6564 2050 7974 686f 6e20 6973  tioned Python is
-0001f8c0: 7375 652c 2077 7269 7465 0a60 6060 636f  sue, write.```co
-0001f8d0: 636f 6e75 740a 4072 6563 7572 7369 7665  conut.@recursive
-0001f8e0: 5f69 7465 7261 746f 720a 6465 6620 7365  _iterator.def se
-0001f8f0: 7128 2920 3d20 6765 745f 656c 656d 2829  q() = get_elem()
-0001f900: 203a 3a20 7365 7128 290a 6060 600a 7768   :: seq().```.wh
-0001f910: 6963 6820 7769 6c6c 2077 6f72 6b20 6a75  ich will work ju
-0001f920: 7374 2066 696e 652e 0a0a 4f6e 6520 7069  st fine...One pi
-0001f930: 7466 616c 6c20 746f 206b 6565 7020 696e  tfall to keep in
-0001f940: 206d 696e 6420 776f 726b 696e 6720 7769   mind working wi
-0001f950: 7468 2060 7265 6375 7273 6976 655f 6974  th `recursive_it
-0001f960: 6572 6174 6f72 6020 6973 2074 6861 7420  erator` is that 
-0001f970: 6974 2073 686f 756c 646e 2774 2062 6520  it shouldn't be 
-0001f980: 7573 6564 2069 6e20 636f 6e74 6578 7473  used in contexts
-0001f990: 2077 6865 7265 2074 6865 2066 756e 6374   where the funct
-0001f9a0: 696f 6e20 6361 6e20 706f 7465 6e74 6961  ion can potentia
-0001f9b0: 6c6c 7920 6265 2063 616c 6c65 6420 6d75  lly be called mu
-0001f9c0: 6c74 6970 6c65 2074 696d 6573 2077 6974  ltiple times wit
-0001f9d0: 6820 7468 6520 7361 6d65 2069 7465 7261  h the same itera
-0001f9e0: 746f 7220 6f62 6a65 6374 2061 7320 616e  tor object as an
-0001f9f0: 2069 6e70 7574 2c20 6275 7420 7769 7468   input, but with
-0001fa00: 2074 6861 7420 6f62 6a65 6374 206e 6f74   that object not
-0001fa10: 2061 6374 7561 6c6c 7920 636f 7272 6573   actually corres
-0001fa20: 706f 6e64 696e 6720 746f 2074 6865 2073  ponding to the s
-0001fa30: 616d 6520 6974 656d 7320 2865 2e67 2e20  ame items (e.g. 
-0001fa40: 6265 6361 7573 6520 7468 6520 6669 7273  because the firs
-0001fa50: 7420 7469 6d65 2074 6865 206f 626a 6563  t time the objec
-0001fa60: 7420 6861 736e 2774 2062 6565 6e20 6974  t hasn't been it
-0001fa70: 6572 6174 6564 206f 7665 7220 7965 7420  erated over yet 
-0001fa80: 616e 6420 7468 6520 7365 636f 6e64 2074  and the second t
-0001fa90: 696d 6520 6974 2068 6173 2062 6565 6e29  ime it has been)
-0001faa0: 2e0a 0a23 2323 2323 2045 7861 6d70 6c65  ...##### Example
-0001fab0: 0a0a 2a2a 436f 636f 6e75 743a 2a2a 0a60  ..**Coconut:**.`
-0001fac0: 6060 636f 636f 6e75 740a 4072 6563 7572  ``coconut.@recur
-0001fad0: 7369 7665 5f69 7465 7261 746f 720a 6465  sive_iterator.de
-0001fae0: 6620 6669 6228 2920 3d20 2831 2c20 3129  f fib() = (1, 1)
-0001faf0: 203a 3a20 6d61 7028 282b 292c 2066 6962   :: map((+), fib
-0001fb00: 2829 2c20 6669 6228 2924 5b31 3a5d 290a  (), fib()$[1:]).
-0001fb10: 6060 600a 0a2a 2a50 7974 686f 6e3a 2a2a  ```..**Python:**
-0001fb20: 0a5f 4361 6e27 7420 6265 2064 6f6e 6520  ._Can't be done 
-0001fb30: 7769 7468 6f75 7420 6120 6c6f 6e67 2064  without a long d
-0001fb40: 6563 6f72 6174 6f72 2064 6566 696e 6974  ecorator definit
-0001fb50: 696f 6e2e 2054 6865 2066 756c 6c20 6465  ion. The full de
-0001fb60: 6669 6e69 7469 6f6e 206f 6620 7468 6520  finition of the 
-0001fb70: 6465 636f 7261 746f 7220 696e 2050 7974  decorator in Pyt
-0001fb80: 686f 6e20 6361 6e20 6265 2066 6f75 6e64  hon can be found
-0001fb90: 2069 6e20 7468 6520 436f 636f 6e75 7420   in the Coconut 
-0001fba0: 6865 6164 6572 2e5f 0a0a 2323 2320 4275  header._..### Bu
-0001fbb0: 696c 742d 496e 2054 7970 6573 0a0a 6060  ilt-In Types..``
-0001fbc0: 607b 636f 6e74 656e 7473 7d0a 2d2d 2d0a  `{contents}.---.
-0001fbd0: 6c6f 6361 6c3a 0a64 6570 7468 3a20 310a  local:.depth: 1.
-0001fbe0: 2d2d 2d0a 6060 600a 0a23 2323 2320 606d  ---.```..#### `m
-0001fbf0: 756c 7469 7365 7460 0a0a 2a2a 6d75 6c74  ultiset`..**mult
-0001fc00: 6973 6574 2a2a 285f 6974 6572 6162 6c65  iset**(_iterable
-0001fc10: 5f3d 604e 6f6e 6560 2c20 2f2c 202a 2a6b  _=`None`, /, **k
-0001fc20: 7764 7329 0a0a 436f 636f 6e75 7420 7072  wds)..Coconut pr
-0001fc30: 6f76 6964 6573 2060 6d75 6c74 6973 6574  ovides `multiset
-0001fc40: 6020 6173 2061 2062 7569 6c74 2d69 6e20  ` as a built-in 
-0001fc50: 7375 6263 6c61 7373 206f 6620 5b60 636f  subclass of [`co
-0001fc60: 6c6c 6563 7469 6f6e 732e 436f 756e 7465  llections.Counte
-0001fc70: 7260 5d28 6874 7470 733a 2f2f 646f 6373  r`](https://docs
-0001fc80: 2e70 7974 686f 6e2e 6f72 672f 332f 6c69  .python.org/3/li
-0001fc90: 6272 6172 792f 636f 6c6c 6563 7469 6f6e  brary/collection
-0001fca0: 732e 6874 6d6c 2363 6f6c 6c65 6374 696f  s.html#collectio
-0001fcb0: 6e73 2e43 6f75 6e74 6572 2920 7468 6174  ns.Counter) that
-0001fcc0: 2061 6464 6974 696f 6e61 6c6c 7920 696d   additionally im
-0001fcd0: 706c 656d 656e 7473 2074 6865 2066 756c  plements the ful
-0001fce0: 6c20 5b53 6574 2061 6e64 204d 7574 6162  l [Set and Mutab
-0001fcf0: 6c65 5365 7420 696e 7465 7266 6163 6573  leSet interfaces
-0001fd00: 5d28 6874 7470 733a 2f2f 646f 6373 2e70  ](https://docs.p
-0001fd10: 7974 686f 6e2e 6f72 672f 332f 6c69 6272  ython.org/3/libr
-0001fd20: 6172 792f 636f 6c6c 6563 7469 6f6e 732e  ary/collections.
-0001fd30: 6162 632e 6874 6d6c 292e 0a0a 466f 7220  abc.html)...For 
-0001fd40: 6561 7369 6c79 2063 6f6e 7374 7275 6374  easily construct
-0001fd50: 696e 6720 6d75 6c74 6973 6574 732c 2043  ing multisets, C
-0001fd60: 6f63 6f6e 7574 2061 6c73 6f20 7072 6f76  oconut also prov
-0001fd70: 6964 6573 205b 6d75 6c74 6973 6574 206c  ides [multiset l
-0001fd80: 6974 6572 616c 735d 2823 7365 742d 6c69  iterals](#set-li
-0001fd90: 7465 7261 6c73 292e 0a0a 5468 6520 6e65  terals)...The ne
-0001fda0: 7720 6d65 7468 6f64 7320 7072 6f76 6964  w methods provid
-0001fdb0: 6564 2062 7920 606d 756c 7469 7365 7460  ed by `multiset`
-0001fdc0: 206f 6e20 746f 7020 6f66 2060 636f 6c6c   on top of `coll
-0001fdd0: 6563 7469 6f6e 732e 436f 756e 7465 7260  ections.Counter`
-0001fde0: 2061 7265 3a0a 2d20 6d75 6c74 6973 6574   are:.- multiset
-0001fdf0: 2e2a 2a61 6464 2a2a 285f 6974 656d 5f29  .**add**(_item_)
-0001fe00: 3a20 4164 6420 616e 2065 6c65 6d65 6e74  : Add an element
-0001fe10: 2074 6f20 6120 6d75 6c74 6973 6574 2e0a   to a multiset..
-0001fe20: 2d20 6d75 6c74 6973 6574 2e2a 2a64 6973  - multiset.**dis
-0001fe30: 6361 7264 2a2a 285f 6974 656d 5f29 3a20  card**(_item_): 
-0001fe40: 5265 6d6f 7665 2061 6e20 656c 656d 656e  Remove an elemen
-0001fe50: 7420 6672 6f6d 2061 206d 756c 7469 7365  t from a multise
-0001fe60: 7420 6966 2069 7420 6973 2061 206d 656d  t if it is a mem
-0001fe70: 6265 722e 0a2d 206d 756c 7469 7365 742e  ber..- multiset.
-0001fe80: 2a2a 7265 6d6f 7665 2a2a 285f 6974 656d  **remove**(_item
-0001fe90: 5f29 3a20 5265 6d6f 7665 2061 6e20 656c  _): Remove an el
-0001fea0: 656d 656e 7420 6672 6f6d 2061 206d 756c  ement from a mul
-0001feb0: 7469 7365 743b 2069 7420 6d75 7374 2062  tiset; it must b
-0001fec0: 6520 6120 6d65 6d62 6572 2e0a 2d20 6d75  e a member..- mu
-0001fed0: 6c74 6973 6574 2e2a 2a69 7364 6973 6a6f  ltiset.**isdisjo
-0001fee0: 696e 742a 2a28 5f6f 7468 6572 5f29 3a20  int**(_other_): 
-0001fef0: 5265 7475 726e 2054 7275 6520 6966 2074  Return True if t
-0001ff00: 776f 206d 756c 7469 7365 7473 2068 6176  wo multisets hav
-0001ff10: 6520 6120 6e75 6c6c 2069 6e74 6572 7365  e a null interse
-0001ff20: 6374 696f 6e2e 0a2d 206d 756c 7469 7365  ction..- multise
-0001ff30: 742e 2a2a 5c5f 5c5f 786f 725c 5f5c 5f2a  t.**\_\_xor\_\_*
-0001ff40: 2a28 5f6f 7468 6572 5f29 3a20 5265 7475  *(_other_): Retu
-0001ff50: 726e 2074 6865 2073 796d 6d65 7472 6963  rn the symmetric
-0001ff60: 2064 6966 6665 7265 6e63 6520 6f66 2074   difference of t
-0001ff70: 776f 206d 756c 7469 7365 7473 2061 7320  wo multisets as 
-0001ff80: 6120 6e65 7720 6d75 6c74 6973 6574 2e20  a new multiset. 
-0001ff90: 5370 6563 6966 6963 616c 6c79 3a20 6061  Specifically: `a
-0001ffa0: 205e 2062 203d 2028 6120 2d20 6229 207c   ^ b = (a - b) |
-0001ffb0: 2028 6220 2d20 6129 600a 2d20 6d75 6c74   (b - a)`.- mult
-0001ffc0: 6973 6574 2e2a 2a63 6f75 6e74 2a2a 285f  iset.**count**(_
-0001ffd0: 6974 656d 5f29 3a20 5265 7475 726e 2074  item_): Return t
-0001ffe0: 6865 206e 756d 6265 7220 6f66 2074 696d  he number of tim
-0001fff0: 6573 2061 6e20 656c 656d 656e 7420 6f63  es an element oc
-00020000: 6375 7273 2069 6e20 6120 6d75 6c74 6973  curs in a multis
-00020010: 6574 2e20 4571 7569 7661 6c65 6e74 2074  et. Equivalent t
-00020020: 6f20 606d 756c 7469 7365 745b 6974 656d  o `multiset[item
-00020030: 5d60 2c20 6275 7420 6164 6469 7469 6f6e  ]`, but addition
-00020040: 616c 6c79 2076 6572 6966 6965 7320 7468  ally verifies th
-00020050: 6520 636f 756e 7420 6973 206e 6f6e 2d6e  e count is non-n
-00020060: 6567 6174 6976 652e 0a0a 436f 636f 6e75  egative...Coconu
-00020070: 7420 616c 736f 2065 6e73 7572 6573 2074  t also ensures t
-00020080: 6861 7420 606d 756c 7469 7365 7460 2073  hat `multiset` s
-00020090: 7570 706f 7274 7320 5b72 6963 6820 636f  upports [rich co
-000200a0: 6d70 6172 6973 6f6e 7320 616e 6420 6043  mparisons and `C
-000200b0: 6f75 6e74 6572 2e74 6f74 616c 2829 605d  ounter.total()`]
-000200c0: 2868 7474 7073 3a2f 2f64 6f63 732e 7079  (https://docs.py
-000200d0: 7468 6f6e 2e6f 7267 2f33 2f6c 6962 7261  thon.org/3/libra
-000200e0: 7279 2f63 6f6c 6c65 6374 696f 6e73 2e68  ry/collections.h
-000200f0: 746d 6c23 636f 6c6c 6563 7469 6f6e 732e  tml#collections.
-00020100: 436f 756e 7465 7229 206f 6e20 616c 6c20  Counter) on all 
-00020110: 5079 7468 6f6e 2076 6572 7369 6f6e 732e  Python versions.
-00020120: 0a0a 2323 2323 2320 4578 616d 706c 650a  ..##### Example.
-00020130: 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0a 6060  .**Coconut:**.``
-00020140: 6063 6f63 6f6e 7574 0a6d 795f 6d75 6c74  `coconut.my_mult
-00020150: 6973 6574 203d 206d 7b31 2c20 312c 2032  iset = m{1, 1, 2
-00020160: 7d0a 6d79 5f6d 756c 7469 7365 742e 6164  }.my_multiset.ad
-00020170: 6428 3329 0a6d 795f 6d75 6c74 6973 6574  d(3).my_multiset
-00020180: 2e72 656d 6f76 6528 3229 0a70 7269 6e74  .remove(2).print
-00020190: 286d 795f 6d75 6c74 6973 6574 290a 6060  (my_multiset).``
-000201a0: 600a 0a2a 2a50 7974 686f 6e3a 2a2a 0a60  `..**Python:**.`
-000201b0: 6060 636f 636f 6e75 745f 7079 7468 6f6e  ``coconut_python
-000201c0: 0a66 726f 6d20 636f 6c6c 6563 7469 6f6e  .from collection
-000201d0: 7320 696d 706f 7274 2043 6f75 6e74 6572  s import Counter
-000201e0: 0a6d 795f 636f 756e 7465 7220 3d20 436f  .my_counter = Co
-000201f0: 756e 7465 7228 2831 2c20 312c 2032 2929  unter((1, 1, 2))
-00020200: 0a6d 795f 636f 756e 7465 725b 335d 202b  .my_counter[3] +
-00020210: 3d20 310a 6d79 5f63 6f75 6e74 6572 5b32  = 1.my_counter[2
-00020220: 5d20 2d3d 2031 0a69 6620 6d79 5f63 6f75  ] -= 1.if my_cou
-00020230: 6e74 6572 5b32 5d20 3c3d 2030 3a0a 2020  nter[2] <= 0:.  
-00020240: 2020 6465 6c20 6d79 5f63 6f75 6e74 6572    del my_counter
-00020250: 5b32 5d0a 7072 696e 7428 6d79 5f63 6f75  [2].print(my_cou
-00020260: 6e74 6572 290a 6060 600a 0a23 2323 2320  nter).```..#### 
-00020270: 6045 7870 6563 7465 6460 0a0a 2a2a 4578  `Expected`..**Ex
-00020280: 7065 6374 6564 2a2a 285f 7265 7375 6c74  pected**(_result
-00020290: 5f3d 604e 6f6e 6560 2c20 5f65 7272 6f72  _=`None`, _error
-000202a0: 5f3d 604e 6f6e 6560 290a 0a43 6f63 6f6e  _=`None`)..Cocon
-000202b0: 7574 2773 2060 4578 7065 6374 6564 6020  ut's `Expected` 
-000202c0: 6275 696c 742d 696e 2069 7320 6120 436f  built-in is a Co
-000202d0: 636f 6e75 7420 5b60 6461 7461 6020 7479  conut [`data` ty
-000202e0: 7065 5d28 2364 6174 6129 2074 6861 7420  pe](#data) that 
-000202f0: 7265 7072 6573 656e 7473 2061 2076 616c  represents a val
-00020300: 7565 2074 6861 7420 6d61 7920 6f72 206d  ue that may or m
-00020310: 6179 206e 6f74 2062 6520 616e 2065 7272  ay not be an err
-00020320: 6f72 2c20 7369 6d69 6c61 7220 746f 2048  or, similar to H
-00020330: 6173 6b65 6c6c 2773 205b 6045 6974 6865  askell's [`Eithe
-00020340: 7260 5d28 6874 7470 733a 2f2f 6861 636b  r`](https://hack
-00020350: 6167 652e 6861 736b 656c 6c2e 6f72 672f  age.haskell.org/
-00020360: 7061 636b 6167 652f 6261 7365 2d34 2e31  package/base-4.1
-00020370: 372e 302e 302f 646f 6373 2f44 6174 612d  7.0.0/docs/Data-
-00020380: 4569 7468 6572 2e68 746d 6c29 2e0a 0a60  Either.html)...`
-00020390: 4578 7065 6374 6564 6020 6973 2065 6666  Expected` is eff
-000203a0: 6563 7469 7665 6c79 2065 7175 6976 616c  ectively equival
-000203b0: 656e 7420 746f 2074 6865 2066 6f6c 6c6f  ent to the follo
-000203c0: 7769 6e67 3a0a 6060 6063 6f63 6f6e 7574  wing:.```coconut
-000203d0: 0a64 6174 6120 4578 7065 6374 6564 5b54  .data Expected[T
-000203e0: 5d28 7265 7375 6c74 3a20 543f 203d 204e  ](result: T? = N
-000203f0: 6f6e 652c 2065 7272 6f72 3a20 4261 7365  one, error: Base
-00020400: 4578 6365 7074 696f 6e3f 203d 204e 6f6e  Exception? = Non
-00020410: 6529 3a0a 2020 2020 6465 6620 5f5f 626f  e):.    def __bo
-00020420: 6f6c 5f5f 2873 656c 6629 202d 3e20 626f  ol__(self) -> bo
-00020430: 6f6c 3a0a 2020 2020 2020 2020 7265 7475  ol:.        retu
-00020440: 726e 2073 656c 662e 6572 726f 7220 6973  rn self.error is
-00020450: 204e 6f6e 650a 2020 2020 6465 6620 5f5f   None.    def __
-00020460: 666d 6170 5f5f 5b55 5d28 7365 6c66 2c20  fmap__[U](self, 
-00020470: 6675 6e63 3a20 5420 2d3e 2055 2920 2d3e  func: T -> U) ->
-00020480: 2045 7870 6563 7465 645b 555d 3a0a 2020   Expected[U]:.  
-00020490: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
-000204a0: 662e 5f5f 636c 6173 735f 5f28 6675 6e63  f.__class__(func
-000204b0: 2873 656c 662e 7265 7375 6c74 2929 2069  (self.result)) i
-000204c0: 6620 7365 6c66 2065 6c73 6520 7365 6c66  f self else self
-000204d0: 0a20 2020 2064 6566 2061 6e64 5f74 6865  .    def and_the
-000204e0: 6e5b 555d 2873 656c 662c 2066 756e 633a  n[U](self, func:
-000204f0: 2054 202d 3e20 4578 7065 6374 6564 5b55   T -> Expected[U
-00020500: 5d29 202d 3e20 4578 7065 6374 6564 5b55  ]) -> Expected[U
-00020510: 5d3a 0a20 2020 2020 2020 2022 2222 4d61  ]:.        """Ma
-00020520: 7073 2061 2054 202d 3e20 4578 7065 6374  ps a T -> Expect
-00020530: 6564 5b55 5d20 6f76 6572 2061 6e20 4578  ed[U] over an Ex
-00020540: 7065 6374 6564 5b54 5d20 746f 2070 726f  pected[T] to pro
-00020550: 6475 6365 2061 6e20 4578 7065 6374 6564  duce an Expected
-00020560: 5b55 5d2e 0a20 2020 2020 2020 2049 6d70  [U]..        Imp
-00020570: 6c65 6d65 6e74 7320 6120 6d6f 6e61 6469  lements a monadi
-00020580: 6320 6269 6e64 2e20 4571 7569 7661 6c65  c bind. Equivale
-00020590: 6e74 2074 6f20 666d 6170 202e 2e3e 202e  nt to fmap ..> .
-000205a0: 6a6f 696e 2829 2e22 2222 0a20 2020 2020  join().""".     
-000205b0: 2020 2072 6574 7572 6e20 7365 6c66 207c     return self |
-000205c0: 3e20 666d 6170 2428 6675 6e63 2920 7c3e  > fmap$(func) |>
-000205d0: 202e 6a6f 696e 2829 0a20 2020 2064 6566   .join().    def
-000205e0: 206a 6f69 6e28 7365 6c66 3a20 4578 7065   join(self: Expe
-000205f0: 6374 6564 5b45 7870 6563 7465 645b 545d  cted[Expected[T]
-00020600: 5d29 202d 3e20 4578 7065 6374 6564 5b54  ]) -> Expected[T
-00020610: 5d3a 0a20 2020 2020 2020 2022 2222 4d6f  ]:.        """Mo
-00020620: 6e61 6469 6320 6a6f 696e 2e20 436f 6e76  nadic join. Conv
-00020630: 6572 7473 2045 7870 6563 7465 645b 4578  erts Expected[Ex
-00020640: 7065 6374 6564 5b54 5d5d 2074 6f20 4578  pected[T]] to Ex
-00020650: 7065 6374 6564 5b54 5d2e 2222 220a 2020  pected[T].""".  
-00020660: 2020 2020 2020 6966 206e 6f74 2073 656c        if not sel
-00020670: 663a 0a20 2020 2020 2020 2020 2020 2072  f:.            r
-00020680: 6574 7572 6e20 7365 6c66 0a20 2020 2020  eturn self.     
-00020690: 2020 2069 6620 6e6f 7420 7365 6c66 2e72     if not self.r
-000206a0: 6573 756c 7420 6069 7369 6e73 7461 6e63  esult `isinstanc
-000206b0: 6560 2045 7870 6563 7465 643a 0a20 2020  e` Expected:.   
-000206c0: 2020 2020 2020 2020 2072 6169 7365 2054           raise T
-000206d0: 7970 6545 7272 6f72 2822 4578 7065 6374  ypeError("Expect
-000206e0: 6564 2e6a 6f69 6e28 2920 7265 7175 6972  ed.join() requir
-000206f0: 6573 2061 6e20 4578 7065 6374 6564 5b45  es an Expected[E
-00020700: 7870 6563 7465 645b 5f5d 5d22 290a 2020  xpected[_]]").  
-00020710: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
-00020720: 662e 7265 7375 6c74 0a20 2020 2064 6566  f.result.    def
-00020730: 206d 6170 5f65 7272 6f72 2873 656c 662c   map_error(self,
-00020740: 2066 756e 633a 2042 6173 6545 7863 6570   func: BaseExcep
-00020750: 7469 6f6e 202d 3e20 4261 7365 4578 6365  tion -> BaseExce
-00020760: 7074 696f 6e29 202d 3e20 4578 7065 6374  ption) -> Expect
-00020770: 6564 5b54 5d3a 0a20 2020 2020 2020 2022  ed[T]:.        "
-00020780: 2222 4d61 7073 2066 756e 6320 6f76 6572  ""Maps func over
-00020790: 2074 6865 2065 7272 6f72 2069 6620 6974   the error if it
-000207a0: 2065 7869 7374 732e 2222 220a 2020 2020   exists.""".    
-000207b0: 2020 2020 7265 7475 726e 2073 656c 6620      return self 
-000207c0: 6966 2073 656c 6620 656c 7365 2073 656c  if self else sel
-000207d0: 662e 5f5f 636c 6173 735f 5f28 6572 726f  f.__class__(erro
-000207e0: 723d 6675 6e63 2873 656c 662e 6572 726f  r=func(self.erro
-000207f0: 7229 290a 2020 2020 6465 6620 6f72 5f65  r)).    def or_e
-00020800: 6c73 655b 555d 2873 656c 662c 2066 756e  lse[U](self, fun
-00020810: 633a 2042 6173 6545 7863 6570 7469 6f6e  c: BaseException
-00020820: 202d 3e20 4578 7065 6374 6564 5b55 5d29   -> Expected[U])
-00020830: 202d 3e20 4578 7065 6374 6564 5b54 207c   -> Expected[T |
-00020840: 2055 5d3a 0a20 2020 2020 2020 2022 2222   U]:.        """
-00020850: 5265 7475 726e 2073 656c 6620 6966 206e  Return self if n
-00020860: 6f20 6572 726f 722c 206f 7468 6572 7769  o error, otherwi
-00020870: 7365 2072 6574 7572 6e20 7468 6520 7265  se return the re
-00020880: 7375 6c74 206f 6620 6576 616c 7561 7469  sult of evaluati
-00020890: 6e67 2066 756e 6320 6f6e 2074 6865 2065  ng func on the e
-000208a0: 7272 6f72 2e22 2222 0a20 2020 2020 2020  rror.""".       
-000208b0: 2072 6574 7572 6e20 7365 6c66 2069 6620   return self if 
-000208c0: 7365 6c66 2065 6c73 6520 6675 6e63 2873  self else func(s
-000208d0: 656c 662e 6572 726f 7229 0a20 2020 2064  elf.error).    d
-000208e0: 6566 2072 6573 756c 745f 6f72 5b55 5d28  ef result_or[U](
-000208f0: 7365 6c66 2c20 6465 6661 756c 743a 2055  self, default: U
-00020900: 2920 2d3e 2054 207c 2055 3a0a 2020 2020  ) -> T | U:.    
-00020910: 2020 2020 2222 2252 6574 7572 6e20 7468      """Return th
-00020920: 6520 7265 7375 6c74 2069 6620 6974 2065  e result if it e
-00020930: 7869 7374 732c 206f 7468 6572 7769 7365  xists, otherwise
-00020940: 2072 6574 7572 6e20 7468 6520 6465 6661   return the defa
-00020950: 756c 742e 2222 220a 2020 2020 2020 2020  ult.""".        
-00020960: 7265 7475 726e 2073 656c 662e 7265 7375  return self.resu
-00020970: 6c74 2069 6620 7365 6c66 2065 6c73 6520  lt if self else 
-00020980: 6465 6661 756c 740a 2020 2020 6465 6620  default.    def 
-00020990: 7265 7375 6c74 5f6f 725f 656c 7365 5b55  result_or_else[U
-000209a0: 5d28 7365 6c66 2c20 6675 6e63 3a20 4261  ](self, func: Ba
-000209b0: 7365 4578 6365 7074 696f 6e20 2d3e 2055  seException -> U
-000209c0: 2920 2d3e 2054 207c 2055 3a0a 2020 2020  ) -> T | U:.    
-000209d0: 2020 2020 2222 2252 6574 7572 6e20 7468      """Return th
-000209e0: 6520 7265 7375 6c74 2069 6620 6974 2065  e result if it e
-000209f0: 7869 7374 732c 206f 7468 6572 7769 7365  xists, otherwise
-00020a00: 2072 6574 7572 6e20 7468 6520 7265 7375   return the resu
-00020a10: 6c74 206f 6620 6576 616c 7561 7469 6e67  lt of evaluating
-00020a20: 2066 756e 6320 6f6e 2074 6865 2065 7272   func on the err
-00020a30: 6f72 2e22 2222 0a20 2020 2020 2020 2072  or.""".        r
-00020a40: 6574 7572 6e20 7365 6c66 2e72 6573 756c  eturn self.resul
-00020a50: 7420 6966 2073 656c 6620 656c 7365 2066  t if self else f
-00020a60: 756e 6328 7365 6c66 2e65 7272 6f72 290a  unc(self.error).
-00020a70: 2020 2020 6465 6620 756e 7772 6170 2873      def unwrap(s
-00020a80: 656c 6629 202d 3e20 543a 0a20 2020 2020  elf) -> T:.     
-00020a90: 2020 2022 2222 556e 7772 6170 2074 6865     """Unwrap the
-00020aa0: 2072 6573 756c 7420 6f72 2072 6169 7365   result or raise
-00020ab0: 2074 6865 2065 7272 6f72 2e22 2222 0a20   the error.""". 
-00020ac0: 2020 2020 2020 2069 6620 6e6f 7420 7365         if not se
-00020ad0: 6c66 3a0a 2020 2020 2020 2020 2020 2020  lf:.            
-00020ae0: 7261 6973 6520 7365 6c66 2e65 7272 6f72  raise self.error
-00020af0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00020b00: 7365 6c66 2e72 6573 756c 740a 6060 600a  self.result.```.
-00020b10: 0a60 4578 7065 6374 6564 6020 6973 2070  .`Expected` is p
-00020b20: 7269 6d61 7269 6c79 2075 7365 6420 6173  rimarily used as
-00020b30: 2074 6865 2072 6574 7572 6e20 7479 7065   the return type
-00020b40: 2066 6f72 205b 6073 6166 655f 6361 6c6c   for [`safe_call
-00020b50: 605d 2823 7361 6665 5f63 616c 6c29 2e20  `](#safe_call). 
-00020b60: 4765 6e65 7261 6c6c 792c 2074 6865 2062  Generally, the b
-00020b70: 6573 7420 7761 7920 746f 2075 7365 2060  est way to use `
-00020b80: 4578 7065 6374 6564 6020 6973 2077 6974  Expected` is wit
-00020b90: 6820 5b60 666d 6170 605d 2823 666d 6170  h [`fmap`](#fmap
-00020ba0: 292c 2077 6869 6368 2077 696c 6c20 6170  ), which will ap
-00020bb0: 706c 7920 6120 6675 6e63 7469 6f6e 2074  ply a function t
-00020bc0: 6f20 7468 6520 7265 7375 6c74 2069 6620  o the result if 
-00020bd0: 6974 2065 7869 7374 732c 206f 7220 6f74  it exists, or ot
-00020be0: 6865 7277 6973 6520 7265 7461 696e 2074  herwise retain t
-00020bf0: 6865 2065 7272 6f72 2e20 4966 2079 6f75  he error. If you
-00020c00: 2077 616e 7420 746f 2073 6571 7565 6e63   want to sequenc
-00020c10: 6520 6d75 6c74 6970 6c65 2060 4578 7065  e multiple `Expe
-00020c20: 6374 6564 602d 7265 7475 726e 696e 6720  cted`-returning 
-00020c30: 6f70 6572 6174 696f 6e73 2c20 602e 616e  operations, `.an
-00020c40: 645f 7468 656e 6020 7368 6f75 6c64 2062  d_then` should b
-00020c50: 6520 7573 6564 2069 6e73 7465 6164 206f  e used instead o
-00020c60: 6620 6066 6d61 7060 2e0a 0a54 6f20 6d61  f `fmap`...To ma
-00020c70: 7463 6820 6167 6169 6e73 7420 616e 2060  tch against an `
-00020c80: 4578 7065 6374 6564 602c 206a 7573 743a  Expected`, just:
-00020c90: 0a60 6060 0a45 7870 6563 7465 6428 7265  .```.Expected(re
-00020ca0: 7329 203d 2045 7870 6563 7465 6428 2272  s) = Expected("r
-00020cb0: 6573 756c 7422 290a 4578 7065 6374 6564  esult").Expected
-00020cc0: 2865 7272 6f72 3d65 7272 2920 3d20 4578  (error=err) = Ex
-00020cd0: 7065 6374 6564 2865 7272 6f72 3d54 7970  pected(error=Typ
-00020ce0: 6545 7272 6f72 2829 290a 6060 600a 0a23  eError()).```..#
-00020cf0: 2323 2323 2045 7861 6d70 6c65 0a0a 2a2a  #### Example..**
-00020d00: 436f 636f 6e75 743a 2a2a 0a60 6060 636f  Coconut:**.```co
-00020d10: 636f 6e75 740a 6465 6620 7472 795f 6469  conut.def try_di
-00020d20: 7669 6465 2878 3a20 666c 6f61 742c 2079  vide(x: float, y
-00020d30: 3a20 666c 6f61 7429 202d 3e20 4578 7065  : float) -> Expe
-00020d40: 6374 6564 5b66 6c6f 6174 5d3a 0a20 2020  cted[float]:.   
-00020d50: 2074 7279 3a0a 2020 2020 2020 2020 7265   try:.        re
-00020d60: 7475 726e 2045 7870 6563 7465 6428 7820  turn Expected(x 
-00020d70: 2f20 7929 0a20 2020 2065 7863 6570 7420  / y).    except 
-00020d80: 4578 6365 7074 696f 6e20 6173 2065 7272  Exception as err
-00020d90: 3a0a 2020 2020 2020 2020 7265 7475 726e  :.        return
-00020da0: 2045 7870 6563 7465 6428 6572 726f 723d   Expected(error=
-00020db0: 6572 7229 0a0a 7472 795f 6469 7669 6465  err)..try_divide
-00020dc0: 2831 2c20 3229 207c 3e20 666d 6170 2428  (1, 2) |> fmap$(
-00020dd0: 2e2b 3129 207c 3e20 7072 696e 740a 7472  .+1) |> print.tr
-00020de0: 795f 6469 7669 6465 2831 2c20 3029 207c  y_divide(1, 0) |
-00020df0: 3e20 666d 6170 2428 2e2b 3129 207c 3e20  > fmap$(.+1) |> 
-00020e00: 7072 696e 740a 6060 600a 0a2a 2a50 7974  print.```..**Pyt
-00020e10: 686f 6e3a 2a2a 0a5f 4361 6e27 7420 6265  hon:**._Can't be
-00020e20: 2064 6f6e 6520 7769 7468 6f75 7420 6120   done without a 
-00020e30: 636f 6d70 6c65 7820 6045 7870 6563 7465  complex `Expecte
-00020e40: 6460 2064 6566 696e 6974 696f 6e2e 2053  d` definition. S
-00020e50: 6565 2074 6865 2063 6f6d 7069 6c65 6420  ee the compiled 
-00020e60: 636f 6465 2066 6f72 2074 6865 2050 7974  code for the Pyt
-00020e70: 686f 6e20 7379 6e74 6178 2e5f 0a0a 2323  hon syntax._..##
-00020e80: 2323 2060 4d61 7463 6845 7272 6f72 600a  ## `MatchError`.
-00020e90: 0a41 2060 4d61 7463 6845 7272 6f72 6020  .A `MatchError` 
-00020ea0: 6973 2072 6169 7365 6420 7768 656e 2061  is raised when a
-00020eb0: 205b 6465 7374 7275 6374 7572 696e 6720   [destructuring 
-00020ec0: 6173 7369 676e 6d65 6e74 5d28 2364 6573  assignment](#des
-00020ed0: 7472 7563 7475 7269 6e67 2d61 7373 6967  tructuring-assig
-00020ee0: 6e6d 656e 7429 206f 7220 5b70 6174 7465  nment) or [patte
-00020ef0: 726e 2d6d 6174 6368 696e 6720 6675 6e63  rn-matching func
-00020f00: 7469 6f6e 5d28 2370 6174 7465 726e 2d6d  tion](#pattern-m
-00020f10: 6174 6368 696e 672d 6675 6e63 7469 6f6e  atching-function
-00020f20: 7329 2066 6169 6c73 2c20 616e 6420 7468  s) fails, and th
-00020f30: 7573 2060 4d61 7463 6845 7272 6f72 6020  us `MatchError` 
-00020f40: 6973 2070 726f 7669 6465 6420 6173 2061  is provided as a
-00020f50: 2062 7569 6c74 2d69 6e20 666f 7220 6361   built-in for ca
-00020f60: 7463 6869 6e67 2074 686f 7365 2065 7272  tching those err
-00020f70: 6f72 732e 2060 4d61 7463 6845 7272 6f72  ors. `MatchError
-00020f80: 6020 6f62 6a65 6374 7320 7375 7070 6f72  ` objects suppor
-00020f90: 7420 7468 7265 6520 6174 7472 6962 7574  t three attribut
-00020fa0: 6573 3a20 6070 6174 7465 726e 602c 2077  es: `pattern`, w
-00020fb0: 6869 6368 2069 7320 6120 7374 7269 6e67  hich is a string
-00020fc0: 2064 6573 6372 6962 696e 6720 7468 6520   describing the 
-00020fd0: 6661 696c 6564 2070 6174 7465 726e 3b20  failed pattern; 
-00020fe0: 6076 616c 7565 602c 2077 6869 6368 2069  `value`, which i
-00020ff0: 7320 7468 6520 6f62 6a65 6374 2074 6861  s the object tha
-00021000: 7420 6661 696c 6564 2074 6f20 6d61 7463  t failed to matc
-00021010: 6820 7468 6174 2070 6174 7465 726e 3b20  h that pattern; 
-00021020: 616e 6420 606d 6573 7361 6765 6020 7768  and `message` wh
-00021030: 6963 6820 6973 2074 6865 2066 756c 6c20  ich is the full 
-00021040: 6572 726f 7220 6d65 7373 6167 652e 2054  error message. T
-00021050: 6f20 6176 6f69 6420 756e 6e65 6365 7373  o avoid unnecess
-00021060: 6172 7920 6072 6570 7260 2063 616c 6c73  ary `repr` calls
-00021070: 2c20 604d 6174 6368 4572 726f 7260 206f  , `MatchError` o
-00021080: 6e6c 7920 636f 6d70 7574 6573 2074 6865  nly computes the
-00021090: 2060 6d65 7373 6167 6560 206f 6e63 6520   `message` once 
-000210a0: 6974 2069 7320 6163 7475 616c 6c79 2072  it is actually r
-000210b0: 6571 7565 7374 6564 2e0a 0a41 6464 6974  equested...Addit
-000210c0: 696f 6e61 6c6c 792c 2069 6620 796f 7520  ionally, if you 
-000210d0: 6172 6520 7573 696e 6720 5b76 6965 7720  are using [view 
-000210e0: 7061 7474 6572 6e73 5d28 236d 6174 6368  patterns](#match
-000210f0: 292c 2079 6f75 206d 6967 6874 206e 6565  ), you might nee
-00021100: 6420 746f 2072 6169 7365 2079 6f75 7220  d to raise your 
-00021110: 6f77 6e20 604d 6174 6368 4572 726f 7260  own `MatchError`
-00021120: 2028 7468 6f75 6768 2079 6f75 2063 616e   (though you can
-00021130: 2061 6c73 6f20 6a75 7374 2075 7365 2061   also just use a
-00021140: 2064 6573 7472 7563 7475 7269 6e67 2061   destructuring a
-00021150: 7373 6967 6e6d 656e 7420 6f72 2070 6174  ssignment or pat
-00021160: 7465 726e 2d6d 6174 6368 696e 6720 6675  tern-matching fu
-00021170: 6e63 7469 6f6e 2064 6566 696e 6974 696f  nction definitio
-00021180: 6e20 746f 2064 6f20 736f 292e 2054 6f20  n to do so). To 
-00021190: 7261 6973 6520 796f 7572 206f 776e 2060  raise your own `
-000211a0: 4d61 7463 6845 7272 6f72 602c 206a 7573  MatchError`, jus
-000211b0: 7420 6072 6169 7365 204d 6174 6368 4572  t `raise MatchEr
-000211c0: 726f 7228 7061 7474 6572 6e2c 2076 616c  ror(pattern, val
-000211d0: 7565 2960 2028 626f 7468 2061 7267 756d  ue)` (both argum
-000211e0: 656e 7473 2061 7265 206f 7074 696f 6e61  ents are optiona
-000211f0: 6c29 2e0a 0a49 6e20 736f 6d65 2063 6173  l)...In some cas
-00021200: 6573 2077 6865 7265 2074 6865 7265 2061  es where there a
-00021210: 7265 206d 756c 7469 706c 6520 436f 636f  re multiple Coco
-00021220: 6e75 7420 7061 636b 6167 6573 2069 6e73  nut packages ins
-00021230: 7461 6c6c 6564 2061 7420 7468 6520 7361  talled at the sa
-00021240: 6d65 2074 696d 652c 2074 6865 7265 206d  me time, there m
-00021250: 6179 2062 6520 6d75 6c74 6970 6c65 2060  ay be multiple `
-00021260: 4d61 7463 6845 7272 6f72 6073 2064 6566  MatchError`s def
-00021270: 696e 6564 2069 6e20 6469 6666 6572 656e  ined in differen
-00021280: 7420 7061 636b 6167 6573 2e20 436f 636f  t packages. Coco
-00021290: 6e75 7420 6361 6e20 7065 7266 6f72 6d20  nut can perform 
-000212a0: 736f 6d65 206d 6167 6963 2075 6e64 6572  some magic under
-000212b0: 2074 6865 2068 6f6f 6420 746f 206d 616b   the hood to mak
-000212c0: 6520 7375 7265 2074 6861 7420 616c 6c20  e sure that all 
-000212d0: 7468 6573 6520 604d 6174 6368 4572 726f  these `MatchErro
-000212e0: 7260 7320 7769 6c6c 2073 6561 6d6c 6573  r`s will seamles
-000212f0: 736c 7920 696e 7465 726f 7065 7261 7465  sly interoperate
-00021300: 2c20 6275 7420 6f6e 6c79 2069 6620 616c  , but only if al
-00021310: 6c20 7375 6368 2070 6163 6b61 6765 7320  l such packages 
-00021320: 6172 6520 636f 6d70 696c 6564 2069 6e20  are compiled in 
-00021330: 5b60 2d2d 7061 636b 6167 6560 206d 6f64  [`--package` mod
-00021340: 6520 7261 7468 6572 2074 6861 6e20 602d  e rather than `-
-00021350: 2d73 7461 6e64 616c 6f6e 6560 206d 6f64  -standalone` mod
-00021360: 655d 2823 636f 6d70 696c 6174 696f 6e2d  e](#compilation-
-00021370: 6d6f 6465 7329 2e0a 0a23 2323 2047 656e  modes)...### Gen
-00021380: 6572 6963 2042 7569 6c74 2d49 6e20 4675  eric Built-In Fu
-00021390: 6e63 7469 6f6e 730a 0a60 6060 7b63 6f6e  nctions..```{con
-000213a0: 7465 6e74 737d 0a2d 2d2d 0a6c 6f63 616c  tents}.---.local
-000213b0: 3a0a 6465 7074 683a 2031 0a2d 2d2d 0a60  :.depth: 1.---.`
-000213c0: 6060 0a0a 2323 2323 2060 6d61 6b65 6461  ``..#### `makeda
-000213d0: 7461 600a 0a2a 2a6d 616b 6564 6174 612a  ta`..**makedata*
-000213e0: 2a28 5f64 6174 615c 5f74 7970 655f 2c20  *(_data\_type_, 
-000213f0: 2a5f 6172 6773 5f29 0a0a 436f 636f 6e75  *_args_)..Coconu
-00021400: 7420 7072 6f76 6964 6573 2074 6865 2060  t provides the `
-00021410: 6d61 6b65 6461 7461 6020 6675 6e63 7469  makedata` functi
-00021420: 6f6e 2074 6f20 636f 6e73 7472 7563 7420  on to construct 
-00021430: 6120 636f 6e74 6169 6e65 7220 6769 7665  a container give
-00021440: 6e20 7468 6520 6465 7369 7265 6420 7479  n the desired ty
-00021450: 7065 2061 6e64 2063 6f6e 7465 6e74 732e  pe and contents.
-00021460: 2054 6869 7320 6973 2070 6172 7469 6375   This is particu
-00021470: 6c61 726c 7920 7573 6566 756c 2077 6865  larly useful whe
-00021480: 6e20 7772 6974 696e 6720 616c 7465 726e  n writing altern
-00021490: 6174 6976 6520 636f 6e73 7472 7563 746f  ative constructo
-000214a0: 7273 2066 6f72 205b 6064 6174 6160 5d28  rs for [`data`](
-000214b0: 2364 6174 6129 2074 7970 6573 2062 7920  #data) types by 
-000214c0: 6f76 6572 7772 6974 696e 6720 605f 5f6e  overwriting `__n
-000214d0: 6577 5f5f 602c 2073 696e 6365 2069 7420  ew__`, since it 
-000214e0: 616c 6c6f 7773 2064 6972 6563 7420 6163  allows direct ac
-000214f0: 6365 7373 2074 6f20 7468 6520 6261 7365  cess to the base
-00021500: 2063 6f6e 7374 7275 6374 6f72 206f 6620   constructor of 
-00021510: 7468 6520 6461 7461 2074 7970 6520 6372  the data type cr
-00021520: 6561 7465 6420 7769 7468 2074 6865 2043  eated with the C
-00021530: 6f63 6f6e 7574 2060 6461 7461 6020 7374  oconut `data` st
-00021540: 6174 656d 656e 742e 0a0a 606d 616b 6564  atement...`maked
-00021550: 6174 6160 2074 616b 6573 2074 6865 2064  ata` takes the d
-00021560: 6174 6120 7479 7065 2074 6f20 636f 6e73  ata type to cons
-00021570: 7472 7563 7420 6173 2074 6865 2066 6972  truct as the fir
-00021580: 7374 2061 7267 756d 656e 742c 2061 6e64  st argument, and
-00021590: 2074 6865 206f 626a 6563 7473 2074 6f20   the objects to 
-000215a0: 7075 7420 696e 2074 6861 7420 636f 6e74  put in that cont
-000215b0: 6169 6e65 7220 6173 2074 6865 2072 6573  ainer as the res
-000215c0: 7420 6f66 2074 6865 2061 7267 756d 656e  t of the argumen
-000215d0: 7473 2e0a 0a60 6d61 6b65 6461 7461 6020  ts...`makedata` 
-000215e0: 6361 6e20 616c 736f 2062 6520 7573 6564  can also be used
-000215f0: 2074 6f20 6578 7472 6163 7420 7468 6520   to extract the 
-00021600: 756e 6465 726c 7969 6e67 2063 6f6e 7374  underlying const
-00021610: 7275 6374 6f72 2066 6f72 205b 606d 6174  ructor for [`mat
-00021620: 6368 2064 6174 6160 5d28 236d 6174 6368  ch data`](#match
-00021630: 2d64 6174 6129 2074 7970 6573 2074 6861  -data) types tha
-00021640: 7420 6279 7061 7373 6573 2074 6865 206e  t bypasses the n
-00021650: 6f72 6d61 6c20 7061 7474 6572 6e2d 6d61  ormal pattern-ma
-00021660: 7463 6869 6e67 2063 6f6e 7374 7275 6374  tching construct
-00021670: 6f72 2e0a 0a41 6464 6974 696f 6e61 6c6c  or...Additionall
-00021680: 792c 2060 6d61 6b65 6461 7461 6020 6361  y, `makedata` ca
-00021690: 6e20 616c 736f 2062 6520 6361 6c6c 6564  n also be called
-000216a0: 2077 6974 6820 6e6f 6e2d 6064 6174 6160   with non-`data`
-000216b0: 2074 7970 6520 6173 2074 6865 2066 6972   type as the fir
-000216c0: 7374 2061 7267 756d 656e 742c 2069 6e20  st argument, in 
-000216d0: 7768 6963 6820 6361 7365 2069 7420 7769  which case it wi
-000216e0: 6c6c 2064 6f20 6974 7320 6265 7374 2074  ll do its best t
-000216f0: 6f20 636f 6e73 7472 7563 7420 7468 6520  o construct the 
-00021700: 6769 7665 6e20 7479 7065 206f 6620 6f62  given type of ob
-00021710: 6a65 6374 2077 6974 6820 7468 6520 6769  ject with the gi
-00021720: 7665 6e20 6172 6775 6d65 6e74 732e 2054  ven arguments. T
-00021730: 6869 7320 6675 6e63 7469 6f6e 616c 6974  his functionalit
-00021740: 7920 6973 2075 7365 6420 696e 7465 726e  y is used intern
-00021750: 616c 6c79 2062 7920 6066 6d61 7060 2e0a  ally by `fmap`..
-00021760: 0a23 2323 2323 2060 6461 7461 6d61 6b65  .##### `datamake
-00021770: 7260 0a0a 2a2a 4445 5052 4543 4154 4544  r`..**DEPRECATED
-00021780: 3a2a 2a20 436f 636f 6e75 7420 616c 736f  :** Coconut also
-00021790: 2068 6173 2061 2060 6461 7461 6d61 6b65   has a `datamake
-000217a0: 7260 2062 7569 6c74 2d69 6e2c 2077 6869  r` built-in, whi
-000217b0: 6368 2070 6172 7469 616c 6c79 2061 7070  ch partially app
-000217c0: 6c69 6573 2060 6d61 6b65 6461 7461 603b  lies `makedata`;
-000217d0: 2060 6461 7461 6d61 6b65 7260 2069 7320   `datamaker` is 
-000217e0: 6465 6669 6e65 6420 6173 3a0a 6060 6063  defined as:.```c
-000217f0: 6f63 6f6e 7574 0a64 6566 2064 6174 616d  oconut.def datam
-00021800: 616b 6572 2864 6174 615f 7479 7065 293a  aker(data_type):
-00021810: 0a20 2020 2022 2222 4765 7420 7468 6520  .    """Get the 
-00021820: 6f72 6967 696e 616c 2063 6f6e 7374 7275  original constru
-00021830: 6374 6f72 206f 6620 7468 6520 6769 7665  ctor of the give
-00021840: 6e20 6461 7461 2074 7970 6520 6f72 2063  n data type or c
-00021850: 6c61 7373 2e22 2222 0a20 2020 2072 6574  lass.""".    ret
-00021860: 7572 6e20 6d61 6b65 6461 7461 2428 6461  urn makedata$(da
-00021870: 7461 5f74 7970 6529 0a60 6060 0a5f 4e6f  ta_type).```._No
-00021880: 7465 3a20 5061 7373 696e 6720 602d 2d73  te: Passing `--s
-00021890: 7472 6963 7460 2064 6973 6162 6c65 7320  trict` disables 
-000218a0: 6465 7072 6563 6174 6564 2066 6561 7475  deprecated featu
-000218b0: 7265 732e 5f0a 0a23 2323 2323 2045 7861  res._..##### Exa
-000218c0: 6d70 6c65 0a0a 2a2a 436f 636f 6e75 743a  mple..**Coconut:
-000218d0: 2a2a 0a60 6060 636f 636f 6e75 740a 6461  **.```coconut.da
-000218e0: 7461 2054 7570 6c65 2865 6c65 6d73 293a  ta Tuple(elems):
-000218f0: 0a20 2020 2064 6566 205f 5f6e 6577 5f5f  .    def __new__
-00021900: 2863 6c73 2c20 2a65 6c65 6d73 293a 0a20  (cls, *elems):. 
-00021910: 2020 2020 2020 2072 6574 7572 6e20 656c         return el
-00021920: 656d 7320 7c3e 206d 616b 6564 6174 6124  ems |> makedata$
-00021930: 2863 6c73 290a 6060 600a 0a2a 2a50 7974  (cls).```..**Pyt
-00021940: 686f 6e3a 2a2a 0a5f 4361 6e27 7420 6265  hon:**._Can't be
-00021950: 2064 6f6e 6520 7769 7468 6f75 7420 6120   done without a 
-00021960: 7365 7269 6573 206f 6620 6d65 7468 6f64  series of method
-00021970: 2064 6566 696e 6974 696f 6e73 2066 6f72   definitions for
-00021980: 2065 6163 6820 6461 7461 2074 7970 652e   each data type.
-00021990: 2053 6565 2074 6865 2063 6f6d 7069 6c65   See the compile
-000219a0: 6420 636f 6465 2066 6f72 2074 6865 2050  d code for the P
-000219b0: 7974 686f 6e20 7379 6e74 6178 2e5f 0a0a  ython syntax._..
-000219c0: 2323 2323 2060 666d 6170 600a 0a2a 2a66  #### `fmap`..**f
-000219d0: 6d61 702a 2a28 5f66 756e 635f 2c20 5f6f  map**(_func_, _o
-000219e0: 626a 5f2c 202a 2c20 5f73 7461 726d 6170  bj_, *, _starmap
-000219f0: 5c5f 6f76 6572 5c5f 6d61 7070 696e 6773  \_over\_mappings
-00021a00: 5f3d 6046 616c 7365 6029 0a0a 496e 2048  _=`False`)..In H
-00021a10: 6173 6b65 6c6c 2c20 6066 6d61 7028 6675  askell, `fmap(fu
-00021a20: 6e63 2c20 6f62 6a29 6020 7461 6b65 7320  nc, obj)` takes 
-00021a30: 6120 6461 7461 2074 7970 6520 606f 626a  a data type `obj
-00021a40: 6020 616e 6420 7265 7475 726e 7320 6120  ` and returns a 
-00021a50: 6e65 7720 6461 7461 2074 7970 6520 7769  new data type wi
-00021a60: 7468 2060 6675 6e63 6020 6d61 7070 6564  th `func` mapped
-00021a70: 206f 7665 7220 7468 6520 636f 6e74 656e   over the conten
-00021a80: 7473 2e20 436f 636f 6e75 7427 7320 6066  ts. Coconut's `f
-00021a90: 6d61 7060 2066 756e 6374 696f 6e20 646f  map` function do
-00021aa0: 6573 2074 6865 2065 7861 6374 2073 616d  es the exact sam
-00021ab0: 6520 7468 696e 6720 696e 2043 6f63 6f6e  e thing in Cocon
-00021ac0: 7574 2e0a 0a60 666d 6170 6020 6361 6e20  ut...`fmap` can 
-00021ad0: 616c 736f 2062 6520 7573 6564 206f 6e20  also be used on 
-00021ae0: 6275 696c 742d 696e 7320 7375 6368 2061  built-ins such a
-00021af0: 7320 6073 7472 602c 2060 6c69 7374 602c  s `str`, `list`,
-00021b00: 2060 7365 7460 2c20 616e 6420 6064 6963   `set`, and `dic
-00021b10: 7460 2061 7320 6120 7661 7269 616e 7420  t` as a variant 
-00021b20: 6f66 2060 6d61 7060 2074 6861 7420 7265  of `map` that re
-00021b30: 7475 726e 7320 6261 636b 2061 6e20 6f62  turns back an ob
-00021b40: 6a65 6374 206f 6620 7468 6520 7361 6d65  ject of the same
-00021b50: 2074 7970 652e 2054 6865 2062 6568 6176   type. The behav
-00021b60: 696f 7220 6f66 2060 666d 6170 6020 666f  ior of `fmap` fo
-00021b70: 7220 6120 6769 7665 6e20 6f62 6a65 6374  r a given object
-00021b80: 2063 616e 2062 6520 6f76 6572 7269 6464   can be overridd
-00021b90: 656e 2062 7920 6465 6669 6e69 6e67 2061  en by defining a
-00021ba0: 6e20 605f 5f66 6d61 705f 5f28 7365 6c66  n `__fmap__(self
-00021bb0: 2c20 6675 6e63 2960 206d 6167 6963 206d  , func)` magic m
-00021bc0: 6574 686f 6420 7468 6174 2077 696c 6c20  ethod that will 
-00021bd0: 6265 2063 616c 6c65 6420 7768 656e 6576  be called whenev
-00021be0: 6572 2060 666d 6170 6020 6973 2069 6e76  er `fmap` is inv
-00021bf0: 6f6b 6564 206f 6e20 7468 6174 206f 626a  oked on that obj
-00021c00: 6563 742e 204e 6f74 6520 7468 6174 2060  ect. Note that `
-00021c10: 5f5f 666d 6170 5f5f 6020 696d 706c 656d  __fmap__` implem
-00021c20: 656e 7461 7469 6f6e 7320 7368 6f75 6c64  entations should
-00021c30: 2061 6c77 6179 7320 7361 7469 7366 7920   always satisfy 
-00021c40: 7468 6520 5b46 756e 6374 6f72 204c 6177  the [Functor Law
-00021c50: 735d 2868 7474 7073 3a2f 2f77 696b 692e  s](https://wiki.
-00021c60: 6861 736b 656c 6c2e 6f72 672f 4675 6e63  haskell.org/Func
-00021c70: 746f 7229 2e0a 0a46 6f72 2060 6469 6374  tor)...For `dict
-00021c80: 602c 206f 7220 616e 7920 6f74 6865 7220  `, or any other 
-00021c90: 6063 6f6c 6c65 6374 696f 6e73 2e61 6263  `collections.abc
-00021ca0: 2e4d 6170 7069 6e67 602c 2060 666d 6170  .Mapping`, `fmap
-00021cb0: 6020 7769 6c6c 206d 6170 206f 7665 7220  ` will map over 
-00021cc0: 7468 6520 6d61 7070 696e 6727 7320 602e  the mapping's `.
-00021cd0: 6974 656d 7328 2960 2069 6e73 7465 6164  items()` instead
-00021ce0: 206f 6620 7468 6520 6465 6661 756c 7420   of the default 
-00021cf0: 6974 6572 6174 696f 6e20 7468 726f 7567  iteration throug
-00021d00: 6820 6974 7320 602e 6b65 7973 2829 602c  h its `.keys()`,
-00021d10: 2077 6974 6820 7468 6520 6e65 7720 6d61   with the new ma
-00021d20: 7070 696e 6720 7265 636f 6e73 7472 7563  pping reconstruc
-00021d30: 7465 6420 6672 6f6d 2074 6865 206d 6170  ted from the map
-00021d40: 7065 6420 6f76 6572 2069 7465 6d73 2e20  ped over items. 
-00021d50: 5f44 4550 5245 4341 5445 443a 2060 666d  _DEPRECATED: `fm
-00021d60: 6170 2428 7374 6172 6d61 705f 6f76 6572  ap$(starmap_over
-00021d70: 5f6d 6170 7069 6e67 733d 5472 7565 2960  _mappings=True)`
-00021d80: 2077 696c 6c20 6073 7461 726d 6170 6020   will `starmap` 
-00021d90: 6f76 6572 2074 6865 2060 2e69 7465 6d73  over the `.items
-00021da0: 2829 6020 696e 7374 6561 6420 6f66 2060  ()` instead of `
-00021db0: 6d61 7060 206f 7665 7220 7468 656d 2e5f  map` over them._
-00021dc0: 0a0a 466f 7220 5b60 6e75 6d70 7960 5d28  ..For [`numpy`](
-00021dd0: 236e 756d 7079 2d69 6e74 6567 7261 7469  #numpy-integrati
-00021de0: 6f6e 2920 6f62 6a65 6374 732c 2060 666d  on) objects, `fm
-00021df0: 6170 6020 7769 6c6c 2075 7365 205b 606e  ap` will use [`n
-00021e00: 702e 7665 6374 6f72 697a 6560 5d28 6874  p.vectorize`](ht
-00021e10: 7470 733a 2f2f 646f 6373 2e73 6369 7079  tps://docs.scipy
-00021e20: 2e6f 7267 2f64 6f63 2f6e 756d 7079 2f72  .org/doc/numpy/r
-00021e30: 6566 6572 656e 6365 2f67 656e 6572 6174  eference/generat
-00021e40: 6564 2f6e 756d 7079 2e76 6563 746f 7269  ed/numpy.vectori
-00021e50: 7a65 2e68 746d 6c29 2074 6f20 7072 6f64  ze.html) to prod
-00021e60: 7563 6520 7468 6520 7265 7375 6c74 2e0a  uce the result..
-00021e70: 0a46 6f72 2061 7379 6e63 6872 6f6e 6f75  .For asynchronou
-00021e80: 7320 6974 6572 6162 6c65 732c 2060 666d  s iterables, `fm
-00021e90: 6170 6020 7769 6c6c 206d 6170 2061 7379  ap` will map asy
-00021ea0: 6e63 6872 6f6e 6f75 736c 792c 206d 616b  nchronously, mak
-00021eb0: 696e 6720 6066 6d61 7060 2065 7175 6976  ing `fmap` equiv
-00021ec0: 616c 656e 7420 696e 2074 6861 7420 6361  alent in that ca
-00021ed0: 7365 2074 6f0a 6060 6063 6f63 6f6e 7574  se to.```coconut
-00021ee0: 5f70 7974 686f 6e0a 6173 796e 6320 6465  _python.async de
-00021ef0: 6620 666d 6170 5f6f 7665 725f 6173 796e  f fmap_over_asyn
-00021f00: 635f 6974 6572 7328 6675 6e63 2c20 6173  c_iters(func, as
-00021f10: 796e 635f 6974 6572 293a 0a20 2020 2061  ync_iter):.    a
-00021f20: 7379 6e63 2066 6f72 2069 7465 6d20 696e  sync for item in
-00021f30: 2061 7379 6e63 5f69 7465 723a 0a20 2020   async_iter:.   
-00021f40: 2020 2020 2079 6965 6c64 2066 756e 6328       yield func(
-00021f50: 6974 656d 290a 6060 600a 7375 6368 2074  item).```.such t
-00021f60: 6861 7420 6066 6d61 7060 2063 616e 2065  hat `fmap` can e
-00021f70: 6666 6563 7469 7665 6c79 2062 6520 7573  ffectively be us
-00021f80: 6564 2061 7320 616e 2061 7379 6e63 206d  ed as an async m
-00021f90: 6170 2e0a 0a23 2323 2323 2045 7861 6d70  ap...##### Examp
-00021fa0: 6c65 0a0a 2a2a 436f 636f 6e75 743a 2a2a  le..**Coconut:**
-00021fb0: 0a60 6060 636f 636f 6e75 740a 5b31 2c20  .```coconut.[1, 
-00021fc0: 322c 2033 5d20 7c3e 2066 6d61 7024 2878  2, 3] |> fmap$(x
-00021fd0: 202d 3e20 782b 3129 203d 3d20 5b32 2c20   -> x+1) == [2, 
-00021fe0: 332c 2034 5d0a 0a63 6c61 7373 204d 6179  3, 4]..class May
-00021ff0: 6265 0a64 6174 6120 4e6f 7468 696e 6728  be.data Nothing(
-00022000: 2920 6672 6f6d 204d 6179 6265 0a64 6174  ) from Maybe.dat
-00022010: 6120 4a75 7374 286e 2920 6672 6f6d 204d  a Just(n) from M
-00022020: 6179 6265 0a0a 4a75 7374 2833 2920 7c3e  aybe..Just(3) |>
-00022030: 2066 6d61 7024 2878 202d 3e20 782a 3229   fmap$(x -> x*2)
-00022040: 203d 3d20 4a75 7374 2836 290a 4e6f 7468   == Just(6).Noth
-00022050: 696e 6728 2920 7c3e 2066 6d61 7024 2878  ing() |> fmap$(x
-00022060: 202d 3e20 782a 3229 203d 3d20 4e6f 7468   -> x*2) == Noth
-00022070: 696e 6728 290a 6060 600a 0a2a 2a50 7974  ing().```..**Pyt
-00022080: 686f 6e3a 2a2a 0a5f 4361 6e27 7420 6265  hon:**._Can't be
-00022090: 2064 6f6e 6520 7769 7468 6f75 7420 6120   done without a 
-000220a0: 7365 7269 6573 206f 6620 6d65 7468 6f64  series of method
-000220b0: 2064 6566 696e 6974 696f 6e73 2066 6f72   definitions for
-000220c0: 2065 6163 6820 6461 7461 2074 7970 652e   each data type.
-000220d0: 2053 6565 2074 6865 2063 6f6d 7069 6c65   See the compile
-000220e0: 6420 636f 6465 2066 6f72 2074 6865 2050  d code for the P
-000220f0: 7974 686f 6e20 7379 6e74 6178 2e5f 0a0a  ython syntax._..
-00022100: 0a23 2323 2320 6063 616c 6c60 0a0a 2a2a  .#### `call`..**
-00022110: 6361 6c6c 2a2a 285f 6675 6e63 5f2c 202f  call**(_func_, /
-00022120: 2c20 2a5f 6172 6773 5f2c 205c 2a5c 2a5f  , *_args_, \*\*_
-00022130: 6b77 6172 6773 5f29 0a0a 436f 636f 6e75  kwargs_)..Coconu
-00022140: 7427 7320 6063 616c 6c60 2073 696d 706c  t's `call` simpl
-00022150: 7920 696d 706c 656d 656e 7473 2066 756e  y implements fun
-00022160: 6374 696f 6e20 6170 706c 6963 6174 696f  ction applicatio
-00022170: 6e2e 2054 6875 732c 2060 6361 6c6c 6020  n. Thus, `call` 
-00022180: 6973 2065 7175 6976 616c 656e 7420 746f  is equivalent to
-00022190: 0a60 6060 636f 636f 6e75 740a 6465 6620  .```coconut.def 
-000221a0: 6361 6c6c 2866 2c20 2f2c 202a 6172 6773  call(f, /, *args
-000221b0: 2c20 2a2a 6b77 6172 6773 2920 3d20 6628  , **kwargs) = f(
-000221c0: 2a61 7267 732c 202a 2a6b 7761 7267 7329  *args, **kwargs)
-000221d0: 0a60 6060 0a0a 6063 616c 6c60 2069 7320  .```..`call` is 
-000221e0: 7072 696d 6172 696c 7920 7573 6566 756c  primarily useful
-000221f0: 2061 7320 616e 205b 6f70 6572 6174 6f72   as an [operator
-00022200: 2066 756e 6374 696f 6e5d 2823 6f70 6572   function](#oper
-00022210: 6174 6f72 2d66 756e 6374 696f 6e73 2920  ator-functions) 
-00022220: 666f 7220 6675 6e63 7469 6f6e 2061 7070  for function app
-00022230: 6c69 6361 7469 6f6e 2077 6865 6e20 7772  lication when wr
-00022240: 6974 696e 6720 696e 2061 2070 6f69 6e74  iting in a point
-00022250: 2d66 7265 6520 7374 796c 652e 0a0a 5f44  -free style..._D
-00022260: 4550 5245 4341 5445 443a 2060 6f66 6020  EPRECATED: `of` 
-00022270: 6973 2061 7661 696c 6162 6c65 2061 7320  is available as 
-00022280: 6120 6465 7072 6563 6174 6564 2061 6c69  a deprecated ali
-00022290: 6173 2066 6f72 2060 6361 6c6c 602e 204e  as for `call`. N
-000222a0: 6f74 6520 7468 6174 2064 6570 7265 6361  ote that depreca
-000222b0: 7465 6420 6665 6174 7572 6573 2061 7265  ted features are
-000222c0: 2064 6973 6162 6c65 6420 696e 2060 2d2d   disabled in `--
-000222d0: 7374 7269 6374 6020 6d6f 6465 2e5f 0a0a  strict` mode._..
-000222e0: 2323 2323 2060 7361 6665 5f63 616c 6c60  #### `safe_call`
-000222f0: 0a0a 2a2a 7361 6665 5f63 616c 6c2a 2a28  ..**safe_call**(
-00022300: 5f66 756e 635f 2c20 2f2c 202a 5f61 7267  _func_, /, *_arg
-00022310: 735f 2c20 5c2a 5c2a 5f6b 7761 7267 735f  s_, \*\*_kwargs_
-00022320: 290a 0a43 6f63 6f6e 7574 2773 2060 7361  )..Coconut's `sa
-00022330: 6665 5f63 616c 6c60 2069 7320 6120 7665  fe_call` is a ve
-00022340: 7273 696f 6e20 6f66 205b 6063 616c 6c60  rsion of [`call`
-00022350: 5d28 2363 616c 6c29 2074 6861 7420 6361  ](#call) that ca
-00022360: 7463 6865 7320 616e 7920 6045 7863 6570  tches any `Excep
-00022370: 7469 6f6e 6073 2061 6e64 2072 6574 7572  tion`s and retur
-00022380: 6e73 2061 6e20 5b60 4578 7065 6374 6564  ns an [`Expected
-00022390: 605d 2823 6578 7065 6374 6564 2920 636f  `](#expected) co
-000223a0: 6e74 6169 6e69 6e67 2065 6974 6865 7220  ntaining either 
-000223b0: 7468 6520 7265 7375 6c74 206f 7220 7468  the result or th
-000223c0: 6520 6572 726f 722e 0a0a 6073 6166 655f  e error...`safe_
-000223d0: 6361 6c6c 6020 6973 2065 6666 6563 7469  call` is effecti
-000223e0: 7665 6c79 2065 7175 6976 616c 656e 7420  vely equivalent 
-000223f0: 746f 3a0a 6060 6063 6f63 6f6e 7574 0a64  to:.```coconut.d
-00022400: 6566 2073 6166 655f 6361 6c6c 2866 2c20  ef safe_call(f, 
-00022410: 2f2c 202a 6172 6773 2c20 2a2a 6b77 6172  /, *args, **kwar
-00022420: 6773 293a 0a20 2020 2074 7279 3a0a 2020  gs):.    try:.  
-00022430: 2020 2020 2020 7265 7475 726e 2045 7870        return Exp
-00022440: 6563 7465 6428 6628 2a61 7267 732c 202a  ected(f(*args, *
-00022450: 2a6b 7761 7267 7329 290a 2020 2020 6578  *kwargs)).    ex
-00022460: 6365 7074 2045 7863 6570 7469 6f6e 2061  cept Exception a
-00022470: 7320 6572 723a 0a20 2020 2020 2020 2072  s err:.        r
-00022480: 6574 7572 6e20 4578 7065 6374 6564 2865  eturn Expected(e
-00022490: 7272 6f72 3d65 7272 290a 6060 600a 0a23  rror=err).```..#
-000224a0: 2323 2323 2045 7861 6d70 6c65 0a0a 2a2a  #### Example..**
-000224b0: 436f 636f 6e75 743a 2a2a 0a60 6060 636f  Coconut:**.```co
-000224c0: 636f 6e75 740a 7265 732c 2065 7272 203d  conut.res, err =
-000224d0: 2073 6166 655f 6361 6c6c 282d 3e20 3120   safe_call(-> 1 
-000224e0: 2f20 3029 207c 3e20 666d 6170 2428 2e2b  / 0) |> fmap$(.+
-000224f0: 3129 0a60 6060 0a0a 2a2a 5079 7468 6f6e  1).```..**Python
-00022500: 3a2a 2a0a 5f43 616e 2774 2062 6520 646f  :**._Can't be do
-00022510: 6e65 2077 6974 686f 7574 2061 2063 6f6d  ne without a com
-00022520: 706c 6578 2060 4578 7065 6374 6564 6020  plex `Expected` 
-00022530: 6465 6669 6e69 7469 6f6e 2e20 5365 6520  definition. See 
-00022540: 7468 6520 636f 6d70 696c 6564 2063 6f64  the compiled cod
-00022550: 6520 666f 7220 7468 6520 5079 7468 6f6e  e for the Python
-00022560: 2073 796e 7461 782e 5f0a 0a23 2323 2320   syntax._..#### 
-00022570: 606c 6966 7460 0a0a 2a2a 6c69 6674 2a2a  `lift`..**lift**
-00022580: 285f 6675 6e63 5f29 0a0a 2a2a 6c69 6674  (_func_)..**lift
-00022590: 2a2a 285f 6675 6e63 5f2c 202a 5f66 756e  **(_func_, *_fun
-000225a0: 635c 5f61 7267 735f 2c20 2a2a 5f66 756e  c\_args_, **_fun
-000225b0: 635c 5f6b 7761 7267 735f 290a 0a43 6f63  c\_kwargs_)..Coc
-000225c0: 6f6e 7574 2773 2060 6c69 6674 6020 6275  onut's `lift` bu
-000225d0: 696c 742d 696e 2069 7320 6120 6869 6768  ilt-in is a high
-000225e0: 6572 2d6f 7264 6572 2066 756e 6374 696f  er-order functio
-000225f0: 6e20 7468 6174 2074 616b 6573 2069 6e20  n that takes in 
-00022600: 6120 6675 6e63 7469 6f6e 2061 6e64 20e2  a function and .
-00022610: 809c 6c69 6674 73e2 809d 2069 7420 7570  ..lifts... it up
-00022620: 2073 6f20 7468 6174 2061 6c6c 206f 6620   so that all of 
-00022630: 6974 7320 6172 6775 6d65 6e74 7320 6172  its arguments ar
-00022640: 6520 6675 6e63 7469 6f6e 732e 0a0a 4173  e functions...As
-00022650: 2061 2073 696d 706c 6520 6578 616d 706c   a simple exampl
-00022660: 652c 2066 6f72 2061 2062 696e 6172 7920  e, for a binary 
-00022670: 6675 6e63 7469 6f6e 2060 6628 782c 2079  function `f(x, y
-00022680: 2960 2061 6e64 2074 776f 2075 6e61 7279  )` and two unary
-00022690: 2066 756e 6374 696f 6e73 2060 6728 7a29   functions `g(z)
-000226a0: 6020 616e 6420 6068 287a 2960 2c20 606c  ` and `h(z)`, `l
-000226b0: 6966 7460 2077 6f72 6b73 2061 730a 6060  ift` works as.``
-000226c0: 6063 6f63 6f6e 7574 0a6c 6966 7428 6629  `coconut.lift(f)
-000226d0: 2867 2c20 6829 287a 2920 3d3d 2066 2867  (g, h)(z) == f(g
-000226e0: 287a 292c 2068 287a 2929 0a60 6060 0a73  (z), h(z)).```.s
-000226f0: 7563 6820 7468 6174 2069 6e20 7468 6973  uch that in this
-00022700: 2063 6173 6520 606c 6966 7460 2069 6d70   case `lift` imp
-00022710: 6c65 6d65 6e74 7320 7468 6520 6053 2760  lements the `S'`
-00022720: 2063 6f6d 6269 6e61 746f 7220 2860 6c69   combinator (`li
-00022730: 6674 4132 6020 6f72 2060 6c69 6674 4d32  ftA2` or `liftM2
-00022740: 6020 696e 2048 6173 6b65 6c6c 292e 0a0a  ` in Haskell)...
-00022750: 496e 2074 6865 2067 656e 6572 616c 2063  In the general c
-00022760: 6173 652c 2060 6c69 6674 6020 6973 2065  ase, `lift` is e
-00022770: 7175 6976 616c 656e 7420 746f 2061 2070  quivalent to a p
-00022780: 6963 6b6c 6561 626c 6520 7665 7273 696f  ickleable versio
-00022790: 6e20 6f66 0a60 6060 636f 636f 6e75 740a  n of.```coconut.
-000227a0: 6465 6620 6c69 6674 2866 2920 3d20 280a  def lift(f) = (.
-000227b0: 2020 2020 282a 6675 6e63 5f61 7267 732c      (*func_args,
-000227c0: 202a 2a66 756e 635f 6b77 6172 6773 2920   **func_kwargs) 
-000227d0: 2d3e 0a20 2020 2020 2020 2028 2a61 7267  ->.        (*arg
-000227e0: 732c 202a 2a6b 7761 7267 7329 202d 3e0a  s, **kwargs) ->.
-000227f0: 2020 2020 2020 2020 2020 2020 6628 0a20              f(. 
-00022800: 2020 2020 2020 2020 2020 2020 2020 202a                 *
-00022810: 2867 282a 6172 6773 2c20 2a2a 6b77 6172  (g(*args, **kwar
-00022820: 6773 2920 666f 7220 6720 696e 2066 756e  gs) for g in fun
-00022830: 635f 6172 6773 292c 0a20 2020 2020 2020  c_args),.       
-00022840: 2020 2020 2020 2020 202a 2a7b 6b3a 2068           **{k: h
-00022850: 282a 6172 6773 2c20 2a2a 6b77 6172 6773  (*args, **kwargs
-00022860: 2920 666f 7220 6b2c 2068 2069 6e20 6675  ) for k, h in fu
-00022870: 6e63 5f6b 7761 7267 732e 6974 656d 7328  nc_kwargs.items(
-00022880: 297d 0a20 2020 2020 2020 2020 2020 2029  )}.            )
-00022890: 0a29 0a60 6060 0a0a 606c 6966 7460 2061  .).```..`lift` a
-000228a0: 6c73 6f20 7375 7070 6f72 7473 2061 2073  lso supports a s
-000228b0: 686f 7274 6375 7420 666f 726d 2073 7563  hortcut form suc
-000228c0: 6820 7468 6174 2060 6c69 6674 2866 2c20  h that `lift(f, 
-000228d0: 2a66 756e 635f 6172 6773 2c20 2a2a 6675  *func_args, **fu
-000228e0: 6e63 5f6b 7761 7267 7329 6020 6973 2065  nc_kwargs)` is e
-000228f0: 7175 6976 616c 656e 7420 746f 2060 6c69  quivalent to `li
-00022900: 6674 2866 2928 2a66 756e 635f 6172 6773  ft(f)(*func_args
-00022910: 2c20 2a2a 6675 6e63 5f6b 7761 7267 7329  , **func_kwargs)
-00022920: 602e 0a0a 2323 2323 2320 4578 616d 706c  `...##### Exampl
-00022930: 650a 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0a  e..**Coconut:**.
-00022940: 6060 6063 6f63 6f6e 7574 0a78 735f 616e  ```coconut.xs_an
-00022950: 645f 7873 7031 203d 2069 6465 6e74 2060  d_xsp1 = ident `
-00022960: 6c69 6674 287a 6970 2960 206d 6170 2428  lift(zip)` map$(
-00022970: 2d3e 5f2b 3129 0a6d 696e 5f61 6e64 5f6d  ->_+1).min_and_m
-00022980: 6178 203d 206c 6966 7428 2c29 286d 696e  ax = lift(,)(min
-00022990: 2c20 6d61 7829 0a70 6c75 735f 616e 645f  , max).plus_and_
-000229a0: 7469 6d65 7320 3d20 282b 2920 606c 6966  times = (+) `lif
-000229b0: 7428 2c29 6020 282a 290a 6060 600a 0a2a  t(,)` (*).```..*
-000229c0: 2a50 7974 686f 6e3a 2a2a 0a60 6060 636f  *Python:**.```co
-000229d0: 636f 6e75 745f 7079 7468 6f6e 0a64 6566  conut_python.def
-000229e0: 2078 735f 616e 645f 7873 7031 2878 7329   xs_and_xsp1(xs)
-000229f0: 3a0a 2020 2020 7265 7475 726e 207a 6970  :.    return zip
-00022a00: 2878 732c 206d 6170 286c 616d 6264 6120  (xs, map(lambda 
-00022a10: 783a 2078 202b 2031 2c20 7873 2929 0a64  x: x + 1, xs)).d
-00022a20: 6566 206d 696e 5f61 6e64 5f6d 6178 2878  ef min_and_max(x
-00022a30: 7329 3a0a 2020 2020 7265 7475 726e 206d  s):.    return m
-00022a40: 696e 2878 7329 2c20 6d61 7828 7873 290a  in(xs), max(xs).
-00022a50: 6465 6620 706c 7573 5f61 6e64 5f74 696d  def plus_and_tim
-00022a60: 6573 2878 2c20 7929 3a0a 2020 2020 7265  es(x, y):.    re
-00022a70: 7475 726e 2078 202b 2079 2c20 7820 2a20  turn x + y, x * 
-00022a80: 790a 6060 600a 0a23 2323 2320 6066 6c69  y.```..#### `fli
-00022a90: 7060 0a0a 2a2a 666c 6970 2a2a 285f 6675  p`..**flip**(_fu
-00022aa0: 6e63 5f2c 205f 6e61 7267 735f 3d60 4e6f  nc_, _nargs_=`No
-00022ab0: 6e65 6029 0a0a 436f 636f 6e75 7427 7320  ne`)..Coconut's 
-00022ac0: 6066 6c69 7028 662c 206e 6172 6773 3d4e  `flip(f, nargs=N
-00022ad0: 6f6e 6529 6020 6973 2061 2068 6967 6865  one)` is a highe
-00022ae0: 722d 6f72 6465 7220 6675 6e63 7469 6f6e  r-order function
-00022af0: 2074 6861 742c 2067 6976 656e 2061 2066   that, given a f
-00022b00: 756e 6374 696f 6e20 6066 602c 2072 6574  unction `f`, ret
-00022b10: 7572 6e73 2061 206e 6577 2066 756e 6374  urns a new funct
-00022b20: 696f 6e20 7769 7468 2072 6576 6572 7365  ion with reverse
-00022b30: 6420 6172 6775 6d65 6e74 206f 7264 6572  d argument order
-00022b40: 2e20 4966 2060 6e61 7267 7360 2069 7320  . If `nargs` is 
-00022b50: 7061 7373 6564 2c20 6f6e 6c79 2074 6865  passed, only the
-00022b60: 2066 6972 7374 2060 6e61 7267 7360 2061   first `nargs` a
-00022b70: 7267 756d 656e 7473 2061 7265 2072 6576  rguments are rev
-00022b80: 6572 7365 642e 0a0a 466f 7220 7468 6520  ersed...For the 
-00022b90: 6269 6e61 7279 2063 6173 652c 2060 666c  binary case, `fl
-00022ba0: 6970 6020 776f 726b 7320 6173 0a60 6060  ip` works as.```
-00022bb0: 636f 636f 6e75 740a 666c 6970 2866 2c20  coconut.flip(f, 
-00022bc0: 3229 2878 2c20 7929 203d 3d20 6628 792c  2)(x, y) == f(y,
-00022bd0: 2078 290a 6060 600a 7375 6368 2074 6861   x).```.such tha
-00022be0: 7420 6066 6c69 7024 283f 2c20 3229 6020  t `flip$(?, 2)` 
-00022bf0: 696d 706c 656d 656e 7473 2074 6865 2060  implements the `
-00022c00: 4360 2063 6f6d 6269 6e61 746f 7220 2860  C` combinator (`
-00022c10: 666c 6970 6020 696e 2048 6173 6b65 6c6c  flip` in Haskell
-00022c20: 292e 0a0a 496e 2074 6865 2067 656e 6572  )...In the gener
-00022c30: 616c 2063 6173 652c 2060 666c 6970 6020  al case, `flip` 
-00022c40: 6973 2065 7175 6976 616c 656e 7420 746f  is equivalent to
-00022c50: 2061 2070 6963 6b6c 6561 626c 6520 7665   a pickleable ve
-00022c60: 7273 696f 6e20 6f66 0a60 6060 636f 636f  rsion of.```coco
-00022c70: 6e75 740a 6465 6620 666c 6970 2866 2c20  nut.def flip(f, 
-00022c80: 6e61 7267 733d 4e6f 6e65 2920 3d0a 2020  nargs=None) =.  
-00022c90: 2020 282a 6172 6773 2c20 2a2a 6b77 6172    (*args, **kwar
-00022ca0: 6773 2920 2d3e 2028 0a20 2020 2020 2020  gs) -> (.       
-00022cb0: 2066 282a 6172 6773 5b3a 3a2d 315d 2c20   f(*args[::-1], 
-00022cc0: 2a2a 6b77 6172 6773 2920 6966 206e 6172  **kwargs) if nar
-00022cd0: 6773 2069 7320 4e6f 6e65 0a20 2020 2020  gs is None.     
-00022ce0: 2020 2065 6c73 6520 6628 2a28 6172 6773     else f(*(args
-00022cf0: 5b6e 6172 6773 2d31 3a3a 2d31 5d20 2b20  [nargs-1::-1] + 
-00022d00: 6172 6773 5b6e 6172 6773 3a5d 292c 202a  args[nargs:]), *
-00022d10: 2a6b 7761 7267 7329 0a20 2020 2029 0a60  *kwargs).    ).`
-00022d20: 6060 0a0a 2323 2323 2060 636f 6e73 7460  ``..#### `const`
-00022d30: 0a0a 2a2a 636f 6e73 742a 2a28 5f76 616c  ..**const**(_val
-00022d40: 7565 5f29 0a0a 436f 636f 6e75 7427 7320  ue_)..Coconut's 
-00022d50: 6063 6f6e 7374 6020 7369 6d70 6c79 2063  `const` simply c
-00022d60: 6f6e 7374 7275 6374 7320 6120 6675 6e63  onstructs a func
-00022d70: 7469 6f6e 2074 6861 742c 2077 6861 7465  tion that, whate
-00022d80: 7665 7220 6974 7320 6172 6775 6d65 6e74  ver its argument
-00022d90: 732c 206a 7573 7420 7265 7475 726e 7320  s, just returns 
-00022da0: 7468 6520 6769 7665 6e20 7661 6c75 652e  the given value.
-00022db0: 2054 6875 732c 2060 636f 6e73 7460 2069   Thus, `const` i
-00022dc0: 7320 6571 7569 7661 6c65 6e74 2074 6f20  s equivalent to 
-00022dd0: 6120 7069 636b 6c65 6162 6c65 2076 6572  a pickleable ver
-00022de0: 7369 6f6e 206f 660a 6060 6063 6f63 6f6e  sion of.```cocon
-00022df0: 7574 0a64 6566 2063 6f6e 7374 2876 616c  ut.def const(val
-00022e00: 7565 2920 3d20 282a 6172 6773 2c20 2a2a  ue) = (*args, **
-00022e10: 6b77 6172 6773 2920 2d3e 2076 616c 7565  kwargs) -> value
-00022e20: 0a60 6060 0a0a 6063 6f6e 7374 6020 6973  .```..`const` is
-00022e30: 2070 7269 6d61 7269 6c79 2075 7365 6675   primarily usefu
-00022e40: 6c20 7768 656e 2077 7269 7469 6e67 2069  l when writing i
-00022e50: 6e20 6120 706f 696e 742d 6672 6565 2073  n a point-free s
-00022e60: 7479 6c65 2028 652e 672e 2069 6e20 636f  tyle (e.g. in co
-00022e70: 6d62 696e 6174 696f 6e20 7769 7468 205b  mbination with [
-00022e80: 606c 6966 7460 5d28 236c 6966 7429 292e  `lift`](#lift)).
-00022e90: 0a0a 2323 2323 2060 6964 656e 7460 0a0a  ..#### `ident`..
-00022ea0: 2a2a 6964 656e 742a 2a28 5f78 5f2c 202a  **ident**(_x_, *
-00022eb0: 2c20 5f73 6964 655c 5f65 6666 6563 745f  , _side\_effect_
-00022ec0: 3d60 4e6f 6e65 6029 0a0a 436f 636f 6e75  =`None`)..Coconu
-00022ed0: 7427 7320 6069 6465 6e74 6020 6973 2074  t's `ident` is t
-00022ee0: 6865 2069 6465 6e74 6974 7920 6675 6e63  he identity func
-00022ef0: 7469 6f6e 2c20 6765 6e65 7261 6c6c 7920  tion, generally 
-00022f00: 6571 7569 7661 6c65 6e74 2074 6f20 6078  equivalent to `x
-00022f10: 202d 3e20 7860 2e0a 0a60 6964 656e 7460   -> x`...`ident`
-00022f20: 2061 6c73 6f20 6163 6365 7074 7320 6f6e   also accepts on
-00022f30: 6520 6b65 7977 6f72 642d 6f6e 6c79 2061  e keyword-only a
-00022f40: 7267 756d 656e 742c 2060 7369 6465 5f65  rgument, `side_e
-00022f50: 6666 6563 7460 2c20 7768 6963 6820 7370  ffect`, which sp
-00022f60: 6563 6966 6965 7320 6120 6675 6e63 7469  ecifies a functi
-00022f70: 6f6e 2074 6f20 6361 6c6c 206f 6e20 7468  on to call on th
-00022f80: 6520 6172 6775 6d65 6e74 2062 6566 6f72  e argument befor
-00022f90: 6520 6974 2069 7320 7265 7475 726e 6564  e it is returned
-00022fa0: 2e20 5468 7573 2c20 6069 6465 6e74 6020  . Thus, `ident` 
-00022fb0: 6973 2065 6666 6563 7469 7665 6c79 2065  is effectively e
-00022fc0: 7175 6976 616c 656e 7420 746f 3a0a 6060  quivalent to:.``
-00022fd0: 6063 6f63 6f6e 7574 0a64 6566 2069 6465  `coconut.def ide
-00022fe0: 6e74 2878 2c20 2a2c 2073 6964 655f 6566  nt(x, *, side_ef
-00022ff0: 6665 6374 3d4e 6f6e 6529 3a0a 2020 2020  fect=None):.    
-00023000: 6966 2073 6964 655f 6566 6665 6374 2069  if side_effect i
-00023010: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
-00023020: 2020 2020 7369 6465 5f65 6666 6563 7428      side_effect(
-00023030: 7829 0a20 2020 2072 6574 7572 6e20 780a  x).    return x.
-00023040: 6060 600a 0a60 6964 656e 7460 2069 7320  ```..`ident` is 
-00023050: 7072 696d 6172 696c 7920 7573 6566 756c  primarily useful
-00023060: 2077 6865 6e20 7772 6974 696e 6720 696e   when writing in
-00023070: 2061 2070 6f69 6e74 2d66 7265 6520 7374   a point-free st
-00023080: 796c 6520 2865 2e67 2e20 696e 2063 6f6d  yle (e.g. in com
-00023090: 6269 6e61 7469 6f6e 2077 6974 6820 5b60  bination with [`
-000230a0: 6c69 6674 605d 2823 6c69 6674 2929 206f  lift`](#lift)) o
-000230b0: 7220 666f 7220 6465 6275 6767 696e 6720  r for debugging 
-000230c0: 5b70 6970 6573 5d28 2370 6970 6573 2920  [pipes](#pipes) 
-000230d0: 7768 6572 6520 6069 6465 6e74 2428 7369  where `ident$(si
-000230e0: 6465 5f65 6666 6563 743d 7072 696e 7429  de_effect=print)
-000230f0: 6020 6361 6e20 6c65 7420 796f 7520 7365  ` can let you se
-00023100: 6520 7768 6174 2069 7320 6265 696e 6720  e what is being 
-00023110: 7069 7065 642e 0a0a 2323 2320 4275 696c  piped...### Buil
-00023120: 742d 496e 7320 666f 7220 576f 726b 696e  t-Ins for Workin
-00023130: 6720 7769 7468 2049 7465 7261 746f 7273  g with Iterators
-00023140: 0a0a 6060 607b 636f 6e74 656e 7473 7d0a  ..```{contents}.
-00023150: 2d2d 2d0a 6c6f 6361 6c3a 0a64 6570 7468  ---.local:.depth
-00023160: 3a20 310a 2d2d 2d0a 6060 600a 0a23 2323  : 1.---.```..###
-00023170: 2320 456e 6861 6e63 6564 2042 7569 6c74  # Enhanced Built
-00023180: 2d49 6e73 0a0a 436f 636f 6e75 7427 7320  -Ins..Coconut's 
-00023190: 606d 6170 602c 2060 7a69 7060 2c20 6066  `map`, `zip`, `f
-000231a0: 696c 7465 7260 2c20 6072 6576 6572 7365  ilter`, `reverse
-000231b0: 6460 2c20 616e 6420 6065 6e75 6d65 7261  d`, and `enumera
-000231c0: 7465 6020 6f62 6a65 6374 7320 6172 6520  te` objects are 
-000231d0: 656e 6861 6e63 6564 2076 6572 7369 6f6e  enhanced version
-000231e0: 7320 6f66 2074 6865 6972 2050 7974 686f  s of their Pytho
-000231f0: 6e20 6571 7569 7661 6c65 6e74 7320 7468  n equivalents th
-00023200: 6174 2073 7570 706f 7274 3a0a 0a2d 2060  at support:..- `
-00023210: 7265 7665 7273 6564 600a 2d20 6072 6570  reversed`.- `rep
-00023220: 7260 0a2d 204f 7074 696d 697a 6564 206e  r`.- Optimized n
-00023230: 6f72 6d61 6c20 2861 6e64 2069 7465 7261  ormal (and itera
-00023240: 746f 7229 2069 6e64 6578 696e 672f 736c  tor) indexing/sl
-00023250: 6963 696e 6720 2860 6d61 7060 2c20 607a  icing (`map`, `z
-00023260: 6970 602c 2060 7265 7665 7273 6564 602c  ip`, `reversed`,
-00023270: 2061 6e64 2060 656e 756d 6572 6174 6560   and `enumerate`
-00023280: 2062 7574 206e 6f74 2060 6669 6c74 6572   but not `filter
-00023290: 6029 2e0a 2d20 606c 656e 6020 2861 6c6c  `)..- `len` (all
-000232a0: 2062 7574 2060 6669 6c74 6572 6029 2028   but `filter`) (
-000232b0: 7468 6f75 6768 2060 626f 6f6c 6020 7769  though `bool` wi
-000232c0: 6c6c 2073 7469 6c6c 2061 6c77 6179 7320  ll still always 
-000232d0: 7969 656c 6420 6054 7275 6560 292e 0a2d  yield `True`)..-
-000232e0: 2054 6865 2061 6269 6c69 7479 2074 6f20   The ability to 
-000232f0: 6265 2069 7465 7261 7465 6420 6f76 6572  be iterated over
-00023300: 206d 756c 7469 706c 6520 7469 6d65 7320   multiple times 
-00023310: 6966 2074 6865 2075 6e64 6572 6c79 696e  if the underlyin
-00023320: 6720 6974 6572 6174 6f72 7320 6361 6e20  g iterators can 
-00023330: 6265 2069 7465 7261 7465 6420 6f76 6572  be iterated over
-00023340: 206d 756c 7469 706c 6520 7469 6d65 732e   multiple times.
-00023350: 0a2d 205b 5045 5020 3631 385d 2868 7474  .- [PEP 618](htt
-00023360: 7073 3a2f 2f77 7777 2e70 7974 686f 6e2e  ps://www.python.
-00023370: 6f72 672f 6465 762f 7065 7073 2f70 6570  org/dev/peps/pep
-00023380: 2d30 3631 3829 2060 7a69 7028 2e2e 2e2c  -0618) `zip(...,
-00023390: 2073 7472 6963 743d 5472 7565 2960 2073   strict=True)` s
-000233a0: 7570 706f 7274 206f 6e20 616c 6c20 5079  upport on all Py
-000233b0: 7468 6f6e 2076 6572 7369 6f6e 732e 0a2d  thon versions..-
-000233c0: 2041 6464 6564 2060 7374 7269 6374 3d54   Added `strict=T
-000233d0: 7275 6560 2073 7570 706f 7274 2074 6f20  rue` support to 
-000233e0: 606d 6170 6020 6173 2077 656c 6c20 2865  `map` as well (e
-000233f0: 6e66 6f72 6365 7320 7468 6174 2069 7465  nforces that ite
-00023400: 7261 626c 6573 2061 7265 2074 6865 2073  rables are the s
-00023410: 616d 6520 6c65 6e67 7468 2069 6e20 7468  ame length in th
-00023420: 6520 6d75 6c74 692d 6974 6572 6162 6c65  e multi-iterable
-00023430: 2063 6173 653b 2075 7365 7320 607a 6970   case; uses `zip
-00023440: 6020 756e 6465 7220 7468 6520 686f 6f64  ` under the hood
-00023450: 2073 7563 6820 7468 6174 2065 7272 6f72   such that error
-00023460: 7320 7769 6c6c 2073 686f 7720 7570 2061  s will show up a
-00023470: 7320 607a 6970 282e 2e2e 2c20 7374 7269  s `zip(..., stri
-00023480: 6374 3d54 7275 6529 6020 6572 726f 7273  ct=True)` errors
-00023490: 292e 0a2d 2041 6464 6564 2061 7474 7269  )..- Added attri
-000234a0: 6275 7465 7320 7768 6963 6820 7375 6263  butes which subc
-000234b0: 6c61 7373 6573 2063 616e 206d 616b 6520  lasses can make 
-000234c0: 7573 6520 6f66 2074 6f20 6765 7420 6174  use of to get at
-000234d0: 2074 6865 206f 7269 6769 6e61 6c20 6172   the original ar
-000234e0: 6775 6d65 6e74 7320 746f 2074 6865 206f  guments to the o
-000234f0: 626a 6563 743a 0a20 202a 2060 6d61 7060  bject:.  * `map`
-00023500: 3a20 6066 756e 6360 2c20 6069 7465 7273  : `func`, `iters
-00023510: 600a 2020 2a20 607a 6970 603a 2060 6974  `.  * `zip`: `it
-00023520: 6572 7360 0a20 202a 2060 6669 6c74 6572  ers`.  * `filter
-00023530: 603a 2060 6675 6e63 602c 2060 6974 6572  `: `func`, `iter
-00023540: 600a 2020 2a20 6072 6576 6572 7365 6460  `.  * `reversed`
-00023550: 3a20 6069 7465 7260 0a20 202a 2060 656e  : `iter`.  * `en
-00023560: 756d 6572 6174 6560 3a20 6069 7465 7260  umerate`: `iter`
-00023570: 2c20 6073 7461 7274 600a 0a23 2323 2323  , `start`..#####
-00023580: 2049 6e64 6578 696e 6720 696e 746f 206f   Indexing into o
-00023590: 7468 6572 2062 7569 6c74 2d69 6e73 0a0a  ther built-ins..
-000235a0: 5468 6f75 6768 2043 6f63 6f6e 7574 2070  Though Coconut p
-000235b0: 726f 7669 6465 7320 7261 6e64 6f6d 2061  rovides random a
-000235c0: 6363 6573 7320 696e 6465 7869 6e67 2f73  ccess indexing/s
-000235d0: 6c69 6369 6e67 2074 6f20 6072 616e 6765  licing to `range
-000235e0: 602c 2060 6d61 7060 2c20 607a 6970 602c  `, `map`, `zip`,
-000235f0: 2060 7265 7665 7273 6564 602c 2061 6e64   `reversed`, and
-00023600: 2060 656e 756d 6572 6174 6560 2c20 436f   `enumerate`, Co
-00023610: 636f 6e75 7420 6361 6e6e 6f74 2069 6e64  conut cannot ind
-00023620: 6578 2069 6e74 6f20 6275 696c 742d 696e  ex into built-in
-00023630: 7320 6c69 6b65 2060 6669 6c74 6572 602c  s like `filter`,
-00023640: 2060 7461 6b65 7768 696c 6560 2c20 6f72   `takewhile`, or
-00023650: 2060 6472 6f70 7768 696c 6560 2064 6972   `dropwhile` dir
-00023660: 6563 746c 792c 2061 7320 7468 6572 6520  ectly, as there 
-00023670: 6973 206e 6f20 6566 6669 6369 656e 7420  is no efficient 
-00023680: 7761 7920 746f 2064 6f20 736f 2e0a 0a60  way to do so...`
-00023690: 6060 636f 636f 6e75 740a 7261 6e67 6528  ``coconut.range(
-000236a0: 3130 2920 7c3e 2066 696c 7465 7224 2869  10) |> filter$(i
-000236b0: 2d3e 693e 3329 207c 3e20 2e5b 305d 2020  ->i>3) |> .[0]  
-000236c0: 2320 646f 6573 6e27 7420 776f 726b 0a60  # doesn't work.`
-000236d0: 6060 0a0a 496e 206f 7264 6572 2074 6f20  ``..In order to 
-000236e0: 6d61 6b65 2074 6869 7320 776f 726b 2c20  make this work, 
-000236f0: 796f 7520 6361 6e20 6578 706c 6963 6974  you can explicit
-00023700: 6c79 2075 7365 2069 7465 7261 746f 7220  ly use iterator 
-00023710: 736c 6963 696e 672c 2077 6869 6368 2069  slicing, which i
-00023720: 7320 6c65 7373 2065 6666 6963 6965 6e74  s less efficient
-00023730: 2069 6e20 7468 6520 6765 6e65 7261 6c20   in the general 
-00023740: 6361 7365 3a0a 0a60 6060 636f 636f 6e75  case:..```coconu
-00023750: 740a 7261 6e67 6528 3130 2920 7c3e 2066  t.range(10) |> f
-00023760: 696c 7465 7224 2869 2d3e 693e 3329 207c  ilter$(i->i>3) |
-00023770: 3e20 2e24 5b30 5d20 2023 2077 6f72 6b73  > .$[0]  # works
-00023780: 0a60 6060 0a0a 466f 7220 6d6f 7265 2069  .```..For more i
-00023790: 6e66 6f72 6d61 7469 6f6e 206f 6e20 436f  nformation on Co
-000237a0: 636f 6e75 7427 7320 6974 6572 6174 6f72  conut's iterator
-000237b0: 2073 6c69 6369 6e67 2c20 7365 6520 5b68   slicing, see [h
-000237c0: 6572 655d 2823 6974 6572 6174 6f72 2d73  ere](#iterator-s
-000237d0: 6c69 6369 6e67 292e 0a0a 2323 2323 2320  licing)...##### 
-000237e0: 4578 616d 706c 6573 0a0a 2a2a 436f 636f  Examples..**Coco
-000237f0: 6e75 743a 2a2a 0a60 6060 636f 636f 6e75  nut:**.```coconu
-00023800: 740a 6d61 7028 282b 292c 2072 616e 6765  t.map((+), range
-00023810: 2835 292c 2072 616e 6765 2836 2929 207c  (5), range(6)) |
-00023820: 3e20 6c65 6e20 7c3e 2070 7269 6e74 0a72  > len |> print.r
-00023830: 616e 6765 2831 3029 207c 3e20 6669 6c74  ange(10) |> filt
-00023840: 6572 2428 2878 2920 2d3e 2078 203c 2035  er$((x) -> x < 5
-00023850: 2920 7c3e 2072 6576 6572 7365 6420 7c3e  ) |> reversed |>
-00023860: 2074 7570 6c65 207c 3e20 7072 696e 740a   tuple |> print.
-00023870: 6060 600a 0a2a 2a50 7974 686f 6e3a 2a2a  ```..**Python:**
-00023880: 0a5f 4361 6e27 7420 6265 2064 6f6e 6520  ._Can't be done 
-00023890: 7769 7468 6f75 7420 6465 6669 6e69 6e67  without defining
-000238a0: 2061 2063 7573 746f 6d20 606d 6170 6020   a custom `map` 
-000238b0: 7479 7065 2e20 5468 6520 6675 6c6c 2064  type. The full d
-000238c0: 6566 696e 6974 696f 6e20 6f66 2060 6d61  efinition of `ma
-000238d0: 7060 2063 616e 2062 6520 666f 756e 6420  p` can be found 
-000238e0: 696e 2074 6865 2043 6f63 6f6e 7574 2068  in the Coconut h
-000238f0: 6561 6465 722e 5f0a 0a2a 2a43 6f63 6f6e  eader._..**Cocon
-00023900: 7574 3a2a 2a0a 6060 6063 6f63 6f6e 7574  ut:**.```coconut
-00023910: 0a72 616e 6765 2830 2c20 3132 2c20 3229  .range(0, 12, 2)
-00023920: 5b34 5d20 2023 2038 0a0a 6d61 7028 2869  [4]  # 8..map((i
-00023930: 2d3e 692a 3229 2c20 7261 6e67 6528 3130  ->i*2), range(10
-00023940: 2929 5b32 5d20 2023 2034 0a60 6060 0a0a  ))[2]  # 4.```..
-00023950: 2a2a 5079 7468 6f6e 3a2a 2a0a 5f43 616e  **Python:**._Can
-00023960: e280 9974 2062 6520 646f 6e65 2071 7569  ...t be done qui
-00023970: 636b 6c79 2077 6974 686f 7574 2043 6f63  ckly without Coc
-00023980: 6f6e 7574 e280 9973 2069 7465 7261 626c  onut...s iterabl
-00023990: 6520 696e 6465 7869 6e67 2c20 7768 6963  e indexing, whic
-000239a0: 6820 7265 7175 6972 6573 206d 616e 7920  h requires many 
-000239b0: 636f 6d70 6c69 6361 7465 6420 7069 6563  complicated piec
-000239c0: 6573 2e20 5468 6520 6e65 6365 7373 6172  es. The necessar
-000239d0: 7920 6465 6669 6e69 7469 6f6e 7320 696e  y definitions in
-000239e0: 2050 7974 686f 6e20 6361 6e20 6265 2066   Python can be f
-000239f0: 6f75 6e64 2069 6e20 7468 6520 436f 636f  ound in the Coco
-00023a00: 6e75 7420 6865 6164 6572 2e5f 0a0a 2323  nut header._..##
-00023a10: 2323 2060 7265 6475 6365 600a 0a2a 2a72  ## `reduce`..**r
-00023a20: 6564 7563 652a 2a28 5f66 756e 6374 696f  educe**(_functio
-00023a30: 6e5f 2c20 5f69 7465 7261 626c 655f 5b2c  n_, _iterable_[,
-00023a40: 205f 696e 6974 6961 6c5f 5d2c 202f 290a   _initial_], /).
-00023a50: 0a43 6f63 6f6e 7574 2072 652d 696e 7472  .Coconut re-intr
-00023a60: 6f64 7563 6573 2050 7974 686f 6e20 3227  oduces Python 2'
-00023a70: 7320 6072 6564 7563 6560 2062 7569 6c74  s `reduce` built
-00023a80: 2d69 6e2c 2075 7369 6e67 2074 6865 2060  -in, using the `
-00023a90: 6675 6e63 746f 6f6c 732e 7265 6475 6365  functools.reduce
-00023aa0: 6020 7665 7273 696f 6e2e 0a0a 2323 2323  ` version...####
-00023ab0: 2320 5079 7468 6f6e 2044 6f63 730a 0a2a  # Python Docs..*
-00023ac0: 2a72 6564 7563 652a 2a28 5f66 756e 6374  *reduce**(_funct
-00023ad0: 696f 6e2c 2069 7465 7261 626c 655f 2a2a  ion, iterable_**
-00023ae0: 5b2a 2a5f 2c20 696e 6974 6961 6c5f 2a2a  [**_, initial_**
-00023af0: 5d2a 2a29 0a0a 4170 706c 7920 5f66 756e  ]**)..Apply _fun
-00023b00: 6374 696f 6e5f 206f 6620 7477 6f20 6172  ction_ of two ar
-00023b10: 6775 6d65 6e74 7320 6375 6d75 6c61 7469  guments cumulati
-00023b20: 7665 6c79 2074 6f20 7468 6520 6974 656d  vely to the item
-00023b30: 7320 6f66 205f 7365 7175 656e 6365 5f2c  s of _sequence_,
-00023b40: 2066 726f 6d20 6c65 6674 2074 6f20 7269   from left to ri
-00023b50: 6768 742c 2073 6f20 6173 2074 6f20 7265  ght, so as to re
-00023b60: 6475 6365 2074 6865 2073 6571 7565 6e63  duce the sequenc
-00023b70: 6520 746f 2061 2073 696e 676c 6520 7661  e to a single va
-00023b80: 6c75 652e 2046 6f72 2065 7861 6d70 6c65  lue. For example
-00023b90: 2c20 6072 6564 7563 6528 2878 2c20 7929  , `reduce((x, y)
-00023ba0: 202d 3e20 782b 792c 205b 312c 2032 2c20   -> x+y, [1, 2, 
-00023bb0: 332c 2034 2c20 355d 2960 2063 616c 6375  3, 4, 5])` calcu
-00023bc0: 6c61 7465 7320 6028 2828 2831 2b32 292b  lates `((((1+2)+
-00023bd0: 3329 2b34 292b 3529 602e 2054 6865 206c  3)+4)+5)`. The l
-00023be0: 6566 7420 6172 6775 6d65 6e74 2c20 5f78  eft argument, _x
-00023bf0: 5f2c 2069 7320 7468 6520 6163 6375 6d75  _, is the accumu
-00023c00: 6c61 7465 6420 7661 6c75 6520 616e 6420  lated value and 
-00023c10: 7468 6520 7269 6768 7420 6172 6775 6d65  the right argume
-00023c20: 6e74 2c20 5f79 5f2c 2069 7320 7468 6520  nt, _y_, is the 
-00023c30: 7570 6461 7465 2076 616c 7565 2066 726f  update value fro
-00023c40: 6d20 7468 6520 5f73 6571 7565 6e63 655f  m the _sequence_
-00023c50: 2e20 4966 2074 6865 206f 7074 696f 6e61  . If the optiona
-00023c60: 6c20 5f69 6e69 7469 616c 5f20 6973 2070  l _initial_ is p
-00023c70: 7265 7365 6e74 2c20 6974 2069 7320 706c  resent, it is pl
-00023c80: 6163 6564 2062 6566 6f72 6520 7468 6520  aced before the 
-00023c90: 6974 656d 7320 6f66 2074 6865 2073 6571  items of the seq
-00023ca0: 7565 6e63 6520 696e 2074 6865 2063 616c  uence in the cal
-00023cb0: 6375 6c61 7469 6f6e 2c20 616e 6420 7365  culation, and se
-00023cc0: 7276 6573 2061 7320 6120 6465 6661 756c  rves as a defaul
-00023cd0: 7420 7768 656e 2074 6865 2073 6571 7565  t when the seque
-00023ce0: 6e63 6520 6973 2065 6d70 7479 2e20 4966  nce is empty. If
-00023cf0: 205f 696e 6974 6961 6c5f 2069 7320 6e6f   _initial_ is no
-00023d00: 7420 6769 7665 6e20 616e 6420 5f73 6571  t given and _seq
-00023d10: 7565 6e63 655f 2063 6f6e 7461 696e 7320  uence_ contains 
-00023d20: 6f6e 6c79 206f 6e65 2069 7465 6d2c 2074  only one item, t
-00023d30: 6865 2066 6972 7374 2069 7465 6d20 6973  he first item is
-00023d40: 2072 6574 7572 6e65 642e 0a0a 2323 2323   returned...####
-00023d50: 2320 4578 616d 706c 650a 0a2a 2a43 6f63  # Example..**Coc
-00023d60: 6f6e 7574 3a2a 2a0a 6060 6063 6f63 6f6e  onut:**.```cocon
-00023d70: 7574 0a70 726f 6475 6374 203d 2072 6564  ut.product = red
-00023d80: 7563 6524 282a 290a 7261 6e67 6528 312c  uce$(*).range(1,
-00023d90: 2031 3029 207c 3e20 7072 6f64 7563 7420   10) |> product 
-00023da0: 7c3e 2070 7269 6e74 0a60 6060 0a0a 2a2a  |> print.```..**
-00023db0: 5079 7468 6f6e 3a2a 2a0a 6060 6063 6f63  Python:**.```coc
-00023dc0: 6f6e 7574 5f70 7974 686f 6e0a 696d 706f  onut_python.impo
-00023dd0: 7274 206f 7065 7261 746f 720a 696d 706f  rt operator.impo
-00023de0: 7274 2066 756e 6374 6f6f 6c73 0a70 726f  rt functools.pro
-00023df0: 6475 6374 203d 2066 756e 6374 6f6f 6c73  duct = functools
-00023e00: 2e70 6172 7469 616c 2866 756e 6374 6f6f  .partial(functoo
-00023e10: 6c73 2e72 6564 7563 652c 206f 7065 7261  ls.reduce, opera
-00023e20: 746f 722e 6d75 6c29 0a70 7269 6e74 2870  tor.mul).print(p
-00023e30: 726f 6475 6374 2872 616e 6765 2831 2c20  roduct(range(1, 
-00023e40: 3130 2929 290a 6060 600a 0a23 2323 2320  10))).```..#### 
-00023e50: 6072 6569 7465 7261 626c 6560 0a0a 2a2a  `reiterable`..**
-00023e60: 7265 6974 6572 6162 6c65 2a2a 285f 6974  reiterable**(_it
-00023e70: 6572 6162 6c65 5f29 0a0a 6072 6569 7465  erable_)..`reite
-00023e80: 7261 626c 6560 2077 7261 7073 2074 6865  rable` wraps the
-00023e90: 2067 6976 656e 2069 7465 7261 626c 6520   given iterable 
-00023ea0: 746f 2065 6e73 7572 6520 7468 6174 2065  to ensure that e
-00023eb0: 7665 7279 2074 696d 6520 7468 6520 6072  very time the `r
-00023ec0: 6569 7465 7261 626c 6560 2069 7320 6974  eiterable` is it
-00023ed0: 6572 6174 6564 206f 7665 722c 2069 7420  erated over, it 
-00023ee0: 7072 6f64 7563 6573 2074 6865 2073 616d  produces the sam
-00023ef0: 6520 7265 7375 6c74 732e 204e 6f74 6520  e results. Note 
-00023f00: 7468 6174 2074 6865 2072 6573 756c 7420  that the result 
-00023f10: 6e65 6564 206e 6f74 2062 6520 6120 6072  need not be a `r
-00023f20: 6569 7465 7261 626c 6560 206f 626a 6563  eiterable` objec
-00023f30: 7420 6966 2074 6865 2067 6976 656e 2069  t if the given i
-00023f40: 7465 7261 626c 6520 6973 2061 6c72 6561  terable is alrea
-00023f50: 6479 2072 6569 7465 7261 626c 652e 2060  dy reiterable. `
-00023f60: 7265 6974 6572 6162 6c65 6020 7573 6573  reiterable` uses
-00023f70: 205b 6074 6565 605d 2823 7465 6529 2075   [`tee`](#tee) u
-00023f80: 6e64 6572 2074 6865 2068 6f6f 6420 616e  nder the hood an
-00023f90: 6420 6074 6565 6020 6361 6e20 6265 2075  d `tee` can be u
-00023fa0: 7365 6420 696e 2069 7473 2070 6c61 6365  sed in its place
-00023fb0: 2c20 7468 6f75 6768 2060 7265 6974 6572  , though `reiter
-00023fc0: 6162 6c65 6020 6973 2067 656e 6572 616c  able` is general
-00023fd0: 6c79 2072 6563 6f6d 6d65 6e64 6564 206f  ly recommended o
-00023fe0: 7665 7220 6074 6565 602e 0a0a 2323 2323  ver `tee`...####
-00023ff0: 2320 4578 616d 706c 650a 0a2a 2a43 6f63  # Example..**Coc
-00024000: 6f6e 7574 3a2a 2a0a 6060 6063 6f63 6f6e  onut:**.```cocon
-00024010: 7574 0a64 6566 206c 6973 745f 7479 7065  ut.def list_type
-00024020: 2878 7329 3a0a 2020 2020 6d61 7463 6820  (xs):.    match 
-00024030: 7265 6974 6572 6162 6c65 2878 7329 3a0a  reiterable(xs):.
-00024040: 2020 2020 2020 2020 6361 7365 205b 6673          case [fs
-00024050: 742c 2073 6e64 5d20 3a3a 2074 6169 6c3a  t, snd] :: tail:
-00024060: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-00024070: 7572 6e20 2261 7420 6c65 6173 7420 3222  urn "at least 2"
-00024080: 0a20 2020 2020 2020 2063 6173 6520 5b66  .        case [f
-00024090: 7374 5d20 3a3a 2074 6169 6c3a 0a20 2020  st] :: tail:.   
-000240a0: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-000240b0: 2261 7420 6c65 6173 7420 3122 0a20 2020  "at least 1".   
-000240c0: 2020 2020 2063 6173 6520 287c 207c 293a       case (| |):
-000240d0: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-000240e0: 7572 6e20 2265 6d70 7479 220a 6060 600a  urn "empty".```.
-000240f0: 0a2a 2a50 7974 686f 6e3a 2a2a 0a5f 4361  .**Python:**._Ca
-00024100: 6e27 7420 6265 2064 6f6e 6520 7769 7468  n't be done with
-00024110: 6f75 7420 6120 6c6f 6e67 2073 6572 6965  out a long serie
-00024120: 7320 6f66 2063 6865 636b 7320 666f 7220  s of checks for 
-00024130: 6561 6368 2060 6d61 7463 6860 2073 7461  each `match` sta
-00024140: 7465 6d65 6e74 2e20 5365 6520 7468 6520  tement. See the 
-00024150: 636f 6d70 696c 6564 2063 6f64 6520 666f  compiled code fo
-00024160: 7220 7468 6520 5079 7468 6f6e 2073 796e  r the Python syn
-00024170: 7461 782e 5f0a 0a23 2323 2320 6073 7461  tax._..#### `sta
-00024180: 726d 6170 600a 0a2a 2a73 7461 726d 6170  rmap`..**starmap
-00024190: 2a2a 285f 6675 6e63 7469 6f6e 5f2c 205f  **(_function_, _
-000241a0: 6974 6572 6162 6c65 5f29 0a0a 436f 636f  iterable_)..Coco
-000241b0: 6e75 7420 7072 6f76 6964 6573 2061 206d  nut provides a m
-000241c0: 6f64 6966 6965 6420 7665 7273 696f 6e20  odified version 
-000241d0: 6f66 2060 6974 6572 746f 6f6c 732e 7374  of `itertools.st
-000241e0: 6172 6d61 7060 2074 6861 7420 7375 7070  armap` that supp
-000241f0: 6f72 7473 2060 7265 7665 7273 6564 602c  orts `reversed`,
-00024200: 2060 7265 7072 602c 206f 7074 696d 697a   `repr`, optimiz
-00024210: 6564 206e 6f72 6d61 6c20 2861 6e64 2069  ed normal (and i
-00024220: 7465 7261 746f 7229 2073 6c69 6369 6e67  terator) slicing
-00024230: 2c20 606c 656e 602c 2061 6e64 2060 6675  , `len`, and `fu
-00024240: 6e63 602f 6069 7465 7260 2061 7474 7269  nc`/`iter` attri
-00024250: 6275 7465 732e 0a0a 2323 2323 2320 5079  butes...##### Py
-00024260: 7468 6f6e 2044 6f63 730a 0a2a 2a73 7461  thon Docs..**sta
-00024270: 726d 6170 2a2a 285f 6675 6e63 7469 6f6e  rmap**(_function
-00024280: 2c20 6974 6572 6162 6c65 5f29 0a0a 4d61  , iterable_)..Ma
-00024290: 6b65 2061 6e20 6974 6572 6174 6f72 2074  ke an iterator t
-000242a0: 6861 7420 636f 6d70 7574 6573 2074 6865  hat computes the
-000242b0: 2066 756e 6374 696f 6e20 7573 696e 6720   function using 
-000242c0: 6172 6775 6d65 6e74 7320 6f62 7461 696e  arguments obtain
-000242d0: 6564 2066 726f 6d20 7468 6520 6974 6572  ed from the iter
-000242e0: 6162 6c65 2e20 5573 6564 2069 6e73 7465  able. Used inste
-000242f0: 6164 206f 6620 606d 6170 2829 6020 7768  ad of `map()` wh
-00024300: 656e 2061 7267 756d 656e 7420 7061 7261  en argument para
-00024310: 6d65 7465 7273 2061 7265 2061 6c72 6561  meters are alrea
-00024320: 6479 2067 726f 7570 6564 2069 6e20 7475  dy grouped in tu
-00024330: 706c 6573 2066 726f 6d20 6120 7369 6e67  ples from a sing
-00024340: 6c65 2069 7465 7261 626c 6520 2874 6865  le iterable (the
-00024350: 2064 6174 6120 6861 7320 6265 656e 2022   data has been "
-00024360: 7072 652d 7a69 7070 6564 2229 2e20 5468  pre-zipped"). Th
-00024370: 6520 6469 6666 6572 656e 6365 2062 6574  e difference bet
-00024380: 7765 656e 2060 6d61 7028 2960 2061 6e64  ween `map()` and
-00024390: 2060 7374 6172 6d61 7028 2960 2070 6172   `starmap()` par
-000243a0: 616c 6c65 6c73 2074 6865 2064 6973 7469  allels the disti
-000243b0: 6e63 7469 6f6e 2062 6574 7765 656e 2060  nction between `
-000243c0: 6675 6e63 7469 6f6e 2861 2c62 2960 2061  function(a,b)` a
-000243d0: 6e64 2060 6675 6e63 7469 6f6e 282a 6329  nd `function(*c)
-000243e0: 602e 2052 6f75 6768 6c79 2065 7175 6976  `. Roughly equiv
-000243f0: 616c 656e 7420 746f 3a0a 0a60 6060 636f  alent to:..```co
-00024400: 636f 6e75 745f 7079 7468 6f6e 0a64 6566  conut_python.def
-00024410: 2073 7461 726d 6170 2866 756e 6374 696f   starmap(functio
-00024420: 6e2c 2069 7465 7261 626c 6529 3a0a 2020  n, iterable):.  
-00024430: 2020 2320 7374 6172 6d61 7028 706f 772c    # starmap(pow,
-00024440: 205b 2832 2c35 292c 2028 332c 3229 2c20   [(2,5), (3,2), 
-00024450: 2831 302c 3329 5d29 202d 2d3e 2033 3220  (10,3)]) --> 32 
-00024460: 3920 3130 3030 0a20 2020 2066 6f72 2061  9 1000.    for a
-00024470: 7267 7320 696e 2069 7465 7261 626c 653a  rgs in iterable:
-00024480: 0a20 2020 2020 2020 2079 6965 6c64 2066  .        yield f
-00024490: 756e 6374 696f 6e28 2a61 7267 7329 0a60  unction(*args).`
-000244a0: 6060 0a0a 2323 2323 2320 4578 616d 706c  ``..##### Exampl
-000244b0: 650a 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0a  e..**Coconut:**.
-000244c0: 6060 6063 6f63 6f6e 7574 0a72 616e 6765  ```coconut.range
-000244d0: 2831 2c20 3529 207c 3e20 6d61 7024 2872  (1, 5) |> map$(r
-000244e0: 616e 6765 2920 7c3e 2073 7461 726d 6170  ange) |> starmap
-000244f0: 2428 7072 696e 7429 207c 3e20 636f 6e73  $(print) |> cons
-00024500: 756d 650a 6060 600a 0a2a 2a50 7974 686f  ume.```..**Pytho
-00024510: 6e3a 2a2a 0a60 6060 636f 636f 6e75 745f  n:**.```coconut_
-00024520: 7079 7468 6f6e 0a69 6d70 6f72 7420 6974  python.import it
-00024530: 6572 746f 6f6c 732c 2063 6f6c 6c65 6374  ertools, collect
-00024540: 696f 6e73 0a63 6f6c 6c65 6374 696f 6e73  ions.collections
-00024550: 2e64 6571 7565 2869 7465 7274 6f6f 6c73  .deque(itertools
-00024560: 2e73 7461 726d 6170 2870 7269 6e74 2c20  .starmap(print, 
-00024570: 6d61 7028 7261 6e67 652c 2072 616e 6765  map(range, range
-00024580: 2831 2c20 3529 2929 2c20 6d61 786c 656e  (1, 5))), maxlen
-00024590: 3d30 290a 6060 600a 0a23 2323 2320 607a  =0).```..#### `z
-000245a0: 6970 5f6c 6f6e 6765 7374 600a 0a2a 2a7a  ip_longest`..**z
-000245b0: 6970 5c5f 6c6f 6e67 6573 742a 2a28 2a5f  ip\_longest**(*_
-000245c0: 6974 6572 6162 6c65 735f 2c20 5f66 696c  iterables_, _fil
-000245d0: 6c76 616c 7565 5f3d 604e 6f6e 6560 290a  lvalue_=`None`).
-000245e0: 0a43 6f63 6f6e 7574 2070 726f 7669 6465  .Coconut provide
-000245f0: 7320 616e 2065 6e68 616e 6365 6420 7665  s an enhanced ve
-00024600: 7273 696f 6e20 6f66 2060 6974 6572 746f  rsion of `iterto
-00024610: 6f6c 732e 7a69 705f 6c6f 6e67 6573 7460  ols.zip_longest`
-00024620: 2061 7320 6120 6275 696c 742d 696e 2075   as a built-in u
-00024630: 6e64 6572 2074 6865 206e 616d 6520 607a  nder the name `z
-00024640: 6970 5f6c 6f6e 6765 7374 602e 2060 7a69  ip_longest`. `zi
-00024650: 705f 6c6f 6e67 6573 7460 2073 7570 706f  p_longest` suppo
-00024660: 7274 7320 616c 6c20 7468 6520 7361 6d65  rts all the same
-00024670: 2066 6561 7475 7265 7320 6173 2043 6f63   features as Coc
-00024680: 6f6e 7574 2773 205b 656e 6861 6e63 6564  onut's [enhanced
-00024690: 207a 6970 5d28 2365 6e68 616e 6365 642d   zip](#enhanced-
-000246a0: 6275 696c 742d 696e 7329 2061 7320 7765  built-ins) as we
-000246b0: 6c6c 2061 7320 7468 6520 6164 6469 7469  ll as the additi
-000246c0: 6f6e 616c 2061 7474 7269 6275 7465 2060  onal attribute `
-000246d0: 6669 6c6c 7661 6c75 6560 2e0a 0a23 2323  fillvalue`...###
-000246e0: 2323 2050 7974 686f 6e20 446f 6373 0a0a  ## Python Docs..
-000246f0: 2a2a 7a69 705c 5f6c 6f6e 6765 7374 2a2a  **zip\_longest**
-00024700: 285f 5c2a 6974 6572 6162 6c65 732c 2066  (_\*iterables, f
-00024710: 696c 6c76 616c 7565 3d4e 6f6e 655f 290a  illvalue=None_).
-00024720: 0a4d 616b 6520 616e 2069 7465 7261 746f  .Make an iterato
-00024730: 7220 7468 6174 2061 6767 7265 6761 7465  r that aggregate
-00024740: 7320 656c 656d 656e 7473 2066 726f 6d20  s elements from 
-00024750: 6561 6368 206f 6620 7468 6520 6974 6572  each of the iter
-00024760: 6162 6c65 732e 2049 6620 7468 6520 6974  ables. If the it
-00024770: 6572 6162 6c65 7320 6172 6520 6f66 2075  erables are of u
-00024780: 6e65 7665 6e20 6c65 6e67 7468 2c20 6d69  neven length, mi
-00024790: 7373 696e 6720 7661 6c75 6573 2061 7265  ssing values are
-000247a0: 2066 696c 6c65 642d 696e 2077 6974 6820   filled-in with 
-000247b0: 5f66 696c 6c76 616c 7565 5f2e 2049 7465  _fillvalue_. Ite
-000247c0: 7261 7469 6f6e 2063 6f6e 7469 6e75 6573  ration continues
-000247d0: 2075 6e74 696c 2074 6865 206c 6f6e 6765   until the longe
-000247e0: 7374 2069 7465 7261 626c 6520 6973 2065  st iterable is e
-000247f0: 7868 6175 7374 6564 2e20 526f 7567 686c  xhausted. Roughl
-00024800: 7920 6571 7569 7661 6c65 6e74 2074 6f3a  y equivalent to:
-00024810: 0a0a 6060 6063 6f63 6f6e 7574 5f70 7974  ..```coconut_pyt
-00024820: 686f 6e0a 6465 6620 7a69 705f 6c6f 6e67  hon.def zip_long
-00024830: 6573 7428 2a61 7267 732c 2066 696c 6c76  est(*args, fillv
-00024840: 616c 7565 3d4e 6f6e 6529 3a0a 2020 2020  alue=None):.    
-00024850: 2320 7a69 705f 6c6f 6e67 6573 7428 2741  # zip_longest('A
-00024860: 4243 4427 2c20 2778 7927 2c20 6669 6c6c  BCD', 'xy', fill
-00024870: 7661 6c75 653d 272d 2729 202d 2d3e 2041  value='-') --> A
-00024880: 7820 4279 2043 2d20 442d 0a20 2020 2069  x By C- D-.    i
-00024890: 7465 7261 746f 7273 203d 205b 6974 6572  terators = [iter
-000248a0: 2869 7429 2066 6f72 2069 7420 696e 2061  (it) for it in a
-000248b0: 7267 735d 0a20 2020 206e 756d 5f61 6374  rgs].    num_act
-000248c0: 6976 6520 3d20 6c65 6e28 6974 6572 6174  ive = len(iterat
-000248d0: 6f72 7329 0a20 2020 2069 6620 6e6f 7420  ors).    if not 
-000248e0: 6e75 6d5f 6163 7469 7665 3a0a 2020 2020  num_active:.    
-000248f0: 2020 2020 7265 7475 726e 0a20 2020 2077      return.    w
-00024900: 6869 6c65 2054 7275 653a 0a20 2020 2020  hile True:.     
-00024910: 2020 2076 616c 7565 7320 3d20 5b5d 0a20     values = []. 
-00024920: 2020 2020 2020 2066 6f72 2069 2c20 6974         for i, it
-00024930: 2069 6e20 656e 756d 6572 6174 6528 6974   in enumerate(it
-00024940: 6572 6174 6f72 7329 3a0a 2020 2020 2020  erators):.      
-00024950: 2020 2020 2020 7472 793a 0a20 2020 2020        try:.     
-00024960: 2020 2020 2020 2020 2020 2076 616c 7565             value
-00024970: 203d 206e 6578 7428 6974 290a 2020 2020   = next(it).    
-00024980: 2020 2020 2020 2020 6578 6365 7074 2053          except S
-00024990: 746f 7049 7465 7261 7469 6f6e 3a0a 2020  topIteration:.  
-000249a0: 2020 2020 2020 2020 2020 2020 2020 6e75                nu
-000249b0: 6d5f 6163 7469 7665 202d 3d20 310a 2020  m_active -= 1.  
-000249c0: 2020 2020 2020 2020 2020 2020 2020 6966                if
-000249d0: 206e 6f74 206e 756d 5f61 6374 6976 653a   not num_active:
-000249e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000249f0: 2020 2020 2072 6574 7572 6e0a 2020 2020       return.    
-00024a00: 2020 2020 2020 2020 2020 2020 6974 6572              iter
-00024a10: 6174 6f72 735b 695d 203d 2072 6570 6561  ators[i] = repea
-00024a20: 7428 6669 6c6c 7661 6c75 6529 0a20 2020  t(fillvalue).   
-00024a30: 2020 2020 2020 2020 2020 2020 2076 616c               val
-00024a40: 7565 203d 2066 696c 6c76 616c 7565 0a20  ue = fillvalue. 
-00024a50: 2020 2020 2020 2020 2020 2076 616c 7565             value
-00024a60: 732e 6170 7065 6e64 2876 616c 7565 290a  s.append(value).
-00024a70: 2020 2020 2020 2020 7969 656c 6420 7475          yield tu
-00024a80: 706c 6528 7661 6c75 6573 290a 6060 600a  ple(values).```.
-00024a90: 0a49 6620 6f6e 6520 6f66 2074 6865 2069  .If one of the i
-00024aa0: 7465 7261 626c 6573 2069 7320 706f 7465  terables is pote
-00024ab0: 6e74 6961 6c6c 7920 696e 6669 6e69 7465  ntially infinite
-00024ac0: 2c20 7468 656e 2074 6865 2060 7a69 705f  , then the `zip_
-00024ad0: 6c6f 6e67 6573 7428 2960 2066 756e 6374  longest()` funct
-00024ae0: 696f 6e20 7368 6f75 6c64 2062 6520 7772  ion should be wr
-00024af0: 6170 7065 6420 7769 7468 2073 6f6d 6574  apped with somet
-00024b00: 6869 6e67 2074 6861 7420 6c69 6d69 7473  hing that limits
-00024b10: 2074 6865 206e 756d 6265 7220 6f66 2063   the number of c
-00024b20: 616c 6c73 2028 666f 7220 6578 616d 706c  alls (for exampl
-00024b30: 6520 6974 6572 6174 6f72 2073 6c69 6369  e iterator slici
-00024b40: 6e67 206f 7220 6074 616b 6577 6869 6c65  ng or `takewhile
-00024b50: 6029 2e20 4966 206e 6f74 2073 7065 6369  `). If not speci
-00024b60: 6669 6564 2c20 5f66 696c 6c76 616c 7565  fied, _fillvalue
-00024b70: 5f20 6465 6661 756c 7473 2074 6f20 604e  _ defaults to `N
-00024b80: 6f6e 6560 2e0a 0a23 2323 2323 2045 7861  one`...##### Exa
-00024b90: 6d70 6c65 0a0a 2a2a 436f 636f 6e75 743a  mple..**Coconut:
-00024ba0: 2a2a 0a60 6060 636f 636f 6e75 740a 7265  **.```coconut.re
-00024bb0: 7375 6c74 203d 207a 6970 5f6c 6f6e 6765  sult = zip_longe
-00024bc0: 7374 2872 616e 6765 2835 292c 2072 616e  st(range(5), ran
-00024bd0: 6765 2831 3029 290a 6060 600a 0a2a 2a50  ge(10)).```..**P
-00024be0: 7974 686f 6e3a 2a2a 0a60 6060 636f 636f  ython:**.```coco
-00024bf0: 6e75 745f 7079 7468 6f6e 0a69 6d70 6f72  nut_python.impor
-00024c00: 7420 6974 6572 746f 6f6c 730a 7265 7375  t itertools.resu
-00024c10: 6c74 203d 2069 7465 7274 6f6f 6c73 2e7a  lt = itertools.z
-00024c20: 6970 5f6c 6f6e 6765 7374 2872 616e 6765  ip_longest(range
-00024c30: 2835 292c 2072 616e 6765 2831 3029 290a  (5), range(10)).
-00024c40: 6060 600a 0a23 2323 2320 6074 616b 6577  ```..#### `takew
-00024c50: 6869 6c65 600a 0a2a 2a74 616b 6577 6869  hile`..**takewhi
-00024c60: 6c65 2a2a 285f 7072 6564 6963 6174 655f  le**(_predicate_
-00024c70: 2c20 5f69 7465 7261 626c 655f 2c20 2f29  , _iterable_, /)
-00024c80: 0a0a 436f 636f 6e75 7420 7072 6f76 6964  ..Coconut provid
-00024c90: 6573 2060 6974 6572 746f 6f6c 732e 7461  es `itertools.ta
-00024ca0: 6b65 7768 696c 6560 2061 7320 6120 6275  kewhile` as a bu
-00024cb0: 696c 742d 696e 2075 6e64 6572 2074 6865  ilt-in under the
-00024cc0: 206e 616d 6520 6074 616b 6577 6869 6c65   name `takewhile
-00024cd0: 602e 0a0a 2323 2323 2320 5079 7468 6f6e  `...##### Python
-00024ce0: 2044 6f63 730a 0a2a 2a74 616b 6577 6869   Docs..**takewhi
-00024cf0: 6c65 2a2a 285f 7072 6564 6963 6174 652c  le**(_predicate,
-00024d00: 2069 7465 7261 626c 655f 290a 0a4d 616b   iterable_)..Mak
-00024d10: 6520 616e 2069 7465 7261 746f 7220 7468  e an iterator th
-00024d20: 6174 2072 6574 7572 6e73 2065 6c65 6d65  at returns eleme
-00024d30: 6e74 7320 6672 6f6d 2074 6865 205f 6974  nts from the _it
-00024d40: 6572 6162 6c65 5f20 6173 206c 6f6e 6720  erable_ as long 
-00024d50: 6173 2074 6865 205f 7072 6564 6963 6174  as the _predicat
-00024d60: 655f 2069 7320 7472 7565 2e20 4571 7569  e_ is true. Equi
-00024d70: 7661 6c65 6e74 2074 6f3a 0a60 6060 636f  valent to:.```co
-00024d80: 636f 6e75 745f 7079 7468 6f6e 0a64 6566  conut_python.def
-00024d90: 2074 616b 6577 6869 6c65 2870 7265 6469   takewhile(predi
-00024da0: 6361 7465 2c20 6974 6572 6162 6c65 293a  cate, iterable):
-00024db0: 0a20 2020 2023 2074 616b 6577 6869 6c65  .    # takewhile
-00024dc0: 286c 616d 6264 6120 783a 2078 3c35 2c20  (lambda x: x<5, 
-00024dd0: 5b31 2c34 2c36 2c34 2c31 5d29 202d 2d3e  [1,4,6,4,1]) -->
-00024de0: 2031 2034 0a20 2020 2066 6f72 2078 2069   1 4.    for x i
-00024df0: 6e20 6974 6572 6162 6c65 3a0a 2020 2020  n iterable:.    
-00024e00: 2020 2020 6966 2070 7265 6469 6361 7465      if predicate
-00024e10: 2878 293a 0a20 2020 2020 2020 2020 2020  (x):.           
-00024e20: 2079 6965 6c64 2078 0a20 2020 2020 2020   yield x.       
-00024e30: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-00024e40: 2020 2062 7265 616b 0a60 6060 0a0a 2323     break.```..##
-00024e50: 2323 2320 4578 616d 706c 650a 0a2a 2a43  ### Example..**C
-00024e60: 6f63 6f6e 7574 3a2a 2a0a 6060 6063 6f63  oconut:**.```coc
-00024e70: 6f6e 7574 0a6e 6567 6174 6976 6573 203d  onut.negatives =
-00024e80: 206e 756d 6974 6572 207c 3e20 7461 6b65   numiter |> take
-00024e90: 7768 696c 6524 2878 202d 3e20 7820 3c20  while$(x -> x < 
-00024ea0: 3029 0a60 6060 0a0a 2a2a 5079 7468 6f6e  0).```..**Python
-00024eb0: 3a2a 2a0a 6060 6063 6f63 6f6e 7574 5f70  :**.```coconut_p
-00024ec0: 7974 686f 6e0a 696d 706f 7274 2069 7465  ython.import ite
-00024ed0: 7274 6f6f 6c73 0a6e 6567 6174 6976 6573  rtools.negatives
-00024ee0: 203d 2069 7465 7274 6f6f 6c73 2e74 616b   = itertools.tak
-00024ef0: 6577 6869 6c65 286c 616d 6264 6120 783a  ewhile(lambda x:
-00024f00: 2078 203c 2030 2c20 6e75 6d69 7465 7229   x < 0, numiter)
-00024f10: 0a60 6060 0a0a 2323 2323 2060 6472 6f70  .```..#### `drop
-00024f20: 7768 696c 6560 0a0a 2a2a 6472 6f70 7768  while`..**dropwh
-00024f30: 696c 652a 2a28 5f70 7265 6469 6361 7465  ile**(_predicate
-00024f40: 5f2c 205f 6974 6572 6162 6c65 5f2c 202f  _, _iterable_, /
-00024f50: 290a 0a43 6f63 6f6e 7574 2070 726f 7669  )..Coconut provi
-00024f60: 6465 7320 6069 7465 7274 6f6f 6c73 2e64  des `itertools.d
-00024f70: 726f 7077 6869 6c65 6020 6173 2061 2062  ropwhile` as a b
-00024f80: 7569 6c74 2d69 6e20 756e 6465 7220 7468  uilt-in under th
-00024f90: 6520 6e61 6d65 2060 6472 6f70 7768 696c  e name `dropwhil
-00024fa0: 6560 2e0a 0a23 2323 2323 2050 7974 686f  e`...##### Pytho
-00024fb0: 6e20 446f 6373 0a0a 2a2a 6472 6f70 7768  n Docs..**dropwh
-00024fc0: 696c 652a 2a28 5f70 7265 6469 6361 7465  ile**(_predicate
-00024fd0: 2c20 6974 6572 6162 6c65 5f29 0a0a 4d61  , iterable_)..Ma
-00024fe0: 6b65 2061 6e20 6974 6572 6174 6f72 2074  ke an iterator t
-00024ff0: 6861 7420 6472 6f70 7320 656c 656d 656e  hat drops elemen
-00025000: 7473 2066 726f 6d20 7468 6520 5f69 7465  ts from the _ite
-00025010: 7261 626c 655f 2061 7320 6c6f 6e67 2061  rable_ as long a
-00025020: 7320 7468 6520 5f70 7265 6469 6361 7465  s the _predicate
-00025030: 5f20 6973 2074 7275 653b 2061 6674 6572  _ is true; after
-00025040: 7761 7264 732c 2072 6574 7572 6e73 2065  wards, returns e
-00025050: 7665 7279 2065 6c65 6d65 6e74 2e20 4e6f  very element. No
-00025060: 7465 3a20 7468 6520 6974 6572 6174 6f72  te: the iterator
-00025070: 2064 6f65 7320 6e6f 7420 7072 6f64 7563   does not produc
-00025080: 6520 616e 7920 6f75 7470 7574 2075 6e74  e any output unt
-00025090: 696c 2074 6865 2070 7265 6469 6361 7465  il the predicate
-000250a0: 2066 6972 7374 2062 6563 6f6d 6573 2066   first becomes f
-000250b0: 616c 7365 2c20 736f 2069 7420 6d61 7920  alse, so it may 
-000250c0: 6861 7665 2061 206c 656e 6774 6879 2073  have a lengthy s
-000250d0: 7461 7274 2d75 7020 7469 6d65 2e20 4571  tart-up time. Eq
-000250e0: 7569 7661 6c65 6e74 2074 6f3a 0a60 6060  uivalent to:.```
-000250f0: 636f 636f 6e75 745f 7079 7468 6f6e 0a64  coconut_python.d
-00025100: 6566 2064 726f 7077 6869 6c65 2870 7265  ef dropwhile(pre
-00025110: 6469 6361 7465 2c20 6974 6572 6162 6c65  dicate, iterable
-00025120: 293a 0a20 2020 2023 2064 726f 7077 6869  ):.    # dropwhi
-00025130: 6c65 286c 616d 6264 6120 783a 2078 3c35  le(lambda x: x<5
-00025140: 2c20 5b31 2c34 2c36 2c34 2c31 5d29 202d  , [1,4,6,4,1]) -
-00025150: 2d3e 2036 2034 2031 0a20 2020 2069 7465  -> 6 4 1.    ite
-00025160: 7261 626c 6520 3d20 6974 6572 2869 7465  rable = iter(ite
-00025170: 7261 626c 6529 0a20 2020 2066 6f72 2078  rable).    for x
-00025180: 2069 6e20 6974 6572 6162 6c65 3a0a 2020   in iterable:.  
-00025190: 2020 2020 2020 6966 206e 6f74 2070 7265        if not pre
-000251a0: 6469 6361 7465 2878 293a 0a20 2020 2020  dicate(x):.     
-000251b0: 2020 2020 2020 2079 6965 6c64 2078 0a20         yield x. 
-000251c0: 2020 2020 2020 2020 2020 2062 7265 616b             break
-000251d0: 0a20 2020 2066 6f72 2078 2069 6e20 6974  .    for x in it
-000251e0: 6572 6162 6c65 3a0a 2020 2020 2020 2020  erable:.        
-000251f0: 7969 656c 6420 780a 6060 600a 0a23 2323  yield x.```..###
-00025200: 2323 2045 7861 6d70 6c65 0a0a 2a2a 436f  ## Example..**Co
-00025210: 636f 6e75 743a 2a2a 0a60 6060 636f 636f  conut:**.```coco
-00025220: 6e75 740a 706f 7369 7469 7665 7320 3d20  nut.positives = 
-00025230: 6e75 6d69 7465 7220 7c3e 2064 726f 7077  numiter |> dropw
-00025240: 6869 6c65 2428 7820 2d3e 2078 203c 2030  hile$(x -> x < 0
-00025250: 290a 6060 600a 0a2a 2a50 7974 686f 6e3a  ).```..**Python:
-00025260: 2a2a 0a60 6060 636f 636f 6e75 745f 7079  **.```coconut_py
-00025270: 7468 6f6e 0a69 6d70 6f72 7420 6974 6572  thon.import iter
-00025280: 746f 6f6c 730a 706f 7369 7469 7665 7320  tools.positives 
-00025290: 3d20 6974 6572 746f 6f6c 732e 6472 6f70  = itertools.drop
-000252a0: 7768 696c 6528 6c61 6d62 6461 2078 3a20  while(lambda x: 
-000252b0: 7820 3c20 302c 206e 756d 6974 6572 290a  x < 0, numiter).
-000252c0: 6060 600a 0a23 2323 2320 6066 6c61 7474  ```..#### `flatt
-000252d0: 656e 600a 0a2a 2a66 6c61 7474 656e 2a2a  en`..**flatten**
-000252e0: 285f 6974 6572 6162 6c65 5f2c 205f 6c65  (_iterable_, _le
-000252f0: 7665 6c73 5f3d 6031 6029 0a0a 436f 636f  vels_=`1`)..Coco
-00025300: 6e75 7420 7072 6f76 6964 6573 2061 6e20  nut provides an 
-00025310: 656e 6861 6e63 6564 2076 6572 7369 6f6e  enhanced version
-00025320: 206f 6620 6069 7465 7274 6f6f 6c73 2e63   of `itertools.c
-00025330: 6861 696e 2e66 726f 6d5f 6974 6572 6162  hain.from_iterab
-00025340: 6c65 6020 6173 2061 2062 7569 6c74 2d69  le` as a built-i
-00025350: 6e20 756e 6465 7220 7468 6520 6e61 6d65  n under the name
-00025360: 2060 666c 6174 7465 6e60 2077 6974 6820   `flatten` with 
-00025370: 6164 6465 6420 7375 7070 6f72 7420 666f  added support fo
-00025380: 7220 6072 6576 6572 7365 6460 2c20 6072  r `reversed`, `r
-00025390: 6570 7260 2c20 6069 6e60 2c20 602e 636f  epr`, `in`, `.co
-000253a0: 756e 7428 2960 2c20 602e 696e 6465 7828  unt()`, `.index(
-000253b0: 2960 2c20 616e 6420 6066 6d61 7060 2e0a  )`, and `fmap`..
-000253c0: 0a42 7920 6465 6661 756c 742c 2060 666c  .By default, `fl
-000253d0: 6174 7465 6e60 206f 6e6c 7920 666c 6174  atten` only flat
-000253e0: 7465 6e73 2074 6865 2074 6f70 206c 6576  tens the top lev
-000253f0: 656c 206f 6620 7468 6520 6769 7665 6e20  el of the given 
-00025400: 6974 6572 6162 6c65 2f61 7272 6179 2e20  iterable/array. 
-00025410: 4966 205f 6c65 7665 6c73 5f20 6973 2070  If _levels_ is p
-00025420: 6173 7365 642c 2068 6f77 6576 6572 2c20  assed, however, 
-00025430: 6974 2063 616e 2062 6520 7573 6564 2074  it can be used t
-00025440: 6f20 636f 6e74 726f 6c20 7468 6520 6e75  o control the nu
-00025450: 6d62 6572 206f 6620 6c65 7665 6c73 2066  mber of levels f
-00025460: 6c61 7474 656e 6564 2c20 7769 7468 2060  lattened, with `
-00025470: 3060 206d 6561 6e69 6e67 206e 6f20 666c  0` meaning no fl
-00025480: 6174 7465 6e69 6e67 2061 6e64 2060 4e6f  attening and `No
-00025490: 6e65 6020 666c 6174 7465 6e69 6e67 2061  ne` flattening a
-000254a0: 7320 6d61 6e79 2069 7465 7261 626c 6573  s many iterables
-000254b0: 2061 7320 6172 6520 666f 756e 642e 204e   as are found. N
-000254c0: 6f74 6520 7468 6174 2069 6620 5f6c 6576  ote that if _lev
-000254d0: 656c 735f 2069 7320 7365 7420 746f 2061  els_ is set to a
-000254e0: 6e79 206e 6f6e 2d60 4e6f 6e65 6020 7661  ny non-`None` va
-000254f0: 6c75 652c 2074 6865 2066 6972 7374 205f  lue, the first _
-00025500: 6c65 7665 6c73 5f20 6c65 7665 6c73 206d  levels_ levels m
-00025510: 7573 7420 6265 2069 7465 7261 626c 6573  ust be iterables
-00025520: 2c20 6f72 2065 6c73 6520 616e 2065 7272  , or else an err
-00025530: 6f72 2077 696c 6c20 6265 2072 6169 7365  or will be raise
-00025540: 642e 0a0a 2323 2323 2320 5079 7468 6f6e  d...##### Python
-00025550: 2044 6f63 730a 0a63 6861 696e 2e2a 2a66   Docs..chain.**f
-00025560: 726f 6d5f 6974 6572 6162 6c65 2a2a 285f  rom_iterable**(_
-00025570: 6974 6572 6162 6c65 5f29 0a0a 416c 7465  iterable_)..Alte
-00025580: 726e 6174 6520 636f 6e73 7472 7563 746f  rnate constructo
-00025590: 7220 666f 7220 6063 6861 696e 2829 602e  r for `chain()`.
-000255a0: 2047 6574 7320 6368 6169 6e65 6420 696e   Gets chained in
-000255b0: 7075 7473 2066 726f 6d20 6120 7369 6e67  puts from a sing
-000255c0: 6c65 2069 7465 7261 626c 6520 6172 6775  le iterable argu
-000255d0: 6d65 6e74 2074 6861 7420 6973 2065 7661  ment that is eva
-000255e0: 6c75 6174 6564 206c 617a 696c 792e 2052  luated lazily. R
-000255f0: 6f75 6768 6c79 2065 7175 6976 616c 656e  oughly equivalen
-00025600: 7420 746f 3a0a 0a60 6060 636f 636f 6e75  t to:..```coconu
-00025610: 745f 7079 7468 6f6e 0a64 6566 2066 6c61  t_python.def fla
-00025620: 7474 656e 2869 7465 7261 626c 6573 293a  tten(iterables):
-00025630: 0a20 2020 2023 2066 6c61 7474 656e 285b  .    # flatten([
-00025640: 2741 4243 272c 2027 4445 4627 5d29 202d  'ABC', 'DEF']) -
-00025650: 2d3e 2041 2042 2043 2044 2045 2046 0a20  -> A B C D E F. 
-00025660: 2020 2066 6f72 2069 7420 696e 2069 7465     for it in ite
-00025670: 7261 626c 6573 3a0a 2020 2020 2020 2020  rables:.        
-00025680: 666f 7220 656c 656d 656e 7420 696e 2069  for element in i
-00025690: 743a 0a20 2020 2020 2020 2020 2020 2079  t:.            y
-000256a0: 6965 6c64 2065 6c65 6d65 6e74 0a60 6060  ield element.```
-000256b0: 0a0a 2323 2323 2320 4578 616d 706c 650a  ..##### Example.
-000256c0: 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0a 6060  .**Coconut:**.``
-000256d0: 6063 6f63 6f6e 7574 0a69 7465 725f 6f66  `coconut.iter_of
-000256e0: 5f69 7465 7273 203d 205b 5b31 2c20 325d  _iters = [[1, 2]
-000256f0: 2c20 5b33 2c20 345d 5d0a 666c 6174 5f69  , [3, 4]].flat_i
-00025700: 7420 3d20 6974 6572 5f6f 665f 6974 6572  t = iter_of_iter
-00025710: 7320 7c3e 2066 6c61 7474 656e 207c 3e20  s |> flatten |> 
-00025720: 6c69 7374 0a60 6060 0a0a 2a2a 5079 7468  list.```..**Pyth
-00025730: 6f6e 3a2a 2a0a 6060 6063 6f63 6f6e 7574  on:**.```coconut
-00025740: 5f70 7974 686f 6e0a 6672 6f6d 2069 7465  _python.from ite
-00025750: 7274 6f6f 6c73 2069 6d70 6f72 7420 6368  rtools import ch
-00025760: 6169 6e0a 6974 6572 5f6f 665f 6974 6572  ain.iter_of_iter
-00025770: 7320 3d20 5b5b 312c 2032 5d2c 205b 332c  s = [[1, 2], [3,
-00025780: 2034 5d5d 0a66 6c61 745f 6974 203d 2069   4]].flat_it = i
-00025790: 7465 725f 6f66 5f69 7465 7273 207c 3e20  ter_of_iters |> 
-000257a0: 6368 6169 6e2e 6672 6f6d 5f69 7465 7261  chain.from_itera
-000257b0: 626c 6520 7c3e 206c 6973 740a 6060 600a  ble |> list.```.
-000257c0: 0a23 2323 2320 6073 6361 6e60 0a0a 2a2a  .#### `scan`..**
-000257d0: 7363 616e 2a2a 285f 6675 6e63 7469 6f6e  scan**(_function
-000257e0: 5f2c 205f 6974 6572 6162 6c65 5f5b 2c20  _, _iterable_[, 
-000257f0: 5f69 6e69 7469 616c 5f5d 290a 0a43 6f63  _initial_])..Coc
-00025800: 6f6e 7574 2070 726f 7669 6465 7320 6120  onut provides a 
-00025810: 6d6f 6469 6669 6564 2076 6572 7369 6f6e  modified version
-00025820: 206f 6620 6069 7465 7274 6f6f 6c73 2e61   of `itertools.a
-00025830: 6363 756d 756c 6174 6560 2077 6974 6820  ccumulate` with 
-00025840: 6f70 706f 7369 7465 2061 7267 756d 656e  opposite argumen
-00025850: 7420 6f72 6465 7220 6173 2060 7363 616e  t order as `scan
-00025860: 6020 7468 6174 2061 6c73 6f20 7375 7070  ` that also supp
-00025870: 6f72 7473 2060 7265 7072 602c 2060 6c65  orts `repr`, `le
-00025880: 6e60 2c20 616e 6420 6066 756e 6360 2f60  n`, and `func`/`
-00025890: 6974 6572 602f 6069 6e69 7469 616c 6020  iter`/`initial` 
-000258a0: 6174 7472 6962 7574 6573 2e20 6073 6361  attributes. `sca
-000258b0: 6e60 2077 6f72 6b73 2065 7861 6374 6c79  n` works exactly
-000258c0: 206c 696b 6520 5b60 7265 6475 6365 605d   like [`reduce`]
-000258d0: 2823 7265 6475 6365 292c 2065 7863 6570  (#reduce), excep
-000258e0: 7420 7468 6174 2069 6e73 7465 6164 206f  t that instead o
-000258f0: 6620 6f6e 6c79 2072 6574 7572 6e69 6e67  f only returning
-00025900: 2074 6865 206c 6173 7420 6163 6375 6d75   the last accumu
-00025910: 6c61 7465 6420 7661 6c75 652c 2069 7420  lated value, it 
-00025920: 7265 7475 726e 7320 616e 2069 7465 7261  returns an itera
-00025930: 746f 7220 6f66 2061 6c6c 2074 6865 2069  tor of all the i
-00025940: 6e74 6572 6d65 6469 6174 6520 7661 6c75  ntermediate valu
-00025950: 6573 2e0a 0a23 2323 2323 2050 7974 686f  es...##### Pytho
-00025960: 6e20 446f 6373 0a0a 2a2a 7363 616e 2a2a  n Docs..**scan**
-00025970: 285f 6675 6e63 7469 6f6e 2c20 6974 6572  (_function, iter
-00025980: 6162 6c65 5f2a 2a5b 2a2a 5f2c 2069 6e69  able_**[**_, ini
-00025990: 7469 616c 5f2a 2a5d 2a2a 290a 0a4d 616b  tial_**]**)..Mak
-000259a0: 6520 616e 2069 7465 7261 746f 7220 7468  e an iterator th
-000259b0: 6174 2072 6574 7572 6e73 2061 6363 756d  at returns accum
-000259c0: 756c 6174 6564 2072 6573 756c 7473 206f  ulated results o
-000259d0: 6620 736f 6d65 2066 756e 6374 696f 6e20  f some function 
-000259e0: 6f66 2074 776f 2061 7267 756d 656e 7473  of two arguments
-000259f0: 2e20 456c 656d 656e 7473 206f 6620 7468  . Elements of th
-00025a00: 6520 696e 7075 7420 6974 6572 6162 6c65  e input iterable
-00025a10: 206d 6179 2062 6520 616e 7920 7479 7065   may be any type
-00025a20: 2074 6861 7420 6361 6e20 6265 2061 6363   that can be acc
-00025a30: 6570 7465 6420 6173 2061 7267 756d 656e  epted as argumen
-00025a40: 7473 2074 6f20 5f66 756e 6374 696f 6e5f  ts to _function_
-00025a50: 2e20 2846 6f72 2065 7861 6d70 6c65 2c20  . (For example, 
-00025a60: 7769 7468 2074 6865 206f 7065 7261 7469  with the operati
-00025a70: 6f6e 206f 6620 6164 6469 7469 6f6e 2c20  on of addition, 
-00025a80: 656c 656d 656e 7473 206d 6179 2062 6520  elements may be 
-00025a90: 616e 7920 6164 6461 626c 6520 7479 7065  any addable type
-00025aa0: 2069 6e63 6c75 6469 6e67 2044 6563 696d   including Decim
-00025ab0: 616c 206f 7220 4672 6163 7469 6f6e 2e29  al or Fraction.)
-00025ac0: 2049 6620 7468 6520 696e 7075 7420 6974   If the input it
-00025ad0: 6572 6162 6c65 2069 7320 656d 7074 792c  erable is empty,
-00025ae0: 2074 6865 206f 7574 7075 7420 6974 6572   the output iter
-00025af0: 6162 6c65 2077 696c 6c20 616c 736f 2062  able will also b
-00025b00: 6520 656d 7074 792e 0a0a 4966 206e 6f20  e empty...If no 
-00025b10: 5f69 6e69 7469 616c 5f20 6973 2067 6976  _initial_ is giv
-00025b20: 656e 2c20 726f 7567 686c 7920 6571 7569  en, roughly equi
-00025b30: 7661 6c65 6e74 2074 6f3a 0a60 6060 636f  valent to:.```co
-00025b40: 636f 6e75 745f 7079 7468 6f6e 0a64 6566  conut_python.def
-00025b50: 2073 6361 6e28 6675 6e63 7469 6f6e 2c20   scan(function, 
-00025b60: 6974 6572 6162 6c65 293a 0a20 2020 2027  iterable):.    '
-00025b70: 5265 7475 726e 2072 756e 6e69 6e67 2074  Return running t
-00025b80: 6f74 616c 7327 0a20 2020 2023 2073 6361  otals'.    # sca
-00025b90: 6e28 6f70 6572 6174 6f72 2e61 6464 2c20  n(operator.add, 
-00025ba0: 5b31 2c32 2c33 2c34 2c35 5d29 202d 2d3e  [1,2,3,4,5]) -->
-00025bb0: 2031 2033 2036 2031 3020 3135 0a20 2020   1 3 6 10 15.   
-00025bc0: 2023 2073 6361 6e28 6f70 6572 6174 6f72   # scan(operator
-00025bd0: 2e6d 756c 2c20 5b31 2c32 2c33 2c34 2c35  .mul, [1,2,3,4,5
-00025be0: 5d29 202d 2d3e 2031 2032 2036 2032 3420  ]) --> 1 2 6 24 
-00025bf0: 3132 300a 2020 2020 6974 203d 2069 7465  120.    it = ite
-00025c00: 7228 6974 6572 6162 6c65 290a 2020 2020  r(iterable).    
-00025c10: 7472 793a 0a20 2020 2020 2020 2074 6f74  try:.        tot
-00025c20: 616c 203d 206e 6578 7428 6974 290a 2020  al = next(it).  
-00025c30: 2020 6578 6365 7074 2053 746f 7049 7465    except StopIte
-00025c40: 7261 7469 6f6e 3a0a 2020 2020 2020 2020  ration:.        
-00025c50: 7265 7475 726e 0a20 2020 2079 6965 6c64  return.    yield
-00025c60: 2074 6f74 616c 0a20 2020 2066 6f72 2065   total.    for e
-00025c70: 6c65 6d65 6e74 2069 6e20 6974 3a0a 2020  lement in it:.  
-00025c80: 2020 2020 2020 746f 7461 6c20 3d20 6675        total = fu
-00025c90: 6e63 7469 6f6e 2874 6f74 616c 2c20 656c  nction(total, el
-00025ca0: 656d 656e 7429 0a20 2020 2020 2020 2079  ement).        y
-00025cb0: 6965 6c64 2074 6f74 616c 0a60 6060 0a0a  ield total.```..
-00025cc0: 2323 2323 2320 4578 616d 706c 650a 0a2a  ##### Example..*
-00025cd0: 2a43 6f63 6f6e 7574 3a2a 2a0a 6060 6063  *Coconut:**.```c
-00025ce0: 6f63 6f6e 7574 0a69 6e70 7574 5f64 6174  oconut.input_dat
-00025cf0: 6120 3d20 5b33 2c20 342c 2036 2c20 322c  a = [3, 4, 6, 2,
-00025d00: 2031 2c20 392c 2030 2c20 372c 2035 2c20   1, 9, 0, 7, 5, 
-00025d10: 385d 0a72 756e 6e69 6e67 5f6d 6178 203d  8].running_max =
-00025d20: 2069 6e70 7574 5f64 6174 6120 7c3e 2073   input_data |> s
-00025d30: 6361 6e24 286d 6178 2920 7c3e 206c 6973  can$(max) |> lis
-00025d40: 740a 6060 600a 0a2a 2a50 7974 686f 6e3a  t.```..**Python:
-00025d50: 2a2a 0a60 6060 636f 636f 6e75 745f 7079  **.```coconut_py
-00025d60: 7468 6f6e 0a69 6e70 7574 5f64 6174 6120  thon.input_data 
-00025d70: 3d20 5b33 2c20 342c 2036 2c20 322c 2031  = [3, 4, 6, 2, 1
-00025d80: 2c20 392c 2030 2c20 372c 2035 2c20 385d  , 9, 0, 7, 5, 8]
-00025d90: 0a72 756e 6e69 6e67 5f6d 6178 203d 205b  .running_max = [
-00025da0: 5d0a 6d61 785f 736f 5f66 6172 203d 2069  ].max_so_far = i
-00025db0: 6e70 7574 5f64 6174 615b 305d 0a66 6f72  nput_data[0].for
-00025dc0: 2078 2069 6e20 696e 7075 745f 6461 7461   x in input_data
-00025dd0: 3a0a 2020 2020 6966 2078 203e 206d 6178  :.    if x > max
-00025de0: 5f73 6f5f 6661 723a 0a20 2020 2020 2020  _so_far:.       
-00025df0: 206d 6178 5f73 6f5f 6661 7220 3d20 780a   max_so_far = x.
-00025e00: 2020 2020 7275 6e6e 696e 675f 6d61 782e      running_max.
-00025e10: 6170 7065 6e64 2878 290a 6060 600a 0a23  append(x).```..#
-00025e20: 2323 2320 6063 6f75 6e74 600a 0a2a 2a63  ### `count`..**c
-00025e30: 6f75 6e74 2a2a 285f 7374 6172 745f 3d60  ount**(_start_=`
-00025e40: 3060 2c20 5f73 7465 705f 3d60 3160 290a  0`, _step_=`1`).
-00025e50: 0a43 6f63 6f6e 7574 2070 726f 7669 6465  .Coconut provide
-00025e60: 7320 6120 6d6f 6469 6669 6564 2076 6572  s a modified ver
-00025e70: 7369 6f6e 206f 6620 6069 7465 7274 6f6f  sion of `itertoo
-00025e80: 6c73 2e63 6f75 6e74 6020 7468 6174 2073  ls.count` that s
-00025e90: 7570 706f 7274 7320 6069 6e60 2c20 6e6f  upports `in`, no
-00025ea0: 726d 616c 2073 6c69 6369 6e67 2c20 6f70  rmal slicing, op
-00025eb0: 7469 6d69 7a65 6420 6974 6572 6174 6f72  timized iterator
-00025ec0: 2073 6c69 6369 6e67 2c20 7468 6520 7374   slicing, the st
-00025ed0: 616e 6461 7264 2060 636f 756e 7460 2061  andard `count` a
-00025ee0: 6e64 2060 696e 6465 7860 2073 6571 7565  nd `index` seque
-00025ef0: 6e63 6520 6d65 7468 6f64 732c 2060 7265  nce methods, `re
-00025f00: 7072 602c 2061 6e64 2060 7374 6172 7460  pr`, and `start`
-00025f10: 2f60 7374 6570 6020 6174 7472 6962 7574  /`step` attribut
-00025f20: 6573 2061 7320 6120 6275 696c 742d 696e  es as a built-in
-00025f30: 2075 6e64 6572 2074 6865 206e 616d 6520   under the name 
-00025f40: 6063 6f75 6e74 602e 0a0a 4164 6469 7469  `count`...Additi
-00025f50: 6f6e 616c 6c79 2c20 6966 2074 6865 205f  onally, if the _
-00025f60: 7374 6570 5f20 7061 7261 6d65 7465 7220  step_ parameter 
-00025f70: 6973 2073 6574 2074 6f20 604e 6f6e 6560  is set to `None`
-00025f80: 2c20 6063 6f75 6e74 6020 7769 6c6c 2062  , `count` will b
-00025f90: 6568 6176 6520 6c69 6b65 2060 6974 6572  ehave like `iter
-00025fa0: 746f 6f6c 732e 7265 7065 6174 6020 696e  tools.repeat` in
-00025fb0: 7374 6561 642e 0a0a 2323 2323 2320 5079  stead...##### Py
-00025fc0: 7468 6f6e 2044 6f63 730a 0a2a 2a63 6f75  thon Docs..**cou
-00025fd0: 6e74 2a2a 285f 7374 6172 743d 302c 2073  nt**(_start=0, s
-00025fe0: 7465 703d 315f 290a 0a4d 616b 6520 616e  tep=1_)..Make an
-00025ff0: 2069 7465 7261 746f 7220 7468 6174 2072   iterator that r
-00026000: 6574 7572 6e73 2065 7665 6e6c 7920 7370  eturns evenly sp
-00026010: 6163 6564 2076 616c 7565 7320 7374 6172  aced values star
-00026020: 7469 6e67 2077 6974 6820 6e75 6d62 6572  ting with number
-00026030: 205f 7374 6172 745f 2e20 4f66 7465 6e20   _start_. Often 
-00026040: 7573 6564 2061 7320 616e 2061 7267 756d  used as an argum
-00026050: 656e 7420 746f 2060 6d61 7028 2960 2074  ent to `map()` t
-00026060: 6f20 6765 6e65 7261 7465 2063 6f6e 7365  o generate conse
-00026070: 6375 7469 7665 2064 6174 6120 706f 696e  cutive data poin
-00026080: 7473 2e20 416c 736f 2c20 7573 6564 2077  ts. Also, used w
-00026090: 6974 6820 607a 6970 2829 6020 746f 2061  ith `zip()` to a
-000260a0: 6464 2073 6571 7565 6e63 6520 6e75 6d62  dd sequence numb
-000260b0: 6572 732e 2052 6f75 6768 6c79 2065 7175  ers. Roughly equ
-000260c0: 6976 616c 656e 7420 746f 3a0a 6060 6063  ivalent to:.```c
-000260d0: 6f63 6f6e 7574 5f70 7974 686f 6e0a 6465  oconut_python.de
-000260e0: 6620 636f 756e 7428 7374 6172 743d 302c  f count(start=0,
-000260f0: 2073 7465 703d 3129 3a0a 2020 2020 2320   step=1):.    # 
-00026100: 636f 756e 7428 3130 2920 2d2d 3e20 3130  count(10) --> 10
-00026110: 2031 3120 3132 2031 3320 3134 202e 2e2e   11 12 13 14 ...
-00026120: 0a20 2020 2023 2063 6f75 6e74 2832 2e35  .    # count(2.5
-00026130: 2c20 302e 3529 202d 3e20 322e 3520 332e  , 0.5) -> 2.5 3.
-00026140: 3020 332e 3520 2e2e 2e0a 2020 2020 6e20  0 3.5 ....    n 
-00026150: 3d20 7374 6172 740a 2020 2020 7768 696c  = start.    whil
-00026160: 6520 5472 7565 3a0a 2020 2020 2020 2020  e True:.        
-00026170: 7969 656c 6420 6e0a 2020 2020 2020 2020  yield n.        
-00026180: 6966 2073 7465 703a 0a20 2020 2020 2020  if step:.       
-00026190: 2020 206e 202b 3d20 7374 6570 0a60 6060     n += step.```
-000261a0: 0a0a 2323 2323 2320 4578 616d 706c 650a  ..##### Example.
-000261b0: 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0a 6060  .**Coconut:**.``
-000261c0: 6063 6f63 6f6e 7574 0a63 6f75 6e74 2829  `coconut.count()
-000261d0: 245b 3130 2a2a 3130 305d 207c 3e20 7072  $[10**100] |> pr
-000261e0: 696e 740a 6060 600a 0a2a 2a50 7974 686f  int.```..**Pytho
-000261f0: 6e3a 2a2a 0a5f 4361 6e27 7420 6265 2064  n:**._Can't be d
-00026200: 6f6e 6520 7175 6963 6b6c 7920 7769 7468  one quickly with
-00026210: 6f75 7420 436f 636f 6e75 7427 7320 6974  out Coconut's it
-00026220: 6572 6174 6f72 2073 6c69 6369 6e67 2c20  erator slicing, 
-00026230: 7768 6963 6820 7265 7175 6972 6573 206d  which requires m
-00026240: 616e 7920 636f 6d70 6c69 6361 7465 6420  any complicated 
-00026250: 7069 6563 6573 2e20 5468 6520 6e65 6365  pieces. The nece
-00026260: 7373 6172 7920 6465 6669 6e69 7469 6f6e  ssary definition
-00026270: 7320 696e 2050 7974 686f 6e20 6361 6e20  s in Python can 
-00026280: 6265 2066 6f75 6e64 2069 6e20 7468 6520  be found in the 
-00026290: 436f 636f 6e75 7420 6865 6164 6572 2e5f  Coconut header._
-000262a0: 0a0a 2323 2323 2060 6379 636c 6560 0a0a  ..#### `cycle`..
-000262b0: 2a2a 6379 636c 652a 2a28 5f69 7465 7261  **cycle**(_itera
-000262c0: 626c 655f 2c20 5f74 696d 6573 5f3d 604e  ble_, _times_=`N
-000262d0: 6f6e 6560 290a 0a43 6f63 6f6e 7574 2773  one`)..Coconut's
-000262e0: 2060 6379 636c 6560 2069 7320 6120 6d6f   `cycle` is a mo
-000262f0: 6469 6669 6564 2076 6572 7369 6f6e 206f  dified version o
-00026300: 6620 6069 7465 7274 6f6f 6c73 2e63 7963  f `itertools.cyc
-00026310: 6c65 6020 7769 7468 2061 2060 7469 6d65  le` with a `time
-00026320: 7360 2070 6172 616d 6574 6572 2074 6861  s` parameter tha
-00026330: 7420 636f 6e74 726f 6c73 2074 6865 206e  t controls the n
-00026340: 756d 6265 7220 6f66 2074 696d 6573 2074  umber of times t
-00026350: 6f20 6379 636c 6520 7468 726f 7567 6820  o cycle through 
-00026360: 5f69 7465 7261 626c 655f 2062 6566 6f72  _iterable_ befor
-00026370: 6520 7374 6f70 7069 6e67 2e20 6063 7963  e stopping. `cyc
-00026380: 6c65 6020 616c 736f 2073 7570 706f 7274  le` also support
-00026390: 7320 6069 6e60 2c20 736c 6963 696e 672c  s `in`, slicing,
-000263a0: 2060 6c65 6e60 2c20 6072 6576 6572 7365   `len`, `reverse
-000263b0: 6460 2c20 602e 636f 756e 7428 2960 2c20  d`, `.count()`, 
-000263c0: 602e 696e 6465 7828 2960 2c20 616e 6420  `.index()`, and 
-000263d0: 6072 6570 7260 2e0a 0a23 2323 2323 2050  `repr`...##### P
-000263e0: 7974 686f 6e20 446f 6373 0a0a 2a2a 6379  ython Docs..**cy
-000263f0: 636c 652a 2a28 5f69 7465 7261 626c 655f  cle**(_iterable_
-00026400: 290a 0a4d 616b 6520 616e 2069 7465 7261  )..Make an itera
-00026410: 746f 7220 7265 7475 726e 696e 6720 656c  tor returning el
-00026420: 656d 656e 7473 2066 726f 6d20 7468 6520  ements from the 
-00026430: 6974 6572 6162 6c65 2061 6e64 2073 6176  iterable and sav
-00026440: 696e 6720 6120 636f 7079 206f 6620 6561  ing a copy of ea
-00026450: 6368 2e20 5768 656e 2074 6865 2069 7465  ch. When the ite
-00026460: 7261 626c 6520 6973 2065 7868 6175 7374  rable is exhaust
-00026470: 6564 2c20 7265 7475 726e 2065 6c65 6d65  ed, return eleme
-00026480: 6e74 7320 6672 6f6d 2074 6865 2073 6176  nts from the sav
-00026490: 6564 2063 6f70 792e 2052 6570 6561 7473  ed copy. Repeats
-000264a0: 2069 6e64 6566 696e 6974 656c 792e 2052   indefinitely. R
-000264b0: 6f75 6768 6c79 2065 7175 6976 616c 656e  oughly equivalen
-000264c0: 7420 746f 3a0a 0a60 6060 636f 636f 6e75  t to:..```coconu
-000264d0: 745f 7079 7468 6f6e 0a64 6566 2063 7963  t_python.def cyc
-000264e0: 6c65 2869 7465 7261 626c 6529 3a0a 2020  le(iterable):.  
-000264f0: 2020 2320 6379 636c 6528 2741 4243 4427    # cycle('ABCD'
-00026500: 2920 2d2d 3e20 4120 4220 4320 4420 4120  ) --> A B C D A 
-00026510: 4220 4320 4420 4120 4220 4320 4420 2e2e  B C D A B C D ..
-00026520: 2e0a 2020 2020 7361 7665 6420 3d20 5b5d  ..    saved = []
-00026530: 0a20 2020 2066 6f72 2065 6c65 6d65 6e74  .    for element
-00026540: 2069 6e20 6974 6572 6162 6c65 3a0a 2020   in iterable:.  
-00026550: 2020 2020 2020 7969 656c 6420 656c 656d        yield elem
-00026560: 656e 740a 2020 2020 2020 2020 7361 7665  ent.        save
-00026570: 642e 6170 7065 6e64 2865 6c65 6d65 6e74  d.append(element
-00026580: 290a 2020 2020 7768 696c 6520 7361 7665  ).    while save
-00026590: 643a 0a20 2020 2020 2020 2066 6f72 2065  d:.        for e
-000265a0: 6c65 6d65 6e74 2069 6e20 7361 7665 643a  lement in saved:
-000265b0: 0a20 2020 2020 2020 2020 2020 2020 2079  .              y
-000265c0: 6965 6c64 2065 6c65 6d65 6e74 0a60 6060  ield element.```
-000265d0: 0a0a 4e6f 7465 2c20 7468 6973 206d 656d  ..Note, this mem
-000265e0: 6265 7220 6f66 2074 6865 2074 6f6f 6c6b  ber of the toolk
-000265f0: 6974 206d 6179 2072 6571 7569 7265 2073  it may require s
-00026600: 6967 6e69 6669 6361 6e74 2061 7578 696c  ignificant auxil
-00026610: 6961 7279 2073 746f 7261 6765 2028 6465  iary storage (de
-00026620: 7065 6e64 696e 6720 6f6e 2074 6865 206c  pending on the l
-00026630: 656e 6774 6820 6f66 2074 6865 2069 7465  ength of the ite
-00026640: 7261 626c 6529 2e0a 0a23 2323 2323 2045  rable)...##### E
-00026650: 7861 6d70 6c65 0a0a 2a2a 436f 636f 6e75  xample..**Coconu
-00026660: 743a 2a2a 0a60 6060 636f 636f 6e75 740a  t:**.```coconut.
-00026670: 6379 636c 6528 7261 6e67 6528 3229 2c20  cycle(range(2), 
-00026680: 3229 207c 3e20 6c69 7374 207c 3e20 7072  2) |> list |> pr
-00026690: 696e 740a 6060 600a 0a2a 2a50 7974 686f  int.```..**Pytho
-000266a0: 6e3a 2a2a 0a60 6060 636f 636f 6e75 745f  n:**.```coconut_
-000266b0: 7079 7468 6f6e 0a66 726f 6d20 6974 6572  python.from iter
-000266c0: 746f 6f6c 7320 696d 706f 7274 2063 7963  tools import cyc
-000266d0: 6c65 2c20 6973 6c69 6365 0a70 7269 6e74  le, islice.print
-000266e0: 286c 6973 7428 6973 6c69 6365 2863 7963  (list(islice(cyc
-000266f0: 6c65 2872 616e 6765 2832 2929 2c20 3429  le(range(2)), 4)
-00026700: 2929 0a60 6060 0a0a 2323 2323 2060 6361  )).```..#### `ca
-00026710: 7274 6573 6961 6e5f 7072 6f64 7563 7460  rtesian_product`
-00026720: 0a0a 2a2a 6361 7274 6573 6961 6e5c 5f70  ..**cartesian\_p
-00026730: 726f 6475 6374 2a2a 282a 5f69 7465 7261  roduct**(*_itera
-00026740: 626c 6573 5f2c 205f 7265 7065 6174 5f3d  bles_, _repeat_=
-00026750: 6031 6029 0a0a 436f 636f 6e75 7420 7072  `1`)..Coconut pr
-00026760: 6f76 6964 6573 2061 6e20 656e 6861 6e63  ovides an enhanc
-00026770: 6564 2076 6572 7369 6f6e 206f 6620 6069  ed version of `i
-00026780: 7465 7274 6f6f 6c73 2e70 726f 6475 6374  tertools.product
-00026790: 6020 6173 2061 2062 7569 6c74 2d69 6e20  ` as a built-in 
-000267a0: 756e 6465 7220 7468 6520 6e61 6d65 2060  under the name `
-000267b0: 6361 7274 6573 6961 6e5f 7072 6f64 7563  cartesian_produc
-000267c0: 7460 2077 6974 6820 6164 6465 6420 7375  t` with added su
-000267d0: 7070 6f72 7420 666f 7220 606c 656e 602c  pport for `len`,
-000267e0: 2060 7265 7072 602c 2060 696e 602c 2060   `repr`, `in`, `
-000267f0: 2e63 6f75 6e74 2829 602c 2061 6e64 2060  .count()`, and `
-00026800: 666d 6170 602e 0a0a 4164 6469 7469 6f6e  fmap`...Addition
-00026810: 616c 6c79 2c20 6063 6172 7465 7369 616e  ally, `cartesian
-00026820: 5f70 726f 6475 6374 6020 696e 636c 7564  _product` includ
-00026830: 6573 2073 7065 6369 616c 2073 7570 706f  es special suppo
-00026840: 7274 2066 6f72 205b 606e 756d 7079 605d  rt for [`numpy`]
-00026850: 2823 6e75 6d70 792d 696e 7465 6772 6174  (#numpy-integrat
-00026860: 696f 6e29 206f 626a 6563 7473 2c20 696e  ion) objects, in
-00026870: 2077 6869 6368 2063 6173 6520 6120 6d75   which case a mu
-00026880: 6c74 6964 696d 656e 7369 6f6e 616c 2061  ltidimensional a
-00026890: 7272 6179 2069 7320 7265 7475 726e 6564  rray is returned
-000268a0: 2069 6e73 7465 6164 206f 6620 616e 2069   instead of an i
-000268b0: 7465 7261 746f 722e 0a0a 2323 2323 2320  terator...##### 
-000268c0: 5079 7468 6f6e 2044 6f63 730a 0a2a 2a63  Python Docs..**c
-000268d0: 6172 7465 7369 616e 5c5f 7072 6f64 7563  artesian\_produc
-000268e0: 742a 2a28 5f5c 2a69 7465 7261 626c 6573  t**(_\*iterables
-000268f0: 2c20 7265 7065 6174 3d31 5f29 0a0a 4361  , repeat=1_)..Ca
-00026900: 7274 6573 6961 6e20 7072 6f64 7563 7420  rtesian product 
-00026910: 6f66 2069 6e70 7574 2069 7465 7261 626c  of input iterabl
-00026920: 6573 2e0a 0a52 6f75 6768 6c79 2065 7175  es...Roughly equ
-00026930: 6976 616c 656e 7420 746f 206e 6573 7465  ivalent to neste
-00026940: 6420 666f 722d 6c6f 6f70 7320 696e 2061  d for-loops in a
-00026950: 2067 656e 6572 6174 6f72 2065 7870 7265   generator expre
-00026960: 7373 696f 6e2e 2046 6f72 2065 7861 6d70  ssion. For examp
-00026970: 6c65 2c20 6063 6172 7465 7369 616e 5f70  le, `cartesian_p
-00026980: 726f 6475 6374 2841 2c20 4229 6020 7265  roduct(A, B)` re
-00026990: 7475 726e 7320 7468 6520 7361 6d65 2061  turns the same a
-000269a0: 7320 6028 2878 2c79 2920 666f 7220 7820  s `((x,y) for x 
-000269b0: 696e 2041 2066 6f72 2079 2069 6e20 4229  in A for y in B)
-000269c0: 602e 0a0a 5468 6520 6e65 7374 6564 206c  `...The nested l
-000269d0: 6f6f 7073 2063 7963 6c65 206c 696b 6520  oops cycle like 
-000269e0: 616e 206f 646f 6d65 7465 7220 7769 7468  an odometer with
-000269f0: 2074 6865 2072 6967 6874 6d6f 7374 2065   the rightmost e
-00026a00: 6c65 6d65 6e74 2061 6476 616e 6369 6e67  lement advancing
-00026a10: 206f 6e20 6576 6572 7920 6974 6572 6174   on every iterat
-00026a20: 696f 6e2e 2054 6869 7320 7061 7474 6572  ion. This patter
-00026a30: 6e20 6372 6561 7465 7320 6120 6c65 7869  n creates a lexi
-00026a40: 636f 6772 6170 6869 6320 6f72 6465 7269  cographic orderi
-00026a50: 6e67 2073 6f20 7468 6174 2069 6620 7468  ng so that if th
-00026a60: 6520 696e 7075 74e2 8099 7320 6974 6572  e input...s iter
-00026a70: 6162 6c65 7320 6172 6520 736f 7274 6564  ables are sorted
-00026a80: 2c20 7468 6520 7072 6f64 7563 7420 7475  , the product tu
-00026a90: 706c 6573 2061 7265 2065 6d69 7474 6564  ples are emitted
-00026aa0: 2069 6e20 736f 7274 6564 206f 7264 6572   in sorted order
-00026ab0: 2e0a 0a54 6f20 636f 6d70 7574 6520 7468  ...To compute th
-00026ac0: 6520 7072 6f64 7563 7420 6f66 2061 6e20  e product of an 
-00026ad0: 6974 6572 6162 6c65 2077 6974 6820 6974  iterable with it
-00026ae0: 7365 6c66 2c20 7370 6563 6966 7920 7468  self, specify th
-00026af0: 6520 6e75 6d62 6572 206f 6620 7265 7065  e number of repe
-00026b00: 7469 7469 6f6e 7320 7769 7468 2074 6865  titions with the
-00026b10: 206f 7074 696f 6e61 6c20 7265 7065 6174   optional repeat
-00026b20: 206b 6579 776f 7264 2061 7267 756d 656e   keyword argumen
-00026b30: 742e 2046 6f72 2065 7861 6d70 6c65 2c20  t. For example, 
-00026b40: 6070 726f 6475 6374 2841 2c20 7265 7065  `product(A, repe
-00026b50: 6174 3d34 2960 206d 6561 6e73 2074 6865  at=4)` means the
-00026b60: 2073 616d 6520 6173 2060 6361 7274 6573   same as `cartes
-00026b70: 6961 6e5f 7072 6f64 7563 7428 412c 2041  ian_product(A, A
-00026b80: 2c20 412c 2041 2960 2e0a 0a54 6869 7320  , A, A)`...This 
-00026b90: 6675 6e63 7469 6f6e 2069 7320 726f 7567  function is roug
-00026ba0: 686c 7920 6571 7569 7661 6c65 6e74 2074  hly equivalent t
-00026bb0: 6f20 7468 6520 666f 6c6c 6f77 696e 6720  o the following 
-00026bc0: 636f 6465 2c20 6578 6365 7074 2074 6861  code, except tha
-00026bd0: 7420 7468 6520 6163 7475 616c 2069 6d70  t the actual imp
-00026be0: 6c65 6d65 6e74 6174 696f 6e20 646f 6573  lementation does
-00026bf0: 206e 6f74 2062 7569 6c64 2075 7020 696e   not build up in
-00026c00: 7465 726d 6564 6961 7465 2072 6573 756c  termediate resul
-00026c10: 7473 2069 6e20 6d65 6d6f 7279 3a0a 0a60  ts in memory:..`
-00026c20: 6060 636f 636f 6e75 745f 7079 7468 6f6e  ``coconut_python
-00026c30: 0a64 6566 2063 6172 7465 7369 616e 5f70  .def cartesian_p
-00026c40: 726f 6475 6374 282a 6172 6773 2c20 7265  roduct(*args, re
-00026c50: 7065 6174 3d31 293a 0a20 2020 2023 2070  peat=1):.    # p
-00026c60: 726f 6475 6374 2827 4142 4344 272c 2027  roduct('ABCD', '
-00026c70: 7879 2729 202d 2d3e 2041 7820 4179 2042  xy') --> Ax Ay B
-00026c80: 7820 4279 2043 7820 4379 2044 7820 4479  x By Cx Cy Dx Dy
-00026c90: 0a20 2020 2023 2070 726f 6475 6374 2872  .    # product(r
-00026ca0: 616e 6765 2832 292c 2072 6570 6561 743d  ange(2), repeat=
-00026cb0: 3329 202d 2d3e 2030 3030 2030 3031 2030  3) --> 000 001 0
-00026cc0: 3130 2030 3131 2031 3030 2031 3031 2031  10 011 100 101 1
-00026cd0: 3130 2031 3131 0a20 2020 2070 6f6f 6c73  10 111.    pools
-00026ce0: 203d 205b 7475 706c 6528 706f 6f6c 2920   = [tuple(pool) 
-00026cf0: 666f 7220 706f 6f6c 2069 6e20 6172 6773  for pool in args
-00026d00: 5d20 2a20 7265 7065 6174 0a20 2020 2072  ] * repeat.    r
-00026d10: 6573 756c 7420 3d20 5b5b 5d5d 0a20 2020  esult = [[]].   
-00026d20: 2066 6f72 2070 6f6f 6c20 696e 2070 6f6f   for pool in poo
-00026d30: 6c73 3a0a 2020 2020 2020 2020 7265 7375  ls:.        resu
-00026d40: 6c74 203d 205b 782b 5b79 5d20 666f 7220  lt = [x+[y] for 
-00026d50: 7820 696e 2072 6573 756c 7420 666f 7220  x in result for 
-00026d60: 7920 696e 2070 6f6f 6c5d 0a20 2020 2066  y in pool].    f
-00026d70: 6f72 2070 726f 6420 696e 2072 6573 756c  or prod in resul
-00026d80: 743a 0a20 2020 2020 2020 2079 6965 6c64  t:.        yield
-00026d90: 2074 7570 6c65 2870 726f 6429 0a60 6060   tuple(prod).```
-00026da0: 0a0a 4265 666f 7265 2060 6361 7274 6573  ..Before `cartes
-00026db0: 6961 6e5f 7072 6f64 7563 7428 2960 2072  ian_product()` r
-00026dc0: 756e 732c 2069 7420 636f 6d70 6c65 7465  uns, it complete
-00026dd0: 6c79 2063 6f6e 7375 6d65 7320 7468 6520  ly consumes the 
-00026de0: 696e 7075 7420 6974 6572 6162 6c65 732c  input iterables,
-00026df0: 206b 6565 7069 6e67 2070 6f6f 6c73 206f   keeping pools o
-00026e00: 6620 7661 6c75 6573 2069 6e20 6d65 6d6f  f values in memo
-00026e10: 7279 2074 6f20 6765 6e65 7261 7465 2074  ry to generate t
-00026e20: 6865 2070 726f 6475 6374 732e 2041 6363  he products. Acc
-00026e30: 6f72 6469 6e67 6c79 2c20 6974 2069 7320  ordingly, it is 
-00026e40: 6f6e 6c79 2075 7365 6675 6c20 7769 7468  only useful with
-00026e50: 2066 696e 6974 6520 696e 7075 7473 2e0a   finite inputs..
-00026e60: 0a23 2323 2323 2045 7861 6d70 6c65 0a0a  .##### Example..
-00026e70: 2a2a 436f 636f 6e75 743a 2a2a 0a60 6060  **Coconut:**.```
-00026e80: 636f 636f 6e75 740a 7620 3d20 5b31 2c20  coconut.v = [1, 
-00026e90: 325d 0a61 7373 6572 7420 6361 7274 6573  2].assert cartes
-00026ea0: 6961 6e5f 7072 6f64 7563 7428 762c 2076  ian_product(v, v
-00026eb0: 2920 7c3e 206c 6973 7420 3d3d 205b 2831  ) |> list == [(1
-00026ec0: 2c20 3129 2c20 2831 2c20 3229 2c20 2832  , 1), (1, 2), (2
-00026ed0: 2c20 3129 2c20 2832 2c20 3229 5d0a 6060  , 1), (2, 2)].``
-00026ee0: 600a 0a2a 2a50 7974 686f 6e3a 2a2a 0a60  `..**Python:**.`
-00026ef0: 6060 636f 636f 6e75 745f 7079 7468 6f6e  ``coconut_python
-00026f00: 0a66 726f 6d20 6974 6572 746f 6f6c 7320  .from itertools 
-00026f10: 696d 706f 7274 2070 726f 6475 6374 0a76  import product.v
-00026f20: 203d 205b 312c 2032 5d0a 6173 7365 7274   = [1, 2].assert
-00026f30: 206c 6973 7428 7072 6f64 7563 7428 762c   list(product(v,
-00026f40: 2076 2929 203d 3d20 5b28 312c 2031 292c   v)) == [(1, 1),
-00026f50: 2028 312c 2032 292c 2028 322c 2031 292c   (1, 2), (2, 1),
-00026f60: 2028 322c 2032 295d 0a60 6060 0a0a 2323   (2, 2)].```..##
-00026f70: 2323 2060 6d75 6c74 695f 656e 756d 6572  ## `multi_enumer
-00026f80: 6174 6560 0a0a 2a2a 6d75 6c74 695c 5f65  ate`..**multi\_e
-00026f90: 6e75 6d65 7261 7465 2a2a 285f 6974 6572  numerate**(_iter
-00026fa0: 6162 6c65 5f29 0a0a 436f 636f 6e75 7427  able_)..Coconut'
-00026fb0: 7320 606d 756c 7469 5f65 6e75 6d65 7261  s `multi_enumera
-00026fc0: 7465 6020 656e 756d 6572 6174 6573 2074  te` enumerates t
-00026fd0: 6872 6f75 6768 2061 6e20 6974 6572 6162  hrough an iterab
-00026fe0: 6c65 206f 6620 6974 6572 6162 6c65 732e  le of iterables.
-00026ff0: 2060 6d75 6c74 695f 656e 756d 6572 6174   `multi_enumerat
-00027000: 6560 2077 6f72 6b73 206c 696b 6520 656e  e` works like en
-00027010: 756d 6572 6174 652c 2062 7574 2069 6e64  umerate, but ind
-00027020: 6578 6573 2074 6872 6f75 6768 2069 6e6e  exes through inn
-00027030: 6572 2069 7465 7261 626c 6573 2061 6e64  er iterables and
-00027040: 2070 726f 6475 6365 7320 6120 7475 706c   produces a tupl
-00027050: 6520 696e 6465 7820 7265 7072 6573 656e  e index represen
-00027060: 7469 6e67 2074 6865 2069 6e64 6578 2069  ting the index i
-00027070: 6e20 6561 6368 2069 6e6e 6572 2069 7465  n each inner ite
-00027080: 7261 626c 652e 2053 7570 706f 7274 7320  rable. Supports 
-00027090: 696e 6465 7869 6e67 2e0a 0a46 6f72 205b  indexing...For [
-000270a0: 606e 756d 7079 605d 2823 6e75 6d70 792d  `numpy`](#numpy-
-000270b0: 696e 7465 6772 6174 696f 6e29 206f 626a  integration) obj
-000270c0: 6563 7473 2c20 7573 6573 205b 606e 702e  ects, uses [`np.
-000270d0: 6e64 6974 6572 605d 2868 7474 7073 3a2f  nditer`](https:/
-000270e0: 2f6e 756d 7079 2e6f 7267 2f64 6f63 2f73  /numpy.org/doc/s
-000270f0: 7461 626c 652f 7265 6665 7265 6e63 652f  table/reference/
-00027100: 6765 6e65 7261 7465 642f 6e75 6d70 792e  generated/numpy.
-00027110: 6e64 6974 6572 2e68 746d 6c29 2075 6e64  nditer.html) und
-00027120: 6572 2074 6865 2068 6f6f 642e 2041 6c73  er the hood. Als
-00027130: 6f20 7375 7070 6f72 7473 2060 6c65 6e60  o supports `len`
-00027140: 2066 6f72 205b 606e 756d 7079 605d 2823   for [`numpy`](#
-00027150: 6e75 6d70 792d 696e 7465 6772 6174 696f  numpy-integratio
-00027160: 6e29 2061 7272 6179 732e 0a0a 2323 2323  n) arrays...####
-00027170: 2320 4578 616d 706c 650a 0a2a 2a43 6f63  # Example..**Coc
-00027180: 6f6e 7574 3a2a 2a0a 6060 6063 6f63 6f6e  onut:**.```cocon
-00027190: 7574 5f70 7963 6f6e 0a3e 3e3e 205b 312c  ut_pycon.>>> [1,
-000271a0: 2032 3b3b 2033 2c20 345d 207c 3e20 6d75   2;; 3, 4] |> mu
-000271b0: 6c74 695f 656e 756d 6572 6174 6520 7c3e  lti_enumerate |>
-000271c0: 206c 6973 740a 5b28 2830 2c20 3029 2c20   list.[((0, 0), 
-000271d0: 3129 2c20 2828 302c 2031 292c 2032 292c  1), ((0, 1), 2),
-000271e0: 2028 2831 2c20 3029 2c20 3329 2c20 2828   ((1, 0), 3), ((
-000271f0: 312c 2031 292c 2034 295d 0a60 6060 0a0a  1, 1), 4)].```..
-00027200: 2a2a 5079 7468 6f6e 3a2a 2a0a 6060 6063  **Python:**.```c
-00027210: 6f63 6f6e 7574 5f70 7974 686f 6e0a 6172  oconut_python.ar
-00027220: 7261 7920 3d20 5b5b 312c 2032 5d2c 205b  ray = [[1, 2], [
-00027230: 332c 2034 5d5d 0a65 6e75 6d65 7261 7465  3, 4]].enumerate
-00027240: 645f 6172 7261 7920 3d20 5b5d 0a66 6f72  d_array = [].for
-00027250: 2069 2069 6e20 7261 6e67 6528 6c65 6e28   i in range(len(
-00027260: 6172 7261 7929 293a 0a20 2020 2066 6f72  array)):.    for
-00027270: 206a 2069 6e20 7261 6e67 6528 6c65 6e28   j in range(len(
-00027280: 6172 7261 795b 695d 2929 3a0a 2020 2020  array[i])):.    
-00027290: 2020 2020 656e 756d 6572 6174 6564 5f61      enumerated_a
-000272a0: 7272 6179 2e61 7070 656e 6428 2828 692c  rray.append(((i,
-000272b0: 206a 292c 2061 7272 6179 5b69 5d5b 6a5d   j), array[i][j]
-000272c0: 2929 0a60 6060 0a0a 2323 2323 2060 6772  )).```..#### `gr
-000272d0: 6f75 7073 6f66 600a 0a2a 2a67 726f 7570  oupsof`..**group
-000272e0: 736f 662a 2a28 5f6e 5f2c 205f 6974 6572  sof**(_n_, _iter
-000272f0: 6162 6c65 5f2c 205f 6669 6c6c 7661 6c75  able_, _fillvalu
-00027300: 655f 3d60 2e2e 2e60 290a 0a43 6f63 6f6e  e_=`...`)..Cocon
-00027310: 7574 2070 726f 7669 6465 7320 7468 6520  ut provides the 
-00027320: 6067 726f 7570 736f 6660 2062 7569 6c74  `groupsof` built
-00027330: 2d69 6e20 746f 2073 706c 6974 2061 6e20  -in to split an 
-00027340: 6974 6572 6162 6c65 2069 6e74 6f20 6772  iterable into gr
-00027350: 6f75 7073 206f 6620 6120 7370 6563 6966  oups of a specif
-00027360: 6963 206c 656e 6774 682e 2053 7065 6369  ic length. Speci
-00027370: 6669 6361 6c6c 792c 2060 6772 6f75 7073  fically, `groups
-00027380: 6f66 286e 2c20 6974 6572 6162 6c65 2960  of(n, iterable)`
-00027390: 2077 696c 6c20 7370 6c69 7420 6069 7465   will split `ite
-000273a0: 7261 626c 6560 2069 6e74 6f20 7475 706c  rable` into tupl
-000273b0: 6573 206f 6620 6c65 6e67 7468 2060 6e60  es of length `n`
-000273c0: 2c20 7769 7468 206f 6e6c 7920 7468 6520  , with only the 
-000273d0: 6c61 7374 2074 7570 6c65 2070 6f74 656e  last tuple poten
-000273e0: 7469 616c 6c79 206f 6620 7369 7a65 2060  tially of size `
-000273f0: 3c20 6e60 2069 6620 7468 6520 6c65 6e67  < n` if the leng
-00027400: 7468 206f 6620 6069 7465 7261 626c 6560  th of `iterable`
-00027410: 2069 7320 6e6f 7420 6469 7669 7369 626c   is not divisibl
-00027420: 6520 6279 2060 6e60 2e20 4966 2074 6861  e by `n`. If tha
-00027430: 7420 6973 206e 6f74 2074 6865 2064 6573  t is not the des
-00027440: 6972 6564 2062 6568 6176 696f 722c 205f  ired behavior, _
-00027450: 6669 6c6c 7661 6c75 655f 2063 616e 2062  fillvalue_ can b
-00027460: 6520 7061 7373 6564 2061 6e64 2077 696c  e passed and wil
-00027470: 6c20 6265 2075 7365 6420 746f 2070 6164  l be used to pad
-00027480: 2074 6865 2065 6e64 206f 6620 7468 6520   the end of the 
-00027490: 6c61 7374 2074 7570 6c65 2074 6f20 6c65  last tuple to le
-000274a0: 6e67 7468 2060 6e60 2e0a 0a41 6464 6974  ngth `n`...Addit
-000274b0: 696f 6e61 6c6c 792c 2060 6772 6f75 7073  ionally, `groups
-000274c0: 6f66 6020 7375 7070 6f72 7473 2060 6c65  of` supports `le
-000274d0: 6e60 2077 6865 6e20 6069 7465 7261 626c  n` when `iterabl
-000274e0: 6560 2073 7570 706f 7274 7320 606c 656e  e` supports `len
-000274f0: 602e 0a0a 2323 2323 2320 4578 616d 706c  `...##### Exampl
-00027500: 650a 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0a  e..**Coconut:**.
-00027510: 6060 6063 6f63 6f6e 7574 0a70 6169 7273  ```coconut.pairs
-00027520: 203d 2072 616e 6765 2831 2c20 3131 2920   = range(1, 11) 
-00027530: 7c3e 2067 726f 7570 736f 6624 2832 290a  |> groupsof$(2).
-00027540: 6060 600a 0a2a 2a50 7974 686f 6e3a 2a2a  ```..**Python:**
-00027550: 0a60 6060 636f 636f 6e75 745f 7079 7468  .```coconut_pyth
-00027560: 6f6e 0a70 6169 7273 203d 205b 5d0a 6772  on.pairs = [].gr
-00027570: 6f75 7020 3d20 5b5d 0a66 6f72 2069 7465  oup = [].for ite
-00027580: 6d20 696e 2072 616e 6765 2831 2c20 3131  m in range(1, 11
-00027590: 293a 0a20 2020 2067 726f 7570 2e61 7070  ):.    group.app
-000275a0: 656e 6428 6974 656d 290a 2020 2020 6966  end(item).    if
-000275b0: 206c 656e 2867 726f 7570 2920 3d3d 2032   len(group) == 2
-000275c0: 3a0a 2020 2020 2020 2020 7061 6972 732e  :.        pairs.
-000275d0: 6170 7065 6e64 2874 7570 6c65 2867 726f  append(tuple(gro
-000275e0: 7570 2929 0a20 2020 2020 2020 2067 726f  up)).        gro
-000275f0: 7570 203d 205b 5d0a 6966 2067 726f 7570  up = [].if group
-00027600: 3a0a 2020 2020 7061 6972 732e 6170 7065  :.    pairs.appe
-00027610: 6e64 2874 7570 6c65 2867 726f 7570 2929  nd(tuple(group))
-00027620: 0a60 6060 0a0a 2323 2323 2060 7769 6e64  .```..#### `wind
-00027630: 6f77 736f 6660 0a0a 2a2a 7769 6e64 6f77  owsof`..**window
-00027640: 736f 662a 2a28 5f73 697a 655f 2c20 5f69  sof**(_size_, _i
-00027650: 7465 7261 626c 655f 2c20 5f66 696c 6c76  terable_, _fillv
-00027660: 616c 7565 5f3d 602e 2e2e 602c 205f 7374  alue_=`...`, _st
-00027670: 6570 5f3d 6031 6029 0a0a 6077 696e 646f  ep_=`1`)..`windo
-00027680: 7773 6f66 6020 7072 6f64 7563 6573 2061  wsof` produces a
-00027690: 6e20 6974 6572 6162 6c65 2074 6861 7420  n iterable that 
-000276a0: 6566 6665 6374 6976 656c 7920 6d69 6d69  effectively mimi
-000276b0: 6373 2061 2073 6c69 6469 6e67 2077 696e  cs a sliding win
-000276c0: 646f 7720 6f76 6572 205f 6974 6572 6162  dow over _iterab
-000276d0: 6c65 5f20 6f66 2073 697a 6520 5f73 697a  le_ of size _siz
-000276e0: 655f 2e20 5f73 7465 705f 2064 6574 6572  e_. _step_ deter
-000276f0: 6d69 6e65 7320 7468 6520 7370 6163 696e  mines the spacin
-00027700: 6720 6265 7477 6565 6e20 7769 6e64 6f77  g between window
-00027710: 736f 662e 0a0a 4966 205f 7369 7a65 5f20  sof...If _size_ 
-00027720: 6973 206c 6172 6765 7220 7468 616e 205f  is larger than _
-00027730: 6974 6572 6162 6c65 5f2c 2060 7769 6e64  iterable_, `wind
-00027740: 6f77 736f 6660 2077 696c 6c20 7072 6f64  owsof` will prod
-00027750: 7563 6520 616e 2065 6d70 7479 2069 7465  uce an empty ite
-00027760: 7261 626c 652e 2049 6620 7468 6174 2069  rable. If that i
-00027770: 7320 6e6f 7420 7468 6520 6465 7369 7265  s not the desire
-00027780: 6420 6265 6861 7669 6f72 2c20 5f66 696c  d behavior, _fil
-00027790: 6c76 616c 7565 5f20 6361 6e20 6265 2070  lvalue_ can be p
-000277a0: 6173 7365 6420 616e 6420 7769 6c6c 2062  assed and will b
-000277b0: 6520 7573 6564 2069 6e20 706c 6163 6520  e used in place 
-000277c0: 6f66 206d 6973 7369 6e67 2076 616c 7565  of missing value
-000277d0: 732e 2041 6c73 6f2c 2069 6620 5f66 696c  s. Also, if _fil
-000277e0: 6c76 616c 7565 5f20 6973 2070 6173 7365  lvalue_ is passe
-000277f0: 6420 616e 6420 7468 6520 6c65 6e67 7468  d and the length
-00027800: 206f 6620 7468 6520 5f69 7465 7261 626c   of the _iterabl
-00027810: 655f 2069 7320 6e6f 7420 6469 7669 7369  e_ is not divisi
-00027820: 626c 6520 6279 205f 7374 6570 5f2c 205f  ble by _step_, _
-00027830: 6669 6c6c 7661 6c75 655f 2077 696c 6c20  fillvalue_ will 
-00027840: 6265 2075 7365 6420 696e 2074 6861 7420  be used in that 
-00027850: 6361 7365 2074 6f20 7061 6420 7468 6520  case to pad the 
-00027860: 6c61 7374 2077 696e 646f 7720 6173 2077  last window as w
-00027870: 656c 6c2e 204e 6f74 6520 7468 6174 205f  ell. Note that _
-00027880: 6669 6c6c 7661 6c75 655f 2077 696c 6c20  fillvalue_ will 
-00027890: 6f6e 6c79 2065 7665 7220 6170 7065 6172  only ever appear
-000278a0: 2069 6e20 7468 6520 6c61 7374 2077 696e   in the last win
-000278b0: 646f 772e 0a0a 4164 6469 7469 6f6e 616c  dow...Additional
-000278c0: 6c79 2c20 6077 696e 646f 7773 6f66 6020  ly, `windowsof` 
-000278d0: 7375 7070 6f72 7473 2060 6c65 6e60 2077  supports `len` w
-000278e0: 6865 6e20 6069 7465 7261 626c 6560 2073  hen `iterable` s
-000278f0: 7570 706f 7274 7320 606c 656e 602e 0a0a  upports `len`...
-00027900: 2323 2323 2320 4578 616d 706c 650a 0a2a  ##### Example..*
-00027910: 2a43 6f63 6f6e 7574 3a2a 2a0a 6060 6063  *Coconut:**.```c
-00027920: 6f63 6f6e 7574 0a61 7373 6572 7420 2231  oconut.assert "1
-00027930: 3233 3435 2220 7c3e 2077 696e 646f 7773  2345" |> windows
-00027940: 6f66 2428 3329 207c 3e20 6c69 7374 203d  of$(3) |> list =
-00027950: 3d20 5b28 2231 222c 2022 3222 2c20 2233  = [("1", "2", "3
-00027960: 2229 2c20 2822 3222 2c20 2233 222c 2022  "), ("2", "3", "
-00027970: 3422 292c 2028 2233 222c 2022 3422 2c20  4"), ("3", "4", 
-00027980: 2235 2229 5d0a 6060 600a 0a2a 2a50 7974  "5")].```..**Pyt
-00027990: 686f 6e3a 2a2a 0a5f 4361 6e27 7420 6265  hon:**._Can't be
-000279a0: 2064 6f6e 6520 7769 7468 6f75 7420 7468   done without th
-000279b0: 6520 6465 6669 6e69 7469 6f6e 206f 6620  e definition of 
-000279c0: 6077 696e 646f 7773 6f66 603b 2073 6565  `windowsof`; see
-000279d0: 2074 6865 2063 6f6d 7069 6c65 6420 6865   the compiled he
-000279e0: 6164 6572 2066 6f72 2074 6865 2066 756c  ader for the ful
-000279f0: 6c20 6465 6669 6e69 7469 6f6e 2e5f 0a0a  l definition._..
-00027a00: 2323 2323 2060 636f 6c6c 6563 7462 7960  #### `collectby`
-00027a10: 0a0a 2a2a 636f 6c6c 6563 7462 792a 2a28  ..**collectby**(
-00027a20: 5f6b 6579 5c5f 6675 6e63 5f2c 205f 6974  _key\_func_, _it
-00027a30: 6572 6162 6c65 5f2c 205f 7661 6c75 655c  erable_, _value\
-00027a40: 5f66 756e 635f 3d60 4e6f 6e65 602c 205f  _func_=`None`, _
-00027a50: 7265 6475 6365 5c5f 6675 6e63 5f3d 604e  reduce\_func_=`N
-00027a60: 6f6e 6560 290a 0a60 636f 6c6c 6563 7462  one`)..`collectb
-00027a70: 7928 6b65 795f 6675 6e63 2c20 6974 6572  y(key_func, iter
-00027a80: 6162 6c65 2960 2063 6f6c 6c65 6374 7320  able)` collects 
-00027a90: 7468 6520 6974 656d 7320 696e 2060 6974  the items in `it
-00027aa0: 6572 6162 6c65 6020 696e 746f 2061 2064  erable` into a d
-00027ab0: 6963 7469 6f6e 6172 7920 6f66 206c 6973  ictionary of lis
-00027ac0: 7473 206b 6579 6564 2062 7920 606b 6579  ts keyed by `key
-00027ad0: 5f66 756e 6328 6974 656d 2960 2e0a 0a49  _func(item)`...I
-00027ae0: 6620 6076 616c 7565 5f66 756e 6360 2069  f `value_func` i
-00027af0: 7320 7061 7373 6564 2c20 6063 6f6c 6c65  s passed, `colle
-00027b00: 6374 6279 286b 6579 5f66 756e 632c 2069  ctby(key_func, i
-00027b10: 7465 7261 626c 652c 2076 616c 7565 5f66  terable, value_f
-00027b20: 756e 633d 7661 6c75 655f 6675 6e63 2960  unc=value_func)`
-00027b30: 2069 6e73 7465 6164 2063 6f6c 6c65 6374   instead collect
-00027b40: 7320 7661 6c75 655f 6675 6e63 2869 7465  s value_func(ite
-00027b50: 6d29 2069 6e74 6f20 6561 6368 206c 6973  m) into each lis
-00027b60: 7420 696e 7374 6561 6420 6f66 2069 7465  t instead of ite
-00027b70: 6d2e 0a0a 4966 2060 7265 6475 6365 5f66  m...If `reduce_f
-00027b80: 756e 6360 2069 7320 7061 7373 6564 2c20  unc` is passed, 
-00027b90: 6063 6f6c 6c65 6374 6279 286b 6579 5f66  `collectby(key_f
-00027ba0: 756e 632c 2069 7465 7261 626c 652c 2072  unc, iterable, r
-00027bb0: 6564 7563 655f 6675 6e63 3d72 6564 7563  educe_func=reduc
-00027bc0: 655f 6675 6e63 2960 2c20 696e 7374 6561  e_func)`, instea
-00027bd0: 6420 6f66 2063 6f6c 6c65 6374 696e 6720  d of collecting 
-00027be0: 7468 6520 6974 656d 7320 696e 746f 206c  the items into l
-00027bf0: 6973 7473 2c20 7265 6475 6365 7320 6f76  ists, reduces ov
-00027c00: 6572 2074 6865 2069 7465 6d73 206f 6620  er the items of 
-00027c10: 6561 6368 206b 6579 2077 6974 6820 7265  each key with re
-00027c20: 6475 6365 5f66 756e 632c 2065 6666 6563  duce_func, effec
-00027c30: 7469 7665 6c79 2069 6d70 6c65 6d65 6e74  tively implement
-00027c40: 696e 6720 6120 4d61 7052 6564 7563 6520  ing a MapReduce 
-00027c50: 6f70 6572 6174 696f 6e2e 0a0a 6063 6f6c  operation...`col
-00027c60: 6c65 6374 6279 6020 6973 2065 6666 6563  lectby` is effec
-00027c70: 7469 7665 6c79 2065 7175 6976 616c 656e  tively equivalen
-00027c80: 7420 746f 3a0a 6060 6063 6f63 6f6e 7574  t to:.```coconut
-00027c90: 5f70 7974 686f 6e0a 6672 6f6d 2063 6f6c  _python.from col
-00027ca0: 6c65 6374 696f 6e73 2069 6d70 6f72 7420  lections import 
-00027cb0: 6465 6661 756c 7464 6963 740a 0a64 6566  defaultdict..def
-00027cc0: 2063 6f6c 6c65 6374 6279 286b 6579 5f66   collectby(key_f
-00027cd0: 756e 632c 2069 7465 7261 626c 652c 2076  unc, iterable, v
-00027ce0: 616c 7565 5f66 756e 633d 6964 656e 742c  alue_func=ident,
-00027cf0: 2072 6564 7563 655f 6675 6e63 3d4e 6f6e   reduce_func=Non
-00027d00: 6529 3a0a 2020 2020 636f 6c6c 6563 7469  e):.    collecti
-00027d10: 6f6e 203d 2064 6566 6175 6c74 6469 6374  on = defaultdict
-00027d20: 286c 6973 7429 2069 6620 7265 6475 6365  (list) if reduce
-00027d30: 5f66 756e 6320 6973 204e 6f6e 6520 656c  _func is None el
-00027d40: 7365 207b 7d0a 2020 2020 666f 7220 6974  se {}.    for it
-00027d50: 656d 2069 6e20 6974 6572 6162 6c65 3a0a  em in iterable:.
-00027d60: 2020 2020 2020 2020 6b65 7920 3d20 6b65          key = ke
-00027d70: 795f 6675 6e63 2869 7465 6d29 0a20 2020  y_func(item).   
-00027d80: 2020 2020 2076 616c 7565 203d 2076 616c       value = val
-00027d90: 7565 5f66 756e 6328 6974 656d 290a 2020  ue_func(item).  
-00027da0: 2020 2020 2020 6966 2072 6564 7563 655f        if reduce_
-00027db0: 6675 6e63 2069 7320 4e6f 6e65 3a0a 2020  func is None:.  
-00027dc0: 2020 2020 2020 2020 2020 636f 6c6c 6563            collec
-00027dd0: 7469 6f6e 5b6b 6579 5d2e 6170 7065 6e64  tion[key].append
-00027de0: 2876 616c 7565 290a 2020 2020 2020 2020  (value).        
-00027df0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-00027e00: 2020 6f6c 645f 7661 6c75 6520 3d20 636f    old_value = co
-00027e10: 6c6c 6563 7469 6f6e 2e67 6574 286b 6579  llection.get(key
-00027e20: 2c20 7365 6e74 696e 656c 290a 2020 2020  , sentinel).    
-00027e30: 2020 2020 2020 2020 6966 206f 6c64 5f76          if old_v
-00027e40: 616c 7565 2069 7320 6e6f 7420 7365 6e74  alue is not sent
-00027e50: 696e 656c 3a0a 2020 2020 2020 2020 2020  inel:.          
-00027e60: 2020 2020 2020 7661 6c75 6520 3d20 7265        value = re
-00027e70: 6475 6365 5f66 756e 6328 6f6c 645f 7661  duce_func(old_va
-00027e80: 6c75 652c 2076 616c 7565 290a 2020 2020  lue, value).    
-00027e90: 2020 2020 2020 2020 636f 6c6c 6563 7469          collecti
-00027ea0: 6f6e 5b6b 6579 5d20 3d20 7661 6c75 650a  on[key] = value.
-00027eb0: 2020 2020 7265 7475 726e 2063 6f6c 6c65      return colle
-00027ec0: 6374 696f 6e0a 6060 600a 0a60 636f 6c6c  ction.```..`coll
-00027ed0: 6563 7462 7960 2069 7320 7369 6d69 6c61  ectby` is simila
-00027ee0: 7220 746f 205b 6069 7465 7274 6f6f 6c73  r to [`itertools
-00027ef0: 2e67 726f 7570 6279 605d 2868 7474 7073  .groupby`](https
-00027f00: 3a2f 2f64 6f63 732e 7079 7468 6f6e 2e6f  ://docs.python.o
-00027f10: 7267 2f33 2f6c 6962 7261 7279 2f69 7465  rg/3/library/ite
-00027f20: 7274 6f6f 6c73 2e68 746d 6c23 6974 6572  rtools.html#iter
-00027f30: 746f 6f6c 732e 6772 6f75 7062 7929 2065  tools.groupby) e
-00027f40: 7863 6570 7420 7468 6174 2060 636f 6c6c  xcept that `coll
-00027f50: 6563 7462 7960 2061 6767 7265 6761 7465  ectby` aggregate
-00027f60: 7320 636f 6d6d 6f6e 2065 6c65 6d65 6e74  s common element
-00027f70: 7320 7265 6761 7264 6c65 7373 206f 6620  s regardless of 
-00027f80: 7468 6569 7220 6f72 6465 7220 696e 2074  their order in t
-00027f90: 6865 2069 6e70 7574 2069 7465 7261 626c  he input iterabl
-00027fa0: 652c 2077 6865 7265 6173 2060 6772 6f75  e, whereas `grou
-00027fb0: 7062 7960 206f 6e6c 7920 6167 6772 6567  pby` only aggreg
-00027fc0: 6174 6573 2063 6f6d 6d6f 6e20 656c 656d  ates common elem
-00027fd0: 656e 7473 2074 6861 7420 6172 6520 6164  ents that are ad
-00027fe0: 6a61 6365 6e74 2069 6e20 7468 6520 696e  jacent in the in
-00027ff0: 7075 7420 6974 6572 6162 6c65 2e0a 0a23  put iterable...#
-00028000: 2323 2323 2045 7861 6d70 6c65 0a0a 2a2a  #### Example..**
-00028010: 436f 636f 6e75 743a 2a2a 0a60 6060 636f  Coconut:**.```co
-00028020: 636f 6e75 740a 7573 6572 5f62 616c 616e  conut.user_balan
-00028030: 6365 7320 3d20 280a 2020 2020 6261 6c61  ces = (.    bala
-00028040: 6e63 655f 6461 7461 0a20 2020 207c 3e20  nce_data.    |> 
-00028050: 636f 6c6c 6563 7462 7924 282e 7573 6572  collectby$(.user
-00028060: 2c20 7661 6c75 655f 6675 6e63 3d2e 6261  , value_func=.ba
-00028070: 6c61 6e63 652c 2072 6564 7563 655f 6675  lance, reduce_fu
-00028080: 6e63 3d28 2b29 290a 290a 6060 600a 0a2a  nc=(+)).).```..*
-00028090: 2a50 7974 686f 6e3a 2a2a 0a60 6060 636f  *Python:**.```co
-000280a0: 636f 6e75 745f 7079 7468 6f6e 0a66 726f  conut_python.fro
-000280b0: 6d20 636f 6c6c 6563 7469 6f6e 7320 696d  m collections im
-000280c0: 706f 7274 2064 6566 6175 6c74 6469 6374  port defaultdict
-000280d0: 0a0a 7573 6572 5f62 616c 616e 6365 7320  ..user_balances 
-000280e0: 3d20 6465 6661 756c 7464 6963 7428 696e  = defaultdict(in
-000280f0: 7429 0a66 6f72 2069 7465 6d20 696e 2062  t).for item in b
-00028100: 616c 616e 6365 5f64 6174 613a 0a20 2020  alance_data:.   
-00028110: 2075 7365 725f 6261 6c61 6e63 6573 5b69   user_balances[i
-00028120: 7465 6d2e 7573 6572 5d20 2b3d 2069 7465  tem.user] += ite
-00028130: 6d2e 6261 6c61 6e63 650a 6060 600a 0a23  m.balance.```..#
-00028140: 2323 2320 6061 6c6c 5f65 7175 616c 600a  ### `all_equal`.
-00028150: 0a2a 2a61 6c6c 5c5f 6571 7561 6c2a 2a28  .**all\_equal**(
-00028160: 5f69 7465 7261 626c 655f 290a 0a43 6f63  _iterable_)..Coc
-00028170: 6f6e 7574 2773 2060 616c 6c5f 6571 7561  onut's `all_equa
-00028180: 6c60 2062 7569 6c74 2d69 6e20 7461 6b65  l` built-in take
-00028190: 7320 696e 2061 6e20 6974 6572 6162 6c65  s in an iterable
-000281a0: 2061 6e64 2064 6574 6572 6d69 6e65 7320   and determines 
-000281b0: 7768 6574 6865 7220 616c 6c20 6f66 2069  whether all of i
-000281c0: 7473 2065 6c65 6d65 6e74 7320 6172 6520  ts elements are 
-000281d0: 6571 7561 6c20 746f 2065 6163 6820 6f74  equal to each ot
-000281e0: 6865 722e 2060 616c 6c5f 6571 7561 6c60  her. `all_equal`
-000281f0: 2061 7373 756d 6573 2074 7261 6e73 6974   assumes transit
-00028200: 6976 6974 7920 6f66 2065 7175 616c 6974  ivity of equalit
-00028210: 7920 616e 6420 7468 6174 2060 213d 6020  y and that `!=` 
-00028220: 6973 2074 6865 206e 6567 6174 696f 6e20  is the negation 
-00028230: 6f66 2060 3d3d 602e 2053 7065 6369 616c  of `==`. Special
-00028240: 2073 7570 706f 7274 2069 7320 7072 6f76   support is prov
-00028250: 6964 6564 2066 6f72 205b 606e 756d 7079  ided for [`numpy
-00028260: 605d 2823 6e75 6d70 792d 696e 7465 6772  `](#numpy-integr
-00028270: 6174 696f 6e29 206f 626a 6563 7473 2e0a  ation) objects..
-00028280: 0a23 2323 2323 2045 7861 6d70 6c65 0a0a  .##### Example..
-00028290: 2a2a 436f 636f 6e75 743a 2a2a 0a60 6060  **Coconut:**.```
-000282a0: 636f 636f 6e75 740a 616c 6c5f 6571 7561  coconut.all_equa
-000282b0: 6c28 5b31 2c20 312c 2031 5d29 0a61 6c6c  l([1, 1, 1]).all
-000282c0: 5f65 7175 616c 285b 312c 2031 2c20 325d  _equal([1, 1, 2]
-000282d0: 290a 6060 600a 0a2a 2a50 7974 686f 6e3a  ).```..**Python:
-000282e0: 2a2a 0a60 6060 636f 636f 6e75 745f 7079  **.```coconut_py
-000282f0: 7468 6f6e 0a73 656e 7469 6e65 6c20 3d20  thon.sentinel = 
-00028300: 6f62 6a65 6374 2829 0a64 6566 2061 6c6c  object().def all
-00028310: 5f65 7175 616c 2869 7465 7261 626c 6529  _equal(iterable)
-00028320: 3a0a 2020 2020 6669 7273 745f 6974 656d  :.    first_item
-00028330: 203d 2073 656e 7469 6e65 6c0a 2020 2020   = sentinel.    
-00028340: 666f 7220 6974 656d 2069 6e20 6974 6572  for item in iter
-00028350: 6162 6c65 3a0a 2020 2020 2020 2020 6966  able:.        if
-00028360: 2066 6972 7374 5f69 7465 6d20 6973 2073   first_item is s
-00028370: 656e 7469 6e65 6c3a 0a20 2020 2020 2020  entinel:.       
-00028380: 2020 2020 2066 6972 7374 5f69 7465 6d20       first_item 
-00028390: 3d20 6974 656d 0a20 2020 2020 2020 2065  = item.        e
-000283a0: 6c69 6620 6669 7273 745f 6974 656d 2021  lif first_item !
-000283b0: 3d20 6974 656d 3a0a 2020 2020 2020 2020  = item:.        
-000283c0: 2020 2020 7265 7475 726e 2046 616c 7365      return False
-000283d0: 0a20 2020 2072 6574 7572 6e20 5472 7565  .    return True
-000283e0: 0a61 6c6c 5f65 7175 616c 285b 312c 2031  .all_equal([1, 1
-000283f0: 2c20 315d 290a 616c 6c5f 6571 7561 6c28  , 1]).all_equal(
-00028400: 5b31 2c20 312c 2032 5d29 0a60 6060 0a0a  [1, 1, 2]).```..
-00028410: 2323 2323 2060 7061 7261 6c6c 656c 5f6d  #### `parallel_m
-00028420: 6170 600a 0a2a 2a70 6172 616c 6c65 6c5c  ap`..**parallel\
-00028430: 5f6d 6170 2a2a 285f 6675 6e63 7469 6f6e  _map**(_function
-00028440: 5f2c 202a 5f69 7465 7261 626c 6573 5f2c  _, *_iterables_,
-00028450: 202a 2c20 5f63 6875 6e6b 7369 7a65 5f3d   *, _chunksize_=
-00028460: 6031 602c 205f 7374 7269 6374 5f3d 6046  `1`, _strict_=`F
-00028470: 616c 7365 6029 0a0a 436f 636f 6e75 7420  alse`)..Coconut 
-00028480: 7072 6f76 6964 6573 2061 2070 6172 616c  provides a paral
-00028490: 6c65 6c20 7665 7273 696f 6e20 6f66 2060  lel version of `
-000284a0: 6d61 7060 2075 6e64 6572 2074 6865 206e  map` under the n
-000284b0: 616d 6520 6070 6172 616c 6c65 6c5f 6d61  ame `parallel_ma
-000284c0: 7060 2e20 6070 6172 616c 6c65 6c5f 6d61  p`. `parallel_ma
-000284d0: 7060 206d 616b 6573 2075 7365 206f 6620  p` makes use of 
-000284e0: 6d75 6c74 6970 6c65 2070 726f 6365 7373  multiple process
-000284f0: 6573 2c20 616e 6420 6973 2074 6865 7265  es, and is there
-00028500: 666f 7265 206d 7563 6820 6661 7374 6572  fore much faster
-00028510: 2074 6861 6e20 606d 6170 6020 666f 7220   than `map` for 
-00028520: 4350 552d 626f 756e 6420 7461 736b 732e  CPU-bound tasks.
-00028530: 2060 7061 7261 6c6c 656c 5f6d 6170 6020   `parallel_map` 
-00028540: 6e65 7665 7220 6c6f 6164 7320 7468 6520  never loads the 
-00028550: 656e 7469 7265 2069 6e70 7574 2069 7465  entire input ite
-00028560: 7261 746f 7220 696e 746f 206d 656d 6f72  rator into memor
-00028570: 792c 2074 686f 7567 6820 6974 2064 6f65  y, though it doe
-00028580: 7320 636f 6e73 756d 6520 7468 6520 656e  s consume the en
-00028590: 7469 7265 2069 6e70 7574 2069 7465 7261  tire input itera
-000285a0: 746f 7220 6173 2073 6f6f 6e20 6173 2061  tor as soon as a
-000285b0: 2073 696e 676c 6520 6f75 7470 7574 2069   single output i
-000285c0: 7320 7265 7175 6573 7465 642e 2049 6620  s requested. If 
-000285d0: 616e 7920 6578 6365 7074 696f 6e73 2061  any exceptions a
-000285e0: 7265 2072 6169 7365 6420 696e 7369 6465  re raised inside
-000285f0: 206f 6620 6070 6172 616c 6c65 6c5f 6d61   of `parallel_ma
-00028600: 7060 2c20 6120 7472 6163 6562 6163 6b20  p`, a traceback 
-00028610: 7769 6c6c 2062 6520 7072 696e 7465 6420  will be printed 
-00028620: 6173 2073 6f6f 6e20 6173 2074 6865 7920  as soon as they 
-00028630: 6172 6520 656e 636f 756e 7465 7265 642e  are encountered.
-00028640: 0a0a 4265 6361 7573 6520 6070 6172 616c  ..Because `paral
-00028650: 6c65 6c5f 6d61 7060 2075 7365 7320 6d75  lel_map` uses mu
-00028660: 6c74 6970 6c65 2070 726f 6365 7373 6573  ltiple processes
-00028670: 2066 6f72 2069 7473 2065 7865 6375 7469   for its executi
-00028680: 6f6e 2c20 6974 2069 7320 6e65 6365 7373  on, it is necess
-00028690: 6172 7920 7468 6174 2061 6c6c 206f 6620  ary that all of 
-000286a0: 6974 7320 6172 6775 6d65 6e74 7320 6265  its arguments be
-000286b0: 2070 6963 6b6c 6561 626c 652e 204f 6e6c   pickleable. Onl
-000286c0: 7920 6f62 6a65 6374 7320 6465 6669 6e65  y objects define
-000286d0: 6420 6174 2074 6865 206d 6f64 756c 6520  d at the module 
-000286e0: 6c65 7665 6c2c 2061 6e64 206e 6f74 206c  level, and not l
-000286f0: 616d 6264 6173 2c20 6f62 6a65 6374 7320  ambdas, objects 
-00028700: 6465 6669 6e65 6420 696e 7369 6465 206f  defined inside o
-00028710: 6620 6120 6675 6e63 7469 6f6e 2c20 6f72  f a function, or
-00028720: 206f 626a 6563 7473 2064 6566 696e 6564   objects defined
-00028730: 2069 6e73 6964 6520 6f66 2074 6865 2069   inside of the i
-00028740: 6e74 6572 7072 6574 6572 2c20 6172 6520  nterpreter, are 
-00028750: 7069 636b 6c65 6162 6c65 2e20 4675 7274  pickleable. Furt
-00028760: 6865 726d 6f72 652c 206f 6e20 5769 6e64  hermore, on Wind
-00028770: 6f77 732c 2069 7420 6973 206e 6563 6573  ows, it is neces
-00028780: 7361 7279 2074 6861 7420 616c 6c20 6361  sary that all ca
-00028790: 6c6c 7320 746f 2060 7061 7261 6c6c 656c  lls to `parallel
-000287a0: 5f6d 6170 6020 6f63 6375 7220 696e 7369  _map` occur insi
-000287b0: 6465 206f 6620 616e 2060 6966 205f 5f6e  de of an `if __n
-000287c0: 616d 655f 5f20 3d3d 2022 5f5f 6d61 696e  ame__ == "__main
-000287d0: 5f5f 2260 2067 7561 7264 2e0a 0a60 7061  __"` guard...`pa
-000287e0: 7261 6c6c 656c 5f6d 6170 6020 7375 7070  rallel_map` supp
-000287f0: 6f72 7473 2061 2060 6368 756e 6b73 697a  orts a `chunksiz
-00028800: 6560 2061 7267 756d 656e 742c 2077 6869  e` argument, whi
-00028810: 6368 2064 6574 6572 6d69 6e65 7320 686f  ch determines ho
-00028820: 7720 6d61 6e79 2069 7465 6d73 2061 7265  w many items are
-00028830: 2070 6173 7365 6420 746f 2065 6163 6820   passed to each 
-00028840: 7072 6f63 6573 7320 6174 2061 2074 696d  process at a tim
-00028850: 652e 204c 6172 6765 7220 7661 6c75 6573  e. Larger values
-00028860: 206f 6620 5f63 6875 6e6b 7369 7a65 5f20   of _chunksize_ 
-00028870: 6172 6520 7265 636f 6d6d 656e 6465 6420  are recommended 
-00028880: 7768 656e 2064 6561 6c69 6e67 2077 6974  when dealing wit
-00028890: 6820 7665 7279 206c 6f6e 6720 6974 6572  h very long iter
-000288a0: 6162 6c65 732e 2041 6464 6974 696f 6e61  ables. Additiona
-000288b0: 6c6c 792c 2069 6e20 7468 6520 6d75 6c74  lly, in the mult
-000288c0: 692d 6974 6572 6162 6c65 2063 6173 652c  i-iterable case,
-000288d0: 205f 7374 7269 6374 5f20 6361 6e20 6265   _strict_ can be
-000288e0: 2073 6574 2074 6f20 6054 7275 6560 2074   set to `True` t
-000288f0: 6f20 656e 7375 7265 2074 6861 7420 616c  o ensure that al
-00028900: 6c20 6974 6572 6162 6c65 7320 6172 6520  l iterables are 
-00028910: 7468 6520 7361 6d65 206c 656e 6774 682e  the same length.
-00028920: 0a0a 4966 206d 756c 7469 706c 6520 7365  ..If multiple se
-00028930: 7175 656e 7469 616c 2063 616c 6c73 2074  quential calls t
-00028940: 6f20 6070 6172 616c 6c65 6c5f 6d61 7060  o `parallel_map`
-00028950: 206e 6565 6420 746f 2062 6520 6d61 6465   need to be made
-00028960: 2c20 6974 2069 7320 6869 6768 6c79 2072  , it is highly r
-00028970: 6563 6f6d 6d65 6e64 6564 2074 6861 7420  ecommended that 
-00028980: 7468 6579 2062 6520 646f 6e65 2069 6e73  they be done ins
-00028990: 6964 6520 6f66 2061 2060 7769 7468 2070  ide of a `with p
-000289a0: 6172 616c 6c65 6c5f 6d61 702e 6d75 6c74  arallel_map.mult
-000289b0: 6970 6c65 5f73 6571 7565 6e74 6961 6c5f  iple_sequential_
-000289c0: 6361 6c6c 7328 293a 6020 626c 6f63 6b2c  calls():` block,
-000289d0: 2077 6869 6368 2077 696c 6c20 6361 7573   which will caus
-000289e0: 6520 7468 6520 6469 6666 6572 656e 7420  e the different 
-000289f0: 6361 6c6c 7320 746f 2075 7365 2074 6865  calls to use the
-00028a00: 2073 616d 6520 7072 6f63 6573 7320 706f   same process po
-00028a10: 6f6c 2061 6e64 2072 6573 756c 7420 696e  ol and result in
-00028a20: 2060 7061 7261 6c6c 656c 5f6d 6170 6020   `parallel_map` 
-00028a30: 696d 6d65 6469 6174 656c 7920 7265 7475  immediately retu
-00028a40: 726e 696e 6720 6120 6c69 7374 2072 6174  rning a list rat
-00028a50: 6865 7220 7468 616e 2061 2060 7061 7261  her than a `para
-00028a60: 6c6c 656c 5f6d 6170 6020 6f62 6a65 6374  llel_map` object
-00028a70: 2e20 4966 206d 756c 7469 706c 6520 7365  . If multiple se
-00028a80: 7175 656e 7469 616c 2063 616c 6c73 2061  quential calls a
-00028a90: 7265 206e 6563 6573 7361 7279 2061 6e64  re necessary and
-00028aa0: 2074 6865 206c 617a 696e 6573 7320 6f66   the laziness of
-00028ab0: 2070 6172 616c 6c65 6c5f 6d61 7020 6973   parallel_map is
-00028ac0: 2072 6571 7569 7265 642c 2074 6865 6e20   required, then 
-00028ad0: 7468 6520 6070 6172 616c 6c65 6c5f 6d61  the `parallel_ma
-00028ae0: 7060 206f 626a 6563 7473 2073 686f 756c  p` objects shoul
-00028af0: 6420 6265 2063 6f6e 7374 7275 6374 6564  d be constructed
-00028b00: 2062 6566 6f72 6520 7468 6520 606d 756c   before the `mul
-00028b10: 7469 706c 655f 7365 7175 656e 7469 616c  tiple_sequential
-00028b20: 5f63 616c 6c73 6020 626c 6f63 6b20 616e  _calls` block an
-00028b30: 6420 7468 656e 206f 6e6c 7920 6974 6572  d then only iter
-00028b40: 6174 6564 206f 7665 7220 6f6e 6365 2069  ated over once i
-00028b50: 6e73 6964 6520 7468 6520 626c 6f63 6b2e  nside the block.
-00028b60: 0a0a 6070 6172 616c 6c65 6c5f 6d61 702e  ..`parallel_map.
-00028b70: 6d75 6c74 6970 6c65 5f73 6571 7565 6e74  multiple_sequent
-00028b80: 6961 6c5f 6361 6c6c 7360 2061 6c73 6f20  ial_calls` also 
-00028b90: 7375 7070 6f72 7473 2061 2060 6d61 785f  supports a `max_
-00028ba0: 776f 726b 6572 7360 2061 7267 756d 656e  workers` argumen
-00028bb0: 7420 746f 2073 6574 2074 6865 206e 756d  t to set the num
-00028bc0: 6265 7220 6f66 2070 726f 6365 7373 6573  ber of processes
-00028bd0: 2e0a 0a23 2323 2323 2050 7974 686f 6e20  ...##### Python 
-00028be0: 446f 6373 0a0a 2a2a 7061 7261 6c6c 656c  Docs..**parallel
-00028bf0: 5f6d 6170 2a2a 285f 6675 6e63 2c20 5c2a  _map**(_func, \*
-00028c00: 6974 6572 6162 6c65 735f 2c20 5f63 6875  iterables_, _chu
-00028c10: 6e6b 7369 7a65 5f3d 6031 6029 0a0a 4571  nksize_=`1`)..Eq
-00028c20: 7569 7661 6c65 6e74 2074 6f20 606d 6170  uivalent to `map
-00028c30: 2866 756e 632c 202a 6974 6572 6162 6c65  (func, *iterable
-00028c40: 7329 6020 6578 6365 7074 205f 6675 6e63  s)` except _func
-00028c50: 5f20 6973 2065 7865 6375 7465 6420 6173  _ is executed as
-00028c60: 796e 6368 726f 6e6f 7573 6c79 2061 6e64  ynchronously and
-00028c70: 2073 6576 6572 616c 2063 616c 6c73 2074   several calls t
-00028c80: 6f20 5f66 756e 635f 206d 6179 2062 6520  o _func_ may be 
-00028c90: 6d61 6465 2063 6f6e 6375 7272 656e 746c  made concurrentl
-00028ca0: 792e 2049 6620 6120 6361 6c6c 2072 6169  y. If a call rai
-00028cb0: 7365 7320 616e 2065 7863 6570 7469 6f6e  ses an exception
-00028cc0: 2c20 7468 656e 2074 6861 7420 6578 6365  , then that exce
-00028cd0: 7074 696f 6e20 7769 6c6c 2062 6520 7261  ption will be ra
-00028ce0: 6973 6564 2077 6865 6e20 6974 7320 7661  ised when its va
-00028cf0: 6c75 6520 6973 2072 6574 7269 6576 6564  lue is retrieved
-00028d00: 2066 726f 6d20 7468 6520 6974 6572 6174   from the iterat
-00028d10: 6f72 2e0a 0a60 7061 7261 6c6c 656c 5f6d  or...`parallel_m
-00028d20: 6170 6020 6368 6f70 7320 7468 6520 6974  ap` chops the it
-00028d30: 6572 6162 6c65 2069 6e74 6f20 6120 6e75  erable into a nu
-00028d40: 6d62 6572 206f 6620 6368 756e 6b73 2077  mber of chunks w
-00028d50: 6869 6368 2069 7420 7375 626d 6974 7320  hich it submits 
-00028d60: 746f 2074 6865 2070 726f 6365 7373 2070  to the process p
-00028d70: 6f6f 6c20 6173 2073 6570 6172 6174 6520  ool as separate 
-00028d80: 7461 736b 732e 2054 6865 2028 6170 7072  tasks. The (appr
-00028d90: 6f78 696d 6174 6529 2073 697a 6520 6f66  oximate) size of
-00028da0: 2074 6865 7365 2063 6875 6e6b 7320 6361   these chunks ca
-00028db0: 6e20 6265 2073 7065 6369 6669 6564 2062  n be specified b
-00028dc0: 7920 7365 7474 696e 6720 5f63 6875 6e6b  y setting _chunk
-00028dd0: 7369 7a65 5f20 746f 2061 2070 6f73 6974  size_ to a posit
-00028de0: 6976 6520 696e 7465 6765 722e 2046 6f72  ive integer. For
-00028df0: 2076 6572 7920 6c6f 6e67 2069 7465 7261   very long itera
-00028e00: 626c 6573 2075 7369 6e67 2061 206c 6172  bles using a lar
-00028e10: 6765 2076 616c 7565 2066 6f72 205f 6368  ge value for _ch
-00028e20: 756e 6b73 697a 655f 2063 616e 206d 616b  unksize_ can mak
-00028e30: 6520 7468 6520 6a6f 6220 636f 6d70 6c65  e the job comple
-00028e40: 7465 202a 2a6d 7563 682a 2a20 6661 7374  te **much** fast
-00028e50: 6572 2074 6861 6e20 7573 696e 6720 7468  er than using th
-00028e60: 6520 6465 6661 756c 7420 7661 6c75 6520  e default value 
-00028e70: 6f66 2060 3160 2e0a 0a23 2323 2323 2045  of `1`...##### E
-00028e80: 7861 6d70 6c65 0a0a 2a2a 436f 636f 6e75  xample..**Coconu
-00028e90: 743a 2a2a 0a60 6060 636f 636f 6e75 740a  t:**.```coconut.
-00028ea0: 7061 7261 6c6c 656c 5f6d 6170 2870 6f77  parallel_map(pow
-00028eb0: 2428 3229 2c20 7261 6e67 6528 3130 3029  $(2), range(100)
-00028ec0: 2920 7c3e 206c 6973 7420 7c3e 2070 7269  ) |> list |> pri
-00028ed0: 6e74 0a60 6060 0a0a 2a2a 5079 7468 6f6e  nt.```..**Python
-00028ee0: 3a2a 2a0a 6060 6063 6f63 6f6e 7574 5f70  :**.```coconut_p
-00028ef0: 7974 686f 6e0a 696d 706f 7274 2066 756e  ython.import fun
-00028f00: 6374 6f6f 6c73 0a66 726f 6d20 6d75 6c74  ctools.from mult
-00028f10: 6970 726f 6365 7373 696e 6720 696d 706f  iprocessing impo
-00028f20: 7274 2050 6f6f 6c0a 7769 7468 2050 6f6f  rt Pool.with Poo
-00028f30: 6c28 2920 6173 2070 6f6f 6c3a 0a20 2020  l() as pool:.   
-00028f40: 2070 7269 6e74 286c 6973 7428 706f 6f6c   print(list(pool
-00028f50: 2e69 6d61 7028 6675 6e63 746f 6f6c 732e  .imap(functools.
-00028f60: 7061 7274 6961 6c28 706f 772c 2032 292c  partial(pow, 2),
-00028f70: 2072 616e 6765 2831 3030 2929 2929 0a60   range(100)))).`
-00028f80: 6060 0a0a 2323 2323 2060 636f 6e63 7572  ``..#### `concur
-00028f90: 7265 6e74 5f6d 6170 600a 0a2a 2a63 6f6e  rent_map`..**con
-00028fa0: 6375 7272 656e 745c 5f6d 6170 2a2a 285f  current\_map**(_
-00028fb0: 6675 6e63 7469 6f6e 5f2c 202a 5f69 7465  function_, *_ite
-00028fc0: 7261 626c 6573 5f2c 202a 2c20 5f63 6875  rables_, *, _chu
-00028fd0: 6e6b 7369 7a65 5f3d 6031 602c 205f 7374  nksize_=`1`, _st
-00028fe0: 7269 6374 5f3d 6046 616c 7365 6029 0a0a  rict_=`False`)..
-00028ff0: 436f 636f 6e75 7420 7072 6f76 6964 6573  Coconut provides
-00029000: 2061 2063 6f6e 6375 7272 656e 7420 7665   a concurrent ve
-00029010: 7273 696f 6e20 6f66 205b 6070 6172 616c  rsion of [`paral
-00029020: 6c65 6c5f 6d61 7060 5d28 2370 6172 616c  lel_map`](#paral
-00029030: 6c65 6c5f 6d61 7029 2075 6e64 6572 2074  lel_map) under t
-00029040: 6865 206e 616d 6520 6063 6f6e 6375 7272  he name `concurr
-00029050: 656e 745f 6d61 7060 2e20 6063 6f6e 6375  ent_map`. `concu
-00029060: 7272 656e 745f 6d61 7060 2062 6568 6176  rrent_map` behav
-00029070: 6573 2069 6465 6e74 6963 616c 6c79 2074  es identically t
-00029080: 6f20 6070 6172 616c 6c65 6c5f 6d61 7060  o `parallel_map`
-00029090: 2028 696e 636c 7564 696e 6720 7375 7070   (including supp
-000290a0: 6f72 7420 666f 7220 6063 6f6e 6375 7272  ort for `concurr
-000290b0: 656e 745f 6d61 702e 6d75 6c74 6970 6c65  ent_map.multiple
-000290c0: 5f73 6571 7565 6e74 6961 6c5f 6361 6c6c  _sequential_call
-000290d0: 7360 2920 6578 6365 7074 2074 6861 7420  s`) except that 
-000290e0: 6974 2075 7365 7320 6d75 6c74 6974 6872  it uses multithr
-000290f0: 6561 6469 6e67 2069 6e73 7465 6164 206f  eading instead o
-00029100: 6620 6d75 6c74 6970 726f 6365 7373 696e  f multiprocessin
-00029110: 672c 2061 6e64 2069 7320 7468 6572 6566  g, and is theref
-00029120: 6f72 6520 7072 696d 6172 696c 7920 7573  ore primarily us
-00029130: 6566 756c 206f 6e6c 7920 666f 7220 494f  eful only for IO
-00029140: 2d62 6f75 6e64 2074 6173 6b73 2064 7565  -bound tasks due
-00029150: 2074 6f20 4350 7974 686f 6e27 7320 476c   to CPython's Gl
-00029160: 6f62 616c 2049 6e74 6572 7072 6574 6572  obal Interpreter
-00029170: 204c 6f63 6b2e 0a0a 2323 2323 2320 5079   Lock...##### Py
-00029180: 7468 6f6e 2044 6f63 730a 0a2a 2a63 6f6e  thon Docs..**con
-00029190: 6375 7272 656e 745f 6d61 702a 2a28 5f66  current_map**(_f
-000291a0: 756e 632c 205c 2a69 7465 7261 626c 6573  unc, \*iterables
-000291b0: 5f2c 205f 6368 756e 6b73 697a 655f 3d60  _, _chunksize_=`
-000291c0: 3160 290a 0a45 7175 6976 616c 656e 7420  1`)..Equivalent 
-000291d0: 746f 2060 6d61 7028 6675 6e63 2c20 2a69  to `map(func, *i
-000291e0: 7465 7261 626c 6573 2960 2065 7863 6570  terables)` excep
-000291f0: 7420 5f66 756e 635f 2069 7320 6578 6563  t _func_ is exec
-00029200: 7574 6564 2061 7379 6e63 6872 6f6e 6f75  uted asynchronou
-00029210: 736c 7920 616e 6420 7365 7665 7261 6c20  sly and several 
-00029220: 6361 6c6c 7320 746f 205f 6675 6e63 5f20  calls to _func_ 
-00029230: 6d61 7920 6265 206d 6164 6520 636f 6e63  may be made conc
-00029240: 7572 7265 6e74 6c79 2e20 4966 2061 2063  urrently. If a c
-00029250: 616c 6c20 7261 6973 6573 2061 6e20 6578  all raises an ex
-00029260: 6365 7074 696f 6e2c 2074 6865 6e20 7468  ception, then th
-00029270: 6174 2065 7863 6570 7469 6f6e 2077 696c  at exception wil
-00029280: 6c20 6265 2072 6169 7365 6420 7768 656e  l be raised when
-00029290: 2069 7473 2076 616c 7565 2069 7320 7265   its value is re
-000292a0: 7472 6965 7665 6420 6672 6f6d 2074 6865  trieved from the
-000292b0: 2069 7465 7261 746f 722e 0a0a 6063 6f6e   iterator...`con
-000292c0: 6375 7272 656e 745f 6d61 7060 2063 686f  current_map` cho
-000292d0: 7073 2074 6865 2069 7465 7261 626c 6520  ps the iterable 
-000292e0: 696e 746f 2061 206e 756d 6265 7220 6f66  into a number of
-000292f0: 2063 6875 6e6b 7320 7768 6963 6820 6974   chunks which it
-00029300: 2073 7562 6d69 7473 2074 6f20 7468 6520   submits to the 
-00029310: 7468 7265 6164 2070 6f6f 6c20 6173 2073  thread pool as s
-00029320: 6570 6172 6174 6520 7461 736b 732e 2054  eparate tasks. T
-00029330: 6865 2028 6170 7072 6f78 696d 6174 6529  he (approximate)
-00029340: 2073 697a 6520 6f66 2074 6865 7365 2063   size of these c
-00029350: 6875 6e6b 7320 6361 6e20 6265 2073 7065  hunks can be spe
-00029360: 6369 6669 6564 2062 7920 7365 7474 696e  cified by settin
-00029370: 6720 5f63 6875 6e6b 7369 7a65 5f20 746f  g _chunksize_ to
-00029380: 2061 2070 6f73 6974 6976 6520 696e 7465   a positive inte
-00029390: 6765 722e 2046 6f72 2076 6572 7920 6c6f  ger. For very lo
-000293a0: 6e67 2069 7465 7261 626c 6573 2075 7369  ng iterables usi
-000293b0: 6e67 2061 206c 6172 6765 2076 616c 7565  ng a large value
-000293c0: 2066 6f72 205f 6368 756e 6b73 697a 655f   for _chunksize_
-000293d0: 2063 616e 206d 616b 6520 7468 6520 6a6f   can make the jo
-000293e0: 6220 636f 6d70 6c65 7465 202a 2a6d 7563  b complete **muc
-000293f0: 682a 2a20 6661 7374 6572 2074 6861 6e20  h** faster than 
-00029400: 7573 696e 6720 7468 6520 6465 6661 756c  using the defaul
-00029410: 7420 7661 6c75 6520 6f66 2060 3160 2e0a  t value of `1`..
-00029420: 0a23 2323 2323 2045 7861 6d70 6c65 0a0a  .##### Example..
-00029430: 2a2a 436f 636f 6e75 743a 2a2a 0a60 6060  **Coconut:**.```
-00029440: 636f 636f 6e75 740a 636f 6e63 7572 7265  coconut.concurre
-00029450: 6e74 5f6d 6170 2867 6574 5f64 6174 615f  nt_map(get_data_
-00029460: 666f 725f 7573 6572 2c20 6765 745f 616c  for_user, get_al
-00029470: 6c5f 7573 6572 7328 2929 207c 3e20 6c69  l_users()) |> li
-00029480: 7374 207c 3e20 7072 696e 740a 6060 600a  st |> print.```.
-00029490: 0a2a 2a50 7974 686f 6e3a 2a2a 0a60 6060  .**Python:**.```
-000294a0: 636f 636f 6e75 745f 7079 7468 6f6e 0a69  coconut_python.i
-000294b0: 6d70 6f72 7420 6675 6e63 746f 6f6c 730a  mport functools.
-000294c0: 696d 706f 7274 2063 6f6e 6375 7272 656e  import concurren
-000294d0: 742e 6675 7475 7265 730a 7769 7468 2063  t.futures.with c
-000294e0: 6f6e 6375 7272 656e 742e 6675 7475 7265  oncurrent.future
-000294f0: 732e 5468 7265 6164 506f 6f6c 4578 6563  s.ThreadPoolExec
-00029500: 7574 6f72 2829 2061 7320 6578 6563 7574  utor() as execut
-00029510: 6f72 3a0a 2020 2020 7072 696e 7428 6c69  or:.    print(li
-00029520: 7374 2865 7865 6375 746f 722e 6d61 7028  st(executor.map(
-00029530: 6765 745f 6461 7461 5f66 6f72 5f75 7365  get_data_for_use
-00029540: 722c 2067 6574 5f61 6c6c 5f75 7365 7273  r, get_all_users
-00029550: 2829 2929 290a 6060 600a 0a23 2323 2320  ()))).```..#### 
-00029560: 6074 6565 600a 0a2a 2a74 6565 2a2a 285f  `tee`..**tee**(_
-00029570: 6974 6572 6162 6c65 5f2c 205f 6e5f 3d60  iterable_, _n_=`
-00029580: 3260 290a 0a43 6f63 6f6e 7574 2070 726f  2`)..Coconut pro
-00029590: 7669 6465 7320 616e 206f 7074 696d 697a  vides an optimiz
-000295a0: 6564 2076 6572 7369 6f6e 206f 6620 6069  ed version of `i
-000295b0: 7465 7274 6f6f 6c73 2e74 6565 6020 6173  tertools.tee` as
-000295c0: 2061 2062 7569 6c74 2d69 6e20 756e 6465   a built-in unde
-000295d0: 7220 7468 6520 6e61 6d65 2060 7465 6560  r the name `tee`
-000295e0: 2e0a 0a54 686f 7567 6820 6074 6565 6020  ...Though `tee` 
-000295f0: 6973 206e 6f74 2064 6570 7265 6361 7465  is not deprecate
-00029600: 642c 205b 6072 6569 7465 7261 626c 6560  d, [`reiterable`
-00029610: 5d28 2372 6569 7465 7261 626c 6529 2069  ](#reiterable) i
-00029620: 7320 6765 6e65 7261 6c6c 7920 7265 636f  s generally reco
-00029630: 6d6d 656e 6465 6420 6f76 6572 2060 7465  mmended over `te
-00029640: 6560 2e0a 0a43 7573 746f 6d20 6074 6565  e`...Custom `tee
-00029650: 602f 6072 6569 7465 7261 626c 6560 2069  `/`reiterable` i
-00029660: 6d70 6c65 6d65 6e74 6174 696f 6e73 2066  mplementations f
-00029670: 6f72 2063 7573 746f 6d20 5b43 6f6e 7461  or custom [Conta
-00029680: 696e 6572 732f 436f 6c6c 6563 7469 6f6e  iners/Collection
-00029690: 735d 2868 7474 7073 3a2f 2f64 6f63 732e  s](https://docs.
-000296a0: 7079 7468 6f6e 2e6f 7267 2f33 2f6c 6962  python.org/3/lib
-000296b0: 7261 7279 2f63 6f6c 6c65 6374 696f 6e73  rary/collections
-000296c0: 2e61 6263 2e68 746d 6c29 2073 686f 756c  .abc.html) shoul
-000296d0: 6420 6265 2070 7574 2069 6e20 7468 6520  d be put in the 
-000296e0: 605f 5f63 6f70 795f 5f60 206d 6574 686f  `__copy__` metho
-000296f0: 642e 204e 6f74 6520 7468 6174 2061 6c6c  d. Note that all
-00029700: 205b 5365 7175 656e 6365 732f 4d61 7070   [Sequences/Mapp
-00029710: 696e 6773 2f53 6574 735d 2868 7474 7073  ings/Sets](https
-00029720: 3a2f 2f64 6f63 732e 7079 7468 6f6e 2e6f  ://docs.python.o
-00029730: 7267 2f33 2f6c 6962 7261 7279 2f63 6f6c  rg/3/library/col
-00029740: 6c65 6374 696f 6e73 2e61 6263 2e68 746d  lections.abc.htm
-00029750: 6c29 2061 7265 2061 6c77 6179 7320 6173  l) are always as
-00029760: 7375 6d65 6420 746f 2062 6520 7265 6974  sumed to be reit
-00029770: 6572 6162 6c65 2065 7665 6e20 7769 7468  erable even with
-00029780: 6f75 7420 6361 6c6c 696e 6720 605f 5f63  out calling `__c
-00029790: 6f70 795f 5f60 2e0a 0a23 2323 2323 2050  opy__`...##### P
-000297a0: 7974 686f 6e20 446f 6373 0a0a 2a2a 7465  ython Docs..**te
-000297b0: 652a 2a28 5f69 7465 7261 626c 652c 206e  e**(_iterable, n
-000297c0: 3d32 5f29 0a0a 5265 7475 726e 205f 6e5f  =2_)..Return _n_
-000297d0: 2069 6e64 6570 656e 6465 6e74 2069 7465   independent ite
-000297e0: 7261 746f 7273 2066 726f 6d20 6120 7369  rators from a si
-000297f0: 6e67 6c65 2069 7465 7261 626c 652e 2045  ngle iterable. E
-00029800: 7175 6976 616c 656e 7420 746f 3a0a 6060  quivalent to:.``
-00029810: 6063 6f63 6f6e 7574 5f70 7974 686f 6e0a  `coconut_python.
-00029820: 6465 6620 7465 6528 6974 6572 6162 6c65  def tee(iterable
-00029830: 2c20 6e3d 3229 3a0a 2020 2020 6974 203d  , n=2):.    it =
-00029840: 2069 7465 7228 6974 6572 6162 6c65 290a   iter(iterable).
-00029850: 2020 2020 6465 7175 6573 203d 205b 636f      deques = [co
-00029860: 6c6c 6563 7469 6f6e 732e 6465 7175 6528  llections.deque(
-00029870: 2920 666f 7220 6920 696e 2072 616e 6765  ) for i in range
-00029880: 286e 295d 0a20 2020 2064 6566 2067 656e  (n)].    def gen
-00029890: 286d 7964 6571 7565 293a 0a20 2020 2020  (mydeque):.     
-000298a0: 2020 2077 6869 6c65 2054 7275 653a 0a20     while True:. 
-000298b0: 2020 2020 2020 2020 2020 2069 6620 6e6f             if no
-000298c0: 7420 6d79 6465 7175 653a 2020 2020 2020  t mydeque:      
-000298d0: 2020 2020 2020 2023 2077 6865 6e20 7468         # when th
-000298e0: 6520 6c6f 6361 6c20 6465 7175 6520 6973  e local deque is
-000298f0: 2065 6d70 7479 0a20 2020 2020 2020 2020   empty.         
-00029900: 2020 2020 2020 206e 6577 7661 6c20 3d20         newval = 
-00029910: 6e65 7874 2869 7429 2020 2020 2020 2023  next(it)       #
-00029920: 2066 6574 6368 2061 206e 6577 2076 616c   fetch a new val
-00029930: 7565 2061 6e64 0a20 2020 2020 2020 2020  ue and.         
-00029940: 2020 2020 2020 2066 6f72 2064 2069 6e20         for d in 
-00029950: 6465 7175 6573 3a20 2020 2020 2020 2023  deques:        #
-00029960: 206c 6f61 6420 6974 2074 6f20 616c 6c20   load it to all 
-00029970: 7468 6520 6465 7175 6573 0a20 2020 2020  the deques.     
-00029980: 2020 2020 2020 2020 2020 2020 2020 2064                 d
-00029990: 2e61 7070 656e 6428 6e65 7776 616c 290a  .append(newval).
-000299a0: 2020 2020 2020 2020 2020 2020 7969 656c              yiel
-000299b0: 6420 6d79 6465 7175 652e 706f 706c 6566  d mydeque.poplef
-000299c0: 7428 290a 2020 2020 7265 7475 726e 2074  t().    return t
-000299d0: 7570 6c65 2867 656e 2864 2920 666f 7220  uple(gen(d) for 
-000299e0: 6420 696e 2064 6571 7565 7329 0a60 6060  d in deques).```
-000299f0: 0a4f 6e63 6520 6074 6565 2829 6020 6861  .Once `tee()` ha
-00029a00: 7320 6d61 6465 2061 2073 706c 6974 2c20  s made a split, 
-00029a10: 7468 6520 6f72 6967 696e 616c 205f 6974  the original _it
-00029a20: 6572 6162 6c65 5f20 7368 6f75 6c64 206e  erable_ should n
-00029a30: 6f74 2062 6520 7573 6564 2061 6e79 7768  ot be used anywh
-00029a40: 6572 6520 656c 7365 3b20 6f74 6865 7277  ere else; otherw
-00029a50: 6973 652c 2074 6865 205f 6974 6572 6162  ise, the _iterab
-00029a60: 6c65 5f20 636f 756c 6420 6765 7420 6164  le_ could get ad
-00029a70: 7661 6e63 6564 2077 6974 686f 7574 2074  vanced without t
-00029a80: 6865 2074 6565 206f 626a 6563 7473 2062  he tee objects b
-00029a90: 6569 6e67 2069 6e66 6f72 6d65 642e 0a0a  eing informed...
-00029aa0: 5468 6973 2069 7465 7274 6f6f 6c20 6d61  This itertool ma
-00029ab0: 7920 7265 7175 6972 6520 7369 676e 6966  y require signif
-00029ac0: 6963 616e 7420 6175 7869 6c69 6172 7920  icant auxiliary 
-00029ad0: 7374 6f72 6167 6520 2864 6570 656e 6469  storage (dependi
-00029ae0: 6e67 206f 6e20 686f 7720 6d75 6368 2074  ng on how much t
-00029af0: 656d 706f 7261 7279 2064 6174 6120 6e65  emporary data ne
-00029b00: 6564 7320 746f 2062 6520 7374 6f72 6564  eds to be stored
-00029b10: 292e 2049 6e20 6765 6e65 7261 6c2c 2069  ). In general, i
-00029b20: 6620 6f6e 6520 6974 6572 6174 6f72 2075  f one iterator u
-00029b30: 7365 7320 6d6f 7374 206f 7220 616c 6c20  ses most or all 
-00029b40: 6f66 2074 6865 2064 6174 6120 6265 666f  of the data befo
-00029b50: 7265 2061 6e6f 7468 6572 2069 7465 7261  re another itera
-00029b60: 746f 7220 7374 6172 7473 2c20 6974 2069  tor starts, it i
-00029b70: 7320 6661 7374 6572 2074 6f20 7573 6520  s faster to use 
-00029b80: 606c 6973 7428 2960 2069 6e73 7465 6164  `list()` instead
-00029b90: 206f 6620 6074 6565 2829 602e 0a0a 2323   of `tee()`...##
-00029ba0: 2323 2320 4578 616d 706c 650a 0a2a 2a43  ### Example..**C
-00029bb0: 6f63 6f6e 7574 3a2a 2a0a 6060 6063 6f63  oconut:**.```coc
-00029bc0: 6f6e 7574 0a6f 7269 6769 6e61 6c2c 2074  onut.original, t
-00029bd0: 656d 7020 3d20 7465 6528 6f72 6967 696e  emp = tee(origin
-00029be0: 616c 290a 736c 6963 6564 203d 2074 656d  al).sliced = tem
-00029bf0: 7024 5b35 3a5d 0a60 6060 0a0a 2a2a 5079  p$[5:].```..**Py
-00029c00: 7468 6f6e 3a2a 2a0a 6060 6063 6f63 6f6e  thon:**.```cocon
-00029c10: 7574 5f70 7974 686f 6e0a 696d 706f 7274  ut_python.import
-00029c20: 2069 7465 7274 6f6f 6c73 0a6f 7269 6769   itertools.origi
-00029c30: 6e61 6c2c 2074 656d 7020 3d20 6974 6572  nal, temp = iter
-00029c40: 746f 6f6c 732e 7465 6528 6f72 6967 696e  tools.tee(origin
-00029c50: 616c 290a 736c 6963 6564 203d 2069 7465  al).sliced = ite
-00029c60: 7274 6f6f 6c73 2e69 736c 6963 6528 7465  rtools.islice(te
-00029c70: 6d70 2c20 352c 204e 6f6e 6529 0a60 6060  mp, 5, None).```
-00029c80: 0a0a 2323 2323 2060 636f 6e73 756d 6560  ..#### `consume`
-00029c90: 0a0a 2a2a 636f 6e73 756d 652a 2a28 5f69  ..**consume**(_i
-00029ca0: 7465 7261 626c 655f 2c20 5f6b 6565 705c  terable_, _keep\
-00029cb0: 5f6c 6173 745f 3d60 3060 290a 0a43 6f63  _last_=`0`)..Coc
-00029cc0: 6f6e 7574 2070 726f 7669 6465 7320 7468  onut provides th
-00029cd0: 6520 6063 6f6e 7375 6d65 6020 6675 6e63  e `consume` func
-00029ce0: 7469 6f6e 2074 6f20 6566 6669 6369 656e  tion to efficien
-00029cf0: 746c 7920 6578 6861 7573 7420 616e 2069  tly exhaust an i
-00029d00: 7465 7261 746f 7220 616e 6420 7468 7573  terator and thus
-00029d10: 2070 6572 666f 726d 2061 6e79 206c 617a   perform any laz
-00029d20: 7920 6576 616c 7561 7469 6f6e 2063 6f6e  y evaluation con
-00029d30: 7461 696e 6564 2077 6974 6869 6e20 6974  tained within it
-00029d40: 2e20 6063 6f6e 7375 6d65 6020 7461 6b65  . `consume` take
-00029d50: 7320 6f6e 6520 6f70 7469 6f6e 616c 2061  s one optional a
-00029d60: 7267 756d 656e 742c 2060 6b65 6570 5f6c  rgument, `keep_l
-00029d70: 6173 7460 2c20 7468 6174 2064 6566 6175  ast`, that defau
-00029d80: 6c74 7320 746f 2030 2061 6e64 2073 7065  lts to 0 and spe
-00029d90: 6369 6669 6573 2068 6f77 206d 616e 792c  cifies how many,
-00029da0: 2069 6620 616e 792c 2069 7465 6d73 2066   if any, items f
-00029db0: 726f 6d20 7468 6520 656e 6420 746f 2072  rom the end to r
-00029dc0: 6574 7572 6e20 6173 2061 2073 6571 7565  eturn as a seque
-00029dd0: 6e63 6520 2860 4e6f 6e65 6020 7769 6c6c  nce (`None` will
-00029de0: 206b 6565 7020 616c 6c20 656c 656d 656e   keep all elemen
-00029df0: 7473 292e 0a0a 4571 7569 7661 6c65 6e74  ts)...Equivalent
-00029e00: 2074 6f3a 0a60 6060 636f 636f 6e75 740a   to:.```coconut.
-00029e10: 6465 6620 636f 6e73 756d 6528 6974 6572  def consume(iter
-00029e20: 6162 6c65 2c20 6b65 6570 5f6c 6173 743d  able, keep_last=
-00029e30: 3029 3a0a 2020 2020 2222 2246 756c 6c79  0):.    """Fully
-00029e40: 2065 7868 6175 7374 2069 7465 7261 626c   exhaust iterabl
-00029e50: 6520 616e 6420 7265 7475 726e 2074 6865  e and return the
-00029e60: 206c 6173 7420 6b65 6570 5f6c 6173 7420   last keep_last 
-00029e70: 656c 656d 656e 7473 2e22 2222 0a20 2020  elements.""".   
-00029e80: 2072 6574 7572 6e20 636f 6c6c 6563 7469   return collecti
-00029e90: 6f6e 732e 6465 7175 6528 6974 6572 6162  ons.deque(iterab
-00029ea0: 6c65 2c20 6d61 786c 656e 3d6b 6565 705f  le, maxlen=keep_
-00029eb0: 6c61 7374 2920 2023 2066 6173 7465 7374  last)  # fastest
-00029ec0: 2077 6179 2074 6f20 6578 6861 7573 7420   way to exhaust 
-00029ed0: 616e 2069 7465 7261 746f 720a 6060 600a  an iterator.```.
-00029ee0: 0a23 2323 2323 2052 6174 696f 6e61 6c65  .##### Rationale
-00029ef0: 0a0a 496e 2074 6865 2070 726f 6365 7373  ..In the process
-00029f00: 206f 6620 6c61 7a69 6c79 2061 7070 6c79   of lazily apply
-00029f10: 696e 6720 6f70 6572 6174 696f 6e73 2074  ing operations t
-00029f20: 6f20 6974 6572 6174 6f72 732c 2065 7665  o iterators, eve
-00029f30: 6e74 7561 6c6c 7920 6120 706f 696e 7420  ntually a point 
-00029f40: 6973 2072 6561 6368 6564 2077 6865 7265  is reached where
-00029f50: 2065 7661 6c75 6174 696f 6e20 6f66 2074   evaluation of t
-00029f60: 6865 2069 7465 7261 746f 7220 6973 206e  he iterator is n
-00029f70: 6563 6573 7361 7279 2e20 546f 2064 6f20  ecessary. To do 
-00029f80: 7468 6973 2065 6666 6963 6965 6e74 6c79  this efficiently
-00029f90: 2c20 436f 636f 6e75 7420 7072 6f76 6964  , Coconut provid
-00029fa0: 6573 2074 6865 2060 636f 6e73 756d 6560  es the `consume`
-00029fb0: 2066 756e 6374 696f 6e2c 2077 6869 6368   function, which
-00029fc0: 2077 696c 6c20 6675 6c6c 7920 6578 6861   will fully exha
-00029fd0: 7573 7420 7468 6520 6974 6572 6174 6f72  ust the iterator
-00029fe0: 2067 6976 656e 2074 6f20 6974 2e0a 0a23   given to it...#
-00029ff0: 2323 2323 2045 7861 6d70 6c65 0a0a 2a2a  #### Example..**
-0002a000: 436f 636f 6e75 743a 2a2a 0a60 6060 636f  Coconut:**.```co
-0002a010: 636f 6e75 740a 7261 6e67 6528 3130 2920  conut.range(10) 
-0002a020: 7c3e 206d 6170 2428 2878 2920 2d3e 2078  |> map$((x) -> x
-0002a030: 2a2a 3229 207c 3e20 6d61 7024 2870 7269  **2) |> map$(pri
-0002a040: 6e74 2920 7c3e 2063 6f6e 7375 6d65 0a60  nt) |> consume.`
-0002a050: 6060 0a0a 2a2a 5079 7468 6f6e 3a2a 2a0a  ``..**Python:**.
-0002a060: 6060 6063 6f63 6f6e 7574 5f70 7974 686f  ```coconut_pytho
-0002a070: 6e0a 636f 6c6c 6563 7469 6f6e 732e 6465  n.collections.de
-0002a080: 7175 6528 6d61 7028 7072 696e 742c 206d  que(map(print, m
-0002a090: 6170 286c 616d 6264 6120 783a 2078 2a2a  ap(lambda x: x**
-0002a0a0: 322c 2072 616e 6765 2831 3029 2929 2c20  2, range(10))), 
-0002a0b0: 6d61 786c 656e 3d30 290a 6060 600a 0a23  maxlen=0).```..#
-0002a0c0: 2323 2054 7970 696e 672d 5370 6563 6966  ## Typing-Specif
-0002a0d0: 6963 2042 7569 6c74 2d49 6e73 0a0a 6060  ic Built-Ins..``
-0002a0e0: 607b 636f 6e74 656e 7473 7d0a 2d2d 2d0a  `{contents}.---.
-0002a0f0: 6c6f 6361 6c3a 0a64 6570 7468 3a20 310a  local:.depth: 1.
-0002a100: 2d2d 2d0a 6060 600a 0a23 2323 2320 6054  ---.```..#### `T
-0002a110: 5950 455f 4348 4543 4b49 4e47 600a 0a54  YPE_CHECKING`..T
-0002a120: 6865 2060 5459 5045 5f43 4845 434b 494e  he `TYPE_CHECKIN
-0002a130: 4760 2076 6172 6961 626c 6520 6973 2073  G` variable is s
-0002a140: 6574 2074 6f20 6046 616c 7365 6020 6174  et to `False` at
-0002a150: 2072 756e 7469 6d65 2061 6e64 2060 5472   runtime and `Tr
-0002a160: 7565 6020 6475 7269 6e67 2074 7970 655f  ue` during type_
-0002a170: 6368 6563 6b69 6e67 2c20 616c 6c6f 7769  checking, allowi
-0002a180: 6e67 2079 6f75 2074 6f20 7072 6576 656e  ng you to preven
-0002a190: 7420 796f 7572 2060 7479 7069 6e67 6020  t your `typing` 
-0002a1a0: 696d 706f 7274 7320 616e 6420 6054 7970  imports and `Typ
-0002a1b0: 6556 6172 6020 6465 6669 6e69 7469 6f6e  eVar` definition
-0002a1c0: 7320 6672 6f6d 2062 6569 6e67 2065 7865  s from being exe
-0002a1d0: 6375 7465 6420 6174 2072 756e 7469 6d65  cuted at runtime
-0002a1e0: 2e20 4279 2077 7261 7070 696e 6720 796f  . By wrapping yo
-0002a1f0: 7572 2060 7479 7069 6e67 6020 696d 706f  ur `typing` impo
-0002a200: 7274 7320 696e 2061 6e20 6069 6620 5459  rts in an `if TY
-0002a210: 5045 5f43 4845 434b 494e 473a 6020 626c  PE_CHECKING:` bl
-0002a220: 6f63 6b2c 2079 6f75 2063 616e 2065 7665  ock, you can eve
-0002a230: 6e20 7573 6520 7468 6520 5b60 7479 7069  n use the [`typi
-0002a240: 6e67 605d 2868 7474 7073 3a2f 2f64 6f63  ng`](https://doc
-0002a250: 732e 7079 7468 6f6e 2e6f 7267 2f33 2f6c  s.python.org/3/l
-0002a260: 6962 7261 7279 2f74 7970 696e 672e 6874  ibrary/typing.ht
-0002a270: 6d6c 2920 6d6f 6475 6c65 206f 6e20 5079  ml) module on Py
-0002a280: 7468 6f6e 2076 6572 7369 6f6e 7320 7468  thon versions th
-0002a290: 6174 2064 6f6e 2774 206e 6174 6976 656c  at don't nativel
-0002a2a0: 7920 7375 7070 6f72 7420 6974 2e20 4675  y support it. Fu
-0002a2b0: 7274 6865 726d 6f72 652c 2060 5459 5045  rthermore, `TYPE
-0002a2c0: 5f43 4845 434b 494e 4760 2063 616e 2061  _CHECKING` can a
-0002a2d0: 6c73 6f20 6265 2075 7365 6420 746f 2068  lso be used to h
-0002a2e0: 6964 6520 636f 6465 2074 6861 7420 6973  ide code that is
-0002a2f0: 206d 6973 7479 7065 6420 6279 2064 6566   mistyped by def
-0002a300: 6175 6c74 2e0a 0a23 2323 2323 2050 7974  ault...##### Pyt
-0002a310: 686f 6e20 446f 6373 0a0a 4120 7370 6563  hon Docs..A spec
-0002a320: 6961 6c20 636f 6e73 7461 6e74 2074 6861  ial constant tha
-0002a330: 7420 6973 2061 7373 756d 6564 2074 6f20  t is assumed to 
-0002a340: 6265 2060 5472 7565 6020 6279 2033 7264  be `True` by 3rd
-0002a350: 2070 6172 7479 2073 7461 7469 6320 7479   party static ty
-0002a360: 7065 2063 6865 636b 6572 732e 2049 7420  pe checkers. It 
-0002a370: 6973 2060 4661 6c73 6560 2061 7420 7275  is `False` at ru
-0002a380: 6e74 696d 652e 2055 7361 6765 3a0a 6060  ntime. Usage:.``
-0002a390: 6063 6f63 6f6e 7574 5f70 7974 686f 6e0a  `coconut_python.
-0002a3a0: 6966 2054 5950 455f 4348 4543 4b49 4e47  if TYPE_CHECKING
-0002a3b0: 3a0a 2020 2020 696d 706f 7274 2065 7870  :.    import exp
-0002a3c0: 656e 7369 7665 5f6d 6f64 0a0a 6465 6620  ensive_mod..def 
-0002a3d0: 6675 6e28 6172 673a 2065 7870 656e 7369  fun(arg: expensi
-0002a3e0: 7665 5f6d 6f64 2e53 6f6d 6554 7970 6529  ve_mod.SomeType)
-0002a3f0: 202d 3e20 4e6f 6e65 3a0a 2020 2020 6c6f   -> None:.    lo
-0002a400: 6361 6c5f 7661 723a 2065 7870 656e 7369  cal_var: expensi
-0002a410: 7665 5f6d 6f64 2e41 6e6f 7468 6572 5479  ve_mod.AnotherTy
-0002a420: 7065 203d 206f 7468 6572 5f66 756e 2829  pe = other_fun()
-0002a430: 0a60 6060 0a0a 2323 2323 2320 4578 616d  .```..##### Exam
-0002a440: 706c 6573 0a0a 2a2a 436f 636f 6e75 743a  ples..**Coconut:
-0002a450: 2a2a 0a60 6060 636f 636f 6e75 740a 6966  **.```coconut.if
-0002a460: 2054 5950 455f 4348 4543 4b49 4e47 3a0a   TYPE_CHECKING:.
-0002a470: 2020 2020 6672 6f6d 2074 7970 696e 6720      from typing 
-0002a480: 696d 706f 7274 204c 6973 740a 783a 204c  import List.x: L
-0002a490: 6973 745b 7374 725d 203d 205b 2261 222c  ist[str] = ["a",
-0002a4a0: 2022 6222 5d0a 6060 600a 0a60 6060 636f   "b"].```..```co
-0002a4b0: 636f 6e75 740a 6966 2054 5950 455f 4348  conut.if TYPE_CH
-0002a4c0: 4543 4b49 4e47 3a0a 2020 2020 6465 6620  ECKING:.    def 
-0002a4d0: 6661 6374 6f72 6961 6c28 6e3a 2069 6e74  factorial(n: int
-0002a4e0: 2920 2d3e 2069 6e74 3a20 2e2e 2e0a 656c  ) -> int: ....el
-0002a4f0: 7365 3a0a 2020 2020 6465 6620 6661 6374  se:.    def fact
-0002a500: 6f72 6961 6c28 3029 203d 2031 0a20 2020  orial(0) = 1.   
-0002a510: 2061 6464 7061 7474 6572 6e20 6465 6620   addpattern def 
-0002a520: 6661 6374 6f72 6961 6c28 6e29 203d 206e  factorial(n) = n
-0002a530: 202a 2066 6163 746f 7269 616c 286e 2d31   * factorial(n-1
-0002a540: 290a 6060 600a 0a2a 2a50 7974 686f 6e3a  ).```..**Python:
-0002a550: 2a2a 0a60 6060 636f 636f 6e75 745f 7079  **.```coconut_py
-0002a560: 7468 6f6e 0a74 7279 3a0a 2020 2020 6672  thon.try:.    fr
-0002a570: 6f6d 2074 7970 696e 6720 696d 706f 7274  om typing import
-0002a580: 2054 5950 455f 4348 4543 4b49 4e47 0a65   TYPE_CHECKING.e
-0002a590: 7863 6570 7420 496d 706f 7274 4572 726f  xcept ImportErro
-0002a5a0: 723a 0a20 2020 2054 5950 455f 4348 4543  r:.    TYPE_CHEC
-0002a5b0: 4b49 4e47 203d 2046 616c 7365 0a0a 6966  KING = False..if
-0002a5c0: 2054 5950 455f 4348 4543 4b49 4e47 3a0a   TYPE_CHECKING:.
-0002a5d0: 2020 2020 6672 6f6d 2074 7970 696e 6720      from typing 
-0002a5e0: 696d 706f 7274 204c 6973 740a 783a 204c  import List.x: L
-0002a5f0: 6973 745b 7374 725d 203d 205b 2261 222c  ist[str] = ["a",
-0002a600: 2022 6222 5d0a 6060 600a 0a60 6060 636f   "b"].```..```co
-0002a610: 636f 6e75 745f 7079 7468 6f6e 0a74 7279  conut_python.try
-0002a620: 3a0a 2020 2020 6672 6f6d 2074 7970 696e  :.    from typin
-0002a630: 6720 696d 706f 7274 2054 5950 455f 4348  g import TYPE_CH
-0002a640: 4543 4b49 4e47 0a65 7863 6570 7420 496d  ECKING.except Im
-0002a650: 706f 7274 4572 726f 723a 0a20 2020 2054  portError:.    T
-0002a660: 5950 455f 4348 4543 4b49 4e47 203d 2046  YPE_CHECKING = F
-0002a670: 616c 7365 0a0a 6966 2054 5950 455f 4348  alse..if TYPE_CH
-0002a680: 4543 4b49 4e47 3a0a 2020 2020 6465 6620  ECKING:.    def 
-0002a690: 6661 6374 6f72 6961 6c28 6e3a 2069 6e74  factorial(n: int
-0002a6a0: 2920 2d3e 2069 6e74 3a20 2e2e 2e0a 656c  ) -> int: ....el
-0002a6b0: 7365 3a0a 2020 2020 6465 6620 6661 6374  se:.    def fact
-0002a6c0: 6f72 6961 6c28 6e29 3a0a 2020 2020 2020  orial(n):.      
-0002a6d0: 2020 6966 206e 203d 3d20 303a 0a20 2020    if n == 0:.   
-0002a6e0: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-0002a6f0: 310a 2020 2020 2020 2020 656c 7365 3a0a  1.        else:.
-0002a700: 2020 2020 2020 2020 2020 2020 7265 7475              retu
-0002a710: 726e 206e 202a 2066 6163 746f 7269 616c  rn n * factorial
-0002a720: 286e 2d31 290a 6060 600a 0a23 2323 2320  (n-1).```..#### 
-0002a730: 6072 6576 6561 6c5f 7479 7065 6020 616e  `reveal_type` an
-0002a740: 6420 6072 6576 6561 6c5f 6c6f 6361 6c73  d `reveal_locals
-0002a750: 600a 0a57 6865 6e20 7573 696e 6720 4d79  `..When using My
-0002a760: 5079 2c20 6072 6576 6561 6c5f 7479 7065  Py, `reveal_type
-0002a770: 283c 6578 7072 3e29 6020 7769 6c6c 2063  (<expr>)` will c
-0002a780: 6175 7365 204d 7950 7920 746f 2070 7269  ause MyPy to pri
-0002a790: 6e74 2074 6865 2074 7970 6520 6f66 2060  nt the type of `
-0002a7a0: 3c65 7870 723e 6020 616e 6420 6072 6576  <expr>` and `rev
-0002a7b0: 6561 6c5f 6c6f 6361 6c73 2829 6020 7769  eal_locals()` wi
-0002a7c0: 6c6c 2063 6175 7365 204d 7950 7920 746f  ll cause MyPy to
-0002a7d0: 2070 7269 6e74 2074 6865 2074 7970 6573   print the types
-0002a7e0: 206f 6620 7468 6520 6375 7272 656e 7420   of the current 
-0002a7f0: 606c 6f63 616c 7328 2960 2e20 4174 2072  `locals()`. At r
-0002a800: 756e 7469 6d65 2c20 6072 6576 6561 6c5f  untime, `reveal_
-0002a810: 7479 7065 2878 2960 2069 7320 616c 7761  type(x)` is alwa
-0002a820: 7973 2074 6865 2069 6465 6e74 6974 7920  ys the identity 
-0002a830: 6675 6e63 7469 6f6e 2061 6e64 2060 7265  function and `re
-0002a840: 7665 616c 5f6c 6f63 616c 7328 2960 2061  veal_locals()` a
-0002a850: 6c77 6179 7320 7265 7475 726e 7320 604e  lways returns `N
-0002a860: 6f6e 6560 2e20 5365 6520 5b74 6865 204d  one`. See [the M
-0002a870: 7950 7920 646f 6375 6d65 6e74 6174 696f  yPy documentatio
-0002a880: 6e5d 2868 7474 7073 3a2f 2f6d 7970 792e  n](https://mypy.
-0002a890: 7265 6164 7468 6564 6f63 732e 696f 2f65  readthedocs.io/e
-0002a8a0: 6e2f 7374 6162 6c65 2f63 6f6d 6d6f 6e5f  n/stable/common_
-0002a8b0: 6973 7375 6573 2e68 746d 6c23 7265 7665  issues.html#reve
-0002a8c0: 616c 2d74 7970 6529 2066 6f72 206d 6f72  al-type) for mor
-0002a8d0: 6520 696e 666f 726d 6174 696f 6e2e 0a0a  e information...
-0002a8e0: 2323 2323 2320 4578 616d 706c 650a 0a2a  ##### Example..*
-0002a8f0: 2a43 6f63 6f6e 7574 3a2a 2a0a 6060 6063  *Coconut:**.```c
-0002a900: 6f63 6f6e 7574 5f70 7963 6f6e 0a3e 2063  oconut_pycon.> c
-0002a910: 6f63 6f6e 7574 202d 2d6d 7970 790a 436f  oconut --mypy.Co
-0002a920: 636f 6e75 7420 496e 7465 7270 7265 7465  conut Interprete
-0002a930: 7220 7658 2e58 2e58 3a0a 2865 6e74 6572  r vX.X.X:.(enter
-0002a940: 2027 6578 6974 2829 2720 6f72 2070 7265   'exit()' or pre
-0002a950: 7373 2043 7472 6c2d 4420 746f 2065 6e64  ss Ctrl-D to end
-0002a960: 290a 3e3e 3e20 7265 7665 616c 5f74 7970  ).>>> reveal_typ
-0002a970: 6528 666d 6170 290a 3c66 756e 6374 696f  e(fmap).<functio
-0002a980: 6e20 666d 6170 2061 7420 3078 3030 3030  n fmap at 0x0000
-0002a990: 3032 3339 4230 3645 3230 3430 3e0a 3c73  0239B06E2040>.<s
-0002a9a0: 7472 696e 673e 3a31 373a 206e 6f74 653a  tring>:17: note:
-0002a9b0: 2052 6576 6561 6c65 6420 7479 7065 2069   Revealed type i
-0002a9c0: 7320 2764 6566 205b 5f54 2c20 5f55 5d20  s 'def [_T, _U] 
-0002a9d0: 2866 756e 633a 2064 6566 2028 5f54 602d  (func: def (_T`-
-0002a9e0: 3129 202d 3e20 5f55 602d 322c 206f 626a  1) -> _U`-2, obj
-0002a9f0: 3a20 7479 7069 6e67 2e49 7465 7261 626c  : typing.Iterabl
-0002aa00: 655b 5f54 602d 315d 2920 2d3e 2074 7970  e[_T`-1]) -> typ
-0002aa10: 696e 672e 4974 6572 6162 6c65 5b5f 5560  ing.Iterable[_U`
-0002aa20: 2d32 5d27 0a3e 3e3e 0a60 6060 0a0a 2a2a  -2]'.>>>.```..**
-0002aa30: 5079 7468 6f6e 2a2a 0a60 6060 636f 636f  Python**.```coco
-0002aa40: 6e75 745f 7079 7468 6f6e 0a74 7279 3a0a  nut_python.try:.
-0002aa50: 2020 2020 6672 6f6d 2074 7970 696e 6720      from typing 
-0002aa60: 696d 706f 7274 2054 5950 455f 4348 4543  import TYPE_CHEC
-0002aa70: 4b49 4e47 0a65 7863 6570 7420 496d 706f  KING.except Impo
-0002aa80: 7274 4572 726f 723a 0a20 2020 2054 5950  rtError:.    TYP
-0002aa90: 455f 4348 4543 4b49 4e47 203d 2046 616c  E_CHECKING = Fal
-0002aaa0: 7365 0a0a 6966 206e 6f74 2054 5950 455f  se..if not TYPE_
-0002aab0: 4348 4543 4b49 4e47 3a0a 2020 2020 6465  CHECKING:.    de
-0002aac0: 6620 7265 7665 616c 5f74 7970 6528 7829  f reveal_type(x)
-0002aad0: 3a0a 2020 2020 2020 2020 7265 7475 726e  :.        return
-0002aae0: 2078 0a0a 6672 6f6d 2063 6f63 6f6e 7574   x..from coconut
-0002aaf0: 2e5f 5f63 6f63 6f6e 7574 5f5f 2069 6d70  .__coconut__ imp
-0002ab00: 6f72 7420 666d 6170 0a72 6576 6561 6c5f  ort fmap.reveal_
-0002ab10: 7479 7065 2866 6d61 7029 0a60 6060 0a0a  type(fmap).```..
-0002ab20: 2323 2043 6f63 6f6e 7574 2041 5049 0a0a  ## Coconut API..
-0002ab30: 6060 607b 636f 6e74 656e 7473 7d0a 2d2d  ```{contents}.--
-0002ab40: 2d0a 6c6f 6361 6c3a 0a64 6570 7468 3a20  -.local:.depth: 
-0002ab50: 320a 2d2d 2d0a 6060 600a 0a23 2323 2060  2.---.```..### `
-0002ab60: 636f 636f 6e75 742e 656d 6265 6460 0a0a  coconut.embed`..
-0002ab70: 2a2a 636f 636f 6e75 742e 656d 6265 642a  **coconut.embed*
-0002ab80: 2a28 5f6b 6572 6e65 6c5f 3d60 4e6f 6e65  *(_kernel_=`None
-0002ab90: 602c 205f 6465 7074 685f 3d60 3060 2c20  `, _depth_=`0`, 
-0002aba0: 5c2a 5c2a 5f6b 7761 7267 735f 290a 0a49  \*\*_kwargs_)..I
-0002abb0: 6620 5f6b 6572 6e65 6c5f 3d60 4661 6c73  f _kernel_=`Fals
-0002abc0: 6560 2028 6465 6661 756c 7429 2c20 656d  e` (default), em
-0002abd0: 6265 6473 2061 2043 6f63 6f6e 7574 204a  beds a Coconut J
-0002abe0: 7570 7974 6572 2063 6f6e 736f 6c65 2069  upyter console i
-0002abf0: 6e69 7469 616c 697a 6564 2066 726f 6d20  nitialized from 
-0002ac00: 7468 6520 6375 7272 656e 7420 6c6f 6361  the current loca
-0002ac10: 6c20 6e61 6d65 7370 6163 652e 2049 6620  l namespace. If 
-0002ac20: 5f6b 6572 6e65 6c5f 3d60 5472 7565 602c  _kernel_=`True`,
-0002ac30: 206c 6175 6e63 6865 7320 6120 436f 636f   launches a Coco
-0002ac40: 6e75 7420 4a75 7079 7465 7220 6b65 726e  nut Jupyter kern
-0002ac50: 656c 2069 6e69 7469 616c 697a 6564 2066  el initialized f
-0002ac60: 726f 6d20 7468 6520 6c6f 6361 6c20 6e61  rom the local na
-0002ac70: 6d65 7370 6163 6520 7468 6174 2063 616e  mespace that can
-0002ac80: 2074 6865 6e20 6265 2061 7474 6163 6865   then be attache
-0002ac90: 6420 746f 2e20 5468 6520 5f64 6570 7468  d to. The _depth
-0002aca0: 5f20 696e 6469 6361 7465 7320 686f 7720  _ indicates how 
-0002acb0: 6d61 6e79 2061 6464 6974 696f 6e61 6c20  many additional 
-0002acc0: 6361 6c6c 2066 7261 6d65 7320 746f 2069  call frames to i
-0002acd0: 676e 6f72 652e 205f 6b77 6172 6773 5f20  gnore. _kwargs_ 
-0002ace0: 6172 6520 6173 2069 6e20 5b49 5079 7468  are as in [IPyth
-0002acf0: 6f6e 2e65 6d62 6564 5d28 6874 7470 733a  on.embed](https:
-0002ad00: 2f2f 6970 7974 686f 6e2e 7265 6164 7468  //ipython.readth
-0002ad10: 6564 6f63 732e 696f 2f65 6e2f 7374 6162  edocs.io/en/stab
-0002ad20: 6c65 2f61 7069 2f67 656e 6572 6174 6564  le/api/generated
-0002ad30: 2f49 5079 7468 6f6e 2e74 6572 6d69 6e61  /IPython.termina
-0002ad40: 6c2e 656d 6265 642e 6874 6d6c 2349 5079  l.embed.html#IPy
-0002ad50: 7468 6f6e 2e74 6572 6d69 6e61 6c2e 656d  thon.terminal.em
-0002ad60: 6265 642e 656d 6265 6429 206f 7220 5b49  bed.embed) or [I
-0002ad70: 5079 7468 6f6e 2e65 6d62 6564 5f6b 6572  Python.embed_ker
-0002ad80: 6e65 6c5d 2868 7474 7073 3a2f 2f69 7079  nel](https://ipy
-0002ad90: 7468 6f6e 2e72 6561 6474 6865 646f 6373  thon.readthedocs
-0002ada0: 2e69 6f2f 656e 2f73 7461 626c 652f 6170  .io/en/stable/ap
-0002adb0: 692f 6765 6e65 7261 7465 642f 4950 7974  i/generated/IPyt
-0002adc0: 686f 6e2e 6874 6d6c 2349 5079 7468 6f6e  hon.html#IPython
-0002add0: 2e65 6d62 6564 5f6b 6572 6e65 6c29 2062  .embed_kernel) b
-0002ade0: 6173 6564 206f 6e20 5f6b 6572 6e65 6c5f  ased on _kernel_
-0002adf0: 2e0a 0a52 6563 6f6d 6d65 6e64 6564 2075  ...Recommended u
-0002ae00: 7361 6765 2069 7320 6173 2061 2064 6562  sage is as a deb
-0002ae10: 7567 6769 6e67 2074 6f6f 6c2c 2077 6865  ugging tool, whe
-0002ae20: 7265 2074 6865 2063 6f64 6520 6066 726f  re the code `fro
-0002ae30: 6d20 636f 636f 6e75 7420 696d 706f 7274  m coconut import
-0002ae40: 2065 6d62 6564 3b20 656d 6265 6428 2960   embed; embed()`
-0002ae50: 2063 616e 2062 6520 696e 7365 7274 6564   can be inserted
-0002ae60: 2074 6f20 6c61 756e 6368 2061 6e20 696e   to launch an in
-0002ae70: 7465 7261 6374 6976 6520 436f 636f 6e75  teractive Coconu
-0002ae80: 7420 7368 656c 6c20 696e 6974 6961 6c69  t shell initiali
-0002ae90: 7a65 6420 6672 6f6d 2074 6861 7420 706f  zed from that po
-0002aea0: 696e 742e 0a0a 2323 2320 4175 746f 6d61  int...### Automa
-0002aeb0: 7469 6320 436f 6d70 696c 6174 696f 6e0a  tic Compilation.
-0002aec0: 0a49 6620 796f 7520 646f 6e27 7420 6361  .If you don't ca
-0002aed0: 7265 2061 626f 7574 2074 6865 2065 7861  re about the exa
-0002aee0: 6374 2063 6f6d 7069 6c61 7469 6f6e 2070  ct compilation p
-0002aef0: 6172 616d 6574 6572 7320 796f 7520 7761  arameters you wa
-0002af00: 6e74 2074 6f20 7573 652c 2061 7574 6f6d  nt to use, autom
-0002af10: 6174 6963 2063 6f6d 7069 6c61 7469 6f6e  atic compilation
-0002af20: 206c 6574 7320 436f 636f 6e75 7420 7461   lets Coconut ta
-0002af30: 6b65 2063 6172 6520 6f66 2065 7665 7279  ke care of every
-0002af40: 7468 696e 6720 666f 7220 796f 752e 2041  thing for you. A
-0002af50: 7574 6f6d 6174 6963 2063 6f6d 7069 6c61  utomatic compila
-0002af60: 7469 6f6e 2063 616e 2062 6520 656e 6162  tion can be enab
-0002af70: 6c65 6420 6569 7468 6572 2062 7920 696d  led either by im
-0002af80: 706f 7274 696e 6720 5b60 636f 636f 6e75  porting [`coconu
-0002af90: 742e 636f 6e76 656e 6965 6e63 6560 5d28  t.convenience`](
-0002afa0: 2363 6f63 6f6e 7574 2d63 6f6e 7665 6e69  #coconut-conveni
-0002afb0: 656e 6365 2920 6265 666f 7265 2079 6f75  ence) before you
-0002afc0: 2069 6d70 6f72 7420 616e 7974 6869 6e67   import anything
-0002afd0: 2065 6c73 652c 206f 7220 6279 2072 756e   else, or by run
-0002afe0: 6e69 6e67 2060 636f 636f 6e75 7420 2d2d  ning `coconut --
-0002aff0: 7369 7465 2d69 6e73 7461 6c6c 602e 204f  site-install`. O
-0002b000: 6e63 6520 6175 746f 6d61 7469 6320 636f  nce automatic co
-0002b010: 6d70 696c 6174 696f 6e20 6973 2065 6e61  mpilation is ena
-0002b020: 626c 6564 2c20 436f 636f 6e75 7420 7769  bled, Coconut wi
-0002b030: 6c6c 2063 6865 636b 2065 6163 6820 6f66  ll check each of
-0002b040: 2079 6f75 7220 696d 706f 7274 7320 746f   your imports to
-0002b050: 2073 6565 2069 6620 796f 7520 6172 6520   see if you are 
-0002b060: 6174 7465 6d70 7469 6e67 2074 6f20 696d  attempting to im
-0002b070: 706f 7274 2061 2060 2e63 6f63 6f60 2066  port a `.coco` f
-0002b080: 696c 6520 616e 642c 2069 6620 736f 2c20  ile and, if so, 
-0002b090: 6175 746f 6d61 7469 6361 6c6c 7920 636f  automatically co
-0002b0a0: 6d70 696c 6520 6974 2066 6f72 2079 6f75  mpile it for you
-0002b0b0: 2e20 4e6f 7465 2074 6861 742c 2066 6f72  . Note that, for
-0002b0c0: 2043 6f63 6f6e 7574 2074 6f20 6b6e 6f77   Coconut to know
-0002b0d0: 2077 6861 7420 6669 6c65 2079 6f75 2061   what file you a
-0002b0e0: 7265 2074 7279 696e 6720 746f 2069 6d70  re trying to imp
-0002b0f0: 6f72 742c 2069 7420 7769 6c6c 206e 6565  ort, it will nee
-0002b100: 6420 746f 2062 6520 6163 6365 7373 6962  d to be accessib
-0002b110: 6c65 2076 6961 2060 7379 732e 7061 7468  le via `sys.path
-0002b120: 602c 206a 7573 7420 6c69 6b65 2061 206e  `, just like a n
-0002b130: 6f72 6d61 6c20 696d 706f 7274 2e0a 0a41  ormal import...A
-0002b140: 7574 6f6d 6174 6963 2063 6f6d 7069 6c61  utomatic compila
-0002b150: 7469 6f6e 2061 6c77 6179 7320 636f 6d70  tion always comp
-0002b160: 696c 6573 206d 6f64 756c 6573 2061 6e64  iles modules and
-0002b170: 2070 6163 6b61 6765 7320 696e 2d70 6c61   packages in-pla
-0002b180: 6365 2c20 616e 6420 616c 7761 7973 2075  ce, and always u
-0002b190: 7365 7320 602d 2d74 6172 6765 7420 7379  ses `--target sy
-0002b1a0: 7360 2e20 4175 746f 6d61 7469 6320 636f  s`. Automatic co
-0002b1b0: 6d70 696c 6174 696f 6e20 6973 2061 6c77  mpilation is alw
-0002b1c0: 6179 7320 6176 6169 6c61 626c 6520 696e  ays available in
-0002b1d0: 2074 6865 2043 6f63 6f6e 7574 2069 6e74   the Coconut int
-0002b1e0: 6572 7072 6574 6572 2c20 616e 642c 2069  erpreter, and, i
-0002b1f0: 6620 7573 696e 6720 7468 6520 436f 636f  f using the Coco
-0002b200: 6e75 7420 696e 7465 7270 7265 7465 722c  nut interpreter,
-0002b210: 2061 2060 7265 6c6f 6164 6020 6275 696c   a `reload` buil
-0002b220: 742d 696e 2069 7320 7072 6f76 6964 6564  t-in is provided
-0002b230: 2074 6f20 6561 7369 6c79 2072 656c 6f61   to easily reloa
-0002b240: 6420 696d 706f 7274 6564 206d 6f64 756c  d imported modul
-0002b250: 6573 2e20 4164 6469 7469 6f6e 616c 6c79  es. Additionally
-0002b260: 2c20 7468 6520 696e 7465 7270 7265 7465  , the interprete
-0002b270: 7220 616c 7761 7973 2061 6c6c 6f77 7320  r always allows 
-0002b280: 696d 706f 7274 696e 6720 6672 6f6d 2074  importing from t
-0002b290: 6865 2063 7572 7265 6e74 2077 6f72 6b69  he current worki
-0002b2a0: 6e67 2064 6972 6563 746f 7279 2c20 6c65  ng directory, le
-0002b2b0: 7474 696e 6720 796f 7520 6561 7369 6c79  tting you easily
-0002b2c0: 2063 6f6d 7069 6c65 2061 6e64 2070 6c61   compile and pla
-0002b2d0: 7920 6172 6f75 6e64 2077 6974 6820 6120  y around with a 
-0002b2e0: 602e 636f 636f 6020 6669 6c65 2073 696d  `.coco` file sim
-0002b2f0: 706c 7920 6279 2072 756e 6e69 6e67 2074  ply by running t
-0002b300: 6865 2043 6f63 6f6e 7574 2069 6e74 6572  he Coconut inter
-0002b310: 7072 6574 6572 2061 6e64 2069 6d70 6f72  preter and impor
-0002b320: 7469 6e67 2069 742e 0a0a 2323 2320 436f  ting it...### Co
-0002b330: 636f 6e75 7420 456e 636f 6469 6e67 0a0a  conut Encoding..
-0002b340: 5768 696c 6520 6175 746f 6d61 7469 6320  While automatic 
-0002b350: 636f 6d70 696c 6174 696f 6e20 6973 2074  compilation is t
-0002b360: 6865 2070 7265 6665 7272 6564 206d 6574  he preferred met
-0002b370: 686f 6420 666f 7220 6479 6e61 6d69 6361  hod for dynamica
-0002b380: 6c6c 7920 636f 6d70 696c 696e 6720 436f  lly compiling Co
-0002b390: 636f 6e75 7420 6669 6c65 732c 2061 7320  conut files, as 
-0002b3a0: 6974 2063 6163 6865 7320 7468 6520 636f  it caches the co
-0002b3b0: 6d70 696c 6564 2063 6f64 6520 6173 2061  mpiled code as a
-0002b3c0: 2060 2e70 7960 2066 696c 6520 746f 2070   `.py` file to p
-0002b3d0: 7265 7665 6e74 2072 6563 6f6d 7069 6c61  revent recompila
-0002b3e0: 7469 6f6e 2c20 436f 636f 6e75 7420 616c  tion, Coconut al
-0002b3f0: 736f 2073 7570 706f 7274 7320 6120 7370  so supports a sp
-0002b400: 6563 6961 6c0a 6060 6063 6f63 6f6e 7574  ecial.```coconut
-0002b410: 0a23 2063 6f64 696e 673a 2063 6f63 6f6e  .# coding: cocon
-0002b420: 7574 0a60 6060 0a64 6563 6c61 7261 7469  ut.```.declarati
-0002b430: 6f6e 2077 6869 6368 2063 616e 2062 6520  on which can be 
-0002b440: 6164 6465 6420 746f 2060 2e70 7960 2066  added to `.py` f
-0002b450: 696c 6573 2074 6f20 6861 7665 2074 6865  iles to have the
-0002b460: 6d20 7472 6561 7465 6420 6173 2043 6f63  m treated as Coc
-0002b470: 6f6e 7574 2066 696c 6573 2069 6e73 7465  onut files inste
-0002b480: 6164 2e20 546f 2075 7365 2073 7563 6820  ad. To use such 
-0002b490: 6120 636f 6469 6e67 2064 6563 6c61 7261  a coding declara
-0002b4a0: 7469 6f6e 2c20 796f 7527 6c6c 206e 6565  tion, you'll nee
-0002b4b0: 6420 746f 2065 6974 6865 7220 7275 6e20  d to either run 
-0002b4c0: 6063 6f63 6f6e 7574 202d 2d73 6974 652d  `coconut --site-
-0002b4d0: 696e 7374 616c 6c60 206f 7220 6069 6d70  install` or `imp
-0002b4e0: 6f72 7420 636f 636f 6e75 742e 636f 6e76  ort coconut.conv
-0002b4f0: 656e 6965 6e63 6560 2061 7420 736f 6d65  enience` at some
-0002b500: 2070 6f69 6e74 2062 6566 6f72 6520 796f   point before yo
-0002b510: 7520 6669 7273 7420 6174 7465 6d70 7420  u first attempt 
-0002b520: 746f 2069 6d70 6f72 7420 6120 6669 6c65  to import a file
-0002b530: 2077 6974 6820 6120 6023 2063 6f64 696e   with a `# codin
-0002b540: 673a 2063 6f63 6f6e 7574 6020 6465 636c  g: coconut` decl
-0002b550: 6172 6174 696f 6e2e 204c 696b 6520 6175  aration. Like au
-0002b560: 746f 6d61 7469 6320 636f 6d70 696c 6174  tomatic compilat
-0002b570: 696f 6e2c 2063 6f6d 7069 6c61 7469 6f6e  ion, compilation
-0002b580: 2069 7320 616c 7761 7973 2064 6f6e 6520   is always done 
-0002b590: 7769 7468 2060 2d2d 7461 7267 6574 2073  with `--target s
-0002b5a0: 7973 6020 616e 6420 6973 2061 6c77 6179  ys` and is alway
-0002b5b0: 7320 6176 6169 6c61 626c 6520 6672 6f6d  s available from
-0002b5c0: 2074 6865 2043 6f63 6f6e 7574 2069 6e74   the Coconut int
-0002b5d0: 6572 7072 6574 6572 2e0a 0a23 2323 2060  erpreter...### `
-0002b5e0: 636f 636f 6e75 742e 636f 6e76 656e 6965  coconut.convenie
-0002b5f0: 6e63 6560 0a0a 496e 2061 6464 6974 696f  nce`..In additio
-0002b600: 6e20 746f 2065 6e61 626c 696e 6720 6175  n to enabling au
-0002b610: 746f 6d61 7469 6320 636f 6d70 696c 6174  tomatic compilat
-0002b620: 696f 6e2c 2060 636f 636f 6e75 742e 636f  ion, `coconut.co
-0002b630: 6e76 656e 6965 6e63 6560 2063 616e 2061  nvenience` can a
-0002b640: 6c73 6f20 6265 2075 7365 6420 746f 2063  lso be used to c
-0002b650: 616c 6c20 7468 6520 436f 636f 6e75 7420  all the Coconut 
-0002b660: 636f 6d70 696c 6572 2066 726f 6d20 636f  compiler from co
-0002b670: 6465 2069 6e73 7465 6164 206f 6620 6672  de instead of fr
-0002b680: 6f6d 2074 6865 2063 6f6d 6d61 6e64 206c  om the command l
-0002b690: 696e 652e 2053 6565 2062 656c 6f77 2066  ine. See below f
-0002b6a0: 6f72 2073 7065 6369 6669 6361 7469 6f6e  or specification
-0002b6b0: 7320 6f66 2074 6865 2064 6966 6665 7265  s of the differe
-0002b6c0: 6e74 2063 6f6e 7665 6e69 656e 6365 2066  nt convenience f
-0002b6d0: 756e 6374 696f 6e73 2e0a 0a23 2323 2320  unctions...#### 
-0002b6e0: 6067 6574 5f73 7461 7465 600a 0a2a 2a63  `get_state`..**c
-0002b6f0: 6f63 6f6e 7574 2e63 6f6e 7665 6e69 656e  oconut.convenien
-0002b700: 6365 2e67 6574 5c5f 7374 6174 652a 2a28  ce.get\_state**(
-0002b710: 5f73 7461 7465 5f3d 604e 6f6e 6560 290a  _state_=`None`).
-0002b720: 0a47 6574 7320 6120 7374 6174 6520 6f62  .Gets a state ob
-0002b730: 6a65 6374 2077 6869 6368 2073 746f 7265  ject which store
-0002b740: 7320 7468 6520 6375 7272 656e 7420 636f  s the current co
-0002b750: 6d70 696c 6174 696f 6e20 7061 7261 6d65  mpilation parame
-0002b760: 7465 7273 2e20 5374 6174 6520 6f62 6a65  ters. State obje
-0002b770: 6374 7320 6361 6e20 6265 2063 6f6e 6669  cts can be confi
-0002b780: 6775 7265 6420 7769 7468 205b 2a2a 7365  gured with [**se
-0002b790: 7475 702a 2a5d 2823 7365 7475 7029 206f  tup**](#setup) o
-0002b7a0: 7220 5b2a 2a63 6d64 2a2a 5d28 2363 6d64  r [**cmd**](#cmd
-0002b7b0: 2920 616e 6420 7468 656e 2075 7365 6420  ) and then used 
-0002b7c0: 696e 205b 2a2a 7061 7273 652a 2a5d 2823  in [**parse**](#
-0002b7d0: 7061 7273 6529 206f 7220 5b2a 2a63 6f63  parse) or [**coc
-0002b7e0: 6f6e 7574 5c5f 6576 616c 2a2a 5d28 2363  onut\_eval**](#c
-0002b7f0: 6f63 6f6e 7574 5f65 7661 6c29 2e0a 0a49  oconut_eval)...I
-0002b800: 6620 5f73 7461 7465 5f20 6973 2060 4e6f  f _state_ is `No
-0002b810: 6e65 602c 2067 6574 7320 6120 6e65 7720  ne`, gets a new 
-0002b820: 7374 6174 6520 6f62 6a65 6374 2c20 7768  state object, wh
-0002b830: 6572 6561 7320 6966 205f 7374 6174 655f  ereas if _state_
-0002b840: 2069 7320 6046 616c 7365 602c 2074 6865   is `False`, the
-0002b850: 2067 6c6f 6261 6c20 7374 6174 6520 6f62   global state ob
-0002b860: 6a65 6374 2069 7320 7265 7475 726e 6564  ject is returned
-0002b870: 2e0a 0a23 2323 2320 6070 6172 7365 600a  ...#### `parse`.
-0002b880: 0a2a 2a63 6f63 6f6e 7574 2e63 6f6e 7665  .**coconut.conve
-0002b890: 6e69 656e 6365 2e70 6172 7365 2a2a 285f  nience.parse**(_
-0002b8a0: 636f 6465 5f3d 6022 2260 2c20 5f6d 6f64  code_=`""`, _mod
-0002b8b0: 655f 3d60 2273 7973 2260 2c20 5f73 7461  e_=`"sys"`, _sta
-0002b8c0: 7465 5f3d 6046 616c 7365 602c 205f 6b65  te_=`False`, _ke
-0002b8d0: 6570 5c5f 696e 7465 726e 616c 5c5f 7374  ep\_internal\_st
-0002b8e0: 6174 655f 3d60 4e6f 6e65 6029 0a0a 4c69  ate_=`None`)..Li
-0002b8f0: 6b65 6c79 2074 6865 206d 6f73 7420 7573  kely the most us
-0002b900: 6566 756c 206f 6620 7468 6520 636f 6e76  eful of the conv
-0002b910: 656e 6965 6e63 6520 6675 6e63 7469 6f6e  enience function
-0002b920: 732c 2060 7061 7273 6560 2074 616b 6573  s, `parse` takes
-0002b930: 2043 6f63 6f6e 7574 2063 6f64 6520 6173   Coconut code as
-0002b940: 2069 6e70 7574 2061 6e64 206f 7574 7075   input and outpu
-0002b950: 7473 2074 6865 2065 7175 6976 616c 656e  ts the equivalen
-0002b960: 7420 636f 6d70 696c 6564 2050 7974 686f  t compiled Pytho
-0002b970: 6e20 636f 6465 2e20 5f6d 6f64 655f 2069  n code. _mode_ i
-0002b980: 7320 7573 6564 2074 6f20 696e 6469 6361  s used to indica
-0002b990: 7465 2074 6865 2063 6f6e 7465 7874 2066  te the context f
-0002b9a0: 6f72 2074 6865 2070 6172 7369 6e67 2061  or the parsing a
-0002b9b0: 6e64 205f 7374 6174 655f 2069 7320 7468  nd _state_ is th
-0002b9c0: 6520 7374 6174 6520 6f62 6a65 6374 2073  e state object s
-0002b9d0: 746f 7269 6e67 2074 6865 2063 6f6d 7069  toring the compi
-0002b9e0: 6c61 7469 6f6e 2070 6172 616d 6574 6572  lation parameter
-0002b9f0: 7320 746f 2075 7365 2061 7320 6f62 7461  s to use as obta
-0002ba00: 696e 6564 2066 726f 6d20 5b2a 2a67 6574  ined from [**get
-0002ba10: 5f73 7461 7465 2a2a 5d28 2367 6574 5f73  _state**](#get_s
-0002ba20: 7461 7465 2920 2869 6620 6046 616c 7365  tate) (if `False
-0002ba30: 602c 2075 7365 7320 7468 6520 676c 6f62  `, uses the glob
-0002ba40: 616c 2073 7461 7465 206f 626a 6563 7429  al state object)
-0002ba50: 2e20 5f6b 6565 705c 5f69 6e74 6572 6e61  . _keep\_interna
-0002ba60: 6c5c 5f73 7461 7465 5f20 6465 7465 726d  l\_state_ determ
-0002ba70: 696e 6573 2077 6865 7468 6572 2074 6865  ines whether the
-0002ba80: 2073 7461 7465 206f 626a 6563 7420 7769   state object wi
-0002ba90: 6c6c 206b 6565 7020 696e 7465 726e 616c  ll keep internal
-0002baa0: 2073 7461 7465 2028 7375 6368 2061 7320   state (such as 
-0002bab0: 7768 6174 205b 6375 7374 6f6d 206f 7065  what [custom ope
-0002bac0: 7261 746f 7273 5d28 2363 7573 746f 6d2d  rators](#custom-
-0002bad0: 6f70 6572 6174 6f72 7329 2068 6176 6520  operators) have 
-0002bae0: 6265 656e 2064 6563 6c61 7265 6429 e280  been declared)..
-0002baf0: 9469 6620 604e 6f6e 6560 2c20 696e 7465  .if `None`, inte
-0002bb00: 726e 616c 2073 7461 7465 2077 696c 6c20  rnal state will 
-0002bb10: 6265 206b 6570 7420 6966 6620 796f 7520  be kept iff you 
-0002bb20: 6172 6520 6e6f 7420 7573 696e 6720 7468  are not using th
-0002bb30: 6520 676c 6f62 616c 205f 7374 6174 655f  e global _state_
-0002bb40: 2e0a 0a49 6620 5f63 6f64 655f 2069 7320  ...If _code_ is 
-0002bb50: 6e6f 7420 7061 7373 6564 2c20 6070 6172  not passed, `par
-0002bb60: 7365 6020 7769 6c6c 206f 7574 7075 7420  se` will output 
-0002bb70: 6a75 7374 2074 6865 2067 6976 656e 205f  just the given _
-0002bb80: 6d6f 6465 5f27 7320 6865 6164 6572 2c20  mode_'s header, 
-0002bb90: 7768 6963 6820 6361 6e20 6265 2065 7865  which can be exe
-0002bba0: 6375 7465 6420 746f 2073 6574 2075 7020  cuted to set up 
-0002bbb0: 616e 2065 7865 6375 7469 6f6e 2065 6e76  an execution env
-0002bbc0: 6972 6f6e 6d65 6e74 2069 6e20 7768 6963  ironment in whic
-0002bbd0: 6820 6675 7475 7265 2063 6f64 6520 6361  h future code ca
-0002bbe0: 6e20 6265 2070 6172 7365 6420 616e 6420  n be parsed and 
-0002bbf0: 6578 6563 7574 6564 2077 6974 686f 7574  executed without
-0002bc00: 2061 2068 6561 6465 722e 0a0a 4561 6368   a header...Each
-0002bc10: 205f 6d6f 6465 5f20 6861 7320 7477 6f20   _mode_ has two 
-0002bc20: 636f 6d70 6f6e 656e 7473 3a20 7768 6174  components: what
-0002bc30: 2070 6172 7365 7220 6974 2075 7365 732c   parser it uses,
-0002bc40: 2061 6e64 2077 6861 7420 6865 6164 6572   and what header
-0002bc50: 2069 7420 7072 6570 656e 6473 2e20 5468   it prepends. Th
-0002bc60: 6520 7061 7273 6572 2064 6574 6572 6d69  e parser determi
-0002bc70: 6e65 7320 7768 6174 2043 6f63 6f6e 7574  nes what Coconut
-0002bc80: 2063 6f64 6520 6973 2061 6c6c 6f77 6564   code is allowed
-0002bc90: 2061 7320 696e 7075 742c 2061 6e64 2074   as input, and t
-0002bca0: 6865 2068 6561 6465 7220 6465 7465 726d  he header determ
-0002bcb0: 696e 6573 2068 6f77 2074 6865 2063 6f6d  ines how the com
-0002bcc0: 7069 6c65 6420 5079 7468 6f6e 2063 616e  piled Python can
-0002bcd0: 2062 6520 7573 6564 2e20 506f 7373 6962   be used. Possib
-0002bce0: 6c65 2076 616c 7565 7320 6f66 205f 6d6f  le values of _mo
-0002bcf0: 6465 5f20 6172 653a 0a0a 2d20 6022 7379  de_ are:..- `"sy
-0002bd00: 7322 603a 2028 7468 6520 6465 6661 756c  s"`: (the defaul
-0002bd10: 7429 0a20 2020 202b 2070 6172 7365 723a  t).    + parser:
-0002bd20: 2066 696c 650a 2020 2020 2020 2020 2a20   file.        * 
-0002bd30: 5468 6520 6669 6c65 2070 6172 7365 7220  The file parser 
-0002bd40: 6361 6e20 7061 7273 6520 616e 7920 436f  can parse any Co
-0002bd50: 636f 6e75 7420 636f 6465 2e0a 2020 2020  conut code..    
-0002bd60: 2b20 6865 6164 6572 3a20 7379 730a 2020  + header: sys.  
-0002bd70: 2020 2020 2020 2a20 5468 6973 2068 6561        * This hea
-0002bd80: 6465 7220 696d 706f 7274 7320 5b60 636f  der imports [`co
-0002bd90: 636f 6e75 742e 5f5f 636f 636f 6e75 745f  conut.__coconut_
-0002bda0: 5f60 5d28 2363 6f63 6f6e 7574 2d63 6f63  _`](#coconut-coc
-0002bdb0: 6f6e 7574 2920 746f 2061 6363 6573 7320  onut) to access 
-0002bdc0: 7468 6520 6e65 6365 7373 6172 7920 436f  the necessary Co
-0002bdd0: 636f 6e75 7420 6f62 6a65 6374 732e 0a2d  conut objects..-
-0002bde0: 2060 2265 7865 6322 603a 0a20 2020 202b   `"exec"`:.    +
-0002bdf0: 2070 6172 7365 723a 2066 696c 650a 2020   parser: file.  
-0002be00: 2020 2b20 6865 6164 6572 3a20 6578 6563    + header: exec
-0002be10: 0a20 2020 2020 2020 202a 2057 6865 6e20  .        * When 
-0002be20: 7061 7373 6564 2074 6f20 6065 7865 6360  passed to `exec`
-0002be30: 2061 7420 7468 6520 676c 6f62 616c 206c   at the global l
-0002be40: 6576 656c 2c20 7468 6973 2068 6561 6465  evel, this heade
-0002be50: 7220 7769 6c6c 2063 7265 6174 6520 616c  r will create al
-0002be60: 6c20 7468 6520 6e65 6365 7373 6172 7920  l the necessary 
-0002be70: 436f 636f 6e75 7420 6f62 6a65 6374 7320  Coconut objects 
-0002be80: 6974 7365 6c66 2069 6e73 7465 6164 206f  itself instead o
-0002be90: 6620 696d 706f 7274 696e 6720 7468 656d  f importing them
-0002bea0: 2e0a 2d20 6022 6669 6c65 2260 3a0a 2020  ..- `"file"`:.  
-0002beb0: 2020 2b20 7061 7273 6572 3a20 6669 6c65    + parser: file
-0002bec0: 0a20 2020 202b 2068 6561 6465 723a 2066  .    + header: f
-0002bed0: 696c 650a 2020 2020 2020 2020 2a20 5468  ile.        * Th
-0002bee0: 6973 2068 6561 6465 7220 6973 206d 6561  is header is mea
-0002bef0: 6e74 2074 6f20 6265 2077 7269 7474 656e  nt to be written
-0002bf00: 2074 6f20 6120 602d 2d73 7461 6e64 616c   to a `--standal
-0002bf10: 6f6e 6560 2066 696c 6520 616e 6420 7368  one` file and sh
-0002bf20: 6f75 6c64 206e 6f74 2062 6520 7061 7373  ould not be pass
-0002bf30: 6564 2074 6f20 6065 7865 6360 2e0a 2d20  ed to `exec`..- 
-0002bf40: 6022 7061 636b 6167 6522 603a 0a20 2020  `"package"`:.   
-0002bf50: 202b 2070 6172 7365 723a 2066 696c 650a   + parser: file.
-0002bf60: 2020 2020 2b20 6865 6164 6572 3a20 7061      + header: pa
-0002bf70: 636b 6167 650a 2020 2020 2020 2020 2a20  ckage.        * 
-0002bf80: 5468 6973 2068 6561 6465 7220 6973 206d  This header is m
-0002bf90: 6561 6e74 2074 6f20 6265 2077 7269 7474  eant to be writt
-0002bfa0: 656e 2074 6f20 6120 602d 2d70 6163 6b61  en to a `--packa
-0002bfb0: 6765 6020 6669 6c65 2061 6e64 2073 686f  ge` file and sho
-0002bfc0: 756c 6420 6e6f 7420 6265 2070 6173 7365  uld not be passe
-0002bfd0: 6420 746f 2060 6578 6563 602e 0a2d 2060  d to `exec`..- `
-0002bfe0: 2262 6c6f 636b 2260 3a0a 2020 2020 2b20  "block"`:.    + 
-0002bff0: 7061 7273 6572 3a20 6669 6c65 0a20 2020  parser: file.   
-0002c000: 202b 2068 6561 6465 723a 206e 6f6e 650a   + header: none.
-0002c010: 2020 2020 2020 2020 2a20 4e6f 2068 6561          * No hea
-0002c020: 6465 7220 6973 2069 6e63 6c75 6465 642c  der is included,
-0002c030: 2074 6875 7320 7468 6973 2063 616e 206f   thus this can o
-0002c040: 6e6c 7920 6265 2070 6173 7365 6420 746f  nly be passed to
-0002c050: 2060 6578 6563 6020 6966 2063 6f64 6520   `exec` if code 
-0002c060: 7769 7468 2061 2068 6561 6465 7220 6861  with a header ha
-0002c070: 7320 616c 7265 6164 7920 6265 656e 2065  s already been e
-0002c080: 7865 6375 7465 6420 6174 2074 6865 2067  xecuted at the g
-0002c090: 6c6f 6261 6c20 6c65 7665 6c2e 0a2d 2060  lobal level..- `
-0002c0a0: 2273 696e 676c 6522 603a 0a20 2020 202b  "single"`:.    +
-0002c0b0: 2070 6172 7365 723a 2073 696e 676c 650a   parser: single.
-0002c0c0: 2020 2020 2020 2020 2a20 4361 6e20 6f6e          * Can on
-0002c0d0: 6c79 2070 6172 7365 206f 6e65 206c 696e  ly parse one lin
-0002c0e0: 6520 6f66 2043 6f63 6f6e 7574 2063 6f64  e of Coconut cod
-0002c0f0: 652e 0a20 2020 202b 2068 6561 6465 723a  e..    + header:
-0002c100: 206e 6f6e 650a 2d20 6022 6576 616c 2260   none.- `"eval"`
-0002c110: 3a0a 2020 2020 2b20 7061 7273 6572 3a20  :.    + parser: 
-0002c120: 6576 616c 0a20 2020 2020 2020 202a 2043  eval.        * C
-0002c130: 616e 206f 6e6c 7920 7061 7273 6520 6120  an only parse a 
-0002c140: 436f 636f 6e75 7420 6578 7072 6573 7369  Coconut expressi
-0002c150: 6f6e 2c20 6e6f 7420 6120 7374 6174 656d  on, not a statem
-0002c160: 656e 742e 0a20 2020 202b 2068 6561 6465  ent..    + heade
-0002c170: 723a 206e 6f6e 650a 2d20 6022 6c65 6e69  r: none.- `"leni
-0002c180: 656e 7422 603a 0a20 2020 202b 2070 6172  ent"`:.    + par
-0002c190: 7365 723a 206c 656e 6965 6e74 0a20 2020  ser: lenient.   
-0002c1a0: 2020 2020 202a 2043 616e 2070 6172 7365       * Can parse
-0002c1b0: 2061 6e79 2043 6f63 6f6e 7574 2063 6f64   any Coconut cod
-0002c1c0: 652c 2061 6c6c 6f77 7320 6c65 6164 696e  e, allows leadin
-0002c1d0: 6720 7768 6974 6573 7061 6365 2c20 616e  g whitespace, an
-0002c1e0: 6420 6861 7320 6e6f 2074 7261 696c 696e  d has no trailin
-0002c1f0: 6720 6e65 776c 696e 652e 0a20 2020 202b  g newline..    +
-0002c200: 2068 6561 6465 723a 206e 6f6e 650a 2d20   header: none.- 
-0002c210: 6022 786f 6e73 6822 603a 0a20 2020 202b  `"xonsh"`:.    +
-0002c220: 2070 6172 7365 723a 2078 6f6e 7368 0a20   parser: xonsh. 
-0002c230: 2020 2020 2020 202a 2050 6172 7365 7320         * Parses 
-0002c240: 436f 636f 6e75 7420 5b60 786f 6e73 6860  Coconut [`xonsh`
-0002c250: 5d28 6874 7470 733a 2f2f 786f 6e2e 7368  ](https://xon.sh
-0002c260: 2920 636f 6465 2066 6f72 2075 7365 2069  ) code for use i
-0002c270: 6e20 5b43 6f63 6f6e 7574 2773 2060 786f  n [Coconut's `xo
-0002c280: 6e73 6860 2073 7570 706f 7274 5d28 2378  nsh` support](#x
-0002c290: 6f6e 7368 2d73 7570 706f 7274 292e 0a20  onsh-support).. 
-0002c2a0: 2020 202b 2068 6561 6465 723a 206e 6f6e     + header: non
-0002c2b0: 650a 0a23 2323 2323 2045 7861 6d70 6c65  e..##### Example
-0002c2c0: 0a0a 6060 6063 6f63 6f6e 7574 5f70 7974  ..```coconut_pyt
-0002c2d0: 686f 6e0a 6672 6f6d 2063 6f63 6f6e 7574  hon.from coconut
-0002c2e0: 2e63 6f6e 7665 6e69 656e 6365 2069 6d70  .convenience imp
-0002c2f0: 6f72 7420 7061 7273 650a 6578 6563 2870  ort parse.exec(p
-0002c300: 6172 7365 2829 290a 7768 696c 6520 5472  arse()).while Tr
-0002c310: 7565 3a0a 2020 2020 6578 6563 2870 6172  ue:.    exec(par
-0002c320: 7365 2869 6e70 7574 2829 2c20 6d6f 6465  se(input(), mode
-0002c330: 3d22 626c 6f63 6b22 2929 0a60 6060 0a0a  ="block")).```..
-0002c340: 2323 2323 2060 7365 7475 7060 0a0a 2a2a  #### `setup`..**
-0002c350: 636f 636f 6e75 742e 636f 6e76 656e 6965  coconut.convenie
-0002c360: 6e63 652e 7365 7475 702a 2a28 5f74 6172  nce.setup**(_tar
-0002c370: 6765 745f 3d60 4e6f 6e65 602c 205f 7374  get_=`None`, _st
-0002c380: 7269 6374 5f3d 6046 616c 7365 602c 205f  rict_=`False`, _
-0002c390: 6d69 6e69 6679 5f3d 6046 616c 7365 602c  minify_=`False`,
-0002c3a0: 205f 6c69 6e65 5c5f 6e75 6d62 6572 735f   _line\_numbers_
-0002c3b0: 3d60 4661 6c73 6560 2c20 5f6b 6565 705c  =`False`, _keep\
-0002c3c0: 5f6c 696e 6573 5f3d 6046 616c 7365 602c  _lines_=`False`,
-0002c3d0: 205f 6e6f 5c5f 7463 6f5f 3d60 4661 6c73   _no\_tco_=`Fals
-0002c3e0: 6560 2c20 5f6e 6f5c 5f77 7261 705f 3d60  e`, _no\_wrap_=`
-0002c3f0: 4661 6c73 6560 2c20 2a2c 205f 7374 6174  False`, *, _stat
-0002c400: 655f 3d60 4661 6c73 6560 290a 0a60 7365  e_=`False`)..`se
-0002c410: 7475 7060 2063 616e 2062 6520 7573 6564  tup` can be used
-0002c420: 2074 6f20 7365 7420 7570 2074 6865 2067   to set up the g
-0002c430: 6976 656e 2073 7461 7465 206f 626a 6563  iven state objec
-0002c440: 7420 7769 7468 2074 6865 2067 6976 656e  t with the given
-0002c450: 2063 6f6d 6d61 6e64 2d6c 696e 6520 666c   command-line fl
-0002c460: 6167 732e 2049 6620 5f73 7461 7465 5f20  ags. If _state_ 
-0002c470: 6973 2060 4661 6c73 6560 2c20 7468 6520  is `False`, the 
-0002c480: 676c 6f62 616c 2073 7461 7465 206f 626a  global state obj
-0002c490: 6563 7420 6973 2075 7365 642e 0a0a 5468  ect is used...Th
-0002c4a0: 6520 706f 7373 6962 6c65 2076 616c 7565  e possible value
-0002c4b0: 7320 666f 7220 6561 6368 2066 6c61 6720  s for each flag 
-0002c4c0: 6172 6775 6d65 6e74 2061 7265 3a0a 0a2d  argument are:..-
-0002c4d0: 205f 7461 7267 6574 5f3a 2060 4e6f 6e65   _target_: `None
-0002c4e0: 6020 2864 6566 6175 6c74 292c 206f 7220  ` (default), or 
-0002c4f0: 616e 7920 5b61 6c6c 6f77 6162 6c65 2074  any [allowable t
-0002c500: 6172 6765 745d 2823 616c 6c6f 7761 626c  arget](#allowabl
-0002c510: 652d 7461 7267 6574 7329 0a2d 205f 7374  e-targets).- _st
-0002c520: 7269 6374 5f3a 2060 4661 6c73 6560 2028  rict_: `False` (
-0002c530: 6465 6661 756c 7429 206f 7220 6054 7275  default) or `Tru
-0002c540: 6560 0a2d 205f 6d69 6e69 6679 5f3a 2060  e`.- _minify_: `
-0002c550: 4661 6c73 6560 2028 6465 6661 756c 7429  False` (default)
-0002c560: 206f 7220 6054 7275 6560 0a2d 205f 6c69   or `True`.- _li
-0002c570: 6e65 5c5f 6e75 6d62 6572 735f 3a20 6046  ne\_numbers_: `F
-0002c580: 616c 7365 6020 2864 6566 6175 6c74 2920  alse` (default) 
-0002c590: 6f72 2060 5472 7565 600a 2d20 5f6b 6565  or `True`.- _kee
-0002c5a0: 705c 5f6c 696e 6573 5f3a 2060 4661 6c73  p\_lines_: `Fals
-0002c5b0: 6560 2028 6465 6661 756c 7429 206f 7220  e` (default) or 
-0002c5c0: 6054 7275 6560 0a2d 205f 6e6f 5c5f 7463  `True`.- _no\_tc
-0002c5d0: 6f5f 3a20 6046 616c 7365 6020 2864 6566  o_: `False` (def
-0002c5e0: 6175 6c74 2920 6f72 2060 5472 7565 600a  ault) or `True`.
-0002c5f0: 2d20 5f6e 6f5c 5f77 7261 705f 3a20 6046  - _no\_wrap_: `F
-0002c600: 616c 7365 6020 2864 6566 6175 6c74 2920  alse` (default) 
-0002c610: 6f72 2060 5472 7565 600a 0a23 2323 2320  or `True`..#### 
-0002c620: 6063 6d64 600a 0a2a 2a63 6f63 6f6e 7574  `cmd`..**coconut
-0002c630: 2e63 6f6e 7665 6e69 656e 6365 2e63 6d64  .convenience.cmd
-0002c640: 2a2a 285f 6172 6773 5f3d 604e 6f6e 6560  **(_args_=`None`
-0002c650: 2c20 2a2c 205f 6172 6776 5f3d 604e 6f6e  , *, _argv_=`Non
-0002c660: 6560 2c20 5f69 6e74 6572 6163 745f 3d60  e`, _interact_=`
-0002c670: 4661 6c73 6560 2c20 5f64 6566 6175 6c74  False`, _default
-0002c680: 5c5f 7461 7267 6574 5f3d 604e 6f6e 6560  \_target_=`None`
-0002c690: 2c20 5f73 7461 7465 5f3d 6046 616c 7365  , _state_=`False
-0002c6a0: 6029 0a0a 4578 6563 7574 6573 2074 6865  `)..Executes the
-0002c6b0: 2067 6976 656e 205f 6172 6773 5f20 6173   given _args_ as
-0002c6c0: 2069 6620 7468 6579 2077 6572 6520 6665   if they were fe
-0002c6d0: 6420 746f 2060 636f 636f 6e75 7460 206f  d to `coconut` o
-0002c6e0: 6e20 7468 6520 636f 6d6d 616e 642d 6c69  n the command-li
-0002c6f0: 6e65 2c20 7769 7468 2074 6865 2065 7863  ne, with the exc
-0002c700: 6570 7469 6f6e 2074 6861 7420 756e 6c65  eption that unle
-0002c710: 7373 205f 696e 7465 7261 6374 5f20 6973  ss _interact_ is
-0002c720: 2074 7275 6520 6f72 2060 2d69 6020 6973   true or `-i` is
-0002c730: 2070 6173 7365 642c 2074 6865 2069 6e74   passed, the int
-0002c740: 6572 7072 6574 6572 2077 696c 6c20 6e6f  erpreter will no
-0002c750: 7420 6265 2073 7461 7274 6564 2e20 4164  t be started. Ad
-0002c760: 6469 7469 6f6e 616c 6c79 2c20 5f61 7267  ditionally, _arg
-0002c770: 765f 2063 616e 2062 6520 7573 6564 2074  v_ can be used t
-0002c780: 6f20 7061 7373 2069 6e20 6172 6775 6d65  o pass in argume
-0002c790: 6e74 7320 6173 2069 6e20 602d 2d61 7267  nts as in `--arg
-0002c7a0: 7660 2061 6e64 205f 6465 6661 756c 745c  v` and _default\
-0002c7b0: 5f74 6172 6765 745f 2063 616e 2062 6520  _target_ can be 
-0002c7c0: 7573 6564 2074 6f20 7365 7420 7468 6520  used to set the 
-0002c7d0: 6465 6661 756c 7420 602d 2d74 6172 6765  default `--targe
-0002c7e0: 7460 2e0a 0a48 6173 2074 6865 2073 616d  t`...Has the sam
-0002c7f0: 6520 6566 6665 6374 206f 6620 7365 7474  e effect of sett
-0002c800: 696e 6720 7468 6520 636f 6d6d 616e 642d  ing the command-
-0002c810: 6c69 6e65 2066 6c61 6773 206f 6e20 7468  line flags on th
-0002c820: 6520 6769 7665 6e20 5f73 7461 7465 5f20  e given _state_ 
-0002c830: 6f62 6a65 6374 2061 7320 6073 6574 7570  object as `setup
-0002c840: 6020 2877 6974 6820 7468 6520 676c 6f62  ` (with the glob
-0002c850: 616c 2060 7374 6174 6560 206f 626a 6563  al `state` objec
-0002c860: 7420 7573 6564 2077 6865 6e20 5f73 7461  t used when _sta
-0002c870: 7465 5f20 6973 2060 4661 6c73 6560 292e  te_ is `False`).
-0002c880: 0a0a 2323 2323 2060 636f 636f 6e75 745f  ..#### `coconut_
-0002c890: 6576 616c 600a 0a2a 2a63 6f63 6f6e 7574  eval`..**coconut
-0002c8a0: 2e63 6f6e 7665 6e69 656e 6365 2e63 6f63  .convenience.coc
-0002c8b0: 6f6e 7574 5f65 7661 6c2a 2a28 5f65 7870  onut_eval**(_exp
-0002c8c0: 7265 7373 696f 6e5f 2c20 5f67 6c6f 6261  ression_, _globa
-0002c8d0: 6c73 5f3d 604e 6f6e 6560 2c20 5f6c 6f63  ls_=`None`, _loc
-0002c8e0: 616c 735f 3d60 4e6f 6e65 602c 205f 7374  als_=`None`, _st
-0002c8f0: 6174 655f 3d60 4661 6c73 6560 2c20 5f6b  ate_=`False`, _k
-0002c900: 6565 705c 5f69 6e74 6572 6e61 6c5c 5f73  eep\_internal\_s
-0002c910: 7461 7465 5f3d 604e 6f6e 6560 290a 0a56  tate_=`None`)..V
-0002c920: 6572 7369 6f6e 206f 6620 5b60 6576 616c  ersion of [`eval
-0002c930: 605d 2868 7474 7073 3a2f 2f64 6f63 732e  `](https://docs.
-0002c940: 7079 7468 6f6e 2e6f 7267 2f33 2f6c 6962  python.org/3/lib
-0002c950: 7261 7279 2f66 756e 6374 696f 6e73 2e68  rary/functions.h
-0002c960: 746d 6c23 6576 616c 2920 7768 6963 6820  tml#eval) which 
-0002c970: 6361 6e20 6576 616c 7561 7465 2043 6f63  can evaluate Coc
-0002c980: 6f6e 7574 2063 6f64 652e 0a0a 2323 2323  onut code...####
-0002c990: 2060 7665 7273 696f 6e60 0a0a 2a2a 636f   `version`..**co
-0002c9a0: 636f 6e75 742e 636f 6e76 656e 6965 6e63  conut.convenienc
-0002c9b0: 652e 7665 7273 696f 6e2a 2a28 2a2a 5b2a  e.version**(**[*
-0002c9c0: 2a5f 7768 6963 685f 2a2a 5d2a 2a29 0a0a  *_which_**]**)..
-0002c9d0: 5265 7472 6965 7665 7320 6120 7374 7269  Retrieves a stri
-0002c9e0: 6e67 2063 6f6e 7461 696e 696e 6720 696e  ng containing in
-0002c9f0: 666f 726d 6174 696f 6e20 6162 6f75 7420  formation about 
-0002ca00: 7468 6520 436f 636f 6e75 7420 7665 7273  the Coconut vers
-0002ca10: 696f 6e2e 2054 6865 206f 7074 696f 6e61  ion. The optiona
-0002ca20: 6c20 6172 6775 6d65 6e74 205f 7768 6963  l argument _whic
-0002ca30: 685f 2069 7320 7468 6520 7479 7065 206f  h_ is the type o
-0002ca40: 6620 7665 7273 696f 6e20 696e 666f 726d  f version inform
-0002ca50: 6174 696f 6e20 6465 7369 7265 642e 2050  ation desired. P
-0002ca60: 6f73 7369 626c 6520 7661 6c75 6573 206f  ossible values o
-0002ca70: 6620 5f77 6869 6368 5f20 6172 653a 0a0a  f _which_ are:..
-0002ca80: 2d20 6022 6e75 6d22 603a 2074 6865 206e  - `"num"`: the n
-0002ca90: 756d 6572 6963 616c 2076 6572 7369 6f6e  umerical version
-0002caa0: 2028 7468 6520 6465 6661 756c 7429 0a2d   (the default).-
-0002cab0: 2060 226e 616d 6522 603a 2074 6865 2076   `"name"`: the v
-0002cac0: 6572 7369 6f6e 2063 6f64 656e 616d 650a  ersion codename.
-0002cad0: 2d20 6022 7370 6563 2260 3a20 7468 6520  - `"spec"`: the 
-0002cae0: 6e75 6d65 7269 6361 6c20 7665 7273 696f  numerical versio
-0002caf0: 6e20 7769 7468 2074 6865 2063 6f64 656e  n with the coden
-0002cb00: 616d 6520 6174 7461 6368 6564 0a2d 2060  ame attached.- `
-0002cb10: 2274 6167 2260 3a20 7468 6520 7665 7273  "tag"`: the vers
-0002cb20: 696f 6e20 7461 6720 7573 6564 2069 6e20  ion tag used in 
-0002cb30: 4769 7448 7562 2061 6e64 2064 6f63 756d  GitHub and docum
-0002cb40: 656e 7461 7469 6f6e 2055 524c 730a 2d20  entation URLs.- 
-0002cb50: 6022 2d76 2260 3a20 7468 6520 6675 6c6c  `"-v"`: the full
-0002cb60: 2073 7472 696e 6720 7072 696e 7465 6420   string printed 
-0002cb70: 6279 2060 636f 636f 6e75 7420 2d76 600a  by `coconut -v`.
-0002cb80: 0a23 2323 2320 6061 7574 6f5f 636f 6d70  .#### `auto_comp
-0002cb90: 696c 6174 696f 6e60 0a0a 2a2a 636f 636f  ilation`..**coco
-0002cba0: 6e75 742e 636f 6e76 656e 6965 6e63 652e  nut.convenience.
-0002cbb0: 6175 746f 5f63 6f6d 7069 6c61 7469 6f6e  auto_compilation
-0002cbc0: 2a2a 285f 6f6e 5f3d 6054 7275 6560 290a  **(_on_=`True`).
-0002cbd0: 0a54 7572 6e73 205b 6175 746f 6d61 7469  .Turns [automati
-0002cbe0: 6320 636f 6d70 696c 6174 696f 6e5d 2823  c compilation](#
-0002cbf0: 6175 746f 6d61 7469 632d 636f 6d70 696c  automatic-compil
-0002cc00: 6174 696f 6e29 206f 6e20 6f72 206f 6666  ation) on or off
-0002cc10: 2e20 5468 6973 2066 756e 6374 696f 6e20  . This function 
-0002cc20: 6973 2063 616c 6c65 6420 6175 746f 6d61  is called automa
-0002cc30: 7469 6361 6c6c 7920 7768 656e 2060 636f  tically when `co
-0002cc40: 636f 6e75 742e 636f 6e76 656e 6965 6e63  conut.convenienc
-0002cc50: 6560 2069 7320 696d 706f 7274 6564 2e0a  e` is imported..
-0002cc60: 0a23 2323 2320 6075 7365 5f63 6f63 6f6e  .#### `use_cocon
-0002cc70: 7574 5f62 7265 616b 706f 696e 7460 0a0a  ut_breakpoint`..
-0002cc80: 2a2a 636f 636f 6e75 742e 636f 6e76 656e  **coconut.conven
-0002cc90: 6965 6e63 652e 7573 655f 636f 636f 6e75  ience.use_coconu
-0002cca0: 745f 6272 6561 6b70 6f69 6e74 2a2a 285f  t_breakpoint**(_
-0002ccb0: 6f6e 5f3d 6054 7275 6560 290a 0a53 7769  on_=`True`)..Swi
-0002ccc0: 7463 6865 7320 7468 6520 5b60 6272 6561  tches the [`brea
-0002ccd0: 6b70 6f69 6e74 6020 6275 696c 742d 696e  kpoint` built-in
-0002cce0: 5d28 6874 7470 733a 2f2f 7777 772e 7079  ](https://www.py
-0002ccf0: 7468 6f6e 2e6f 7267 2f64 6576 2f70 6570  thon.org/dev/pep
-0002cd00: 732f 7065 702d 3035 3533 2f29 2077 6869  s/pep-0553/) whi
-0002cd10: 6368 2043 6f63 6f6e 7574 206d 616b 6573  ch Coconut makes
-0002cd20: 2075 6e69 7665 7273 616c 6c79 2061 7661   universally ava
-0002cd30: 696c 6162 6c65 2074 6f20 7573 6520 5b60  ilable to use [`
-0002cd40: 636f 636f 6e75 742e 656d 6265 6460 5d28  coconut.embed`](
-0002cd50: 2363 6f63 6f6e 7574 2d65 6d62 6564 2920  #coconut-embed) 
-0002cd60: 696e 7374 6561 6420 6f66 205b 6070 6462  instead of [`pdb
-0002cd70: 2e73 6574 5f74 7261 6365 605d 2868 7474  .set_trace`](htt
-0002cd80: 7073 3a2f 2f64 6f63 732e 7079 7468 6f6e  ps://docs.python
-0002cd90: 2e6f 7267 2f33 2f6c 6962 7261 7279 2f70  .org/3/library/p
-0002cda0: 6462 2e68 746d 6c23 7064 622e 7365 745f  db.html#pdb.set_
-0002cdb0: 7472 6163 6529 2028 6f72 2075 6e64 6f65  trace) (or undoe
-0002cdc0: 7320 7468 6174 2073 7769 7463 6820 6966  s that switch if
-0002cdd0: 2060 6f6e 3d46 616c 7365 6029 2e20 5468   `on=False`). Th
-0002cde0: 6973 2066 756e 6374 696f 6e20 6973 2063  is function is c
-0002cdf0: 616c 6c65 6420 6175 746f 6d61 7469 6361  alled automatica
-0002ce00: 6c6c 7920 7768 656e 2060 636f 636f 6e75  lly when `coconu
-0002ce10: 742e 636f 6e76 656e 6965 6e63 6560 2069  t.convenience` i
-0002ce20: 7320 696d 706f 7274 6564 2e0a 0a23 2323  s imported...###
-0002ce30: 2320 6043 6f63 6f6e 7574 4578 6365 7074  # `CoconutExcept
-0002ce40: 696f 6e60 0a0a 4966 2061 6e20 6572 726f  ion`..If an erro
-0002ce50: 7220 6973 2065 6e63 6f75 6e74 6572 6564  r is encountered
-0002ce60: 2069 6e20 6120 636f 6e76 656e 6965 6e63   in a convenienc
-0002ce70: 6520 6675 6e63 7469 6f6e 2c20 6120 6043  e function, a `C
-0002ce80: 6f63 6f6e 7574 4578 6365 7074 696f 6e60  oconutException`
-0002ce90: 2069 6e73 7461 6e63 6520 6d61 7920 6265   instance may be
-0002cea0: 2072 6169 7365 642e 2060 636f 636f 6e75   raised. `coconu
-0002ceb0: 742e 636f 6e76 656e 6965 6e63 652e 436f  t.convenience.Co
-0002cec0: 636f 6e75 7445 7863 6570 7469 6f6e 6020  conutException` 
-0002ced0: 6973 2070 726f 7669 6465 6420 746f 2061  is provided to a
-0002cee0: 6c6c 6f77 2063 6174 6368 696e 6720 7375  llow catching su
-0002cef0: 6368 2065 7272 6f72 732e 0a0a 2323 2320  ch errors...### 
-0002cf00: 6063 6f63 6f6e 7574 2e5f 5f63 6f63 6f6e  `coconut.__cocon
-0002cf10: 7574 5f5f 600a 0a49 7420 6973 2073 6f6d  ut__`..It is som
-0002cf20: 6574 696d 6573 2075 7365 6675 6c20 746f  etimes useful to
-0002cf30: 2062 6520 6162 6c65 2074 6f20 6163 6365   be able to acce
-0002cf40: 7373 2043 6f63 6f6e 7574 2062 7569 6c74  ss Coconut built
-0002cf50: 2d69 6e73 2066 726f 6d20 7075 7265 2050  -ins from pure P
-0002cf60: 7974 686f 6e2e 2054 6f20 6163 636f 6d70  ython. To accomp
-0002cf70: 6c69 7368 2074 6869 732c 2043 6f63 6f6e  lish this, Cocon
-0002cf80: 7574 2070 726f 7669 6465 7320 6063 6f63  ut provides `coc
-0002cf90: 6f6e 7574 2e5f 5f63 6f63 6f6e 7574 5f5f  onut.__coconut__
-0002cfa0: 602c 2077 6869 6368 2062 6568 6176 6573  `, which behaves
-0002cfb0: 2065 7861 6374 6c79 206c 696b 6520 7468   exactly like th
-0002cfc0: 6520 605f 5f63 6f63 6f6e 7574 5f5f 2e70  e `__coconut__.p
-0002cfd0: 7960 2068 6561 6465 7220 6669 6c65 2069  y` header file i
-0002cfe0: 6e63 6c75 6465 6420 7768 656e 2043 6f63  ncluded when Coc
-0002cff0: 6f6e 7574 2069 7320 636f 6d70 696c 6564  onut is compiled
-0002d000: 2069 6e20 7061 636b 6167 6520 6d6f 6465   in package mode
-0002d010: 2e0a 0a41 6c6c 2043 6f63 6f6e 7574 2062  ...All Coconut b
-0002d020: 7569 6c74 2d69 6e73 2061 7265 2061 6363  uilt-ins are acc
-0002d030: 6573 7369 626c 6520 6672 6f6d 2060 636f  essible from `co
-0002d040: 636f 6e75 742e 5f5f 636f 636f 6e75 745f  conut.__coconut_
-0002d050: 5f60 2e20 5468 6520 7265 636f 6d6d 656e  _`. The recommen
-0002d060: 6465 6420 7761 7920 746f 2069 6d70 6f72  ded way to impor
-0002d070: 7420 7468 656d 2069 7320 746f 2075 7365  t them is to use
-0002d080: 2060 6672 6f6d 2063 6f63 6f6e 7574 2e5f   `from coconut._
-0002d090: 5f63 6f63 6f6e 7574 5f5f 2069 6d70 6f72  _coconut__ impor
-0002d0a0: 7460 2061 6e64 2069 6d70 6f72 7420 7768  t` and import wh
-0002d0b0: 6174 6576 6572 2062 7569 6c74 2d69 6e73  atever built-ins
-0002d0c0: 2079 6f75 276c 6c20 6265 2075 7369 6e67   you'll be using
-0002d0d0: 2e0a 0a23 2323 2323 2045 7861 6d70 6c65  ...##### Example
-0002d0e0: 0a0a 6060 6063 6f63 6f6e 7574 5f70 7974  ..```coconut_pyt
-0002d0f0: 686f 6e0a 6672 6f6d 2063 6f63 6f6e 7574  hon.from coconut
-0002d100: 2e5f 5f63 6f63 6f6e 7574 5f5f 2069 6d70  .__coconut__ imp
-0002d110: 6f72 7420 7061 7261 6c6c 656c 5f6d 6170  ort parallel_map
-0002d120: 0a60 6060 0a                             .```.
+00007c20: 2020 2072 6967 6874 2028 616c 6c6f 7773     right (allows
+00007c30: 2075 6e61 7279 290a 6620 7820 2020 2020   unary).f x     
+00007c40: 2020 2020 2020 2020 2020 2020 2020 206e                 n
+00007c50: 2f61 0a2b 2c20 2d2c 207e 2020 2020 2020  /a.+, -, ~      
+00007c60: 2020 2020 2020 2020 2020 756e 6172 790a            unary.
+00007c70: 2a2c 202f 2c20 2f2f 2c20 252c 2040 2020  *, /, //, %, @  
+00007c80: 2020 2020 2020 206c 6566 740a 2b2c 202d         left.+, -
+00007c90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007ca0: 2020 206c 6566 740a 3c3c 2c20 3e3e 2020     left.<<, >>  
+00007cb0: 2020 2020 2020 2020 2020 2020 2020 206c                 l
+00007cc0: 6566 740a 2620 2020 2020 2020 2020 2020  eft.&           
+00007cd0: 2020 2020 2020 2020 2020 206c 6566 740a             left.
+00007ce0: 263a 2020 2020 2020 2020 2020 2020 2020  &:              
+00007cf0: 2020 2020 2020 206c 6566 740a 5e20 2020         left.^   
+00007d00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007d10: 2020 206c 6566 740a 7c20 2020 2020 2020     left.|       
+00007d20: 2020 2020 2020 2020 2020 2020 2020 206c                 l
+00007d30: 6566 740a 3a3a 2020 2020 2020 2020 2020  eft.::          
+00007d40: 2020 2020 2020 2020 2020 206e 2f61 2028             n/a (
+00007d50: 6c61 7a79 290a 2e2e 2020 2020 2020 2020  lazy)...        
+00007d60: 2020 2020 2020 2020 2020 2020 206e 2f61               n/a
+00007d70: 0a61 2060 6260 2063 2c20 2020 2020 2020  .a `b` c,       
+00007d80: 2020 2020 2020 2020 6c65 6674 2028 6361          left (ca
+00007d90: 7074 7572 6573 206c 616d 6264 6129 0a20  ptures lambda). 
+00007da0: 2061 6c6c 2063 7573 746f 6d20 6f70 6572   all custom oper
+00007db0: 6174 6f72 730a 3f3f 2020 2020 2020 2020  ators.??        
+00007dc0: 2020 2020 2020 2020 2020 2020 206c 6566               lef
+00007dd0: 7420 2873 686f 7274 2d63 6972 6375 6974  t (short-circuit
+00007de0: 7329 0a2e 2e3e 2c20 3c2e 2e2c 202e 2e2a  s)...>, <.., ..*
+00007df0: 3e2c 203c 2a2e 2e2c 2020 6e2f 6120 2863  >, <*..,  n/a (c
+00007e00: 6170 7475 7265 7320 6c61 6d62 6461 290a  aptures lambda).
+00007e10: 2020 2e2e 2a2a 3e2c 203c 2a2a 2e2e 0a7c    ..**>, <**...|
+00007e20: 3e2c 203c 7c2c 207c 2a3e 2c20 3c2a 7c2c  >, <|, |*>, <*|,
+00007e30: 2020 2020 2020 6c65 6674 2028 6361 7074        left (capt
+00007e40: 7572 6573 206c 616d 6264 6129 0a20 207c  ures lambda).  |
+00007e50: 2a2a 3e2c 203c 2a2a 7c0a 3d3d 2c20 213d  **>, <**|.==, !=
+00007e60: 2c20 3c2c 203e 2c0a 2020 3c3d 2c20 3e3d  , <, >,.  <=, >=
+00007e70: 2c0a 2020 696e 2c20 6e6f 7420 696e 2c0a  ,.  in, not in,.
+00007e80: 2020 6973 2c20 6973 206e 6f74 2020 2020    is, is not    
+00007e90: 2020 2020 2020 206e 2f61 0a6e 6f74 2020         n/a.not  
+00007ea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007eb0: 2020 756e 6172 790a 616e 6420 2020 2020    unary.and     
+00007ec0: 2020 2020 2020 2020 2020 2020 2020 206c                 l
+00007ed0: 6566 7420 2873 686f 7274 2d63 6972 6375  eft (short-circu
+00007ee0: 6974 7329 0a6f 7220 2020 2020 2020 2020  its).or         
+00007ef0: 2020 2020 2020 2020 2020 2020 6c65 6674              left
+00007f00: 2028 7368 6f72 742d 6369 7263 7569 7473   (short-circuits
+00007f10: 290a 7820 6966 2063 2065 6c73 6520 792c  ).x if c else y,
+00007f20: 2020 2020 2020 2020 2074 6572 6e61 7279           ternary
+00007f30: 206c 6566 7420 2873 686f 7274 2d63 6972   left (short-cir
+00007f40: 6375 6974 7329 0a20 2069 6620 6320 7468  cuits).  if c th
+00007f50: 656e 2078 2065 6c73 6520 790a 2d3e 2020  en x else y.->  
+00007f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007f70: 2020 2072 6967 6874 0a3d 3d3d 3d3d 3d3d     right.=======
+00007f80: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d20  =============== 
+00007f90: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00007fa0: 3d3d 3d3d 3d3d 3d3d 3d3d 0a60 6060 0a0a  ==========.```..
+00007fb0: 466f 7220 6578 616d 706c 652c 2073 696e  For example, sin
+00007fc0: 6365 2061 6464 6974 696f 6e20 6861 7320  ce addition has 
+00007fd0: 6120 6869 6768 6572 2070 7265 6365 6465  a higher precede
+00007fe0: 6e63 6520 7468 616e 2070 6970 696e 672c  nce than piping,
+00007ff0: 2065 7870 7265 7373 696f 6e73 206f 6620   expressions of 
+00008000: 7468 6520 666f 726d 2060 7820 7c3e 2079  the form `x |> y
+00008010: 202b 207a 6020 6172 6520 6571 7569 7661   + z` are equiva
+00008020: 6c65 6e74 2074 6f20 6078 207c 3e20 2879  lent to `x |> (y
+00008030: 202b 207a 2960 2e0a 0a23 2323 204c 616d   + z)`...### Lam
+00008040: 6264 6173 0a0a 436f 636f 6e75 7420 7072  bdas..Coconut pr
+00008050: 6f76 6964 6573 2074 6865 2073 696d 706c  ovides the simpl
+00008060: 652c 2063 6c65 616e 2060 2d3e 6020 6f70  e, clean `->` op
+00008070: 6572 6174 6f72 2061 7320 616e 2061 6c74  erator as an alt
+00008080: 6572 6e61 7469 7665 2074 6f20 5079 7468  ernative to Pyth
+00008090: 6f6e 2773 2060 6c61 6d62 6461 6020 7374  on's `lambda` st
+000080a0: 6174 656d 656e 7473 2e20 5468 6520 7379  atements. The sy
+000080b0: 6e74 6178 2066 6f72 2074 6865 2060 2d3e  ntax for the `->
+000080c0: 6020 6f70 6572 6174 6f72 2069 7320 6028  ` operator is `(
+000080d0: 7061 7261 6d65 7465 7273 2920 2d3e 2065  parameters) -> e
+000080e0: 7870 7265 7373 696f 6e60 2028 6f72 2060  xpression` (or `
+000080f0: 7061 7261 6d65 7465 7220 2d3e 2065 7870  parameter -> exp
+00008100: 7265 7373 696f 6e60 2066 6f72 206f 6e65  ression` for one
+00008110: 2d61 7267 756d 656e 7420 6c61 6d62 6461  -argument lambda
+00008120: 7329 2e20 5468 6520 6f70 6572 6174 6f72  s). The operator
+00008130: 2068 6173 2074 6865 2073 616d 6520 7072   has the same pr
+00008140: 6563 6564 656e 6365 2061 7320 7468 6520  ecedence as the 
+00008150: 6f6c 6420 7374 6174 656d 656e 742c 2077  old statement, w
+00008160: 6869 6368 206d 6561 6e73 2069 7420 7769  hich means it wi
+00008170: 6c6c 206f 6674 656e 2062 6520 6e65 6365  ll often be nece
+00008180: 7373 6172 7920 746f 2073 7572 726f 756e  ssary to surroun
+00008190: 6420 7468 6520 6c61 6d62 6461 2069 6e20  d the lambda in 
+000081a0: 7061 7265 6e74 6865 7365 732c 2061 6e64  parentheses, and
+000081b0: 2069 7320 7269 6768 742d 6173 736f 6369   is right-associ
+000081c0: 6174 6976 652e 0a0a 4164 6469 7469 6f6e  ative...Addition
+000081d0: 616c 6c79 2c20 436f 636f 6e75 7420 616c  ally, Coconut al
+000081e0: 736f 2073 7570 706f 7274 7320 616e 2069  so supports an i
+000081f0: 6d70 6c69 6369 7420 7573 6167 6520 6f66  mplicit usage of
+00008200: 2074 6865 2060 2d3e 6020 6f70 6572 6174   the `->` operat
+00008210: 6f72 206f 6620 7468 6520 666f 726d 2060  or of the form `
+00008220: 282d 3e20 6578 7072 6573 7369 6f6e 2960  (-> expression)`
+00008230: 2c20 7768 6963 6820 6973 2065 7175 6976  , which is equiv
+00008240: 616c 656e 7420 746f 2060 2828 5f3d 4e6f  alent to `((_=No
+00008250: 6e65 2920 2d3e 2065 7870 7265 7373 696f  ne) -> expressio
+00008260: 6e29 602c 2077 6869 6368 2061 6c6c 6f77  n)`, which allow
+00008270: 7320 616e 2069 6d70 6c69 6369 7420 6c61  s an implicit la
+00008280: 6d62 6461 2074 6f20 6265 2075 7365 6420  mbda to be used 
+00008290: 626f 7468 2077 6865 6e20 6e6f 2061 7267  both when no arg
+000082a0: 756d 656e 7473 2061 7265 2072 6571 7569  uments are requi
+000082b0: 7265 642c 2061 6e64 2077 6865 6e20 6f6e  red, and when on
+000082c0: 6520 6172 6775 6d65 6e74 2028 6173 7369  e argument (assi
+000082d0: 676e 6564 2074 6f20 605f 6029 2069 7320  gned to `_`) is 
+000082e0: 7265 7175 6972 6564 2e0a 0a5f 4e6f 7465  required..._Note
+000082f0: 3a20 4966 206e 6f72 6d61 6c20 6c61 6d62  : If normal lamb
+00008300: 6461 2073 796e 7461 7820 6973 2069 6e73  da syntax is ins
+00008310: 7566 6669 6369 656e 742c 2043 6f63 6f6e  ufficient, Cocon
+00008320: 7574 2061 6c73 6f20 7375 7070 6f72 7473  ut also supports
+00008330: 2061 6e20 6578 7465 6e64 6564 206c 616d   an extended lam
+00008340: 6264 6120 7379 6e74 6178 2069 6e20 7468  bda syntax in th
+00008350: 6520 666f 726d 206f 6620 5b73 7461 7465  e form of [state
+00008360: 6d65 6e74 206c 616d 6264 6173 5d28 2373  ment lambdas](#s
+00008370: 7461 7465 6d65 6e74 2d6c 616d 6264 6173  tatement-lambdas
+00008380: 292e 2053 7461 7465 6d65 6e74 206c 616d  ). Statement lam
+00008390: 6264 6173 2073 7570 706f 7274 2066 756c  bdas support ful
+000083a0: 6c20 7374 6174 656d 656e 7473 2072 6174  l statements rat
+000083b0: 6865 7220 7468 616e 206a 7573 7420 6578  her than just ex
+000083c0: 7072 6573 7369 6f6e 7320 616e 6420 616c  pressions and al
+000083d0: 6c6f 7720 666f 7220 7468 6520 7573 6520  low for the use 
+000083e0: 6f66 205b 7061 7474 6572 6e2d 6d61 7463  of [pattern-matc
+000083f0: 6869 6e67 2066 756e 6374 696f 6e20 6465  hing function de
+00008400: 6669 6e69 7469 6f6e 5d28 2370 6174 7465  finition](#patte
+00008410: 726e 2d6d 6174 6368 696e 672d 6675 6e63  rn-matching-func
+00008420: 7469 6f6e 7329 2e5f 0a0a 2323 2323 2320  tions)._..##### 
+00008430: 5261 7469 6f6e 616c 650a 0a49 6e20 5079  Rationale..In Py
+00008440: 7468 6f6e 2c20 6c61 6d62 6461 7320 6172  thon, lambdas ar
+00008450: 6520 7567 6c79 2061 6e64 2062 756c 6b79  e ugly and bulky
+00008460: 2c20 7265 7175 6972 696e 6720 7468 6520  , requiring the 
+00008470: 656e 7469 7265 2077 6f72 6420 606c 616d  entire word `lam
+00008480: 6264 6160 2074 6f20 6265 2077 7269 7474  bda` to be writt
+00008490: 656e 206f 7574 2065 7665 7279 2074 696d  en out every tim
+000084a0: 6520 6f6e 6520 6973 2063 6f6e 7374 7275  e one is constru
+000084b0: 6374 6564 2e20 5468 6973 2069 7320 6669  cted. This is fi
+000084c0: 6e65 2069 6620 696e 2d6c 696e 6520 6675  ne if in-line fu
+000084d0: 6e63 7469 6f6e 7320 6172 6520 7665 7279  nctions are very
+000084e0: 2072 6172 656c 7920 6e65 6564 6564 2c20   rarely needed, 
+000084f0: 6275 7420 696e 2066 756e 6374 696f 6e61  but in functiona
+00008500: 6c20 7072 6f67 7261 6d6d 696e 6720 696e  l programming in
+00008510: 2d6c 696e 6520 6675 6e63 7469 6f6e 7320  -line functions 
+00008520: 6172 6520 616e 2065 7373 656e 7469 616c  are an essential
+00008530: 2074 6f6f 6c2e 0a0a 2323 2323 2320 5079   tool...##### Py
+00008540: 7468 6f6e 2044 6f63 730a 0a4c 616d 6264  thon Docs..Lambd
+00008550: 6120 666f 726d 7320 286c 616d 6264 6120  a forms (lambda 
+00008560: 6578 7072 6573 7369 6f6e 7329 2068 6176  expressions) hav
+00008570: 6520 7468 6520 7361 6d65 2073 796e 7461  e the same synta
+00008580: 6374 6963 2070 6f73 6974 696f 6e20 6173  ctic position as
+00008590: 2065 7870 7265 7373 696f 6e73 2e20 5468   expressions. Th
+000085a0: 6579 2061 7265 2061 2073 686f 7274 6861  ey are a shortha
+000085b0: 6e64 2074 6f20 6372 6561 7465 2061 6e6f  nd to create ano
+000085c0: 6e79 6d6f 7573 2066 756e 6374 696f 6e73  nymous functions
+000085d0: 3b20 7468 6520 6578 7072 6573 7369 6f6e  ; the expression
+000085e0: 2060 2861 7267 756d 656e 7473 2920 2d3e   `(arguments) ->
+000085f0: 2065 7870 7265 7373 696f 6e60 2079 6965   expression` yie
+00008600: 6c64 7320 6120 6675 6e63 7469 6f6e 206f  lds a function o
+00008610: 626a 6563 742e 2054 6865 2075 6e6e 616d  bject. The unnam
+00008620: 6564 206f 626a 6563 7420 6265 6861 7665  ed object behave
+00008630: 7320 6c69 6b65 2061 2066 756e 6374 696f  s like a functio
+00008640: 6e20 6f62 6a65 6374 2064 6566 696e 6564  n object defined
+00008650: 2077 6974 683a 0a60 6060 636f 636f 6e75   with:.```coconu
+00008660: 740a 6465 6620 3c6c 616d 6264 613e 2861  t.def <lambda>(a
+00008670: 7267 756d 656e 7473 293a 0a20 2020 2072  rguments):.    r
+00008680: 6574 7572 6e20 6578 7072 6573 7369 6f6e  eturn expression
+00008690: 0a60 6060 0a4e 6f74 6520 7468 6174 2066  .```.Note that f
+000086a0: 756e 6374 696f 6e73 2063 7265 6174 6564  unctions created
+000086b0: 2077 6974 6820 6c61 6d62 6461 2066 6f72   with lambda for
+000086c0: 6d73 2063 616e 6e6f 7420 636f 6e74 6169  ms cannot contai
+000086d0: 6e20 7374 6174 656d 656e 7473 206f 7220  n statements or 
+000086e0: 616e 6e6f 7461 7469 6f6e 732e 0a0a 2323  annotations...##
+000086f0: 2323 2320 4578 616d 706c 650a 0a2a 2a43  ### Example..**C
+00008700: 6f63 6f6e 7574 3a2a 2a0a 6060 6063 6f63  oconut:**.```coc
+00008710: 6f6e 7574 0a64 7562 7375 6d73 203d 206d  onut.dubsums = m
+00008720: 6170 2828 782c 2079 2920 2d3e 2032 2a28  ap((x, y) -> 2*(
+00008730: 782b 7929 2c20 7261 6e67 6528 302c 2031  x+y), range(0, 1
+00008740: 3029 2c20 7261 6e67 6528 3130 2c20 3230  0), range(10, 20
+00008750: 2929 0a64 7562 7375 6d73 207c 3e20 6c69  )).dubsums |> li
+00008760: 7374 207c 3e20 7072 696e 740a 6060 600a  st |> print.```.
+00008770: 0a2a 2a50 7974 686f 6e3a 2a2a 0a60 6060  .**Python:**.```
+00008780: 636f 636f 6e75 745f 7079 7468 6f6e 0a64  coconut_python.d
+00008790: 7562 7375 6d73 203d 206d 6170 286c 616d  ubsums = map(lam
+000087a0: 6264 6120 782c 2079 3a20 322a 2878 2b79  bda x, y: 2*(x+y
+000087b0: 292c 2072 616e 6765 2830 2c20 3130 292c  ), range(0, 10),
+000087c0: 2072 616e 6765 2831 302c 2032 3029 290a   range(10, 20)).
+000087d0: 7072 696e 7428 6c69 7374 2864 7562 7375  print(list(dubsu
+000087e0: 6d73 2929 0a60 6060 0a0a 2323 2323 2049  ms)).```..#### I
+000087f0: 6d70 6c69 6369 7420 4c61 6d62 6461 730a  mplicit Lambdas.
+00008800: 0a43 6f63 6f6e 7574 2061 6c73 6f20 7375  .Coconut also su
+00008810: 7070 6f72 7473 2069 6d70 6c69 6369 7420  pports implicit 
+00008820: 6c61 6d62 6461 732c 2077 6869 6368 2061  lambdas, which a
+00008830: 6c6c 6f77 2061 206c 616d 6264 6120 746f  llow a lambda to
+00008840: 2074 616b 6520 6569 7468 6572 206e 6f20   take either no 
+00008850: 6172 6775 6d65 6e74 7320 6f72 2061 2073  arguments or a s
+00008860: 696e 676c 6520 6172 6775 6d65 6e74 2e20  ingle argument. 
+00008870: 496d 706c 6963 6974 206c 616d 6264 6173  Implicit lambdas
+00008880: 2061 7265 2066 6f72 6d65 6420 7769 7468   are formed with
+00008890: 2074 6865 2075 7375 616c 2043 6f63 6f6e   the usual Cocon
+000088a0: 7574 206c 616d 6264 6120 6f70 6572 6174  ut lambda operat
+000088b0: 6f72 2060 2d3e 602c 2069 6e20 7468 6520  or `->`, in the 
+000088c0: 666f 726d 2060 282d 3e20 6578 7072 6573  form `(-> expres
+000088d0: 7369 6f6e 2960 2e20 5468 6973 2069 7320  sion)`. This is 
+000088e0: 6571 7569 7661 6c65 6e74 2074 6f20 6028  equivalent to `(
+000088f0: 285f 3d4e 6f6e 6529 202d 3e20 6578 7072  (_=None) -> expr
+00008900: 6573 7369 6f6e 2960 2e20 5768 656e 2061  ession)`. When a
+00008910: 6e20 6172 6775 6d65 6e74 2069 7320 7061  n argument is pa
+00008920: 7373 6564 2074 6f20 616e 2069 6d70 6c69  ssed to an impli
+00008930: 6369 7420 6c61 6d62 6461 2c20 6974 2077  cit lambda, it w
+00008940: 696c 6c20 6265 2061 7373 6967 6e65 6420  ill be assigned 
+00008950: 746f 2060 5f60 2c20 7265 706c 6163 696e  to `_`, replacin
+00008960: 6720 7468 6520 6465 6661 756c 7420 7661  g the default va
+00008970: 6c75 6520 604e 6f6e 6560 2e0a 0a42 656c  lue `None`...Bel
+00008980: 6f77 2061 7265 2074 776f 2065 7861 6d70  ow are two examp
+00008990: 6c65 7320 6f66 2069 6d70 6c69 6369 7420  les of implicit 
+000089a0: 6c61 6d62 6461 732e 2054 6865 2066 6972  lambdas. The fir
+000089b0: 7374 2075 7365 7320 7468 6520 696d 706c  st uses the impl
+000089c0: 6963 6974 2061 7267 756d 656e 7420 605f  icit argument `_
+000089d0: 602c 2077 6869 6c65 2074 6865 2073 6563  `, while the sec
+000089e0: 6f6e 6420 646f 6573 206e 6f74 2e0a 0a2a  ond does not...*
+000089f0: 2a53 696e 676c 6520 4172 6775 6d65 6e74  *Single Argument
+00008a00: 2045 7861 6d70 6c65 3a2a 2a0a 6060 6063   Example:**.```c
+00008a10: 6f63 6f6e 7574 0a73 7175 6172 6520 3d20  oconut.square = 
+00008a20: 282d 3e20 5f2a 2a32 290a 6060 600a 0a2a  (-> _**2).```..*
+00008a30: 2a4e 6f2d 4172 6775 6d65 6e74 2045 7861  *No-Argument Exa
+00008a40: 6d70 6c65 3a2a 2a0a 6060 6063 6f63 6f6e  mple:**.```cocon
+00008a50: 7574 0a69 6d70 6f72 7420 7261 6e64 6f6d  ut.import random
+00008a60: 0a0a 6765 745f 7261 6e64 6f6d 5f6e 756d  ..get_random_num
+00008a70: 6265 7220 3d20 282d 3e20 7261 6e64 6f6d  ber = (-> random
+00008a80: 2e72 616e 646f 6d28 2929 0a60 6060 0a0a  .random()).```..
+00008a90: 5f4e 6f74 653a 204e 6573 7469 6e67 2069  _Note: Nesting i
+00008aa0: 6d70 6c69 6369 7420 6c61 6d62 6461 7320  mplicit lambdas 
+00008ab0: 6361 6e20 6c65 6164 2074 6f20 7072 6f62  can lead to prob
+00008ac0: 6c65 6d73 2077 6974 6820 7468 6520 7363  lems with the sc
+00008ad0: 6f70 6520 6f66 2074 6865 2060 5f60 2070  ope of the `_` p
+00008ae0: 6172 616d 6574 6572 2074 6f20 6561 6368  arameter to each
+00008af0: 206c 616d 6264 612e 2049 7420 6973 2072   lambda. It is r
+00008b00: 6563 6f6d 6d65 6e64 6564 2074 6861 7420  ecommended that 
+00008b10: 6e65 7374 696e 6720 696d 706c 6963 6974  nesting implicit
+00008b20: 206c 616d 6264 6173 2062 6520 6176 6f69   lambdas be avoi
+00008b30: 6465 642e 5f0a 0a23 2323 2050 6172 7469  ded._..### Parti
+00008b40: 616c 2041 7070 6c69 6361 7469 6f6e 0a0a  al Application..
+00008b50: 436f 636f 6e75 7420 7573 6573 2061 2060  Coconut uses a `
+00008b60: 2460 2073 6967 6e20 7269 6768 7420 6166  $` sign right af
+00008b70: 7465 7220 6120 6675 6e63 7469 6f6e 2773  ter a function's
+00008b80: 206e 616d 6520 6275 7420 6265 666f 7265   name but before
+00008b90: 2074 6865 206f 7065 6e20 7061 7265 6e74   the open parent
+00008ba0: 6865 7369 7320 7573 6564 2074 6f20 6361  hesis used to ca
+00008bb0: 6c6c 2074 6865 2066 756e 6374 696f 6e20  ll the function 
+00008bc0: 746f 2064 656e 6f74 6520 7061 7274 6961  to denote partia
+00008bd0: 6c20 6170 706c 6963 6174 696f 6e2e 0a0a  l application...
+00008be0: 436f 636f 6e75 7427 7320 7061 7274 6961  Coconut's partia
+00008bf0: 6c20 6170 706c 6963 6174 696f 6e20 616c  l application al
+00008c00: 736f 2073 7570 706f 7274 7320 7468 6520  so supports the 
+00008c10: 7573 6520 6f66 2061 2060 3f60 2074 6f20  use of a `?` to 
+00008c20: 736b 6970 2070 6172 7469 616c 6c79 2061  skip partially a
+00008c30: 7070 6c79 696e 6720 616e 2061 7267 756d  pplying an argum
+00008c40: 656e 742c 2064 6566 6572 7269 6e67 2066  ent, deferring f
+00008c50: 696c 6c69 6e67 2069 6e20 7468 6174 2061  illing in that a
+00008c60: 7267 756d 656e 7420 756e 7469 6c20 7468  rgument until th
+00008c70: 6520 7061 7274 6961 6c6c 792d 6170 706c  e partially-appl
+00008c80: 6965 6420 6675 6e63 7469 6f6e 2069 7320  ied function is 
+00008c90: 6361 6c6c 6564 2e20 5468 6973 2069 7320  called. This is 
+00008ca0: 7573 6566 756c 2069 6620 796f 7520 7761  useful if you wa
+00008cb0: 6e74 2074 6f20 7061 7274 6961 6c6c 7920  nt to partially 
+00008cc0: 6170 706c 7920 6172 6775 6d65 6e74 7320  apply arguments 
+00008cd0: 7468 6174 2061 7265 6e27 7420 6669 7273  that aren't firs
+00008ce0: 7420 696e 2074 6865 2061 7267 756d 656e  t in the argumen
+00008cf0: 7420 6f72 6465 722e 0a0a 4164 6469 7469  t order...Additi
+00008d00: 6f6e 616c 6c79 2c20 603f 6020 6361 6e20  onally, `?` can 
+00008d10: 6576 656e 2062 6520 7573 6564 2061 7320  even be used as 
+00008d20: 7468 6520 7661 6c75 6520 6f66 206b 6579  the value of key
+00008d30: 776f 7264 2061 7267 756d 656e 7473 2074  word arguments t
+00008d40: 6f20 636f 6e76 6572 7420 7468 656d 2069  o convert them i
+00008d50: 6e74 6f20 706f 7369 7469 6f6e 616c 2061  nto positional a
+00008d60: 7267 756d 656e 7473 2e20 466f 7220 6578  rguments. For ex
+00008d70: 616d 706c 652c 2060 6624 2878 3d3f 2960  ample, `f$(x=?)`
+00008d80: 2069 7320 6566 6665 6374 6976 656c 7920   is effectively 
+00008d90: 6571 7569 7661 6c65 6e74 2074 6f0a 6060  equivalent to.``
+00008da0: 6063 6f63 6f6e 7574 5f70 7974 686f 6e0a  `coconut_python.
+00008db0: 6465 6620 6e65 775f 6628 782c 202a 6172  def new_f(x, *ar
+00008dc0: 6773 2c20 2a2a 6b77 6172 6773 293a 0a20  gs, **kwargs):. 
+00008dd0: 2020 206b 7761 7267 735b 2278 225d 203d     kwargs["x"] =
+00008de0: 2078 0a20 2020 2072 6574 7572 6e20 6628   x.    return f(
+00008df0: 2a61 7267 732c 202a 2a6b 7761 7267 7329  *args, **kwargs)
+00008e00: 0a60 6060 0a0a 2323 2323 2320 5261 7469  .```..##### Rati
+00008e10: 6f6e 616c 650a 0a50 6172 7469 616c 2061  onale..Partial a
+00008e20: 7070 6c69 6361 7469 6f6e 2c20 6f72 2063  pplication, or c
+00008e30: 7572 7279 696e 672c 2069 7320 6120 6d61  urrying, is a ma
+00008e40: 696e 7374 6179 206f 6620 6675 6e63 7469  instay of functi
+00008e50: 6f6e 616c 2070 726f 6772 616d 6d69 6e67  onal programming
+00008e60: 2c20 616e 6420 666f 7220 676f 6f64 2072  , and for good r
+00008e70: 6561 736f 6e3a 2069 7420 616c 6c6f 7773  eason: it allows
+00008e80: 2074 6865 2064 796e 616d 6963 2063 7573   the dynamic cus
+00008e90: 746f 6d69 7a61 7469 6f6e 206f 6620 6675  tomization of fu
+00008ea0: 6e63 7469 6f6e 7320 746f 2066 6974 2074  nctions to fit t
+00008eb0: 6865 206e 6565 6473 206f 6620 7768 6572  he needs of wher
+00008ec0: 6520 7468 6579 2061 7265 2062 6569 6e67  e they are being
+00008ed0: 2075 7365 642e 2050 6172 7469 616c 2061   used. Partial a
+00008ee0: 7070 6c69 6361 7469 6f6e 2061 6c6c 6f77  pplication allow
+00008ef0: 7320 6120 6e65 7720 6675 6e63 7469 6f6e  s a new function
+00008f00: 2074 6f20 6265 2063 7265 6174 6564 206f   to be created o
+00008f10: 7574 206f 6620 616e 206f 6c64 2066 756e  ut of an old fun
+00008f20: 6374 696f 6e20 7769 7468 2073 6f6d 6520  ction with some 
+00008f30: 6f66 2069 7473 2061 7267 756d 656e 7473  of its arguments
+00008f40: 2070 7265 2d73 7065 6369 6669 6564 2e0a   pre-specified..
+00008f50: 0a23 2323 2323 2050 7974 686f 6e20 446f  .##### Python Do
+00008f60: 6373 0a0a 5265 7475 726e 2061 206e 6577  cs..Return a new
+00008f70: 2060 7061 7274 6961 6c60 206f 626a 6563   `partial` objec
+00008f80: 7420 7768 6963 6820 7768 656e 2063 616c  t which when cal
+00008f90: 6c65 6420 7769 6c6c 2062 6568 6176 6520  led will behave 
+00008fa0: 6c69 6b65 205f 6675 6e63 5f20 6361 6c6c  like _func_ call
+00008fb0: 6564 2077 6974 6820 7468 6520 706f 7369  ed with the posi
+00008fc0: 7469 6f6e 616c 2061 7267 756d 656e 7473  tional arguments
+00008fd0: 205f 6172 6773 5f20 616e 6420 6b65 7977   _args_ and keyw
+00008fe0: 6f72 6420 6172 6775 6d65 6e74 7320 5f6b  ord arguments _k
+00008ff0: 6579 776f 7264 735f 2e20 4966 206d 6f72  eywords_. If mor
+00009000: 6520 6172 6775 6d65 6e74 7320 6172 6520  e arguments are 
+00009010: 7375 7070 6c69 6564 2074 6f20 7468 6520  supplied to the 
+00009020: 6361 6c6c 2c20 7468 6579 2061 7265 2061  call, they are a
+00009030: 7070 656e 6465 6420 746f 205f 6172 6773  ppended to _args
+00009040: 5f2e 2049 6620 6164 6469 7469 6f6e 616c  _. If additional
+00009050: 206b 6579 776f 7264 2061 7267 756d 656e   keyword argumen
+00009060: 7473 2061 7265 2073 7570 706c 6965 642c  ts are supplied,
+00009070: 2074 6865 7920 6578 7465 6e64 2061 6e64   they extend and
+00009080: 206f 7665 7272 6964 6520 5f6b 6579 776f   override _keywo
+00009090: 7264 735f 2e20 526f 7567 686c 7920 6571  rds_. Roughly eq
+000090a0: 7569 7661 6c65 6e74 2074 6f3a 0a60 6060  uivalent to:.```
+000090b0: 636f 636f 6e75 745f 7079 7468 6f6e 0a64  coconut_python.d
+000090c0: 6566 2070 6172 7469 616c 2866 756e 632c  ef partial(func,
+000090d0: 202a 6172 6773 2c20 2a2a 6b65 7977 6f72   *args, **keywor
+000090e0: 6473 293a 0a20 2020 2064 6566 206e 6577  ds):.    def new
+000090f0: 6675 6e63 282a 6661 7267 732c 202a 2a66  func(*fargs, **f
+00009100: 6b65 7977 6f72 6473 293a 0a20 2020 2020  keywords):.     
+00009110: 2020 206e 6577 6b65 7977 6f72 6473 203d     newkeywords =
+00009120: 206b 6579 776f 7264 732e 636f 7079 2829   keywords.copy()
+00009130: 0a20 2020 2020 2020 206e 6577 6b65 7977  .        newkeyw
+00009140: 6f72 6473 2e75 7064 6174 6528 666b 6579  ords.update(fkey
+00009150: 776f 7264 7329 0a20 2020 2020 2020 2072  words).        r
+00009160: 6574 7572 6e20 6675 6e63 282a 2861 7267  eturn func(*(arg
+00009170: 7320 2b20 6661 7267 7329 2c20 2a2a 6e65  s + fargs), **ne
+00009180: 776b 6579 776f 7264 7329 0a20 2020 206e  wkeywords).    n
+00009190: 6577 6675 6e63 2e66 756e 6320 3d20 6675  ewfunc.func = fu
+000091a0: 6e63 0a20 2020 206e 6577 6675 6e63 2e61  nc.    newfunc.a
+000091b0: 7267 7320 3d20 6172 6773 0a20 2020 206e  rgs = args.    n
+000091c0: 6577 6675 6e63 2e6b 6579 776f 7264 7320  ewfunc.keywords 
+000091d0: 3d20 6b65 7977 6f72 6473 0a20 2020 2072  = keywords.    r
+000091e0: 6574 7572 6e20 6e65 7766 756e 630a 6060  eturn newfunc.``
+000091f0: 600a 5468 6520 6070 6172 7469 616c 6020  `.The `partial` 
+00009200: 6f62 6a65 6374 2069 7320 7573 6564 2066  object is used f
+00009210: 6f72 2070 6172 7469 616c 2066 756e 6374  or partial funct
+00009220: 696f 6e20 6170 706c 6963 6174 696f 6e20  ion application 
+00009230: 7768 6963 6820 e280 9c66 7265 657a 6573  which ...freezes
+00009240: e280 9d20 736f 6d65 2070 6f72 7469 6f6e  ... some portion
+00009250: 206f 6620 6120 6675 6e63 7469 6f6e 2773   of a function's
+00009260: 2061 7267 756d 656e 7473 2061 6e64 2f6f   arguments and/o
+00009270: 7220 6b65 7977 6f72 6473 2072 6573 756c  r keywords resul
+00009280: 7469 6e67 2069 6e20 6120 6e65 7720 6f62  ting in a new ob
+00009290: 6a65 6374 2077 6974 6820 6120 7369 6d70  ject with a simp
+000092a0: 6c69 6669 6564 2073 6967 6e61 7475 7265  lified signature
+000092b0: 2e0a 0a23 2323 2323 2045 7861 6d70 6c65  ...##### Example
+000092c0: 0a0a 2a2a 436f 636f 6e75 743a 2a2a 0a60  ..**Coconut:**.`
+000092d0: 6060 636f 636f 6e75 740a 6578 706e 756d  ``coconut.expnum
+000092e0: 7320 3d20 7261 6e67 6528 3529 207c 3e20  s = range(5) |> 
+000092f0: 6d61 7024 2870 6f77 2428 3f2c 2032 2929  map$(pow$(?, 2))
+00009300: 0a65 7870 6e75 6d73 207c 3e20 6c69 7374  .expnums |> list
+00009310: 207c 3e20 7072 696e 740a 6060 600a 0a2a   |> print.```..*
+00009320: 2a50 7974 686f 6e3a 2a2a 0a60 6060 636f  *Python:**.```co
+00009330: 636f 6e75 745f 7079 7468 6f6e 0a23 2075  conut_python.# u
+00009340: 6e6c 696b 6520 7468 6973 2073 696d 706c  nlike this simpl
+00009350: 6520 6c61 6d62 6461 2c20 2420 7072 6f64  e lambda, $ prod
+00009360: 7563 6573 2061 2070 6963 6b6c 6561 626c  uces a pickleabl
+00009370: 6520 6f62 6a65 6374 0a65 7870 6e75 6d73  e object.expnums
+00009380: 203d 206d 6170 286c 616d 6264 6120 783a   = map(lambda x:
+00009390: 2070 6f77 2878 2c20 3229 2c20 7261 6e67   pow(x, 2), rang
+000093a0: 6528 3529 290a 7072 696e 7428 6c69 7374  e(5)).print(list
+000093b0: 2865 7870 6e75 6d73 2929 0a60 6060 0a0a  (expnums)).```..
+000093c0: 2323 2320 5069 7065 730a 0a43 6f63 6f6e  ### Pipes..Cocon
+000093d0: 7574 2075 7365 7320 7069 7065 206f 7065  ut uses pipe ope
+000093e0: 7261 746f 7273 2066 6f72 2070 6970 656c  rators for pipel
+000093f0: 696e 652d 7374 796c 6520 6675 6e63 7469  ine-style functi
+00009400: 6f6e 2061 7070 6c69 6361 7469 6f6e 2e20  on application. 
+00009410: 416c 6c20 7468 6520 6f70 6572 6174 6f72  All the operator
+00009420: 7320 6861 7665 2061 2070 7265 6365 6465  s have a precede
+00009430: 6e63 6520 696e 2d62 6574 7765 656e 2066  nce in-between f
+00009440: 756e 6374 696f 6e20 636f 6d70 6f73 6974  unction composit
+00009450: 696f 6e20 7069 7065 7320 616e 6420 636f  ion pipes and co
+00009460: 6d70 6172 6973 6f6e 732c 2061 6e64 2061  mparisons, and a
+00009470: 7265 206c 6566 742d 6173 736f 6369 6174  re left-associat
+00009480: 6976 652e 2041 6c6c 206f 7065 7261 746f  ive. All operato
+00009490: 7273 2061 6c73 6f20 7375 7070 6f72 7420  rs also support 
+000094a0: 696e 2d70 6c61 6365 2076 6572 7369 6f6e  in-place version
+000094b0: 732e 2054 6865 2064 6966 6665 7265 6e74  s. The different
+000094c0: 206f 7065 7261 746f 7273 2061 7265 3a0a   operators are:.
+000094d0: 6060 6063 6f63 6f6e 7574 0a28 7c3e 2920  ```coconut.(|>) 
+000094e0: 2020 203d 3e20 7069 7065 2066 6f72 7761     => pipe forwa
+000094f0: 7264 0a28 7c2a 3e29 2020 203d 3e20 6d75  rd.(|*>)   => mu
+00009500: 6c74 6970 6c65 2d61 7267 756d 656e 7420  ltiple-argument 
+00009510: 7069 7065 2066 6f72 7761 7264 0a28 7c2a  pipe forward.(|*
+00009520: 2a3e 2920 203d 3e20 6b65 7977 6f72 6420  *>)  => keyword 
+00009530: 6172 6775 6d65 6e74 2070 6970 6520 666f  argument pipe fo
+00009540: 7277 6172 640a 283c 7c29 2020 2020 3d3e  rward.(<|)    =>
+00009550: 2070 6970 6520 6261 636b 7761 7264 0a28   pipe backward.(
+00009560: 3c2a 7c29 2020 203d 3e20 6d75 6c74 6970  <*|)   => multip
+00009570: 6c65 2d61 7267 756d 656e 7420 7069 7065  le-argument pipe
+00009580: 2062 6163 6b77 6172 640a 283c 2a2a 7c29   backward.(<**|)
+00009590: 2020 3d3e 206b 6579 776f 7264 2061 7267    => keyword arg
+000095a0: 756d 656e 7420 7069 7065 2062 6163 6b77  ument pipe backw
+000095b0: 6172 640a 287c 3f3e 2920 2020 3d3e 204e  ard.(|?>)   => N
+000095c0: 6f6e 652d 6177 6172 6520 7069 7065 2066  one-aware pipe f
+000095d0: 6f72 7761 7264 0a28 7c3f 2a3e 2920 203d  orward.(|?*>)  =
+000095e0: 3e20 4e6f 6e65 2d61 7761 7265 206d 756c  > None-aware mul
+000095f0: 7469 2d61 7267 2070 6970 6520 666f 7277  ti-arg pipe forw
+00009600: 6172 640a 287c 3f2a 2a3e 2920 3d3e 204e  ard.(|?**>) => N
+00009610: 6f6e 652d 6177 6172 6520 6b65 7977 6f72  one-aware keywor
+00009620: 6420 6172 6720 7069 7065 2066 6f72 7761  d arg pipe forwa
+00009630: 7264 0a28 3c3f 7c29 2020 203d 3e20 4e6f  rd.(<?|)   => No
+00009640: 6e65 2d61 7761 7265 2070 6970 6520 6261  ne-aware pipe ba
+00009650: 636b 7761 7264 0a28 3c2a 3f7c 2920 203d  ckward.(<*?|)  =
+00009660: 3e20 4e6f 6e65 2d61 7761 7265 206d 756c  > None-aware mul
+00009670: 7469 2d61 7267 2070 6970 6520 6261 636b  ti-arg pipe back
+00009680: 7761 7264 0a28 3c2a 2a3f 7c29 203d 3e20  ward.(<**?|) => 
+00009690: 4e6f 6e65 2d61 7761 7265 206b 6579 776f  None-aware keywo
+000096a0: 7264 2061 7267 2070 6970 6520 6261 636b  rd arg pipe back
+000096b0: 7761 7264 0a60 6060 0a0a 5468 6520 4e6f  ward.```..The No
+000096c0: 6e65 2d61 7761 7265 2070 6970 6520 6f70  ne-aware pipe op
+000096d0: 6572 6174 6f72 7320 6865 7265 2061 7265  erators here are
+000096e0: 2065 7175 6976 616c 656e 7420 746f 2061   equivalent to a
+000096f0: 205b 6d6f 6e61 6469 6320 6269 6e64 5d28   [monadic bind](
+00009700: 6874 7470 733a 2f2f 656e 2e77 696b 6970  https://en.wikip
+00009710: 6564 6961 2e6f 7267 2f77 696b 692f 4d6f  edia.org/wiki/Mo
+00009720: 6e61 645f 2866 756e 6374 696f 6e61 6c5f  nad_(functional_
+00009730: 7072 6f67 7261 6d6d 696e 6729 2920 7472  programming)) tr
+00009740: 6561 7469 6e67 2074 6865 206f 626a 6563  eating the objec
+00009750: 7420 6173 2061 2060 4d61 7962 6560 206d  t as a `Maybe` m
+00009760: 6f6e 6164 2063 6f6d 706f 7365 6420 6f66  onad composed of
+00009770: 2065 6974 6865 7220 604e 6f6e 6560 206f   either `None` o
+00009780: 7220 7468 6520 6769 7665 6e20 6f62 6a65  r the given obje
+00009790: 6374 2e20 5468 7573 2c20 6078 207c 3f3e  ct. Thus, `x |?>
+000097a0: 2066 6020 6973 2065 7175 6976 616c 656e   f` is equivalen
+000097b0: 7420 746f 2060 4e6f 6e65 2069 6620 7820  t to `None if x 
+000097c0: 6973 204e 6f6e 6520 656c 7365 2066 2878  is None else f(x
+000097d0: 2960 2e20 4e6f 7465 2074 6861 7420 6f6e  )`. Note that on
+000097e0: 6c79 2074 6865 206f 626a 6563 7420 6265  ly the object be
+000097f0: 696e 6720 7069 7065 642c 206e 6f74 2074  ing piped, not t
+00009800: 6865 2066 756e 6374 696f 6e20 6265 696e  he function bein
+00009810: 6720 7069 7065 6420 696e 746f 2c20 6d61  g piped into, ma
+00009820: 7920 6265 2060 4e6f 6e65 6020 666f 7220  y be `None` for 
+00009830: 604e 6f6e 6560 2d61 7761 7265 2070 6970  `None`-aware pip
+00009840: 6573 2e0a 0a46 6f72 2077 6f72 6b69 6e67  es...For working
+00009850: 2077 6974 6820 6061 7379 6e63 6020 6675   with `async` fu
+00009860: 6e63 7469 6f6e 7320 696e 2070 6970 6573  nctions in pipes
+00009870: 2c20 616c 6c20 6e6f 6e2d 7374 6172 7265  , all non-starre
+00009880: 6420 7069 7065 7320 7375 7070 6f72 7420  d pipes support 
+00009890: 7069 7069 6e67 2069 6e74 6f20 6061 7761  piping into `awa
+000098a0: 6974 6020 746f 2061 7761 6974 2074 6865  it` to await the
+000098b0: 2061 7761 6974 6162 6c65 2070 6970 6564   awaitable piped
+000098c0: 2069 6e74 6f20 7468 656d 2c20 7375 6368   into them, such
+000098d0: 2074 6861 7420 6078 207c 3e20 6177 6169   that `x |> awai
+000098e0: 7460 2069 7320 6571 7569 7661 6c65 6e74  t` is equivalent
+000098f0: 2074 6f20 6061 7761 6974 2078 602e 0a0a   to `await x`...
+00009900: 4164 6469 7469 6f6e 616c 6c79 2c20 616c  Additionally, al
+00009910: 6c20 7069 7065 206f 7065 7261 746f 7273  l pipe operators
+00009920: 2073 7570 706f 7274 2061 206c 616d 6264   support a lambd
+00009930: 6120 6173 2074 6865 206c 6173 7420 6172  a as the last ar
+00009940: 6775 6d65 6e74 2c20 6465 7370 6974 6520  gument, despite 
+00009950: 6c61 6d62 6461 7320 6861 7669 6e67 2061  lambdas having a
+00009960: 206c 6f77 6572 2070 7265 6365 6465 6e63   lower precedenc
+00009970: 652e 2054 6875 732c 2060 6120 7c3e 2078  e. Thus, `a |> x
+00009980: 202d 3e20 6220 7c3e 2063 6020 6973 2065   -> b |> c` is e
+00009990: 7175 6976 616c 656e 7420 746f 2060 6120  quivalent to `a 
+000099a0: 7c3e 2028 7820 2d3e 2062 207c 3e20 6329  |> (x -> b |> c)
+000099b0: 602c 206e 6f74 2060 6120 7c3e 2028 7820  `, not `a |> (x 
+000099c0: 2d3e 2062 2920 7c3e 2063 602e 0a0a 5f4e  -> b) |> c`..._N
+000099d0: 6f74 653a 2054 6f20 7669 7375 616c 6c79  ote: To visually
+000099e0: 2073 7072 6561 6420 6f70 6572 6174 696f   spread operatio
+000099f0: 6e73 2061 6372 6f73 7320 7365 7665 7261  ns across severa
+00009a00: 6c20 6c69 6e65 732c 206a 7573 7420 7573  l lines, just us
+00009a10: 6520 5b70 6172 656e 7468 6574 6963 616c  e [parenthetical
+00009a20: 2063 6f6e 7469 6e75 6174 696f 6e5d 2823   continuation](#
+00009a30: 656e 6861 6e63 6564 2d70 6172 656e 7468  enhanced-parenth
+00009a40: 6574 6963 616c 2d63 6f6e 7469 6e75 6174  etical-continuat
+00009a50: 696f 6e29 2e5f 0a0a 2323 2323 2320 4f70  ion)._..##### Op
+00009a60: 7469 6d69 7a61 7469 6f6e 730a 0a49 7420  timizations..It 
+00009a70: 6973 2063 6f6d 6d6f 6e20 696e 2043 6f63  is common in Coc
+00009a80: 6f6e 7574 2074 6f20 7772 6974 6520 636f  onut to write co
+00009a90: 6465 2074 6861 7420 7573 6573 2070 6970  de that uses pip
+00009aa0: 6573 2074 6f20 7061 7373 2061 6e20 6f62  es to pass an ob
+00009ab0: 6a65 6374 2074 6872 6f75 6768 2061 2073  ject through a s
+00009ac0: 6572 6965 7320 6f66 205b 7061 7274 6961  eries of [partia
+00009ad0: 6c73 5d28 2370 6172 7469 616c 2d61 7070  ls](#partial-app
+00009ae0: 6c69 6361 7469 6f6e 2920 616e 642f 6f72  lication) and/or
+00009af0: 205b 696d 706c 6963 6974 2070 6172 7469   [implicit parti
+00009b00: 616c 735d 2823 696d 706c 6963 6974 2d70  als](#implicit-p
+00009b10: 6172 7469 616c 2d61 7070 6c69 6361 7469  artial-applicati
+00009b20: 6f6e 292c 2061 7320 696e 0a60 6060 636f  on), as in.```co
+00009b30: 636f 6e75 740a 6f62 6a20 7c3e 202e 6174  conut.obj |> .at
+00009b40: 7472 6962 7574 6520 7c3e 202e 6d65 7468  tribute |> .meth
+00009b50: 6f64 2861 7267 7329 207c 3e20 6675 6e63  od(args) |> func
+00009b60: 2428 6172 6773 2920 7c3e 202e 5b69 6e64  $(args) |> .[ind
+00009b70: 6578 5d0a 6060 600a 7768 6963 6820 6973  ex].```.which is
+00009b80: 206f 6674 656e 206d 7563 6820 6d6f 7265   often much more
+00009b90: 2072 6561 6461 626c 652c 2061 7320 6974   readable, as it
+00009ba0: 2061 6c6c 6f77 7320 7468 6520 6f70 6572   allows the oper
+00009bb0: 6174 696f 6e73 2074 6f20 6265 2077 7269  ations to be wri
+00009bc0: 7474 656e 2069 6e20 7468 6520 6f72 6465  tten in the orde
+00009bd0: 7220 696e 2077 6869 6368 2074 6865 7920  r in which they 
+00009be0: 6172 6520 7065 7266 6f72 6d65 642c 2069  are performed, i
+00009bf0: 6e73 7465 6164 206f 6620 6173 2069 6e0a  nstead of as in.
+00009c00: 6060 6063 6f63 6f6e 7574 5f70 7974 686f  ```coconut_pytho
+00009c10: 6e0a 6675 6e63 2861 7267 732c 206f 626a  n.func(args, obj
+00009c20: 2e61 7474 7269 6275 7465 2e6d 6574 686f  .attribute.metho
+00009c30: 6428 6172 6773 2929 5b69 6e64 6578 5d0a  d(args))[index].
+00009c40: 6060 600a 7768 6572 6520 6066 756e 6360  ```.where `func`
+00009c50: 2068 6173 2074 6f20 676f 2061 7420 7468   has to go at th
+00009c60: 6520 6265 6769 6e6e 696e 672e 0a0a 4966  e beginning...If
+00009c70: 2043 6f63 6f6e 7574 2063 6f6d 7069 6c65   Coconut compile
+00009c80: 6420 6561 6368 206f 6620 7468 6520 7061  d each of the pa
+00009c90: 7274 6961 6c73 2069 6e20 7468 6520 7069  rtials in the pi
+00009ca0: 7065 2073 796e 7461 7820 6173 2061 6e20  pe syntax as an 
+00009cb0: 6163 7475 616c 2070 6172 7469 616c 2061  actual partial a
+00009cc0: 7070 6c69 6361 7469 6f6e 206f 626a 6563  pplication objec
+00009cd0: 742c 2069 7420 776f 756c 6420 6d61 6b65  t, it would make
+00009ce0: 2074 6865 2043 6f63 6f6e 7574 2d73 7479   the Coconut-sty
+00009cf0: 6c65 2073 796e 7461 7820 7369 676e 6966  le syntax signif
+00009d00: 6963 616e 746c 7920 736c 6f77 6572 2074  icantly slower t
+00009d10: 6861 6e20 7468 6520 5079 7468 6f6e 2d73  han the Python-s
+00009d20: 7479 6c65 2073 796e 7461 782e 2054 6875  tyle syntax. Thu
+00009d30: 732c 2043 6f63 6f6e 7574 2064 6f65 7320  s, Coconut does 
+00009d40: 6e6f 7420 646f 2074 6861 742e 2049 6620  not do that. If 
+00009d50: 616e 7920 6f66 2074 6865 2061 626f 7665  any of the above
+00009d60: 2073 7479 6c65 7320 6f66 2070 6172 7469   styles of parti
+00009d70: 616c 7320 6f72 2069 6d70 6c69 6369 7420  als or implicit 
+00009d80: 7061 7274 6961 6c73 2061 7265 2075 7365  partials are use
+00009d90: 6420 696e 2070 6970 6573 2c20 7468 6579  d in pipes, they
+00009da0: 2077 696c 6c20 7768 656e 6576 6572 2070   will whenever p
+00009db0: 6f73 7369 626c 6520 6265 2063 6f6d 7069  ossible be compi
+00009dc0: 6c65 6420 746f 2074 6865 2050 7974 686f  led to the Pytho
+00009dd0: 6e2d 7374 796c 6520 7379 6e74 6178 2c20  n-style syntax, 
+00009de0: 7072 6f64 7563 696e 6720 6e6f 2069 6e74  producing no int
+00009df0: 6572 6d65 6469 6174 6520 7061 7274 6961  ermediate partia
+00009e00: 6c20 6170 706c 6963 6174 696f 6e20 6f62  l application ob
+00009e10: 6a65 6374 732e 0a0a 5468 6973 2061 7070  jects...This app
+00009e20: 6c69 6573 2065 7665 6e20 746f 2069 6e2d  lies even to in-
+00009e30: 706c 6163 6520 7069 7065 7320 7375 6368  place pipes such
+00009e40: 2061 7320 607c 3e3d 602e 0a0a 2323 2323   as `|>=`...####
+00009e50: 2320 4578 616d 706c 6573 0a0a 2a2a 436f  # Examples..**Co
+00009e60: 636f 6e75 743a 2a2a 0a60 6060 636f 636f  conut:**.```coco
+00009e70: 6e75 740a 6465 6620 7371 2878 2920 3d20  nut.def sq(x) = 
+00009e80: 782a 2a32 0a28 312c 2032 2920 7c2a 3e20  x**2.(1, 2) |*> 
+00009e90: 282b 2920 7c3e 2073 7120 7c3e 2070 7269  (+) |> sq |> pri
+00009ea0: 6e74 0a60 6060 0a0a 6060 6063 6f63 6f6e  nt.```..```cocon
+00009eb0: 7574 0a61 7379 6e63 2064 6566 2064 6f5f  ut.async def do_
+00009ec0: 7374 7566 6628 736f 6d65 5f64 6174 6129  stuff(some_data)
+00009ed0: 203d 2028 0a20 2020 2073 6f6d 655f 6461   = (.    some_da
+00009ee0: 7461 0a20 2020 207c 3e20 6173 796e 635f  ta.    |> async_
+00009ef0: 6675 6e63 0a20 2020 207c 3e20 6177 6169  func.    |> awai
+00009f00: 740a 2020 2020 7c3e 2070 6f73 745f 7072  t.    |> post_pr
+00009f10: 6f63 0a29 0a60 6060 0a0a 2a2a 5079 7468  oc.).```..**Pyth
+00009f20: 6f6e 3a2a 2a0a 6060 6063 6f63 6f6e 7574  on:**.```coconut
+00009f30: 5f70 7974 686f 6e0a 696d 706f 7274 206f  _python.import o
+00009f40: 7065 7261 746f 720a 6465 6620 7371 2878  perator.def sq(x
+00009f50: 293a 2072 6574 7572 6e20 782a 2a32 0a70  ): return x**2.p
+00009f60: 7269 6e74 2873 7128 6f70 6572 6174 6f72  rint(sq(operator
+00009f70: 2e61 6464 2831 2c20 3229 2929 0a60 6060  .add(1, 2))).```
+00009f80: 0a0a 6060 6063 6f63 6f6e 7574 5f70 7974  ..```coconut_pyt
+00009f90: 686f 6e0a 6173 796e 6320 6465 6620 646f  hon.async def do
+00009fa0: 5f73 7475 6666 2873 6f6d 655f 6461 7461  _stuff(some_data
+00009fb0: 293a 0a20 2020 2072 6574 7572 6e20 706f  ):.    return po
+00009fc0: 7374 5f70 726f 6328 6177 6169 7420 6173  st_proc(await as
+00009fd0: 796e 635f 6675 6e63 2873 6f6d 655f 6461  ync_func(some_da
+00009fe0: 7461 2929 0a60 6060 0a0a 2323 2320 4675  ta)).```..### Fu
+00009ff0: 6e63 7469 6f6e 2043 6f6d 706f 7369 7469  nction Compositi
+0000a000: 6f6e 0a0a 436f 636f 6e75 7420 6861 7320  on..Coconut has 
+0000a010: 7468 7265 6520 6261 7369 6320 6675 6e63  three basic func
+0000a020: 7469 6f6e 2063 6f6d 706f 7369 7469 6f6e  tion composition
+0000a030: 206f 7065 7261 746f 7273 3a20 602e 2e60   operators: `..`
+0000a040: 2c20 602e 2e3e 602c 2061 6e64 2060 3c2e  , `..>`, and `<.
+0000a050: 2e60 2e20 426f 7468 2060 2e2e 6020 616e  .`. Both `..` an
+0000a060: 6420 603c 2e2e 6020 7573 6520 6d61 7468  d `<..` use math
+0000a070: 2d73 7479 6c65 2022 6261 636b 7761 7264  -style "backward
+0000a080: 7322 2066 756e 6374 696f 6e20 636f 6d70  s" function comp
+0000a090: 6f73 6974 696f 6e2c 2077 6865 7265 2074  osition, where t
+0000a0a0: 6865 2066 6972 7374 2066 756e 6374 696f  he first functio
+0000a0b0: 6e20 6973 2063 616c 6c65 6420 6c61 7374  n is called last
+0000a0c0: 2c20 7768 696c 6520 602e 2e3e 6020 7573  , while `..>` us
+0000a0d0: 6573 2022 666f 7277 6172 6473 2220 6675  es "forwards" fu
+0000a0e0: 6e63 7469 6f6e 2063 6f6d 706f 7369 7469  nction compositi
+0000a0f0: 6f6e 2c20 7768 6572 6520 7468 6520 6669  on, where the fi
+0000a100: 7273 7420 6675 6e63 7469 6f6e 2069 7320  rst function is 
+0000a110: 6361 6c6c 6564 2066 6972 7374 2e20 466f  called first. Fo
+0000a120: 7277 6172 6473 2061 6e64 2062 6163 6b77  rwards and backw
+0000a130: 6172 6473 2066 756e 6374 696f 6e20 636f  ards function co
+0000a140: 6d70 6f73 6974 696f 6e20 7069 7065 7320  mposition pipes 
+0000a150: 6361 6e6e 6f74 2062 6520 7573 6564 2074  cannot be used t
+0000a160: 6f67 6574 6865 7220 696e 2074 6865 2073  ogether in the s
+0000a170: 616d 6520 6578 7072 6573 7369 6f6e 2028  ame expression (
+0000a180: 756e 6c69 6b65 206e 6f72 6d61 6c20 7069  unlike normal pi
+0000a190: 7065 7329 2061 6e64 2068 6176 6520 7072  pes) and have pr
+0000a1a0: 6563 6564 656e 6365 2069 6e2d 6265 7477  ecedence in-betw
+0000a1b0: 6565 6e20 604e 6f6e 6560 2d63 6f61 6c65  een `None`-coale
+0000a1c0: 7363 696e 6720 616e 6420 6e6f 726d 616c  scing and normal
+0000a1d0: 2070 6970 6573 2e0a 0a54 6865 2060 2e2e   pipes...The `..
+0000a1e0: 3e60 2061 6e64 2060 3c2e 2e60 2066 756e  >` and `<..` fun
+0000a1f0: 6374 696f 6e20 636f 6d70 6f73 6974 696f  ction compositio
+0000a200: 6e20 7069 7065 206f 7065 7261 746f 7273  n pipe operators
+0000a210: 2061 6c73 6f20 6861 7665 206d 756c 7469   also have multi
+0000a220: 2d61 7267 2c20 6b65 7977 6f72 642c 2061  -arg, keyword, a
+0000a230: 6e64 204e 6f6e 6520 7661 7269 616e 7473  nd None variants
+0000a240: 2061 7320 7769 7468 205b 6e6f 726d 616c   as with [normal
+0000a250: 2070 6970 6573 5d28 2370 6970 6573 292e   pipes](#pipes).
+0000a260: 2054 6865 2066 756c 6c20 6c69 7374 206f   The full list o
+0000a270: 6620 6675 6e63 7469 6f6e 2063 6f6d 706f  f function compo
+0000a280: 7369 7469 6f6e 2070 6970 6520 6f70 6572  sition pipe oper
+0000a290: 6174 6f72 7320 6973 3a0a 6060 600a 2e2e  ators is:.```...
+0000a2a0: 3e20 2020 203d 3e20 666f 7277 6172 6473  >    => forwards
+0000a2b0: 2066 756e 6374 696f 6e20 636f 6d70 6f73   function compos
+0000a2c0: 6974 696f 6e20 7069 7065 0a3c 2e2e 2020  ition pipe.<..  
+0000a2d0: 2020 3d3e 2062 6163 6b77 6172 6473 2066    => backwards f
+0000a2e0: 756e 6374 696f 6e20 636f 6d70 6f73 6974  unction composit
+0000a2f0: 696f 6e20 7069 7065 0a2e 2e2a 3e20 2020  ion pipe...*>   
+0000a300: 3d3e 2066 6f72 7761 7264 7320 6d75 6c74  => forwards mult
+0000a310: 692d 6172 6720 6675 6e63 7469 6f6e 2063  i-arg function c
+0000a320: 6f6d 706f 7369 7469 6f6e 2070 6970 650a  omposition pipe.
+0000a330: 3c2a 2e2e 2020 203d 3e20 6261 636b 7761  <*..   => backwa
+0000a340: 7264 7320 6d75 6c74 692d 6172 6720 6675  rds multi-arg fu
+0000a350: 6e63 7469 6f6e 2063 6f6d 706f 7369 7469  nction compositi
+0000a360: 6f6e 2070 6970 650a 2e2e 2a2a 3e20 203d  on pipe...**>  =
+0000a370: 3e20 666f 7277 6172 6473 206b 6579 776f  > forwards keywo
+0000a380: 7264 2061 7267 2066 756e 6374 696f 6e20  rd arg function 
+0000a390: 636f 6d70 6f73 6974 696f 6e20 7069 7065  composition pipe
+0000a3a0: 0a3c 2a2a 2e2e 2020 3d3e 2062 6163 6b77  .<**..  => backw
+0000a3b0: 6172 6473 206b 6579 776f 7264 2061 7267  ards keyword arg
+0000a3c0: 2066 756e 6374 696f 6e20 636f 6d70 6f73   function compos
+0000a3d0: 6974 696f 6e20 7069 7065 0a2e 2e3f 3e20  ition pipe...?> 
+0000a3e0: 2020 3d3e 2066 6f72 7761 7264 7320 4e6f    => forwards No
+0000a3f0: 6e65 2d61 7761 7265 2066 756e 6374 696f  ne-aware functio
+0000a400: 6e20 636f 6d70 6f73 6974 696f 6e20 7069  n composition pi
+0000a410: 7065 0a3c 3f2e 2e20 2020 3d3e 2062 6163  pe.<?..   => bac
+0000a420: 6b77 6172 6473 204e 6f6e 652d 6177 6172  kwards None-awar
+0000a430: 6520 6675 6e63 7469 6f6e 2063 6f6d 706f  e function compo
+0000a440: 7369 7469 6f6e 2070 6970 650a 2e2e 3f2a  sition pipe...?*
+0000a450: 3e20 203d 3e20 666f 7277 6172 6473 204e  >  => forwards N
+0000a460: 6f6e 652d 6177 6172 6520 6d75 6c74 692d  one-aware multi-
+0000a470: 6172 6720 6675 6e63 7469 6f6e 2063 6f6d  arg function com
+0000a480: 706f 7369 7469 6f6e 2070 6970 650a 3c2a  position pipe.<*
+0000a490: 3f2e 2e20 203d 3e20 6261 636b 7761 7264  ?..  => backward
+0000a4a0: 7320 4e6f 6e65 2d61 7761 7265 206d 756c  s None-aware mul
+0000a4b0: 7469 2d61 7267 2066 756e 6374 696f 6e20  ti-arg function 
+0000a4c0: 636f 6d70 6f73 6974 696f 6e20 7069 7065  composition pipe
+0000a4d0: 0a2e 2e3f 2a2a 3e20 3d3e 2066 6f72 7761  ...?**> => forwa
+0000a4e0: 7264 7320 4e6f 6e65 2d61 7761 7265 206b  rds None-aware k
+0000a4f0: 6579 776f 7264 2061 7267 2066 756e 6374  eyword arg funct
+0000a500: 696f 6e20 636f 6d70 6f73 6974 696f 6e20  ion composition 
+0000a510: 7069 7065 0a3c 2a2a 3f2e 2e20 3d3e 2062  pipe.<**?.. => b
+0000a520: 6163 6b77 6172 6473 204e 6f6e 652d 6177  ackwards None-aw
+0000a530: 6172 6520 6b65 7977 6f72 6420 6172 6720  are keyword arg 
+0000a540: 6675 6e63 7469 6f6e 2063 6f6d 706f 7369  function composi
+0000a550: 7469 6f6e 2070 6970 650a 6060 600a 0a4e  tion pipe.```..N
+0000a560: 6f74 6520 7468 6174 2060 4e6f 6e65 602d  ote that `None`-
+0000a570: 6177 6172 6520 6675 6e63 7469 6f6e 2063  aware function c
+0000a580: 6f6d 706f 7369 7469 6f6e 2070 6970 6573  omposition pipes
+0000a590: 2064 6f6e 2774 2061 6c6c 6f77 2065 6974   don't allow eit
+0000a5a0: 6865 7220 6675 6e63 7469 6f6e 2074 6f20  her function to 
+0000a5b0: 6265 2060 4e6f 6e65 60e2 8094 7261 7468  be `None`...rath
+0000a5c0: 6572 2c20 7468 6579 2061 6c6c 6f77 2074  er, they allow t
+0000a5d0: 6865 2072 6574 7572 6e20 6f66 2074 6865  he return of the
+0000a5e0: 2066 6972 7374 2065 7661 6c75 6174 6564   first evaluated
+0000a5f0: 2066 756e 6374 696f 6e20 746f 2062 6520   function to be 
+0000a600: 604e 6f6e 6560 2c20 696e 2077 6869 6368  `None`, in which
+0000a610: 2063 6173 6520 604e 6f6e 6560 2069 7320   case `None` is 
+0000a620: 7265 7475 726e 6564 2069 6d6d 6564 6961  returned immedia
+0000a630: 7465 6c79 2072 6174 6865 7220 7468 616e  tely rather than
+0000a640: 2063 616c 6c69 6e67 2074 6865 206e 6578   calling the nex
+0000a650: 7420 6675 6e63 7469 6f6e 2e0a 0a54 6865  t function...The
+0000a660: 2060 2e2e 6020 6f70 6572 6174 6f72 2068   `..` operator h
+0000a670: 6173 206c 6f77 6572 2070 7265 6365 6465  as lower precede
+0000a680: 6e63 6520 7468 616e 2060 3a3a 6020 6275  nce than `::` bu
+0000a690: 7420 6869 6768 6572 2070 7265 6365 6465  t higher precede
+0000a6a0: 6e63 6520 7468 616e 2069 6e66 6978 2066  nce than infix f
+0000a6b0: 756e 6374 696f 6e73 2077 6869 6c65 2074  unctions while t
+0000a6c0: 6865 2060 2e2e 3e60 2070 6970 6520 6f70  he `..>` pipe op
+0000a6d0: 6572 6174 6f72 7320 6861 7665 2061 2070  erators have a p
+0000a6e0: 7265 6365 6465 6e63 6520 6469 7265 6374  recedence direct
+0000a6f0: 6c79 2068 6967 6865 7220 7468 616e 206e  ly higher than n
+0000a700: 6f72 6d61 6c20 7069 7065 732e 0a0a 416c  ormal pipes...Al
+0000a710: 6c20 6675 6e63 7469 6f6e 2063 6f6d 706f  l function compo
+0000a720: 7369 7469 6f6e 206f 7065 7261 746f 7273  sition operators
+0000a730: 2061 6c73 6f20 6861 7665 2069 6e2d 706c   also have in-pl
+0000a740: 6163 6520 7665 7273 696f 6e73 2028 652e  ace versions (e.
+0000a750: 672e 2060 2e2e 3d60 292e 0a0a 5369 6e63  g. `..=`)...Sinc
+0000a760: 6520 616c 6c20 666f 726d 7320 6f66 2066  e all forms of f
+0000a770: 756e 6374 696f 6e20 636f 6d70 6f73 6974  unction composit
+0000a780: 696f 6e20 616c 7761 7973 2063 616c 6c20  ion always call 
+0000a790: 7468 6520 6669 7273 7420 6675 6e63 7469  the first functi
+0000a7a0: 6f6e 2069 6e20 7468 6520 636f 6d70 6f73  on in the compos
+0000a7b0: 6974 696f 6e20 2860 6660 2069 6e20 6066  ition (`f` in `f
+0000a7c0: 202e 2e3e 2067 6020 616e 6420 6067 6020   ..> g` and `g` 
+0000a7d0: 696e 2060 6620 3c2e 2e20 6760 2920 7769  in `f <.. g`) wi
+0000a7e0: 7468 2065 7861 6374 6c79 2074 6865 2061  th exactly the a
+0000a7f0: 7267 756d 656e 7473 2070 6173 7365 6420  rguments passed 
+0000a800: 696e 746f 2074 6865 2063 6f6d 706f 7369  into the composi
+0000a810: 7469 6f6e 2c20 616c 6c20 666f 726d 7320  tion, all forms 
+0000a820: 6f66 2066 756e 6374 696f 6e20 636f 6d70  of function comp
+0000a830: 6f73 6974 696f 6e20 7769 6c6c 2070 7265  osition will pre
+0000a840: 7365 7276 6520 616c 6c20 6d65 7461 6461  serve all metada
+0000a850: 7461 2061 7474 6163 6865 6420 746f 2074  ta attached to t
+0000a860: 6865 2066 6972 7374 2066 756e 6374 696f  he first functio
+0000a870: 6e20 696e 2074 6865 2063 6f6d 706f 7369  n in the composi
+0000a880: 7469 6f6e 2c20 696e 636c 7564 696e 6720  tion, including 
+0000a890: 7468 6520 6675 6e63 7469 6f6e 2773 205b  the function's [
+0000a8a0: 7369 676e 6174 7572 655d 2868 7474 7073  signature](https
+0000a8b0: 3a2f 2f64 6f63 732e 7079 7468 6f6e 2e6f  ://docs.python.o
+0000a8c0: 7267 2f33 2f6c 6962 7261 7279 2f69 6e73  rg/3/library/ins
+0000a8d0: 7065 6374 2e68 746d 6c23 696e 7370 6563  pect.html#inspec
+0000a8e0: 742e 7369 676e 6174 7572 6529 2061 6e64  t.signature) and
+0000a8f0: 2061 6e79 206f 6620 7468 6174 2066 756e   any of that fun
+0000a900: 6374 696f 6e27 7320 6174 7472 6962 7574  ction's attribut
+0000a910: 6573 2e0a 0a23 2323 2323 2045 7861 6d70  es...##### Examp
+0000a920: 6c65 0a0a 2a2a 436f 636f 6e75 743a 2a2a  le..**Coconut:**
+0000a930: 0a60 6060 636f 636f 6e75 740a 666f 6720  .```coconut.fog 
+0000a940: 3d20 662e 2e67 0a66 5f69 6e74 6f5f 6720  = f..g.f_into_g 
+0000a950: 3d20 6620 2e2e 3e20 670a 6060 600a 0a2a  = f ..> g.```..*
+0000a960: 2a50 7974 686f 6e3a 2a2a 0a60 6060 636f  *Python:**.```co
+0000a970: 636f 6e75 745f 7079 7468 6f6e 0a23 2075  conut_python.# u
+0000a980: 6e6c 696b 6520 7468 6573 6520 7369 6d70  nlike these simp
+0000a990: 6c65 206c 616d 6264 6173 2c20 436f 636f  le lambdas, Coco
+0000a9a0: 6e75 7420 7072 6f64 7563 6573 2070 6963  nut produces pic
+0000a9b0: 6b6c 6561 626c 6520 6f62 6a65 6374 730a  kleable objects.
+0000a9c0: 666f 6720 3d20 6c61 6d62 6461 202a 6172  fog = lambda *ar
+0000a9d0: 6773 2c20 2a2a 6b77 6172 6773 3a20 6628  gs, **kwargs: f(
+0000a9e0: 6728 2a61 7267 732c 202a 2a6b 7761 7267  g(*args, **kwarg
+0000a9f0: 7329 290a 665f 696e 746f 5f67 203d 206c  s)).f_into_g = l
+0000aa00: 616d 6264 6120 2a61 7267 732c 202a 2a6b  ambda *args, **k
+0000aa10: 7761 7267 733a 2067 2866 282a 6172 6773  wargs: g(f(*args
+0000aa20: 2c20 2a2a 6b77 6172 6773 2929 0a60 6060  , **kwargs)).```
+0000aa30: 0a0a 2323 2320 4974 6572 6174 6f72 2053  ..### Iterator S
+0000aa40: 6c69 6369 6e67 0a0a 436f 636f 6e75 7420  licing..Coconut 
+0000aa50: 7573 6573 2061 2060 2460 2073 6967 6e20  uses a `$` sign 
+0000aa60: 7269 6768 7420 6166 7465 7220 616e 2069  right after an i
+0000aa70: 7465 7261 746f 7220 6265 666f 7265 2061  terator before a
+0000aa80: 2073 6c69 6365 2074 6f20 7065 7266 6f72   slice to perfor
+0000aa90: 6d20 6974 6572 6174 6f72 2073 6c69 6369  m iterator slici
+0000aaa0: 6e67 2c20 6173 2069 6e20 6069 7424 5b3a  ng, as in `it$[:
+0000aab0: 355d 602e 2043 6f63 6f6e 7574 2773 2069  5]`. Coconut's i
+0000aac0: 7465 7261 746f 7220 736c 6963 696e 6720  terator slicing 
+0000aad0: 776f 726b 7320 6d75 6368 2074 6865 2073  works much the s
+0000aae0: 616d 6520 6173 2050 7974 686f 6e27 7320  ame as Python's 
+0000aaf0: 7365 7175 656e 6365 2073 6c69 6369 6e67  sequence slicing
+0000ab00: 2c20 616e 6420 6c6f 6f6b 7320 6d75 6368  , and looks much
+0000ab10: 2074 6865 2073 616d 6520 6173 2043 6f63   the same as Coc
+0000ab20: 6f6e 7574 2773 2070 6172 7469 616c 2061  onut's partial a
+0000ab30: 7070 6c69 6361 7469 6f6e 2c20 6275 7420  pplication, but 
+0000ab40: 7769 7468 2062 7261 636b 6574 7320 696e  with brackets in
+0000ab50: 7374 6561 6420 6f66 2070 6172 656e 7468  stead of parenth
+0000ab60: 6573 6573 2e0a 0a49 7465 7261 746f 7220  eses...Iterator 
+0000ab70: 736c 6963 696e 6720 776f 726b 7320 6a75  slicing works ju
+0000ab80: 7374 206c 696b 6520 7365 7175 656e 6365  st like sequence
+0000ab90: 2073 6c69 6369 6e67 2c20 696e 636c 7564   slicing, includ
+0000aba0: 696e 6720 7375 7070 6f72 7420 666f 7220  ing support for 
+0000abb0: 6e65 6761 7469 7665 2069 6e64 6963 6573  negative indices
+0000abc0: 2061 6e64 2073 6c69 6365 732c 2061 6e64   and slices, and
+0000abd0: 2073 7570 706f 7274 2066 6f72 2060 736c   support for `sl
+0000abe0: 6963 6560 206f 626a 6563 7473 2069 6e20  ice` objects in 
+0000abf0: 7468 6520 7361 6d65 2077 6179 2061 7320  the same way as 
+0000ac00: 6361 6e20 6265 2064 6f6e 6520 7769 7468  can be done with
+0000ac10: 206e 6f72 6d61 6c20 736c 6963 696e 672e   normal slicing.
+0000ac20: 2049 7465 7261 746f 7220 736c 6963 696e   Iterator slicin
+0000ac30: 6720 6d61 6b65 7320 6e6f 2067 7561 7261  g makes no guara
+0000ac40: 6e74 6565 2c20 686f 7765 7665 722c 2074  ntee, however, t
+0000ac50: 6861 7420 7468 6520 6f72 6967 696e 616c  hat the original
+0000ac60: 2069 7465 7261 746f 7220 7061 7373 6564   iterator passed
+0000ac70: 2074 6f20 6974 2062 6520 7072 6573 6572   to it be preser
+0000ac80: 7665 6420 2874 6f20 7072 6573 6572 7665  ved (to preserve
+0000ac90: 2074 6865 2069 7465 7261 746f 722c 2075   the iterator, u
+0000aca0: 7365 2043 6f63 6f6e 7574 2773 205b 6072  se Coconut's [`r
+0000acb0: 6569 7465 7261 626c 6560 5d28 2372 6569  eiterable`](#rei
+0000acc0: 7465 7261 626c 6529 2062 7569 6c74 2d69  terable) built-i
+0000acd0: 6e29 2e0a 0a43 6f63 6f6e 7574 2773 2069  n)...Coconut's i
+0000ace0: 7465 7261 746f 7220 736c 6963 696e 6720  terator slicing 
+0000acf0: 6973 2076 6572 7920 7369 6d69 6c61 7220  is very similar 
+0000ad00: 746f 2050 7974 686f 6e27 7320 6069 7465  to Python's `ite
+0000ad10: 7274 6f6f 6c73 2e69 736c 6963 6560 2c20  rtools.islice`, 
+0000ad20: 6275 7420 756e 6c69 6b65 2060 6974 6572  but unlike `iter
+0000ad30: 746f 6f6c 732e 6973 6c69 6365 602c 2043  tools.islice`, C
+0000ad40: 6f63 6f6e 7574 2773 2069 7465 7261 746f  oconut's iterato
+0000ad50: 7220 736c 6963 696e 6720 7375 7070 6f72  r slicing suppor
+0000ad60: 7473 206e 6567 6174 6976 6520 696e 6469  ts negative indi
+0000ad70: 6365 732c 2061 6e64 2077 696c 6c20 7072  ces, and will pr
+0000ad80: 6566 6572 656e 7469 616c 6c79 2063 616c  eferentially cal
+0000ad90: 6c20 616e 206f 626a 6563 7427 7320 605f  l an object's `_
+0000ada0: 5f69 7465 725f 6765 7469 7465 6d5f 5f60  _iter_getitem__`
+0000adb0: 2028 616c 7761 7973 2075 7365 6420 6966   (always used if
+0000adc0: 2061 7661 696c 6162 6c65 2920 6f72 2060   available) or `
+0000add0: 5f5f 6765 7469 7465 6d5f 5f60 2028 6f6e  __getitem__` (on
+0000ade0: 6c79 2075 7365 6420 6966 2074 6865 206f  ly used if the o
+0000adf0: 626a 6563 7420 6973 2061 2060 636f 6c6c  bject is a `coll
+0000ae00: 6563 7469 6f6e 732e 6162 632e 5365 7175  ections.abc.Sequ
+0000ae10: 656e 6365 6029 2e20 436f 636f 6e75 7427  ence`). Coconut'
+0000ae20: 7320 6974 6572 6174 6f72 2073 6c69 6369  s iterator slici
+0000ae30: 6e67 2069 7320 616c 736f 206f 7074 696d  ng is also optim
+0000ae40: 697a 6564 2074 6f20 776f 726b 2077 656c  ized to work wel
+0000ae50: 6c20 7769 7468 2061 6c6c 206f 6620 436f  l with all of Co
+0000ae60: 636f 6e75 7427 7320 6275 696c 742d 696e  conut's built-in
+0000ae70: 206f 626a 6563 7473 2c20 6f6e 6c79 2063   objects, only c
+0000ae80: 6f6d 7075 7469 6e67 2074 6865 2065 6c65  omputing the ele
+0000ae90: 6d65 6e74 7320 6f66 2065 6163 6820 7468  ments of each th
+0000aea0: 6174 2061 7265 2061 6374 7561 6c6c 7920  at are actually 
+0000aeb0: 6e65 6365 7373 6172 7920 746f 2065 7874  necessary to ext
+0000aec0: 7261 6374 2074 6865 2064 6573 6972 6564  ract the desired
+0000aed0: 2073 6c69 6365 2e0a 0a23 2323 2323 2045   slice...##### E
+0000aee0: 7861 6d70 6c65 0a0a 2a2a 436f 636f 6e75  xample..**Coconu
+0000aef0: 743a 2a2a 0a60 6060 636f 636f 6e75 740a  t:**.```coconut.
+0000af00: 6d61 7028 7820 2d3e 2078 2a32 2c20 7261  map(x -> x*2, ra
+0000af10: 6e67 6528 3130 2a2a 3130 3029 2924 5b2d  nge(10**100))$[-
+0000af20: 315d 207c 3e20 7072 696e 740a 6060 600a  1] |> print.```.
+0000af30: 0a2a 2a50 7974 686f 6e3a 2a2a 0a5f 4361  .**Python:**._Ca
+0000af40: 6e27 7420 6265 2064 6f6e 6520 7769 7468  n't be done with
+0000af50: 6f75 7420 6120 636f 6d70 6c69 6361 7465  out a complicate
+0000af60: 6420 6974 6572 6174 6f72 2073 6c69 6369  d iterator slici
+0000af70: 6e67 2066 756e 6374 696f 6e20 616e 6420  ng function and 
+0000af80: 696e 7370 6563 7469 6f6e 206f 6620 6375  inspection of cu
+0000af90: 7374 6f6d 206f 626a 6563 7473 2e20 5468  stom objects. Th
+0000afa0: 6520 6e65 6365 7373 6172 7920 6465 6669  e necessary defi
+0000afb0: 6e69 7469 6f6e 7320 696e 2050 7974 686f  nitions in Pytho
+0000afc0: 6e20 6361 6e20 6265 2066 6f75 6e64 2069  n can be found i
+0000afd0: 6e20 7468 6520 436f 636f 6e75 7420 6865  n the Coconut he
+0000afe0: 6164 6572 2e5f 0a0a 2323 2320 4974 6572  ader._..### Iter
+0000aff0: 6174 6f72 2043 6861 696e 696e 670a 0a43  ator Chaining..C
+0000b000: 6f63 6f6e 7574 2075 7365 7320 7468 6520  oconut uses the 
+0000b010: 603a 3a60 206f 7065 7261 746f 7220 666f  `::` operator fo
+0000b020: 7220 6974 6572 6174 6f72 2063 6861 696e  r iterator chain
+0000b030: 696e 672e 2043 6f63 6f6e 7574 2773 2069  ing. Coconut's i
+0000b040: 7465 7261 746f 7220 6368 6169 6e69 6e67  terator chaining
+0000b050: 2069 7320 646f 6e65 206c 617a 696c 792c   is done lazily,
+0000b060: 2069 6e20 7468 6174 2074 6865 2061 7267   in that the arg
+0000b070: 756d 656e 7473 2061 7265 206e 6f74 2065  uments are not e
+0000b080: 7661 6c75 6174 6564 2075 6e74 696c 2074  valuated until t
+0000b090: 6865 7920 6172 6520 6e65 6564 6564 2e20  hey are needed. 
+0000b0a0: 4974 2068 6173 2061 2070 7265 6365 6465  It has a precede
+0000b0b0: 6e63 6520 696e 2d62 6574 7765 656e 2062  nce in-between b
+0000b0c0: 6974 7769 7365 206f 7220 616e 6420 696e  itwise or and in
+0000b0d0: 6669 7820 6361 6c6c 732e 2043 6861 696e  fix calls. Chain
+0000b0e0: 7320 6172 6520 7265 6974 6572 6162 6c65  s are reiterable
+0000b0f0: 2028 6361 6e20 6265 2069 7465 7261 7465   (can be iterate
+0000b100: 6420 6f76 6572 206d 756c 7469 706c 6520  d over multiple 
+0000b110: 7469 6d65 7320 616e 6420 6765 7420 7468  times and get th
+0000b120: 6520 7361 6d65 2072 6573 756c 7429 206f  e same result) o
+0000b130: 6e6c 7920 7768 656e 2074 6865 2069 7465  nly when the ite
+0000b140: 7261 746f 7273 2070 6173 7365 6420 696e  rators passed in
+0000b150: 2061 7265 2072 6569 7465 7261 626c 652e   are reiterable.
+0000b160: 2054 6865 2069 6e2d 706c 6163 6520 6f70   The in-place op
+0000b170: 6572 6174 6f72 2069 7320 603a 3a3d 602e  erator is `::=`.
+0000b180: 0a0a 5f4e 6f74 6520 7468 6174 205b 6c61  .._Note that [la
+0000b190: 7a79 206c 6973 7473 5d28 236c 617a 792d  zy lists](#lazy-
+0000b1a0: 6c69 7374 7329 2061 6e64 205b 666c 6174  lists) and [flat
+0000b1b0: 7465 6e5d 2823 666c 6174 7465 6e29 2061  ten](#flatten) a
+0000b1c0: 7265 2075 7365 6420 756e 6465 7220 7468  re used under th
+0000b1d0: 6520 686f 6f64 2074 6f20 696d 706c 656d  e hood to implem
+0000b1e0: 656e 7420 6368 6169 6e69 6e67 2073 7563  ent chaining suc
+0000b1f0: 6820 7468 6174 2060 6120 3a3a 2062 6020  h that `a :: b` 
+0000b200: 6973 2065 7175 6976 616c 656e 7420 746f  is equivalent to
+0000b210: 2060 666c 6174 7465 6e28 287c 612c 2062   `flatten((|a, b
+0000b220: 7c29 2960 2e5f 0a0a 2323 2323 2320 5261  |))`._..##### Ra
+0000b230: 7469 6f6e 616c 650a 0a41 2075 7365 6675  tionale..A usefu
+0000b240: 6c20 746f 6f6c 2074 6f20 6d61 6b65 2077  l tool to make w
+0000b250: 6f72 6b69 6e67 2077 6974 6820 6974 6572  orking with iter
+0000b260: 6174 6f72 7320 6173 2065 6173 7920 6173  ators as easy as
+0000b270: 2077 6f72 6b69 6e67 2077 6974 6820 7365   working with se
+0000b280: 7175 656e 6365 7320 6973 2074 6865 2061  quences is the a
+0000b290: 6269 6c69 7479 2074 6f20 6c61 7a69 6c79  bility to lazily
+0000b2a0: 2063 6f6d 6269 6e65 206d 756c 7469 706c   combine multipl
+0000b2b0: 6520 6974 6572 6174 6f72 7320 746f 6765  e iterators toge
+0000b2c0: 7468 6572 2e20 5468 6973 206f 7065 7261  ther. This opera
+0000b2d0: 7469 6f6e 2069 7320 6361 6c6c 6564 2063  tion is called c
+0000b2e0: 6861 696e 2c20 616e 6420 6973 2065 7175  hain, and is equ
+0000b2f0: 6976 616c 656e 7420 746f 2061 6464 6974  ivalent to addit
+0000b300: 696f 6e20 7769 7468 2073 6571 7565 6e63  ion with sequenc
+0000b310: 6573 2c20 6578 6365 7074 2074 6861 7420  es, except that 
+0000b320: 6e6f 7468 696e 6720 6765 7473 2065 7661  nothing gets eva
+0000b330: 6c75 6174 6564 2075 6e74 696c 2069 7420  luated until it 
+0000b340: 6973 206e 6565 6465 642e 0a0a 2323 2323  is needed...####
+0000b350: 2320 5079 7468 6f6e 2044 6f63 730a 0a4d  # Python Docs..M
+0000b360: 616b 6520 616e 2069 7465 7261 746f 7220  ake an iterator 
+0000b370: 7468 6174 2072 6574 7572 6e73 2065 6c65  that returns ele
+0000b380: 6d65 6e74 7320 6672 6f6d 2074 6865 2066  ments from the f
+0000b390: 6972 7374 2069 7465 7261 626c 6520 756e  irst iterable un
+0000b3a0: 7469 6c20 6974 2069 7320 6578 6861 7573  til it is exhaus
+0000b3b0: 7465 642c 2074 6865 6e20 7072 6f63 6565  ted, then procee
+0000b3c0: 6473 2074 6f20 7468 6520 6e65 7874 2069  ds to the next i
+0000b3d0: 7465 7261 626c 652c 2075 6e74 696c 2061  terable, until a
+0000b3e0: 6c6c 206f 6620 7468 6520 6974 6572 6162  ll of the iterab
+0000b3f0: 6c65 7320 6172 6520 6578 6861 7573 7465  les are exhauste
+0000b400: 642e 2055 7365 6420 666f 7220 7472 6561  d. Used for trea
+0000b410: 7469 6e67 2063 6f6e 7365 6375 7469 7665  ting consecutive
+0000b420: 2073 6571 7565 6e63 6573 2061 7320 6120   sequences as a 
+0000b430: 7369 6e67 6c65 2073 6571 7565 6e63 652e  single sequence.
+0000b440: 2043 6861 696e 6564 2069 6e70 7574 7320   Chained inputs 
+0000b450: 6172 6520 6576 616c 7561 7465 6420 6c61  are evaluated la
+0000b460: 7a69 6c79 2e20 526f 7567 686c 7920 6571  zily. Roughly eq
+0000b470: 7569 7661 6c65 6e74 2074 6f3a 0a60 6060  uivalent to:.```
+0000b480: 636f 636f 6e75 745f 7079 7468 6f6e 0a64  coconut_python.d
+0000b490: 6566 2063 6861 696e 282a 6974 6572 6162  ef chain(*iterab
+0000b4a0: 6c65 7329 3a0a 2020 2020 2320 6368 6169  les):.    # chai
+0000b4b0: 6e28 2741 4243 272c 2027 4445 4627 2920  n('ABC', 'DEF') 
+0000b4c0: 2d2d 3e20 4120 4220 4320 4420 4520 460a  --> A B C D E F.
+0000b4d0: 2020 2020 666f 7220 6974 2069 6e20 6974      for it in it
+0000b4e0: 6572 6162 6c65 733a 0a20 2020 2020 2020  erables:.       
+0000b4f0: 2066 6f72 2065 6c65 6d65 6e74 2069 6e20   for element in 
+0000b500: 6974 3a0a 2020 2020 2020 2020 2020 2020  it:.            
+0000b510: 7969 656c 6420 656c 656d 656e 740a 6060  yield element.``
+0000b520: 600a 0a23 2323 2323 2045 7861 6d70 6c65  `..##### Example
+0000b530: 0a0a 2a2a 436f 636f 6e75 743a 2a2a 0a60  ..**Coconut:**.`
+0000b540: 6060 636f 636f 6e75 740a 6465 6620 4e28  ``coconut.def N(
+0000b550: 6e3d 3029 203d 2028 6e2c 2920 3a3a 204e  n=0) = (n,) :: N
+0000b560: 286e 2b31 2920 2023 206e 6f20 696e 6669  (n+1)  # no infi
+0000b570: 6e69 7465 206c 6f6f 7020 6265 6361 7573  nite loop becaus
+0000b580: 6520 3a3a 2069 7320 6c61 7a79 0a0a 2872  e :: is lazy..(r
+0000b590: 616e 6765 282d 3130 2c20 3029 203a 3a20  ange(-10, 0) :: 
+0000b5a0: 4e28 2929 245b 353a 3135 5d20 7c3e 206c  N())$[5:15] |> l
+0000b5b0: 6973 7420 7c3e 2070 7269 6e74 0a60 6060  ist |> print.```
+0000b5c0: 0a0a 2a2a 5079 7468 6f6e 3a2a 2a0a 5f43  ..**Python:**._C
+0000b5d0: 616e 2774 2062 6520 646f 6e65 2077 6974  an't be done wit
+0000b5e0: 686f 7574 2061 2063 6f6d 706c 6963 6174  hout a complicat
+0000b5f0: 6564 2069 7465 7261 746f 7220 636f 6d70  ed iterator comp
+0000b600: 7265 6865 6e73 696f 6e20 696e 2070 6c61  rehension in pla
+0000b610: 6365 206f 6620 7468 6520 6c61 7a79 2063  ce of the lazy c
+0000b620: 6861 696e 696e 672e 2053 6565 2074 6865  haining. See the
+0000b630: 2063 6f6d 7069 6c65 6420 636f 6465 2066   compiled code f
+0000b640: 6f72 2074 6865 2050 7974 686f 6e20 7379  or the Python sy
+0000b650: 6e74 6178 2e5f 0a0a 2323 2320 496e 6669  ntax._..### Infi
+0000b660: 7820 4675 6e63 7469 6f6e 730a 0a43 6f63  x Functions..Coc
+0000b670: 6f6e 7574 2061 6c6c 6f77 7320 666f 7220  onut allows for 
+0000b680: 696e 6669 7820 6675 6e63 7469 6f6e 2063  infix function c
+0000b690: 616c 6c69 6e67 2c20 7768 6572 6520 616e  alling, where an
+0000b6a0: 2065 7870 7265 7373 696f 6e20 7468 6174   expression that
+0000b6b0: 2065 7661 6c75 6174 6573 2074 6f20 6120   evaluates to a 
+0000b6c0: 6675 6e63 7469 6f6e 2069 7320 7375 7272  function is surr
+0000b6d0: 6f75 6e64 6564 2062 7920 6261 636b 7469  ounded by backti
+0000b6e0: 636b 7320 616e 6420 7468 656e 2063 616e  cks and then can
+0000b6f0: 2068 6176 6520 6172 6775 6d65 6e74 7320   have arguments 
+0000b700: 706c 6163 6564 2069 6e20 6672 6f6e 7420  placed in front 
+0000b710: 6f66 206f 7220 6265 6869 6e64 2069 742e  of or behind it.
+0000b720: 2049 6e66 6978 2063 616c 6c69 6e67 2068   Infix calling h
+0000b730: 6173 2061 2070 7265 6365 6465 6e63 6520  as a precedence 
+0000b740: 696e 2d62 6574 7765 656e 2063 6861 696e  in-between chain
+0000b750: 696e 6720 616e 6420 604e 6f6e 6560 2d63  ing and `None`-c
+0000b760: 6f61 6c65 7363 696e 672c 2061 6e64 2069  oalescing, and i
+0000b770: 7320 6c65 6674 2d61 7373 6f63 6961 7469  s left-associati
+0000b780: 7665 2e0a 0a54 6865 2061 6c6c 6f77 6162  ve...The allowab
+0000b790: 6c65 206e 6f74 6174 696f 6e73 2066 6f72  le notations for
+0000b7a0: 2069 6e66 6978 2063 616c 6c73 2061 7265   infix calls are
+0000b7b0: 3a0a 6060 6063 6f63 6f6e 7574 0a78 2060  :.```coconut.x `
+0000b7c0: 6660 2079 2020 3d3e 2020 6628 782c 2079  f` y  =>  f(x, y
+0000b7d0: 290a 6066 6020 7820 2020 203d 3e20 2066  ).`f` x    =>  f
+0000b7e0: 2878 290a 7820 6066 6020 2020 203d 3e20  (x).x `f`    => 
+0000b7f0: 2066 2878 290a 6066 6020 2020 2020 203d   f(x).`f`      =
+0000b800: 3e20 2066 2829 0a60 6060 0a41 6464 6974  >  f().```.Addit
+0000b810: 696f 6e61 6c6c 792c 2069 6e66 6978 206e  ionally, infix n
+0000b820: 6f74 6174 696f 6e20 7375 7070 6f72 7473  otation supports
+0000b830: 2061 206c 616d 6264 6120 6173 2074 6865   a lambda as the
+0000b840: 206c 6173 7420 6172 6775 6d65 6e74 2c20   last argument, 
+0000b850: 6465 7370 6974 6520 6c61 6d62 6461 7320  despite lambdas 
+0000b860: 6861 7669 6e67 2061 206c 6f77 6572 2070  having a lower p
+0000b870: 7265 6365 6465 6e63 652e 2054 6875 732c  recedence. Thus,
+0000b880: 2060 6061 2060 6675 6e63 6020 6220 2d3e   ``a `func` b ->
+0000b890: 2063 6060 2069 7320 6571 7569 7661 6c65   c`` is equivale
+0000b8a0: 6e74 2074 6f20 6066 756e 6328 612c 2062  nt to `func(a, b
+0000b8b0: 202d 3e20 6329 602e 0a0a 436f 636f 6e75   -> c)`...Coconu
+0000b8c0: 7420 616c 736f 2073 7570 706f 7274 7320  t also supports 
+0000b8d0: 696e 6669 7820 6675 6e63 7469 6f6e 2064  infix function d
+0000b8e0: 6566 696e 6974 696f 6e20 746f 206d 616b  efinition to mak
+0000b8f0: 6520 6465 6669 6e69 6e67 2066 756e 6374  e defining funct
+0000b900: 696f 6e73 2074 6861 7420 6172 6520 696e  ions that are in
+0000b910: 7465 6e64 6564 2066 6f72 2069 6e66 6978  tended for infix
+0000b920: 2075 7361 6765 2073 696d 706c 6572 2e20   usage simpler. 
+0000b930: 5468 6520 7379 6e74 6178 2066 6f72 2069  The syntax for i
+0000b940: 6e66 6978 2066 756e 6374 696f 6e20 6465  nfix function de
+0000b950: 6669 6e69 7469 6f6e 2069 730a 6060 6063  finition is.```c
+0000b960: 6f63 6f6e 7574 0a64 6566 203c 6172 673e  oconut.def <arg>
+0000b970: 2060 3c6e 616d 653e 6020 3c61 7267 3e3a   `<name>` <arg>:
+0000b980: 0a20 2020 203c 626f 6479 3e0a 6060 600a  .    <body>.```.
+0000b990: 7768 6572 6520 603c 6e61 6d65 3e60 2069  where `<name>` i
+0000b9a0: 7320 7468 6520 6e61 6d65 206f 6620 7468  s the name of th
+0000b9b0: 6520 6675 6e63 7469 6f6e 2c20 7468 6520  e function, the 
+0000b9c0: 603c 6172 673e 6073 2061 7265 2074 6865  `<arg>`s are the
+0000b9d0: 2066 756e 6374 696f 6e20 6172 6775 6d65   function argume
+0000b9e0: 6e74 732c 2061 6e64 2060 3c62 6f64 793e  nts, and `<body>
+0000b9f0: 6020 6973 2074 6865 2062 6f64 7920 6f66  ` is the body of
+0000ba00: 2074 6865 2066 756e 6374 696f 6e2e 2049   the function. I
+0000ba10: 6620 616e 2060 3c61 7267 3e60 2069 6e63  f an `<arg>` inc
+0000ba20: 6c75 6465 7320 6120 6465 6661 756c 742c  ludes a default,
+0000ba30: 2074 6865 2060 3c61 7267 3e60 206d 7573   the `<arg>` mus
+0000ba40: 7420 6265 2073 7572 726f 756e 6465 6420  t be surrounded 
+0000ba50: 696e 2070 6172 656e 7468 6573 6573 2e0a  in parentheses..
+0000ba60: 0a5f 4e6f 7465 3a20 496e 6669 7820 6675  ._Note: Infix fu
+0000ba70: 6e63 7469 6f6e 2064 6566 696e 6974 696f  nction definitio
+0000ba80: 6e20 6361 6e20 6265 2063 6f6d 6269 6e65  n can be combine
+0000ba90: 6420 7769 7468 2061 7373 6967 6e6d 656e  d with assignmen
+0000baa0: 7420 616e 642f 6f72 2070 6174 7465 726e  t and/or pattern
+0000bab0: 2d6d 6174 6368 696e 6720 6675 6e63 7469  -matching functi
+0000bac0: 6f6e 2064 6566 696e 6974 696f 6e2e 5f0a  on definition._.
+0000bad0: 0a23 2323 2323 2052 6174 696f 6e61 6c65  .##### Rationale
+0000bae0: 0a0a 4120 636f 6d6d 6f6e 2069 6469 6f6d  ..A common idiom
+0000baf0: 2069 6e20 6675 6e63 7469 6f6e 616c 2070   in functional p
+0000bb00: 726f 6772 616d 6d69 6e67 2069 7320 746f  rogramming is to
+0000bb10: 2077 7269 7465 2066 756e 6374 696f 6e73   write functions
+0000bb20: 2074 6861 7420 6172 6520 696e 7465 6e64   that are intend
+0000bb30: 6564 2074 6f20 6265 6861 7665 2073 6f6d  ed to behave som
+0000bb40: 6577 6861 7420 6c69 6b65 206f 7065 7261  ewhat like opera
+0000bb50: 746f 7273 2c20 616e 6420 746f 2063 616c  tors, and to cal
+0000bb60: 6c20 616e 6420 6465 6669 6e65 2074 6865  l and define the
+0000bb70: 6d20 6279 2070 6c61 6369 6e67 2074 6865  m by placing the
+0000bb80: 6d20 6265 7477 6565 6e20 7468 6569 7220  m between their 
+0000bb90: 6172 6775 6d65 6e74 732e 2043 6f63 6f6e  arguments. Cocon
+0000bba0: 7574 2773 2069 6e66 6978 2073 796e 7461  ut's infix synta
+0000bbb0: 7820 6d61 6b65 7320 7468 6973 2070 6f73  x makes this pos
+0000bbc0: 7369 626c 652e 0a0a 2323 2323 2320 4578  sible...##### Ex
+0000bbd0: 616d 706c 650a 0a2a 2a43 6f63 6f6e 7574  ample..**Coconut
+0000bbe0: 3a2a 2a0a 6060 6063 6f63 6f6e 7574 0a64  :**.```coconut.d
+0000bbf0: 6566 2061 2060 6d6f 6460 2062 203d 2061  ef a `mod` b = a
+0000bc00: 2025 2062 0a28 7820 606d 6f64 6020 3229   % b.(x `mod` 2)
+0000bc10: 2060 7072 696e 7460 0a60 6060 0a0a 2a2a   `print`.```..**
+0000bc20: 5079 7468 6f6e 3a2a 2a0a 6060 6063 6f63  Python:**.```coc
+0000bc30: 6f6e 7574 5f70 7974 686f 6e0a 6465 6620  onut_python.def 
+0000bc40: 6d6f 6428 612c 2062 293a 2072 6574 7572  mod(a, b): retur
+0000bc50: 6e20 6120 2520 620a 7072 696e 7428 6d6f  n a % b.print(mo
+0000bc60: 6428 782c 2032 2929 0a60 6060 0a0a 2323  d(x, 2)).```..##
+0000bc70: 2320 4375 7374 6f6d 204f 7065 7261 746f  # Custom Operato
+0000bc80: 7273 0a0a 436f 636f 6e75 7420 616c 6c6f  rs..Coconut allo
+0000bc90: 7773 2079 6f75 2074 6f20 6465 636c 6172  ws you to declar
+0000bca0: 6520 796f 7572 206f 776e 2063 7573 746f  e your own custo
+0000bcb0: 6d20 6f70 6572 6174 6f72 7320 7769 7468  m operators with
+0000bcc0: 2074 6865 2073 796e 7461 780a 6060 600a   the syntax.```.
+0000bcd0: 6f70 6572 6174 6f72 203c 6f70 3e0a 6060  operator <op>.``
+0000bce0: 600a 7768 6572 6520 603c 6f70 3e60 2069  `.where `<op>` i
+0000bcf0: 7320 7768 6174 6576 6572 2073 6571 7565  s whatever seque
+0000bd00: 6e63 6520 6f66 2055 6e69 636f 6465 2063  nce of Unicode c
+0000bd10: 6861 7261 6374 6572 7320 796f 7520 7761  haracters you wa
+0000bd20: 6e74 2074 6f20 7573 6520 6173 2061 2063  nt to use as a c
+0000bd30: 7573 746f 6d20 6f70 6572 6174 6f72 2e20  ustom operator. 
+0000bd40: 5468 6520 606f 7065 7261 746f 7260 2073  The `operator` s
+0000bd50: 7461 7465 6d65 6e74 206d 7573 7420 6170  tatement must ap
+0000bd60: 7065 6172 2061 7420 7468 6520 746f 7020  pear at the top 
+0000bd70: 6c65 7665 6c20 616e 6420 6f6e 6c79 2061  level and only a
+0000bd80: 6666 6563 7473 2063 6f64 6520 7468 6174  ffects code that
+0000bd90: 2063 6f6d 6573 2061 6674 6572 2069 742e   comes after it.
+0000bda0: 0a0a 4f6e 6365 2064 6563 6c61 7265 642c  ..Once declared,
+0000bdb0: 2079 6f75 2063 616e 2075 7365 2079 6f75   you can use you
+0000bdc0: 7220 6375 7374 6f6d 206f 7065 7261 746f  r custom operato
+0000bdd0: 7220 616e 7977 6865 7265 2077 6865 7265  r anywhere where
+0000bde0: 2079 6f75 2077 6f75 6c64 2062 6520 6162   you would be ab
+0000bdf0: 6c65 2074 6f20 7573 6520 616e 205b 696e  le to use an [in
+0000be00: 6669 7820 6675 6e63 7469 6f6e 5d28 2369  fix function](#i
+0000be10: 6e66 6978 2d66 756e 6374 696f 6e73 2920  nfix-functions) 
+0000be20: 6173 2077 656c 6c20 6173 2072 6566 6572  as well as refer
+0000be30: 2074 6f20 7468 6520 6163 7475 616c 206f   to the actual o
+0000be40: 7065 7261 746f 7220 6974 7365 6c66 2077  perator itself w
+0000be50: 6974 6820 7468 6520 7361 6d65 2060 283c  ith the same `(<
+0000be60: 6f70 3e29 6020 7379 6e74 6178 2061 7320  op>)` syntax as 
+0000be70: 696e 206f 7468 6572 205b 6f70 6572 6174  in other [operat
+0000be80: 6f72 2066 756e 6374 696f 6e73 5d28 236f  or functions](#o
+0000be90: 7065 7261 746f 722d 6675 6e63 7469 6f6e  perator-function
+0000bea0: 7329 2e20 5369 6e63 6520 6375 7374 6f6d  s). Since custom
+0000beb0: 206f 7065 7261 746f 7273 2077 6f72 6b20   operators work 
+0000bec0: 6c69 6b65 2069 6e66 6978 2066 756e 6374  like infix funct
+0000bed0: 696f 6e73 2c20 7468 6579 2061 6c77 6179  ions, they alway
+0000bee0: 7320 6861 7665 2074 6865 2073 616d 6520  s have the same 
+0000bef0: 7072 6563 6564 656e 6365 2061 7320 696e  precedence as in
+0000bf00: 6669 7820 6675 6e63 7469 6f6e 7320 616e  fix functions an
+0000bf10: 6420 6172 6520 616c 7761 7973 206c 6566  d are always lef
+0000bf20: 742d 6173 736f 6369 6174 6976 652e 2043  t-associative. C
+0000bf30: 7573 746f 6d20 6f70 6572 6174 6f72 7320  ustom operators 
+0000bf40: 6361 6e20 6265 2075 7365 6420 6173 2062  can be used as b
+0000bf50: 696e 6172 792c 2075 6e61 7279 2c20 6f72  inary, unary, or
+0000bf60: 206e 6f6e 652d 6172 7920 6f70 6572 6174   none-ary operat
+0000bf70: 6f72 732c 2061 6e64 2062 6f74 6820 7072  ors, and both pr
+0000bf80: 6566 6978 2061 6e64 2070 6f73 7466 6978  efix and postfix
+0000bf90: 206e 6f74 6174 696f 6e20 666f 7220 756e   notation for un
+0000bfa0: 6172 7920 6f70 6572 6174 6f72 7320 6973  ary operators is
+0000bfb0: 2073 7570 706f 7274 6564 2e0a 0a53 6f6d   supported...Som
+0000bfc0: 6520 6578 616d 706c 6520 7379 6e74 6178  e example syntax
+0000bfd0: 6573 2066 6f72 2064 6566 696e 696e 6720  es for defining 
+0000bfe0: 6375 7374 6f6d 206f 7065 7261 746f 7273  custom operators
+0000bff0: 206f 6e63 6520 6465 636c 6172 6564 3a0a   once declared:.
+0000c000: 6060 600a 6465 6620 7820 3c6f 703e 2079  ```.def x <op> y
+0000c010: 3a20 2e2e 2e0a 6465 6620 3c6f 703e 2078  : ....def <op> x
+0000c020: 203d 202e 2e2e 0a6d 6174 6368 2064 6566   = ....match def
+0000c030: 2028 7829 203c 6f70 3e20 2879 293a 202e   (x) <op> (y): .
+0000c040: 2e2e 0a28 3c6f 703e 2920 3d20 2e2e 2e0a  ...(<op>) = ....
+0000c050: 6672 6f6d 206d 6f64 756c 6520 696d 706f  from module impo
+0000c060: 7274 206e 616d 6520 6173 2028 3c6f 703e  rt name as (<op>
+0000c070: 290a 6060 600a 0a41 6e64 2073 6f6d 6520  ).```..And some 
+0000c080: 6578 616d 706c 6520 7379 6e74 6178 6573  example syntaxes
+0000c090: 2066 6f72 2075 7369 6e67 2063 7573 746f   for using custo
+0000c0a0: 6d20 6f70 6572 6174 6f72 733a 0a60 6060  m operators:.```
+0000c0b0: 0a78 203c 6f70 3e20 790a 7820 3c6f 703e  .x <op> y.x <op>
+0000c0c0: 2079 203c 6f70 3e20 7a0a 3c6f 703e 2078   y <op> z.<op> x
+0000c0d0: 0a78 203c 6f70 3e0a 7820 3d20 283c 6f70  .x <op>.x = (<op
+0000c0e0: 3e29 0a66 283c 6f70 3e29 0a28 7820 3c6f  >).f(<op>).(x <o
+0000c0f0: 703e 202e 290a 282e 203c 6f70 3e20 7929  p> .).(. <op> y)
+0000c100: 0a6d 6174 6368 2078 203c 6f70 3e20 696e  .match x <op> in
+0000c110: 202e 2e2e 3a20 2e2e 2e0a 6d61 7463 6820   ...: ....match 
+0000c120: 7820 3c6f 703e 2079 2069 6e20 2e2e 2e3a  x <op> y in ...:
+0000c130: 202e 2e2e 0a60 6060 0a0a 4164 6469 7469   ....```..Additi
+0000c140: 6f6e 616c 6c79 2c20 746f 2069 6d70 6f72  onally, to impor
+0000c150: 7420 6375 7374 6f6d 206f 7065 7261 746f  t custom operato
+0000c160: 7273 2066 726f 6d20 6f74 6865 7220 6d6f  rs from other mo
+0000c170: 6475 6c65 732c 2043 6f63 6f6e 7574 2073  dules, Coconut s
+0000c180: 7570 706f 7274 7320 7468 6520 7370 6563  upports the spec
+0000c190: 6961 6c20 7379 6e74 6178 3a0a 6060 600a  ial syntax:.```.
+0000c1a0: 6672 6f6d 203c 6d6f 6475 6c65 3e20 696d  from <module> im
+0000c1b0: 706f 7274 206f 7065 7261 746f 7220 3c6f  port operator <o
+0000c1c0: 703e 0a60 6060 0a0a 4375 7374 6f6d 206f  p>.```..Custom o
+0000c1d0: 7065 7261 746f 7273 2077 696c 6c20 6f66  perators will of
+0000c1e0: 7465 6e20 6e65 6564 2074 6f20 6265 2073  ten need to be s
+0000c1f0: 7572 726f 756e 6465 6420 6279 2077 6869  urrounded by whi
+0000c200: 7465 7370 6163 6520 286f 7220 7061 7265  tespace (or pare
+0000c210: 6e74 6865 7365 7320 7768 656e 2075 7365  ntheses when use
+0000c220: 6420 6173 2061 6e20 6f70 6572 6174 6f72  d as an operator
+0000c230: 2066 756e 6374 696f 6e29 2074 6f20 6265   function) to be
+0000c240: 2070 6172 7365 6420 636f 7272 6563 746c   parsed correctl
+0000c250: 792e 0a0a 4966 2061 2063 7573 746f 6d20  y...If a custom 
+0000c260: 6f70 6572 6174 6f72 2074 6861 7420 6973  operator that is
+0000c270: 2061 6c73 6f20 6120 7661 6c69 6420 6e61   also a valid na
+0000c280: 6d65 2069 7320 6465 7369 7265 642c 2079  me is desired, y
+0000c290: 6f75 2063 616e 2075 7365 2061 2062 6163  ou can use a bac
+0000c2a0: 6b73 6c61 7368 2062 6566 6f72 6520 7468  kslash before th
+0000c2b0: 6520 6e61 6d65 2074 6f20 6765 7420 6261  e name to get ba
+0000c2c0: 636b 2074 6865 206e 616d 6520 696e 7374  ck the name inst
+0000c2d0: 6561 6420 7573 696e 6720 436f 636f 6e75  ead using Coconu
+0000c2e0: 7427 7320 5b6b 6579 776f 7264 2f76 6172  t's [keyword/var
+0000c2f0: 6961 626c 6520 6469 7361 6d62 6967 7561  iable disambigua
+0000c300: 7469 6f6e 2073 796e 7461 785d 2823 6861  tion syntax](#ha
+0000c310: 6e64 6c69 6e67 2d6b 6579 776f 7264 7661  ndling-keywordva
+0000c320: 7269 6162 6c65 2d6e 616d 652d 6f76 6572  riable-name-over
+0000c330: 6c61 7029 2e0a 0a5f 4e6f 7465 3a20 7265  lap)..._Note: re
+0000c340: 6465 6669 6e69 6e67 2065 7869 7374 696e  defining existin
+0000c350: 6720 436f 636f 6e75 7420 6f70 6572 6174  g Coconut operat
+0000c360: 6f72 7320 7573 696e 6720 6375 7374 6f6d  ors using custom
+0000c370: 206f 7065 7261 746f 7220 6465 6669 6e69   operator defini
+0000c380: 7469 6f6e 2073 796e 7461 7820 6973 2066  tion syntax is f
+0000c390: 6f72 6269 6464 656e 2c20 696e 636c 7564  orbidden, includ
+0000c3a0: 696e 6720 436f 636f 6e75 7427 7320 6275  ing Coconut's bu
+0000c3b0: 696c 742d 696e 205b 556e 6963 6f64 6520  ilt-in [Unicode 
+0000c3c0: 6f70 6572 6174 6f72 2061 6c74 6572 6e61  operator alterna
+0000c3d0: 7469 7665 735d 2823 756e 6963 6f64 652d  tives](#unicode-
+0000c3e0: 616c 7465 726e 6174 6976 6573 292e 5f0a  alternatives)._.
+0000c3f0: 0a23 2323 2323 2045 7861 6d70 6c65 730a  .##### Examples.
+0000c400: 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0a 6060  .**Coconut:**.``
+0000c410: 6063 6f63 6f6e 7574 0a6f 7065 7261 746f  `coconut.operato
+0000c420: 7220 2525 0a28 2525 2920 3d20 6d61 7468  r %%.(%%) = math
+0000c430: 2e72 656d 6169 6e64 6572 0a31 3020 2525  .remainder.10 %%
+0000c440: 2033 207c 3e20 7072 696e 740a 0a6f 7065   3 |> print..ope
+0000c450: 7261 746f 7220 2121 0a28 2121 2920 3d20  rator !!.(!!) = 
+0000c460: 626f 6f6c 0a21 2120 3020 7c3e 2070 7269  bool.!! 0 |> pri
+0000c470: 6e74 0a0a 6f70 6572 6174 6f72 206c 6f67  nt..operator log
+0000c480: 3130 0a66 726f 6d20 6d61 7468 2069 6d70  10.from math imp
+0000c490: 6f72 7420 5c6c 6f67 3130 2061 7320 286c  ort \log10 as (l
+0000c4a0: 6f67 3130 290a 3130 3020 6c6f 6731 3020  og10).100 log10 
+0000c4b0: 7c3e 2070 7269 6e74 0a60 6060 0a0a 2a2a  |> print.```..**
+0000c4c0: 5079 7468 6f6e 3a2a 2a0a 6060 6063 6f63  Python:**.```coc
+0000c4d0: 6f6e 7574 5f70 7974 686f 6e0a 7072 696e  onut_python.prin
+0000c4e0: 7428 6d61 7468 2e72 656d 6169 6e64 6572  t(math.remainder
+0000c4f0: 2831 302c 2033 2929 0a0a 7072 696e 7428  (10, 3))..print(
+0000c500: 626f 6f6c 2830 2929 0a0a 7072 696e 7428  bool(0))..print(
+0000c510: 6d61 7468 2e6c 6f67 3130 2831 3030 2929  math.log10(100))
+0000c520: 0a60 6060 0a0a 2323 2320 4e6f 6e65 2043  .```..### None C
+0000c530: 6f61 6c65 7363 696e 670a 0a43 6f63 6f6e  oalescing..Cocon
+0000c540: 7574 2070 726f 7669 6465 7320 603f 3f60  ut provides `??`
+0000c550: 2061 7320 6120 604e 6f6e 6560 2d63 6f61   as a `None`-coa
+0000c560: 6c65 7363 696e 6720 6f70 6572 6174 6f72  lescing operator
+0000c570: 2c20 7369 6d69 6c61 7220 746f 2074 6865  , similar to the
+0000c580: 2060 3f3f 6020 6e75 6c6c 2d63 6f61 6c65   `??` null-coale
+0000c590: 7363 696e 6720 6f70 6572 6174 6f72 2069  scing operator i
+0000c5a0: 6e20 4323 2061 6e64 2053 7769 6674 2e20  n C# and Swift. 
+0000c5b0: 4164 6469 7469 6f6e 616c 6c79 2c20 436f  Additionally, Co
+0000c5c0: 636f 6e75 7420 696d 706c 656d 656e 7473  conut implements
+0000c5d0: 2061 6c6c 206f 6620 7468 6520 604e 6f6e   all of the `Non
+0000c5e0: 6560 2d61 7761 7265 206f 7065 7261 746f  e`-aware operato
+0000c5f0: 7273 2070 726f 706f 7365 6420 696e 205b  rs proposed in [
+0000c600: 5045 5020 3530 355d 2868 7474 7073 3a2f  PEP 505](https:/
+0000c610: 2f77 7777 2e70 7974 686f 6e2e 6f72 672f  /www.python.org/
+0000c620: 6465 762f 7065 7073 2f70 6570 2d30 3530  dev/peps/pep-050
+0000c630: 352f 292e 0a0a 436f 636f 6e75 7427 7320  5/)...Coconut's 
+0000c640: 603f 3f60 206f 7065 7261 746f 7220 6576  `??` operator ev
+0000c650: 616c 7561 7465 7320 746f 2069 7473 206c  aluates to its l
+0000c660: 6566 7420 6f70 6572 616e 6420 6966 2074  eft operand if t
+0000c670: 6861 7420 6f70 6572 616e 6420 6973 206e  hat operand is n
+0000c680: 6f74 2060 4e6f 6e65 602c 206f 7468 6572  ot `None`, other
+0000c690: 7769 7365 2069 7473 2072 6967 6874 206f  wise its right o
+0000c6a0: 7065 7261 6e64 2e20 5468 6520 6578 7072  perand. The expr
+0000c6b0: 6573 7369 6f6e 2060 666f 6f20 3f3f 2062  ession `foo ?? b
+0000c6c0: 6172 6020 6576 616c 7561 7465 7320 746f  ar` evaluates to
+0000c6d0: 2060 666f 6f60 2061 7320 6c6f 6e67 2061   `foo` as long a
+0000c6e0: 7320 6974 2069 736e 2774 2060 4e6f 6e65  s it isn't `None
+0000c6f0: 602c 2061 6e64 2074 6f20 6062 6172 6020  `, and to `bar` 
+0000c700: 6966 2069 7420 6973 2e20 5468 6520 604e  if it is. The `N
+0000c710: 6f6e 6560 2d63 6f61 6c65 7363 696e 6720  one`-coalescing 
+0000c720: 6f70 6572 6174 6f72 2069 7320 7368 6f72  operator is shor
+0000c730: 742d 6369 7263 7569 7469 6e67 2c20 7375  t-circuiting, su
+0000c740: 6368 2074 6861 7420 6966 2074 6865 206c  ch that if the l
+0000c750: 6566 7420 6f70 6572 616e 6420 6973 206e  eft operand is n
+0000c760: 6f74 2060 4e6f 6e65 602c 2074 6865 2072  ot `None`, the r
+0000c770: 6967 6874 206f 7065 7261 6e64 2077 6f6e  ight operand won
+0000c780: 2774 2062 6520 6576 616c 7561 7465 642e  't be evaluated.
+0000c790: 2054 6869 7320 616c 6c6f 7773 2074 6865   This allows the
+0000c7a0: 2072 6967 6874 206f 7065 7261 6e64 2074   right operand t
+0000c7b0: 6f20 6265 2061 2070 6f74 656e 7469 616c  o be a potential
+0000c7c0: 6c79 2065 7870 656e 7369 7665 206f 7065  ly expensive ope
+0000c7d0: 7261 7469 6f6e 2077 6974 686f 7574 2069  ration without i
+0000c7e0: 6e63 7572 7269 6e67 2061 6e79 2075 6e6e  ncurring any unn
+0000c7f0: 6563 6573 7361 7279 2063 6f73 742e 0a0a  ecessary cost...
+0000c800: 5468 6520 604e 6f6e 6560 2d63 6f61 6c65  The `None`-coale
+0000c810: 7363 696e 6720 6f70 6572 6174 6f72 2068  scing operator h
+0000c820: 6173 2061 2070 7265 6365 6465 6e63 6520  as a precedence 
+0000c830: 696e 2d62 6574 7765 656e 2069 6e66 6978  in-between infix
+0000c840: 2066 756e 6374 696f 6e20 6361 6c6c 7320   function calls 
+0000c850: 616e 6420 636f 6d70 6f73 6974 696f 6e20  and composition 
+0000c860: 7069 7065 732c 2061 6e64 2069 7320 6c65  pipes, and is le
+0000c870: 6674 2d61 7373 6f63 6961 7469 7665 2e0a  ft-associative..
+0000c880: 0a23 2323 2323 2045 7861 6d70 6c65 0a0a  .##### Example..
+0000c890: 2a2a 436f 636f 6e75 743a 2a2a 0a60 6060  **Coconut:**.```
+0000c8a0: 636f 636f 6e75 740a 636f 756c 645f 6265  coconut.could_be
+0000c8b0: 5f6e 6f6e 6528 2920 3f3f 2063 616c 6375  _none() ?? calcu
+0000c8c0: 6c61 7465 5f64 6566 6175 6c74 5f76 616c  late_default_val
+0000c8d0: 7565 2829 0a60 6060 0a0a 2a2a 5079 7468  ue().```..**Pyth
+0000c8e0: 6f6e 3a2a 2a0a 6060 6063 6f63 6f6e 7574  on:**.```coconut
+0000c8f0: 5f70 7974 686f 6e0a 286c 616d 6264 6120  _python.(lambda 
+0000c900: 7265 7375 6c74 3a20 7265 7375 6c74 2069  result: result i
+0000c910: 6620 7265 7375 6c74 2069 7320 6e6f 7420  f result is not 
+0000c920: 4e6f 6e65 2065 6c73 6520 6361 6c63 756c  None else calcul
+0000c930: 6174 655f 6465 6661 756c 745f 7661 6c75  ate_default_valu
+0000c940: 6528 2929 2863 6f75 6c64 5f62 655f 6e6f  e())(could_be_no
+0000c950: 6e65 2829 290a 6060 600a 0a23 2323 2320  ne()).```..#### 
+0000c960: 436f 616c 6573 6369 6e67 2041 7373 6967  Coalescing Assig
+0000c970: 6e6d 656e 7420 4f70 6572 6174 6f72 0a0a  nment Operator..
+0000c980: 5468 6520 696e 2d70 6c61 6365 2061 7373  The in-place ass
+0000c990: 6967 6e6d 656e 7420 6f70 6572 6174 6f72  ignment operator
+0000c9a0: 2069 7320 603f 3f3d 602c 2077 6869 6368   is `??=`, which
+0000c9b0: 2061 6c6c 6f77 7320 636f 6e64 6974 696f   allows conditio
+0000c9c0: 6e61 6c6c 7920 7365 7474 696e 6720 6120  nally setting a 
+0000c9d0: 7661 7269 6162 6c65 2069 6620 6974 2069  variable if it i
+0000c9e0: 7320 6375 7272 656e 746c 7920 604e 6f6e  s currently `Non
+0000c9f0: 6560 2e0a 0a60 6060 636f 636f 6e75 740a  e`...```coconut.
+0000ca00: 666f 6f20 3d20 310a 6261 7220 3d20 4e6f  foo = 1.bar = No
+0000ca10: 6e65 0a66 6f6f 203f 3f3d 2031 3020 2023  ne.foo ??= 10  #
+0000ca20: 2066 6f6f 2069 7320 7374 696c 6c20 310a   foo is still 1.
+0000ca30: 6261 7220 3f3f 3d20 3130 2020 2320 6261  bar ??= 10  # ba
+0000ca40: 7220 6973 206e 6f77 2031 300a 6060 600a  r is now 10.```.
+0000ca50: 0a41 7320 6465 7363 7269 6265 6420 7769  .As described wi
+0000ca60: 7468 2074 6865 2073 7461 6e64 6172 6420  th the standard 
+0000ca70: 603f 3f60 206f 7065 7261 746f 722c 2074  `??` operator, t
+0000ca80: 6865 2060 4e6f 6e65 602d 636f 616c 6573  he `None`-coales
+0000ca90: 6369 6e67 2061 7373 6967 6e6d 656e 7420  cing assignment 
+0000caa0: 6f70 6572 6174 6f72 2077 696c 6c20 6e6f  operator will no
+0000cab0: 7420 6576 616c 7561 7465 2074 6865 2072  t evaluate the r
+0000cac0: 6967 6874 2068 616e 6420 7369 6465 2075  ight hand side u
+0000cad0: 6e6c 6573 7320 7468 6520 6c65 6674 2068  nless the left h
+0000cae0: 616e 6420 7369 6465 2069 7320 604e 6f6e  and side is `Non
+0000caf0: 6560 2e0a 0a60 6060 636f 636f 6e75 740a  e`...```coconut.
+0000cb00: 6261 7a20 3d20 300a 6261 7a20 3f3f 3d20  baz = 0.baz ??= 
+0000cb10: 6578 7065 6e73 6976 655f 7461 736b 2829  expensive_task()
+0000cb20: 2020 2320 7269 6768 7420 6861 6e64 2073    # right hand s
+0000cb30: 6964 6520 6973 6e27 7420 6576 616c 7561  ide isn't evalua
+0000cb40: 7465 640a 6060 600a 0a23 2323 2320 4f74  ted.```..#### Ot
+0000cb50: 6865 7220 4e6f 6e65 2d41 7761 7265 204f  her None-Aware O
+0000cb60: 7065 7261 746f 7273 0a0a 436f 636f 6e75  perators..Coconu
+0000cb70: 7420 616c 736f 2061 6c6c 6f77 7320 6120  t also allows a 
+0000cb80: 7369 6e67 6c65 2060 3f60 2062 6566 6f72  single `?` befor
+0000cb90: 6520 6174 7472 6962 7574 6520 6163 6365  e attribute acce
+0000cba0: 7373 2c20 6675 6e63 7469 6f6e 2063 616c  ss, function cal
+0000cbb0: 6c69 6e67 2c20 7061 7274 6961 6c20 6170  ling, partial ap
+0000cbc0: 706c 6963 6174 696f 6e2c 2061 6e64 2028  plication, and (
+0000cbd0: 6974 6572 6174 6f72 2920 696e 6465 7869  iterator) indexi
+0000cbe0: 6e67 2074 6f20 7368 6f72 742d 6369 7263  ng to short-circ
+0000cbf0: 7569 7420 7468 6520 7265 7374 206f 6620  uit the rest of 
+0000cc00: 7468 6520 6576 616c 7561 7469 6f6e 2069  the evaluation i
+0000cc10: 6620 6576 6572 7974 6869 6e67 2073 6f20  f everything so 
+0000cc20: 6661 7220 6576 616c 7561 7465 7320 746f  far evaluates to
+0000cc30: 2060 4e6f 6e65 602e 2054 6869 7320 6973   `None`. This is
+0000cc40: 2073 6f6d 6574 696d 6573 206b 6e6f 776e   sometimes known
+0000cc50: 2061 7320 6120 2273 6166 6520 6e61 7669   as a "safe navi
+0000cc60: 6761 7469 6f6e 2220 6f70 6572 6174 6f72  gation" operator
+0000cc70: 2e0a 0a57 6865 6e20 7573 696e 6720 6120  ...When using a 
+0000cc80: 604e 6f6e 6560 2d61 7761 7265 206f 7065  `None`-aware ope
+0000cc90: 7261 746f 7220 666f 7220 6d65 6d62 6572  rator for member
+0000cca0: 2061 6363 6573 732c 2065 6974 6865 7220   access, either 
+0000ccb0: 666f 7220 6120 6d65 7468 6f64 206f 7220  for a method or 
+0000ccc0: 616e 2061 7474 7269 6275 7465 2c20 7468  an attribute, th
+0000ccd0: 6520 7379 6e74 6178 2069 7320 606f 626a  e syntax is `obj
+0000cce0: 3f2e 6d65 7468 6f64 2829 6020 6f72 2060  ?.method()` or `
+0000ccf0: 6f62 6a3f 2e61 7474 7260 2072 6573 7065  obj?.attr` respe
+0000cd00: 6374 6976 656c 792e 2060 6f62 6a3f 2e61  ctively. `obj?.a
+0000cd10: 7474 7260 2069 7320 6571 7569 7661 6c65  ttr` is equivale
+0000cd20: 6e74 2074 6f20 606f 626a 2e61 7474 7220  nt to `obj.attr 
+0000cd30: 6966 206f 626a 2069 7320 6e6f 7420 4e6f  if obj is not No
+0000cd40: 6e65 2065 6c73 6520 6f62 6a60 2e20 5468  ne else obj`. Th
+0000cd50: 6973 2064 6f65 7320 6e6f 7420 7072 6576  is does not prev
+0000cd60: 656e 7420 616e 2060 4174 7472 6962 7574  ent an `Attribut
+0000cd70: 6545 7272 6f72 6020 6966 2060 6174 7472  eError` if `attr
+0000cd80: 6020 6973 206e 6f74 2061 6e20 6174 7472  ` is not an attr
+0000cd90: 6962 7574 6520 6f72 206d 6574 686f 6420  ibute or method 
+0000cda0: 6f66 2060 6f62 6a60 2e0a 0a54 6865 2060  of `obj`...The `
+0000cdb0: 4e6f 6e65 602d 6177 6172 6520 696e 6465  None`-aware inde
+0000cdc0: 7869 6e67 206f 7065 7261 746f 7220 6973  xing operator is
+0000cdd0: 2075 7365 6420 6964 656e 7469 6361 6c6c   used identicall
+0000cde0: 7920 746f 206e 6f72 6d61 6c20 696e 6465  y to normal inde
+0000cdf0: 7869 6e67 2c20 7573 696e 6720 603f 5b5d  xing, using `?[]
+0000ce00: 6020 696e 7374 6561 6420 6f66 2060 5b5d  ` instead of `[]
+0000ce10: 602e 2060 7365 713f 5b69 6e64 6578 5d60  `. `seq?[index]`
+0000ce20: 2069 7320 6571 7569 7661 6c65 6e74 2074   is equivalent t
+0000ce30: 6f20 7468 6520 6578 7072 6573 7369 6f6e  o the expression
+0000ce40: 2060 7365 715b 696e 6465 785d 2069 7320   `seq[index] is 
+0000ce50: 7365 7120 6973 206e 6f74 204e 6f6e 6520  seq is not None 
+0000ce60: 656c 7365 2073 6571 602e 2055 7369 6e67  else seq`. Using
+0000ce70: 2074 6869 7320 6f70 6572 6174 6f72 2077   this operator w
+0000ce80: 696c 6c20 6e6f 7420 7072 6576 656e 7420  ill not prevent 
+0000ce90: 616e 2060 496e 6465 7845 7272 6f72 6020  an `IndexError` 
+0000cea0: 6966 2060 696e 6465 7860 2069 7320 6f75  if `index` is ou
+0000ceb0: 7473 6964 6520 7468 6520 626f 756e 6473  tside the bounds
+0000cec0: 206f 6620 6073 6571 602e 0a0a 436f 636f   of `seq`...Coco
+0000ced0: 6e75 7420 616c 736f 2073 7570 706f 7274  nut also support
+0000cee0: 7320 4e6f 6e65 2d61 7761 7265 205b 7069  s None-aware [pi
+0000cef0: 7065 206f 7065 7261 746f 7273 5d28 2370  pe operators](#p
+0000cf00: 6970 6573 2920 616e 6420 5b66 756e 6374  ipes) and [funct
+0000cf10: 696f 6e20 636f 6d70 6f73 6974 696f 6e20  ion composition 
+0000cf20: 7069 7065 735d 2823 6675 6e63 7469 6f6e  pipes](#function
+0000cf30: 2d63 6f6d 706f 7369 7469 6f6e 292e 0a0a  -composition)...
+0000cf40: 2323 2323 2320 4578 616d 706c 650a 0a2a  ##### Example..*
+0000cf50: 2a43 6f63 6f6e 7574 3a2a 2a0a 6060 6063  *Coconut:**.```c
+0000cf60: 6f63 6f6e 7574 0a63 6f75 6c64 5f62 655f  oconut.could_be_
+0000cf70: 6e6f 6e65 3f2e 6174 7472 2020 2020 2023  none?.attr     #
+0000cf80: 2061 7474 7269 6275 7465 2061 6363 6573   attribute acces
+0000cf90: 730a 636f 756c 645f 6265 5f6e 6f6e 653f  s.could_be_none?
+0000cfa0: 2861 7267 2920 2020 2020 2320 6675 6e63  (arg)     # func
+0000cfb0: 7469 6f6e 2063 616c 6c69 6e67 0a63 6f75  tion calling.cou
+0000cfc0: 6c64 5f62 655f 6e6f 6e65 3f2e 6d65 7468  ld_be_none?.meth
+0000cfd0: 6f64 2829 2023 206d 6574 686f 6420 6361  od() # method ca
+0000cfe0: 6c6c 696e 670a 636f 756c 645f 6265 5f6e  lling.could_be_n
+0000cff0: 6f6e 653f 2428 6172 6729 2020 2020 2320  one?$(arg)    # 
+0000d000: 7061 7274 6961 6c20 6170 706c 6963 6174  partial applicat
+0000d010: 696f 6e0a 636f 756c 645f 6265 5f6e 6f6e  ion.could_be_non
+0000d020: 6528 293f 5b30 5d20 2020 2020 2320 696e  e()?[0]     # in
+0000d030: 6465 7869 6e67 0a63 6f75 6c64 5f62 655f  dexing.could_be_
+0000d040: 6e6f 6e65 2829 3f2e 6174 7472 5b69 6e64  none()?.attr[ind
+0000d050: 6578 5d2e 6d65 7468 6f64 2829 0a60 6060  ex].method().```
+0000d060: 0a0a 2a2a 5079 7468 6f6e 3a2a 2a0a 6060  ..**Python:**.``
+0000d070: 6063 6f63 6f6e 7574 5f70 7974 686f 6e0a  `coconut_python.
+0000d080: 696d 706f 7274 2066 756e 6374 6f6f 6c73  import functools
+0000d090: 0a28 6c61 6d62 6461 2072 6573 756c 743a  .(lambda result:
+0000d0a0: 204e 6f6e 6520 6966 2072 6573 756c 7420   None if result 
+0000d0b0: 6973 204e 6f6e 6520 656c 7365 2072 6573  is None else res
+0000d0c0: 756c 742e 6174 7472 2928 636f 756c 645f  ult.attr)(could_
+0000d0d0: 6265 5f6e 6f6e 6528 2929 0a28 6c61 6d62  be_none()).(lamb
+0000d0e0: 6461 2072 6573 756c 743a 204e 6f6e 6520  da result: None 
+0000d0f0: 6966 2072 6573 756c 7420 6973 204e 6f6e  if result is Non
+0000d100: 6520 656c 7365 2072 6573 756c 7428 6172  e else result(ar
+0000d110: 6729 2928 636f 756c 645f 6265 5f6e 6f6e  g))(could_be_non
+0000d120: 6528 2929 0a28 6c61 6d62 6461 2072 6573  e()).(lambda res
+0000d130: 756c 743a 204e 6f6e 6520 6966 2072 6573  ult: None if res
+0000d140: 756c 7420 6973 204e 6f6e 6520 656c 7365  ult is None else
+0000d150: 2072 6573 756c 742e 6d65 7468 6f64 2829   result.method()
+0000d160: 2928 636f 756c 645f 6265 5f6e 6f6e 6528  )(could_be_none(
+0000d170: 2929 0a28 6c61 6d62 6461 2072 6573 756c  )).(lambda resul
+0000d180: 743a 204e 6f6e 6520 6966 2072 6573 756c  t: None if resul
+0000d190: 7420 6973 204e 6f6e 6520 656c 7365 2066  t is None else f
+0000d1a0: 756e 6374 6f6f 6c73 2e70 6172 7469 616c  unctools.partial
+0000d1b0: 2872 6573 756c 742c 2061 7267 2929 2863  (result, arg))(c
+0000d1c0: 6f75 6c64 5f62 655f 6e6f 6e65 2829 290a  ould_be_none()).
+0000d1d0: 286c 616d 6264 6120 7265 7375 6c74 3a20  (lambda result: 
+0000d1e0: 4e6f 6e65 2069 6620 7265 7375 6c74 2069  None if result i
+0000d1f0: 7320 4e6f 6e65 2065 6c73 6520 7265 7375  s None else resu
+0000d200: 6c74 5b30 5d29 2863 6f75 6c64 5f62 655f  lt[0])(could_be_
+0000d210: 6e6f 6e65 2829 290a 286c 616d 6264 6120  none()).(lambda 
+0000d220: 7265 7375 6c74 3a20 4e6f 6e65 2069 6620  result: None if 
+0000d230: 7265 7375 6c74 2069 7320 4e6f 6e65 2065  result is None e
+0000d240: 6c73 6520 7265 7375 6c74 2e61 7474 725b  lse result.attr[
+0000d250: 696e 6465 785d 2e6d 6574 686f 6428 2929  index].method())
+0000d260: 2863 6f75 6c64 5f62 655f 6e6f 6e65 2829  (could_be_none()
+0000d270: 290a 6060 600a 0a23 2323 2050 726f 746f  ).```..### Proto
+0000d280: 636f 6c20 496e 7465 7273 6563 7469 6f6e  col Intersection
+0000d290: 0a0a 436f 636f 6e75 7420 7573 6573 2074  ..Coconut uses t
+0000d2a0: 6865 2060 263a 6020 6f70 6572 6174 6f72  he `&:` operator
+0000d2b0: 2074 6f20 696e 6469 6361 7465 2070 726f   to indicate pro
+0000d2c0: 746f 636f 6c20 696e 7465 7273 6563 7469  tocol intersecti
+0000d2d0: 6f6e 2e20 5468 6174 2069 732c 2066 6f72  on. That is, for
+0000d2e0: 2074 776f 205b 6074 7970 696e 672e 5072   two [`typing.Pr
+0000d2f0: 6f74 6f63 6f6c 6073 5d28 6874 7470 733a  otocol`s](https:
+0000d300: 2f2f 646f 6373 2e70 7974 686f 6e2e 6f72  //docs.python.or
+0000d310: 672f 332f 6c69 6272 6172 792f 7479 7069  g/3/library/typi
+0000d320: 6e67 2e68 746d 6c23 7479 7069 6e67 2e50  ng.html#typing.P
+0000d330: 726f 746f 636f 6c29 2060 5072 6f74 6f63  rotocol) `Protoc
+0000d340: 6f6c 3160 2061 6e64 2060 5072 6f74 6f63  ol1` and `Protoc
+0000d350: 6f6c 3160 2c20 6050 726f 746f 636f 6c31  ol1`, `Protocol1
+0000d360: 2026 3a20 5072 6f74 6f63 6f6c 3260 2069   &: Protocol2` i
+0000d370: 7320 6571 7569 7661 6c65 6e74 2074 6f20  s equivalent to 
+0000d380: 6120 6050 726f 746f 636f 6c60 2074 6861  a `Protocol` tha
+0000d390: 7420 636f 6d62 696e 6573 2074 6865 2072  t combines the r
+0000d3a0: 6571 7569 7265 6d65 6e74 7320 6f66 2062  equirements of b
+0000d3b0: 6f74 6820 6050 726f 746f 636f 6c31 6020  oth `Protocol1` 
+0000d3c0: 616e 6420 6050 726f 746f 636f 6c32 602e  and `Protocol2`.
+0000d3d0: 0a0a 5468 6520 7265 636f 6d6d 656e 6465  ..The recommende
+0000d3e0: 6420 7761 7920 746f 2075 7365 2043 6f63  d way to use Coc
+0000d3f0: 6f6e 7574 2773 2070 726f 746f 636f 6c20  onut's protocol 
+0000d400: 696e 7465 7273 6563 7469 6f6e 206f 7065  intersection ope
+0000d410: 7261 746f 7220 6973 2069 6e20 636f 6d62  rator is in comb
+0000d420: 696e 6174 696f 6e20 7769 7468 2043 6f63  ination with Coc
+0000d430: 6f6e 7574 2773 205b 6f70 6572 6174 6f72  onut's [operator
+0000d440: 2060 5072 6f74 6f63 6f6c 6073 5d28 2373   `Protocol`s](#s
+0000d450: 7570 706f 7274 6564 2d70 726f 746f 636f  upported-protoco
+0000d460: 6c73 292e 204e 6f74 652c 2068 6f77 6576  ls). Note, howev
+0000d470: 6572 2c20 7468 6174 2077 6869 6c65 2060  er, that while `
+0000d480: 263a 6020 7769 6c6c 2077 6f72 6b20 616e  &:` will work an
+0000d490: 7977 6865 7265 2c20 6f70 6572 6174 6f72  ywhere, operator
+0000d4a0: 2060 5072 6f74 6f63 6f6c 6073 2077 696c   `Protocol`s wil
+0000d4b0: 6c20 6f6e 6c79 2077 6f72 6b20 696e 7369  l only work insi
+0000d4c0: 6465 2074 7970 6520 616e 6e6f 7461 7469  de type annotati
+0000d4d0: 6f6e 7320 2877 6869 6368 206d 6561 6e73  ons (which means
+0000d4e0: 2c20 666f 7220 6578 616d 706c 652c 2079  , for example, y
+0000d4f0: 6f75 276c 6c20 6e65 6564 2074 6f20 646f  ou'll need to do
+0000d500: 2060 7479 7065 2048 6173 4164 6420 3d20   `type HasAdd = 
+0000d510: 282b 2960 2069 6e73 7465 6164 206f 6620  (+)` instead of 
+0000d520: 6a75 7374 2060 4861 7341 6464 203d 2028  just `HasAdd = (
+0000d530: 2b29 6029 2e0a 0a53 6565 2043 6f63 6f6e  +)`)...See Cocon
+0000d540: 7574 2773 205b 656e 6861 6e63 6564 2074  ut's [enhanced t
+0000d550: 7970 6520 616e 6e6f 7461 7469 6f6e 5d28  ype annotation](
+0000d560: 2365 6e68 616e 6365 642d 7479 7065 2d61  #enhanced-type-a
+0000d570: 6e6e 6f74 6174 696f 6e29 2066 6f72 206d  nnotation) for m
+0000d580: 6f72 6520 696e 666f 726d 6174 696f 6e20  ore information 
+0000d590: 6f6e 2068 6f77 2043 6f63 6f6e 7574 2068  on how Coconut h
+0000d5a0: 616e 646c 6573 2074 7970 6520 616e 6e6f  andles type anno
+0000d5b0: 7461 7469 6f6e 7320 6d6f 7265 2067 656e  tations more gen
+0000d5c0: 6572 616c 6c79 2e0a 0a23 2323 2323 2045  erally...##### E
+0000d5d0: 7861 6d70 6c65 0a0a 2a2a 436f 636f 6e75  xample..**Coconu
+0000d5e0: 743a 2a2a 0a60 6060 636f 636f 6e75 740a  t:**.```coconut.
+0000d5f0: 6672 6f6d 2074 7970 696e 6720 696d 706f  from typing impo
+0000d600: 7274 2050 726f 746f 636f 6c0a 0a63 6c61  rt Protocol..cla
+0000d610: 7373 2058 2850 726f 746f 636f 6c29 3a0a  ss X(Protocol):.
+0000d620: 2020 2020 783a 2073 7472 0a0a 636c 6173      x: str..clas
+0000d630: 7320 5928 5072 6f74 6f63 6f6c 293a 0a20  s Y(Protocol):. 
+0000d640: 2020 2079 3a20 7374 720a 0a64 6566 2066     y: str..def f
+0000d650: 6f6f 2878 793a 2058 2026 3a20 5929 202d  oo(xy: X &: Y) -
+0000d660: 3e20 4e6f 6e65 3a0a 2020 2020 7072 696e  > None:.    prin
+0000d670: 7428 7879 2e78 2c20 7879 2e79 290a 0a74  t(xy.x, xy.y)..t
+0000d680: 7970 6520 4361 6e41 6464 416e 6453 7562  ype CanAddAndSub
+0000d690: 203d 2028 2b29 2026 3a20 282d 290a 6060   = (+) &: (-).``
+0000d6a0: 600a 0a2a 2a50 7974 686f 6e3a 2a2a 0a60  `..**Python:**.`
+0000d6b0: 6060 636f 636f 6e75 745f 7079 7468 6f6e  ``coconut_python
+0000d6c0: 0a66 726f 6d20 7479 7069 6e67 2069 6d70  .from typing imp
+0000d6d0: 6f72 7420 5072 6f74 6f63 6f6c 2c20 5479  ort Protocol, Ty
+0000d6e0: 7065 5661 722c 2047 656e 6572 6963 0a0a  peVar, Generic..
+0000d6f0: 636c 6173 7320 5828 5072 6f74 6f63 6f6c  class X(Protocol
+0000d700: 293a 0a20 2020 2078 3a20 7374 720a 0a63  ):.    x: str..c
+0000d710: 6c61 7373 2059 2850 726f 746f 636f 6c29  lass Y(Protocol)
+0000d720: 3a0a 2020 2020 793a 2073 7472 0a0a 636c  :.    y: str..cl
+0000d730: 6173 7320 5859 2858 2c20 592c 2050 726f  ass XY(X, Y, Pro
+0000d740: 746f 636f 6c29 3a0a 2020 2020 7061 7373  tocol):.    pass
+0000d750: 0a0a 6465 6620 666f 6f28 7879 3a20 5859  ..def foo(xy: XY
+0000d760: 2920 2d3e 204e 6f6e 653a 0a20 2020 2070  ) -> None:.    p
+0000d770: 7269 6e74 2878 792e 782c 2078 792e 7929  rint(xy.x, xy.y)
+0000d780: 0a0a 5420 3d20 5479 7065 5661 7228 2254  ..T = TypeVar("T
+0000d790: 222c 2069 6e66 6572 5f76 6172 6961 6e63  ", infer_varianc
+0000d7a0: 653d 5472 7565 290a 5520 3d20 5479 7065  e=True).U = Type
+0000d7b0: 5661 7228 2255 222c 2069 6e66 6572 5f76  Var("U", infer_v
+0000d7c0: 6172 6961 6e63 653d 5472 7565 290a 5620  ariance=True).V 
+0000d7d0: 3d20 5479 7065 5661 7228 2256 222c 2069  = TypeVar("V", i
+0000d7e0: 6e66 6572 5f76 6172 6961 6e63 653d 5472  nfer_variance=Tr
+0000d7f0: 7565 290a 0a63 6c61 7373 2043 616e 4164  ue)..class CanAd
+0000d800: 6441 6e64 5375 6228 5072 6f74 6f63 6f6c  dAndSub(Protocol
+0000d810: 2c20 4765 6e65 7269 635b 542c 2055 2c20  , Generic[T, U, 
+0000d820: 565d 293a 0a20 2020 2064 6566 205f 5f61  V]):.    def __a
+0000d830: 6464 5f5f 2873 656c 663a 2054 2c20 6f74  dd__(self: T, ot
+0000d840: 6865 723a 2055 2920 2d3e 2056 3a0a 2020  her: U) -> V:.  
+0000d850: 2020 2020 2020 7261 6973 6520 4e6f 7449        raise NotI
+0000d860: 6d70 6c65 6d65 6e74 6564 4572 726f 720a  mplementedError.
+0000d870: 2020 2020 6465 6620 5f5f 7375 625f 5f28      def __sub__(
+0000d880: 7365 6c66 3a20 542c 206f 7468 6572 3a20  self: T, other: 
+0000d890: 5529 202d 3e20 563a 0a20 2020 2020 2020  U) -> V:.       
+0000d8a0: 2072 6169 7365 204e 6f74 496d 706c 656d   raise NotImplem
+0000d8b0: 656e 7465 6445 7272 6f72 0a20 2020 2064  entedError.    d
+0000d8c0: 6566 205f 5f6e 6567 5f5f 2873 656c 663a  ef __neg__(self:
+0000d8d0: 2054 2920 2d3e 2056 3a0a 2020 2020 2020   T) -> V:.      
+0000d8e0: 2020 7261 6973 6520 4e6f 7449 6d70 6c65    raise NotImple
+0000d8f0: 6d65 6e74 6564 4572 726f 720a 6060 600a  mentedError.```.
+0000d900: 0a23 2323 2055 6e69 636f 6465 2041 6c74  .### Unicode Alt
+0000d910: 6572 6e61 7469 7665 730a 0a43 6f63 6f6e  ernatives..Cocon
+0000d920: 7574 2073 7570 706f 7274 7320 556e 6963  ut supports Unic
+0000d930: 6f64 6520 616c 7465 726e 6174 6976 6573  ode alternatives
+0000d940: 2074 6f20 6d61 6e79 2064 6966 6665 7265   to many differe
+0000d950: 6e74 206f 7065 7261 746f 7220 7379 6d62  nt operator symb
+0000d960: 6f6c 732e 2054 6865 2055 6e69 636f 6465  ols. The Unicode
+0000d970: 2061 6c74 6572 6e61 7469 7665 7320 6172   alternatives ar
+0000d980: 6520 7265 6c61 7469 7665 6c79 2073 7472  e relatively str
+0000d990: 6169 6768 7466 6f72 7761 7264 2c20 616e  aightforward, an
+0000d9a0: 6420 6368 6f73 656e 2074 6f20 7265 666c  d chosen to refl
+0000d9b0: 6563 7420 7468 6520 6c6f 6f6b 2061 6e64  ect the look and
+0000d9c0: 2f6f 7220 6d65 616e 696e 6720 6f66 2074  /or meaning of t
+0000d9d0: 6865 206f 7269 6769 6e61 6c20 7379 6d62  he original symb
+0000d9e0: 6f6c 2e0a 0a5f 4e6f 7465 3a20 7468 6573  ol..._Note: thes
+0000d9f0: 6520 6172 6520 6f6e 6c79 2074 6865 2064  e are only the d
+0000da00: 6566 6175 6c74 2c20 6275 696c 742d 696e  efault, built-in
+0000da10: 2075 6e69 636f 6465 206f 7065 7261 746f   unicode operato
+0000da20: 7273 2e20 436f 636f 6e75 7420 7375 7070  rs. Coconut supp
+0000da30: 6f72 7473 205b 6375 7374 6f6d 206f 7065  orts [custom ope
+0000da40: 7261 746f 7220 6465 6669 6e69 7469 6f6e  rator definition
+0000da50: 5d28 2363 7573 746f 6d2d 6f70 6572 6174  ](#custom-operat
+0000da60: 6f72 7329 2074 6f20 6465 6669 6e65 2079  ors) to define y
+0000da70: 6f75 7220 6f77 6e2e 5f0a 0a23 2323 2323  our own._..#####
+0000da80: 2046 756c 6c20 4c69 7374 0a0a 6060 600a   Full List..```.
+0000da90: e286 9220 285c 7532 3139 3229 2020 2020  ... (\u2192)    
+0000daa0: 2020 2020 2020 2020 2020 2020 2020 3d3e                =>
+0000dab0: 2022 2d3e 220a c397 2028 5c78 6437 2920   "->"... (\xd7) 
+0000dac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000dad0: 2020 203d 3e20 222a 2220 286f 6e6c 7920     => "*" (only 
+0000dae0: 6d75 6c74 6970 6c69 6361 7469 6f6e 290a  multiplication).
+0000daf0: e286 9120 285c 7532 3139 3129 2020 2020  ... (\u2191)    
+0000db00: 2020 2020 2020 2020 2020 2020 2020 3d3e                =>
+0000db10: 2022 2a2a 2220 286f 6e6c 7920 6578 706f   "**" (only expo
+0000db20: 6e65 6e74 6961 7469 6f6e 290a c3b7 2028  nentiation)... (
+0000db30: 5c78 6637 2920 2020 2020 2020 2020 2020  \xf7)           
+0000db40: 2020 2020 2020 2020 203d 3e20 222f 2220           => "/" 
+0000db50: 286f 6e6c 7920 6469 7669 7369 6f6e 290a  (only division).
+0000db60: c3b7 2f20 285c 7866 372f 2920 2020 2020  ../ (\xf7/)     
+0000db70: 2020 2020 2020 2020 2020 2020 203d 3e20               => 
+0000db80: 222f 2f22 0ae2 81bb 2028 5c75 3230 3762  "//".... (\u207b
+0000db90: 2920 2020 2020 2020 2020 2020 2020 2020  )               
+0000dba0: 2020 203d 3e20 222d 2220 286f 6e6c 7920     => "-" (only 
+0000dbb0: 6e65 6761 7469 6f6e 290a e289 a020 285c  negation).... (\
+0000dbc0: 7532 3236 3029 206f 7220 c2ac 3d20 285c  u2260) or ..= (\
+0000dbd0: 7861 633d 2920 2020 203d 3e20 2221 3d22  xac=)    => "!="
+0000dbe0: 0ae2 89a4 2028 5c75 3232 3634 2920 6f72  .... (\u2264) or
+0000dbf0: 20e2 8a86 2028 5c75 3232 3836 2920 2020   ... (\u2286)   
+0000dc00: 203d 3e20 223c 3d22 0ae2 89a5 2028 5c75   => "<=".... (\u
+0000dc10: 3232 3635 2920 6f72 20e2 8a87 2028 5c75  2265) or ... (\u
+0000dc20: 3232 3837 2920 2020 203d 3e20 223e 3d22  2287)    => ">="
+0000dc30: 0ae2 8a8a 2028 5c75 3232 3861 2920 2020  .... (\u228a)   
+0000dc40: 2020 2020 2020 2020 2020 2020 2020 203d                 =
+0000dc50: 3e20 223c 220a e28a 8b20 285c 7532 3238  > "<".... (\u228
+0000dc60: 6229 2020 2020 2020 2020 2020 2020 2020  b)              
+0000dc70: 2020 2020 3d3e 2022 3e22 0ae2 88a7 2028      => ">".... (
+0000dc80: 5c75 3232 3237 2920 6f72 20e2 88a9 2028  \u2227) or ... (
+0000dc90: 5c75 3232 3239 2920 2020 203d 3e20 2226  \u2229)    => "&
+0000dca0: 220a e288 a820 285c 7532 3232 3829 206f  ".... (\u2228) o
+0000dcb0: 7220 e288 aa20 285c 7532 3232 6129 2020  r ... (\u222a)  
+0000dcc0: 2020 3d3e 2022 7c22 0ae2 8abb 2028 5c75    => "|".... (\u
+0000dcd0: 3232 6262 2920 2020 2020 2020 2020 2020  22bb)           
+0000dce0: 2020 2020 2020 203d 3e20 225e 220a c2ab         => "^"...
+0000dcf0: 2028 5c78 6162 2920 2020 2020 2020 2020   (\xab)         
+0000dd00: 2020 2020 2020 2020 2020 203d 3e20 223c             => "<
+0000dd10: 3c22 0ac2 bb20 285c 7862 6229 2020 2020  <"... (\xbb)    
+0000dd20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000dd30: 3d3e 2022 3e3e 220a e280 a620 285c 7532  => ">>".... (\u2
+0000dd40: 3032 3629 2020 2020 2020 2020 2020 2020  026)            
+0000dd50: 2020 2020 2020 3d3e 2022 2e2e 2e22 0ace        => "..."..
+0000dd60: bb20 285c 7530 3362 6229 2020 2020 2020  . (\u03bb)      
+0000dd70: 2020 2020 2020 2020 2020 2020 3d3e 2022              => "
+0000dd80: 6c61 6d62 6461 220a e286 a620 285c 7532  lambda".... (\u2
+0000dd90: 3161 3629 2020 2020 2020 2020 2020 2020  1a6)            
+0000dda0: 2020 2020 2020 3d3e 2022 7c3e 220a e286        => "|>"...
+0000ddb0: a420 285c 7532 3161 3429 2020 2020 2020  . (\u21a4)      
+0000ddc0: 2020 2020 2020 2020 2020 2020 3d3e 2022              => "
+0000ddd0: 3c7c 220a 2ae2 86a6 2028 2a5c 7532 3161  <|".*... (*\u21a
+0000dde0: 3629 2020 2020 2020 2020 2020 2020 2020  6)              
+0000ddf0: 2020 3d3e 2022 7c2a 3e22 0ae2 86a4 2a20    => "|*>"....* 
+0000de00: 285c 7532 3161 342a 2920 2020 2020 2020  (\u21a4*)       
+0000de10: 2020 2020 2020 2020 203d 3e20 223c 2a7c           => "<*|
+0000de20: 220a 2a2a e286 a620 282a 2a5c 7532 3161  ".**... (**\u21a
+0000de30: 3629 2020 2020 2020 2020 2020 2020 2020  6)              
+0000de40: 3d3e 2022 7c2a 2a3e 220a e286 a42a 2a20  => "|**>"....** 
+0000de50: 285c 7532 3161 342a 2a29 2020 2020 2020  (\u21a4**)      
+0000de60: 2020 2020 2020 2020 3d3e 2022 3c2a 2a7c          => "<**|
+0000de70: 220a 3fe2 86a6 2028 3f5c 7532 3161 3629  ".?... (?\u21a6)
+0000de80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000de90: 3d3e 2022 7c3f 3e22 0ae2 86a4 3f20 283f  => "|?>"....? (?
+0000dea0: 5c75 3231 6134 2920 2020 2020 2020 2020  \u21a4)         
+0000deb0: 2020 2020 2020 203d 3e20 223c 3f7c 220a         => "<?|".
+0000dec0: 3f2a e286 a620 283f 2a5c 7532 3161 3629  ?*... (?*\u21a6)
+0000ded0: 2020 2020 2020 2020 2020 2020 2020 3d3e                =>
+0000dee0: 2022 7c3f 2a3e 220a e286 a42a 3f20 285c   "|?*>"....*? (\
+0000def0: 7532 3161 342a 3f29 2020 2020 2020 2020  u21a4*?)        
+0000df00: 2020 2020 2020 3d3e 2022 3c2a 3f7c 220a        => "<*?|".
+0000df10: 3f2a 2ae2 86a6 2028 3f2a 2a5c 7532 3161  ?**... (?**\u21a
+0000df20: 3629 2020 2020 2020 2020 2020 2020 3d3e  6)            =>
+0000df30: 2022 7c3f 2a2a 3e22 0ae2 86a4 2a2a 3f20   "|?**>"....**? 
+0000df40: 285c 7532 3161 342a 2a3f 2920 2020 2020  (\u21a4**?)     
+0000df50: 2020 2020 2020 203d 3e20 223c 2a2a 3f7c         => "<**?|
+0000df60: 220a e288 9820 285c 7532 3231 3829 2020  ".... (\u2218)  
+0000df70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000df80: 3d3e 2022 2e2e 220a e288 983e 2028 5c75  => ".."....> (\u
+0000df90: 3232 3138 3e29 2020 2020 2020 2020 2020  2218>)          
+0000dfa0: 2020 2020 2020 3d3e 2022 2e2e 3e22 0a3c        => "..>".<
+0000dfb0: e288 9820 283c 5c75 3232 3138 2920 2020  ... (<\u2218)   
+0000dfc0: 2020 2020 2020 2020 2020 2020 203d 3e20               => 
+0000dfd0: 223c 2e2e 220a e288 982a 3e20 285c 7532  "<.."....*> (\u2
+0000dfe0: 3231 382a 3e29 2020 2020 2020 2020 2020  218*>)          
+0000dff0: 2020 2020 3d3e 2022 2e2e 2a3e 220a 3c2a      => "..*>".<*
+0000e000: e288 9820 283c 2a5c 7532 3231 3829 2020  ... (<*\u2218)  
+0000e010: 2020 2020 2020 2020 2020 2020 3d3e 2022              => "
+0000e020: 3c2a 2e2e 220a e288 982a 2a3e 2028 5c75  <*.."....**> (\u
+0000e030: 3232 3138 2a2a 3e29 2020 2020 2020 2020  2218**>)        
+0000e040: 2020 2020 3d3e 2022 2e2e 2a2a 3e22 0a3c      => "..**>".<
+0000e050: 2a2a e288 9820 283c 2a2a 5c75 3232 3138  **... (<**\u2218
+0000e060: 2920 2020 2020 2020 2020 2020 203d 3e20  )            => 
+0000e070: 223c 2a2a 2e2e 220a e288 983f 3e20 285c  "<**.."....?> (\
+0000e080: 7532 3231 383f 3e29 2020 2020 2020 2020  u2218?>)        
+0000e090: 2020 2020 2020 3d3e 2022 2e2e 3f3e 220a        => "..?>".
+0000e0a0: 3c3f e288 9820 283c 3f5c 7532 3231 3829  <?... (<?\u2218)
+0000e0b0: 2020 2020 2020 2020 2020 2020 2020 3d3e                =>
+0000e0c0: 2022 3c3f 2e2e 220a e288 983f 2a3e 2028   "<?.."....?*> (
+0000e0d0: 5c75 3232 3138 3f2a 3e29 2020 2020 2020  \u2218?*>)      
+0000e0e0: 2020 2020 2020 3d3e 2022 2e2e 3f2a 3e22        => "..?*>"
+0000e0f0: 0a3c 2a3f e288 9820 283c 2a3f 5c75 3232  .<*?... (<*?\u22
+0000e100: 3138 2920 2020 2020 2020 2020 2020 203d  18)            =
+0000e110: 3e20 223c 2a3f 2e2e 220a e288 983f 2a2a  > "<*?.."....?**
+0000e120: 3e20 285c 7532 3231 383f 2a2a 3e29 2020  > (\u2218?**>)  
+0000e130: 2020 2020 2020 2020 3d3e 2022 2e2e 3f2a          => "..?*
+0000e140: 2a3e 220a 3c2a 2a3f e288 9820 283c 2a2a  *>".<**?... (<**
+0000e150: 3f5c 7532 3231 3829 2020 2020 2020 2020  ?\u2218)        
+0000e160: 2020 3d3e 2022 3c2a 2a3f 2e2e 220a 6060    => "<**?..".``
+0000e170: 600a 0a23 2320 4b65 7977 6f72 6473 0a0a  `..## Keywords..
+0000e180: 6060 607b 636f 6e74 656e 7473 7d0a 2d2d  ```{contents}.--
+0000e190: 2d0a 6c6f 6361 6c3a 0a64 6570 7468 3a20  -.local:.depth: 
+0000e1a0: 310a 2d2d 2d0a 6060 600a 0a23 2323 2060  1.---.```..### `
+0000e1b0: 6d61 7463 6860 0a0a 436f 636f 6e75 7420  match`..Coconut 
+0000e1c0: 7072 6f76 6964 6573 2066 756c 6c79 2d66  provides fully-f
+0000e1d0: 6561 7475 7265 642c 2066 756e 6374 696f  eatured, functio
+0000e1e0: 6e61 6c20 7061 7474 6572 6e2d 6d61 7463  nal pattern-matc
+0000e1f0: 6869 6e67 2074 6872 6f75 6768 2069 7473  hing through its
+0000e200: 2060 6d61 7463 6860 2073 7461 7465 6d65   `match` stateme
+0000e210: 6e74 732e 0a0a 2323 2323 2320 4f76 6572  nts...##### Over
+0000e220: 7669 6577 0a0a 4d61 7463 6820 7374 6174  view..Match stat
+0000e230: 656d 656e 7473 2066 6f6c 6c6f 7720 7468  ements follow th
+0000e240: 6520 6261 7369 6320 7379 6e74 6178 2060  e basic syntax `
+0000e250: 6d61 7463 6820 3c70 6174 7465 726e 3e20  match <pattern> 
+0000e260: 696e 203c 7661 6c75 653e 602e 2054 6865  in <value>`. The
+0000e270: 206d 6174 6368 2073 7461 7465 6d65 6e74   match statement
+0000e280: 2077 696c 6c20 6174 7465 6d70 7420 746f   will attempt to
+0000e290: 206d 6174 6368 2074 6865 2076 616c 7565   match the value
+0000e2a0: 2061 6761 696e 7374 2074 6865 2070 6174   against the pat
+0000e2b0: 7465 726e 2c20 616e 6420 6966 2073 7563  tern, and if suc
+0000e2c0: 6365 7373 6675 6c2c 2062 696e 6420 616e  cessful, bind an
+0000e2d0: 7920 7661 7269 6162 6c65 7320 696e 2074  y variables in t
+0000e2e0: 6865 2070 6174 7465 726e 2074 6f20 7768  he pattern to wh
+0000e2f0: 6174 6576 6572 2069 7320 696e 2074 6865  atever is in the
+0000e300: 2073 616d 6520 706f 7369 7469 6f6e 2069   same position i
+0000e310: 6e20 7468 6520 7661 6c75 652c 2061 6e64  n the value, and
+0000e320: 2065 7865 6375 7465 2074 6865 2063 6f64   execute the cod
+0000e330: 6520 6265 6c6f 7720 7468 6520 6d61 7463  e below the matc
+0000e340: 6820 7374 6174 656d 656e 742e 204d 6174  h statement. Mat
+0000e350: 6368 2073 7461 7465 6d65 6e74 7320 616c  ch statements al
+0000e360: 736f 2073 7570 706f 7274 2c20 696e 2074  so support, in t
+0000e370: 6865 6972 2062 6173 6963 2073 796e 7461  heir basic synta
+0000e380: 782c 2061 6e20 6069 6620 3c63 6f6e 643e  x, an `if <cond>
+0000e390: 6020 7468 6174 2077 696c 6c20 6368 6563  ` that will chec
+0000e3a0: 6b20 7468 6520 636f 6e64 6974 696f 6e20  k the condition 
+0000e3b0: 6166 7465 7220 6578 6563 7574 696e 6720  after executing 
+0000e3c0: 7468 6520 6d61 7463 6820 6265 666f 7265  the match before
+0000e3d0: 2065 7865 6375 7469 6e67 2074 6865 2063   executing the c
+0000e3e0: 6f64 6520 6265 6c6f 772c 2061 6e64 2061  ode below, and a
+0000e3f0: 6e20 6065 6c73 6560 2073 7461 7465 6d65  n `else` stateme
+0000e400: 6e74 2061 6674 6572 7761 7264 7320 7468  nt afterwards th
+0000e410: 6174 2077 696c 6c20 6f6e 6c79 2062 6520  at will only be 
+0000e420: 6578 6563 7574 6564 2069 6620 7468 6520  executed if the 
+0000e430: 606d 6174 6368 6020 7374 6174 656d 656e  `match` statemen
+0000e440: 7420 6973 206e 6f74 2e20 5768 6174 2069  t is not. What i
+0000e450: 7320 616c 6c6f 7765 6420 696e 2074 6865  s allowed in the
+0000e460: 206d 6174 6368 2073 7461 7465 6d65 6e74   match statement
+0000e470: 2773 2070 6174 7465 726e 2068 6173 206e  's pattern has n
+0000e480: 6f20 6571 7569 7661 6c65 6e74 2069 6e20  o equivalent in 
+0000e490: 5079 7468 6f6e 2c20 616e 6420 7468 7573  Python, and thus
+0000e4a0: 2074 6865 2073 7065 6369 6669 6361 7469   the specificati
+0000e4b0: 6f6e 7320 6265 6c6f 7720 6172 6520 7072  ons below are pr
+0000e4c0: 6f76 6964 6564 2074 6f20 6578 706c 6169  ovided to explai
+0000e4d0: 6e20 6974 2e0a 0a23 2323 2323 2053 796e  n it...##### Syn
+0000e4e0: 7461 7820 5370 6563 6966 6963 6174 696f  tax Specificatio
+0000e4f0: 6e0a 0a43 6f63 6f6e 7574 206d 6174 6368  n..Coconut match
+0000e500: 2073 7461 7465 6d65 6e74 2073 796e 7461   statement synta
+0000e510: 7820 6973 0a60 6060 636f 636f 6e75 740a  x is.```coconut.
+0000e520: 6d61 7463 6820 3c70 6174 7465 726e 3e20  match <pattern> 
+0000e530: 5b6e 6f74 5d20 696e 203c 7661 6c75 653e  [not] in <value>
+0000e540: 205b 6966 203c 636f 6e64 3e5d 3a0a 2020   [if <cond>]:.  
+0000e550: 2020 3c62 6f64 793e 0a5b 656c 7365 3a0a    <body>.[else:.
+0000e560: 2020 2020 3c62 6f64 793e 5d0a 6060 600a      <body>].```.
+0000e570: 7768 6572 6520 603c 7661 6c75 653e 6020  where `<value>` 
+0000e580: 6973 2074 6865 2069 7465 6d20 746f 206d  is the item to m
+0000e590: 6174 6368 2061 6761 696e 7374 2c20 603c  atch against, `<
+0000e5a0: 636f 6e64 3e60 2069 7320 616e 206f 7074  cond>` is an opt
+0000e5b0: 696f 6e61 6c20 6164 6469 7469 6f6e 616c  ional additional
+0000e5c0: 2063 6865 636b 2c20 616e 6420 603c 626f   check, and `<bo
+0000e5d0: 6479 3e60 2069 7320 7369 6d70 6c79 2063  dy>` is simply c
+0000e5e0: 6f64 6520 7468 6174 2069 7320 6578 6563  ode that is exec
+0000e5f0: 7574 6564 2069 6620 7468 6520 6865 6164  uted if the head
+0000e600: 6572 2061 626f 7665 2069 7420 7375 6363  er above it succ
+0000e610: 6565 6473 2e20 603c 7061 7474 6572 6e3e  eeds. `<pattern>
+0000e620: 6020 666f 6c6c 6f77 7320 6974 7320 6f77  ` follows its ow
+0000e630: 6e2c 2073 7065 6369 616c 2073 796e 7461  n, special synta
+0000e640: 782c 2064 6566 696e 6564 2072 6f75 6768  x, defined rough
+0000e650: 6c79 2061 7320 6265 6c6f 772e 2049 6e20  ly as below. In 
+0000e660: 7468 6520 7379 6e74 6178 2073 7065 6369  the syntax speci
+0000e670: 6669 6361 7469 6f6e 2062 656c 6f77 2c20  fication below, 
+0000e680: 6272 6163 6b65 7473 2064 656e 6f74 6520  brackets denote 
+0000e690: 6f70 7469 6f6e 616c 2073 796e 7461 7820  optional syntax 
+0000e6a0: 616e 6420 7061 7265 6e74 6865 7365 7320  and parentheses 
+0000e6b0: 666f 6c6c 6f77 6564 2062 7920 6120 602a  followed by a `*
+0000e6c0: 6020 6465 6e6f 7465 2074 6861 7420 7468  ` denote that th
+0000e6d0: 6520 7379 6e74 6178 206d 6179 2061 7070  e syntax may app
+0000e6e0: 6561 7220 7a65 726f 206f 7220 6d6f 7265  ear zero or more
+0000e6f0: 2074 696d 6573 2e0a 0a60 6060 636f 636f   times...```coco
+0000e700: 6e75 740a 7061 7474 6572 6e20 3a3a 3d20  nut.pattern ::= 
+0000e710: 616e 645f 7061 7474 6572 6e20 2822 6f72  and_pattern ("or
+0000e720: 2220 616e 645f 7061 7474 6572 6e29 2a20  " and_pattern)* 
+0000e730: 2023 206d 6174 6368 2061 6e79 0a0a 616e   # match any..an
+0000e740: 645f 7061 7474 6572 6e20 3a3a 3d20 6173  d_pattern ::= as
+0000e750: 5f70 6174 7465 726e 2028 2261 6e64 2220  _pattern ("and" 
+0000e760: 6173 5f70 6174 7465 726e 292a 2020 2320  as_pattern)*  # 
+0000e770: 6d61 7463 6820 616c 6c0a 0a61 735f 7061  match all..as_pa
+0000e780: 7474 6572 6e20 3a3a 3d20 696e 6669 785f  ttern ::= infix_
+0000e790: 7061 7474 6572 6e20 2822 6173 2220 6e61  pattern ("as" na
+0000e7a0: 6d65 292a 2020 2320 6578 706c 6963 6974  me)*  # explicit
+0000e7b0: 2062 696e 6469 6e67 0a0a 696e 6669 785f   binding..infix_
+0000e7c0: 7061 7474 6572 6e20 3a3a 3d20 6261 725f  pattern ::= bar_
+0000e7d0: 6f72 5f70 6174 7465 726e 2028 2260 2220  or_pattern ("`" 
+0000e7e0: 4558 5052 2022 6022 205b 4558 5052 5d29  EXPR "`" [EXPR])
+0000e7f0: 2a20 2023 2069 6e66 6978 2063 6865 636b  *  # infix check
+0000e800: 0a0a 6261 725f 6f72 5f70 6174 7465 726e  ..bar_or_pattern
+0000e810: 203a 3a3d 2070 6174 7465 726e 2028 227c   ::= pattern ("|
+0000e820: 2220 7061 7474 6572 6e29 2a20 2023 206d  " pattern)*  # m
+0000e830: 6174 6368 2061 6e79 0a0a 6261 7365 5f70  atch any..base_p
+0000e840: 6174 7465 726e 203a 3a3d 2028 0a20 2020  attern ::= (.   
+0000e850: 2022 2822 2070 6174 7465 726e 2022 2922   "(" pattern ")"
+0000e860: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e870: 2020 2320 7061 7265 6e74 6865 7365 730a    # parentheses.
+0000e880: 2020 2020 7c20 224e 6f6e 6522 207c 2022      | "None" | "
+0000e890: 5472 7565 2220 7c20 2246 616c 7365 2220  True" | "False" 
+0000e8a0: 2020 2020 2023 2063 6f6e 7374 616e 7473       # constants
+0000e8b0: 0a20 2020 207c 204e 554d 4245 5220 2020  .    | NUMBER   
+0000e8c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e8d0: 2020 2020 2020 2320 6e75 6d62 6572 730a        # numbers.
+0000e8e0: 2020 2020 7c20 5354 5249 4e47 2020 2020      | STRING    
+0000e8f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e900: 2020 2020 2023 2073 7472 696e 6773 0a20       # strings. 
+0000e910: 2020 207c 205b 2261 7322 5d20 4e41 4d45     | ["as"] NAME
+0000e920: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e930: 2020 2020 2320 7661 7269 6162 6c65 2062      # variable b
+0000e940: 696e 6469 6e67 0a20 2020 207c 2022 3d3d  inding.    | "==
+0000e950: 2220 4558 5052 2020 2020 2020 2020 2020  " EXPR          
+0000e960: 2020 2020 2020 2020 2020 2020 2320 6571              # eq
+0000e970: 7561 6c69 7479 2063 6865 636b 0a20 2020  uality check.   
+0000e980: 207c 2022 6973 2220 4558 5052 2020 2020   | "is" EXPR    
+0000e990: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e9a0: 2020 2320 6964 656e 7469 7479 2063 6865    # identity che
+0000e9b0: 636b 0a20 2020 207c 2044 4f54 5445 445f  ck.    | DOTTED_
+0000e9c0: 4e41 4d45 2020 2020 2020 2020 2020 2020  NAME            
+0000e9d0: 2020 2020 2020 2020 2320 696d 706c 6963          # implic
+0000e9e0: 6974 2065 7175 616c 6974 7920 6368 6563  it equality chec
+0000e9f0: 6b20 2864 6973 6162 6c65 6420 696e 2064  k (disabled in d
+0000ea00: 6573 7472 7563 7475 7269 6e67 2061 7373  estructuring ass
+0000ea10: 6967 6e6d 656e 7429 0a20 2020 207c 204e  ignment).    | N
+0000ea20: 414d 4520 2228 2220 7061 7474 6572 6e73  AME "(" patterns
+0000ea30: 2022 2922 2020 2020 2020 2020 2020 2320   ")"          # 
+0000ea40: 636c 6173 7365 7320 6f72 2064 6174 6120  classes or data 
+0000ea50: 7479 7065 730a 2020 2020 7c20 2264 6174  types.    | "dat
+0000ea60: 6122 204e 414d 4520 2228 2220 7061 7474  a" NAME "(" patt
+0000ea70: 6572 6e73 2022 2922 2020 2023 2064 6174  erns ")"   # dat
+0000ea80: 6120 7479 7065 730a 2020 2020 7c20 2263  a types.    | "c
+0000ea90: 6c61 7373 2220 4e41 4d45 2022 2822 2070  lass" NAME "(" p
+0000eaa0: 6174 7465 726e 7320 2229 2220 2023 2063  atterns ")"  # c
+0000eab0: 6c61 7373 6573 0a20 2020 207c 2022 7b22  lasses.    | "{"
+0000eac0: 2070 6174 7465 726e 5f70 6169 7273 2020   pattern_pairs  
+0000ead0: 2020 2020 2020 2020 2020 2020 2320 6469              # di
+0000eae0: 6374 696f 6e61 7269 6573 0a20 2020 2020  ctionaries.     
+0000eaf0: 2020 205b 222c 2220 222a 2a22 2028 4e41     ["," "**" (NA
+0000eb00: 4d45 207c 2022 7b7d 2229 5d20 227d 2220  ME | "{}")] "}" 
+0000eb10: 2320 2028 6b65 7973 206d 7573 7420 6265  #  (keys must be
+0000eb20: 2063 6f6e 7374 616e 7473 206f 7220 6571   constants or eq
+0000eb30: 7561 6c69 7479 2063 6865 636b 7329 0a20  uality checks). 
+0000eb40: 2020 207c 205b 2273 2220 7c20 2266 2220     | ["s" | "f" 
+0000eb50: 7c20 226d 225d 2022 7b22 0a20 2020 2020  | "m"] "{".     
+0000eb60: 2020 2070 6174 7465 726e 5f63 6f6e 7374     pattern_const
+0000eb70: 730a 2020 2020 2020 2020 5b22 2c22 2028  s.        ["," (
+0000eb80: 222a 5f22 207c 2022 2a28 2922 295d 0a20  "*_" | "*()")]. 
+0000eb90: 2020 2020 2022 7d22 2020 2020 2020 2020       "}"        
+0000eba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ebb0: 2020 2020 2320 7365 7473 0a20 2020 207c      # sets.    |
+0000ebc0: 2028 4558 5052 2920 2d3e 2070 6174 7465   (EXPR) -> patte
+0000ebd0: 726e 2020 2020 2020 2020 2020 2020 2020  rn              
+0000ebe0: 2320 7669 6577 2070 6174 7465 726e 730a  # view patterns.
+0000ebf0: 2020 2020 7c20 2228 2220 7061 7474 6572      | "(" patter
+0000ec00: 6e73 2022 2922 2020 2020 2020 2020 2020  ns ")"          
+0000ec10: 2020 2020 2023 2073 6571 7565 6e63 6573       # sequences
+0000ec20: 2063 616e 2062 6520 696e 2074 7570 6c65   can be in tuple
+0000ec30: 2066 6f72 6d0a 2020 2020 7c20 225b 2220   form.    | "[" 
+0000ec40: 7061 7474 6572 6e73 2022 5d22 2020 2020  patterns "]"    
+0000ec50: 2020 2020 2020 2020 2020 2023 2020 6f72             #  or
+0000ec60: 2069 6e20 6c69 7374 2066 6f72 6d0a 2020   in list form.  
+0000ec70: 2020 7c20 2228 7c22 2070 6174 7465 726e    | "(|" pattern
+0000ec80: 7320 227c 2922 2020 2020 2020 2020 2020  s "|)"          
+0000ec90: 2020 2023 206c 617a 7920 6c69 7374 730a     # lazy lists.
+0000eca0: 2020 2020 7c20 2822 2822 207c 2022 5b22      | ("(" | "["
+0000ecb0: 2920 2020 2020 2020 2020 2020 2020 2020  )               
+0000ecc0: 2020 2020 2023 2073 7461 7220 7370 6c69       # star spli
+0000ecd0: 7473 0a20 2020 2020 2020 205b 7061 7474  ts.        [patt
+0000ece0: 6572 6e73 2022 2c22 5d0a 2020 2020 2020  erns ","].      
+0000ecf0: 2020 222a 2220 7061 7474 6572 6e0a 2020    "*" pattern.  
+0000ed00: 2020 2020 2020 5b22 2c22 2070 6174 7465        ["," patte
+0000ed10: 726e 735d 0a20 2020 2020 2020 205b 222a  rns].        ["*
+0000ed20: 2220 7061 7474 6572 6e0a 2020 2020 2020  " pattern.      
+0000ed30: 2020 5b22 2c22 2070 6174 7465 726e 735d    ["," patterns]
+0000ed40: 5d0a 2020 2020 2020 2822 2922 207c 2022  ].      (")" | "
+0000ed50: 5d22 290a 2020 2020 7c20 5b28 2020 2020  ]").    | [(    
+0000ed60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ed70: 2020 2020 2020 2020 2023 2073 6571 7565           # seque
+0000ed80: 6e63 6520 7370 6c69 7473 0a20 2020 2020  nce splits.     
+0000ed90: 2020 2022 2822 2070 6174 7465 726e 7320     "(" patterns 
+0000eda0: 2229 220a 2020 2020 2020 2020 7c20 225b  ")".        | "[
+0000edb0: 2220 7061 7474 6572 6e73 2022 5d22 0a20  " patterns "]". 
+0000edc0: 2020 2020 2029 2022 2b22 5d20 4e41 4d45       ) "+"] NAME
+0000edd0: 205b 222b 2220 280a 2020 2020 2020 2020   ["+" (.        
+0000ede0: 2228 2220 7061 7474 6572 6e73 2022 2922  "(" patterns ")"
+0000edf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ee00: 2023 2074 6869 7320 6d61 7463 6820 6d75   # this match mu
+0000ee10: 7374 2062 6520 7468 6520 7361 6d65 0a20  st be the same. 
+0000ee20: 2020 2020 2020 207c 2022 5b22 2070 6174         | "[" pat
+0000ee30: 7465 726e 7320 225d 2220 2020 2020 2020  terns "]"       
+0000ee40: 2020 2020 2020 2020 2320 2063 6f6e 7374          #  const
+0000ee50: 7275 6374 2061 7320 7468 6520 6669 7273  ruct as the firs
+0000ee60: 7420 6d61 7463 680a 2020 2020 2020 295d  t match.      )]
+0000ee70: 205b 222b 2220 4e41 4d45 205b 222b 2220   ["+" NAME ["+" 
+0000ee80: 280a 2020 2020 2020 2020 2228 2220 7061  (.        "(" pa
+0000ee90: 7474 6572 6e73 2022 2922 2020 2020 2020  tterns ")"      
+0000eea0: 2020 2020 2020 2020 2020 2023 2061 6e64             # and
+0000eeb0: 2073 616d 6520 6865 7265 0a20 2020 2020   same here.     
+0000eec0: 2020 207c 2022 5b22 2070 6174 7465 726e     | "[" pattern
+0000eed0: 7320 225d 220a 2020 2020 2020 295d 5d0a  s "]".      )]].
+0000eee0: 2020 2020 7c20 5b28 2020 2020 2020 2020      | [(        
+0000eef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ef00: 2020 2020 2023 2069 7465 7261 626c 6520       # iterable 
+0000ef10: 7370 6c69 7473 0a20 2020 2020 2020 2022  splits.        "
+0000ef20: 2822 2070 6174 7465 726e 7320 2229 220a  (" patterns ")".
+0000ef30: 2020 2020 2020 2020 7c20 225b 2220 7061          | "[" pa
+0000ef40: 7474 6572 6e73 2022 5d22 0a20 2020 2020  tterns "]".     
+0000ef50: 2020 207c 2022 287c 2220 7061 7474 6572     | "(|" patter
+0000ef60: 6e73 2022 7c29 220a 2020 2020 2020 2920  ns "|)".      ) 
+0000ef70: 223a 3a22 5d20 4e41 4d45 205b 223a 3a22  "::"] NAME ["::"
+0000ef80: 2028 0a20 2020 2020 2020 2022 2822 2070   (.        "(" p
+0000ef90: 6174 7465 726e 7320 2229 220a 2020 2020  atterns ")".    
+0000efa0: 2020 2020 7c20 225b 2220 7061 7474 6572      | "[" patter
+0000efb0: 6e73 2022 5d22 0a20 2020 2020 2020 207c  ns "]".        |
+0000efc0: 2022 287c 2220 7061 7474 6572 6e73 2022   "(|" patterns "
+0000efd0: 7c29 220a 2020 2020 2020 295d 205b 2022  |)".      )] [ "
+0000efe0: 3a3a 2220 4e41 4d45 205b 0a20 2020 2020  ::" NAME [.     
+0000eff0: 2020 2022 2822 2070 6174 7465 726e 7320     "(" patterns 
+0000f000: 2229 220a 2020 2020 2020 2020 7c20 225b  ")".        | "[
+0000f010: 2220 7061 7474 6572 6e73 2022 5d22 0a20  " patterns "]". 
+0000f020: 2020 2020 2020 207c 2022 287c 2220 7061         | "(|" pa
+0000f030: 7474 6572 6e73 2022 7c29 220a 2020 2020  tterns "|)".    
+0000f040: 2020 5d5d 0a20 2020 207c 205b 5354 5249    ]].    | [STRI
+0000f050: 4e47 2022 2b22 5d20 4e41 4d45 2020 2020  NG "+"] NAME    
+0000f060: 2020 2020 2020 2020 2020 2320 636f 6d70            # comp
+0000f070: 6c65 7820 7374 7269 6e67 206d 6174 6368  lex string match
+0000f080: 696e 670a 2020 2020 2020 2020 5b22 2b22  ing.        ["+"
+0000f090: 2053 5452 494e 475d 0a20 2020 2020 2020   STRING].       
+0000f0a0: 205b 222b 2220 4e41 4d45 205b 222b 2220   ["+" NAME ["+" 
+0000f0b0: 5354 5249 4e47 5d5d 0a29 0a60 6060 0a0a  STRING]].).```..
+0000f0c0: 2323 2323 2320 5365 6d61 6e74 6963 7320  ##### Semantics 
+0000f0d0: 5370 6563 6966 6963 6174 696f 6e0a 0a60  Specification..`
+0000f0e0: 6d61 7463 6860 2073 7461 7465 6d65 6e74  match` statement
+0000f0f0: 7320 7769 6c6c 2074 616b 6520 7468 6569  s will take thei
+0000f100: 7220 7061 7474 6572 6e20 616e 6420 6174  r pattern and at
+0000f110: 7465 6d70 7420 746f 2022 6d61 7463 6822  tempt to "match"
+0000f120: 2061 6761 696e 7374 2069 742c 2070 6572   against it, per
+0000f130: 666f 726d 696e 6720 7468 6520 6368 6563  forming the chec
+0000f140: 6b73 2061 6e64 2064 6563 6f6e 7374 7275  ks and deconstru
+0000f150: 6374 696f 6e73 206f 6e20 7468 6520 6172  ctions on the ar
+0000f160: 6775 6d65 6e74 7320 6173 2073 7065 6369  guments as speci
+0000f170: 6669 6564 2062 7920 7468 6520 7061 7474  fied by the patt
+0000f180: 6572 6e2e 2054 6865 2064 6966 6665 7265  ern. The differe
+0000f190: 6e74 2063 6f6e 7374 7275 6374 7320 7468  nt constructs th
+0000f1a0: 6174 2063 616e 2062 6520 7370 6563 6966  at can be specif
+0000f1b0: 6965 6420 696e 2061 2070 6174 7465 726e  ied in a pattern
+0000f1c0: 2c20 616e 6420 7468 6569 7220 6675 6e63  , and their func
+0000f1d0: 7469 6f6e 2c20 6172 653a 0a2d 2056 6172  tion, are:.- Var
+0000f1e0: 6961 626c 6520 4269 6e64 696e 6773 3a0a  iable Bindings:.
+0000f1f0: 2020 2d20 496d 706c 6963 6974 2042 696e    - Implicit Bin
+0000f200: 6469 6e67 7320 2860 3c76 6172 3e60 293a  dings (`<var>`):
+0000f210: 2077 696c 6c20 6d61 7463 6820 746f 2061   will match to a
+0000f220: 6e79 7468 696e 672c 2061 6e64 2077 696c  nything, and wil
+0000f230: 6c20 6265 2062 6f75 6e64 2074 6f20 7768  l be bound to wh
+0000f240: 6174 6576 6572 2074 6865 7920 6d61 7463  atever they matc
+0000f250: 6820 746f 2c20 7769 7468 2073 6f6d 6520  h to, with some 
+0000f260: 6578 6365 7074 696f 6e73 3a0a 2020 2020  exceptions:.    
+0000f270: 2a20 4966 2074 6865 2073 616d 6520 7661  * If the same va
+0000f280: 7269 6162 6c65 2069 7320 7573 6564 206d  riable is used m
+0000f290: 756c 7469 706c 6520 7469 6d65 732c 2061  ultiple times, a
+0000f2a0: 2063 6865 636b 2077 696c 6c20 6265 2070   check will be p
+0000f2b0: 6572 666f 726d 6564 2074 6861 7420 6561  erformed that ea
+0000f2c0: 6368 2075 7365 206d 6174 6368 6573 2074  ch use matches t
+0000f2d0: 6f20 7468 6520 7361 6d65 2076 616c 7565  o the same value
+0000f2e0: 2e0a 2020 2020 2a20 4966 2074 6865 2076  ..    * If the v
+0000f2f0: 6172 6961 626c 6520 6e61 6d65 2060 5f60  ariable name `_`
+0000f300: 2069 7320 7573 6564 2c20 6e6f 7468 696e   is used, nothin
+0000f310: 6720 7769 6c6c 2062 6520 626f 756e 6420  g will be bound 
+0000f320: 616e 6420 6576 6572 7974 6869 6e67 2077  and everything w
+0000f330: 696c 6c20 616c 7761 7973 206d 6174 6368  ill always match
+0000f340: 2074 6f20 6974 2028 605f 6020 6973 2043   to it (`_` is C
+0000f350: 6f63 6f6e 7574 2773 2022 7769 6c64 6361  oconut's "wildca
+0000f360: 7264 2229 2e0a 2020 2d20 4578 706c 6963  rd")..  - Explic
+0000f370: 6974 2042 696e 6469 6e67 7320 2860 3c70  it Bindings (`<p
+0000f380: 6174 7465 726e 3e20 6173 203c 7661 723e  attern> as <var>
+0000f390: 6029 3a20 7769 6c6c 2062 696e 6420 603c  `): will bind `<
+0000f3a0: 7661 723e 6020 746f 2060 3c70 6174 7465  var>` to `<patte
+0000f3b0: 726e 3e60 2e0a 2d20 4261 7369 6320 4368  rn>`..- Basic Ch
+0000f3c0: 6563 6b73 3a0a 2020 2d20 436f 6e73 7461  ecks:.  - Consta
+0000f3d0: 6e74 732c 204e 756d 6265 7273 2c20 616e  nts, Numbers, an
+0000f3e0: 6420 5374 7269 6e67 733a 2077 696c 6c20  d Strings: will 
+0000f3f0: 6f6e 6c79 206d 6174 6368 2074 6f20 7468  only match to th
+0000f400: 6520 7361 6d65 2063 6f6e 7374 616e 742c  e same constant,
+0000f410: 206e 756d 6265 722c 206f 7220 7374 7269   number, or stri
+0000f420: 6e67 2069 6e20 7468 6520 7361 6d65 2070  ng in the same p
+0000f430: 6f73 6974 696f 6e20 696e 2074 6865 2061  osition in the a
+0000f440: 7267 756d 656e 7473 2e0a 2020 2d20 4571  rguments..  - Eq
+0000f450: 7561 6c69 7479 2043 6865 636b 7320 2860  uality Checks (`
+0000f460: 3d3d 3c65 7870 723e 6029 3a20 7769 6c6c  ==<expr>`): will
+0000f470: 2063 6865 636b 2074 6861 7420 7768 6174   check that what
+0000f480: 6576 6572 2069 7320 696e 2074 6861 7420  ever is in that 
+0000f490: 706f 7369 7469 6f6e 2069 7320 603d 3d60  position is `==`
+0000f4a0: 2074 6f20 7468 6520 6578 7072 6573 7369   to the expressi
+0000f4b0: 6f6e 2060 3c65 7870 723e 602e 0a20 202d  on `<expr>`..  -
+0000f4c0: 2049 6465 6e74 6974 7920 4368 6563 6b73   Identity Checks
+0000f4d0: 2028 6069 7320 3c65 7870 723e 6029 3a20   (`is <expr>`): 
+0000f4e0: 7769 6c6c 2063 6865 636b 2074 6861 7420  will check that 
+0000f4f0: 7768 6174 6576 6572 2069 7320 696e 2074  whatever is in t
+0000f500: 6861 7420 706f 7369 7469 6f6e 2060 6973  hat position `is
+0000f510: 6020 7468 6520 6578 7072 6573 7369 6f6e  ` the expression
+0000f520: 2060 3c65 7870 723e 602e 0a2d 2041 7262   `<expr>`..- Arb
+0000f530: 6974 7261 7279 2046 756e 6374 696f 6e20  itrary Function 
+0000f540: 5061 7474 6572 6e73 3a0a 2020 2d20 496e  Patterns:.  - In
+0000f550: 6669 7820 4368 6563 6b73 2028 6060 203c  fix Checks (`` <
+0000f560: 7061 7474 6572 6e3e 2060 3c6f 703e 6020  pattern> `<op>` 
+0000f570: 3c65 7870 723e 2060 6029 3a20 7769 6c6c  <expr> ``): will
+0000f580: 2063 6865 636b 2074 6861 7420 7468 6520   check that the 
+0000f590: 6f70 6572 6174 6f72 2060 3c6f 703e 2428  operator `<op>$(
+0000f5a0: 3f2c 203c 6578 7072 3e29 6020 7265 7475  ?, <expr>)` retu
+0000f5b0: 726e 7320 6120 7472 7574 6879 2076 616c  rns a truthy val
+0000f5c0: 7565 2077 6865 6e20 6361 6c6c 6564 206f  ue when called o
+0000f5d0: 6e20 7768 6174 6576 6572 2069 7320 696e  n whatever is in
+0000f5e0: 2074 6861 7420 706f 7369 7469 6f6e 2c20   that position, 
+0000f5f0: 7468 656e 206d 6174 6368 6573 2060 3c70  then matches `<p
+0000f600: 6174 7465 726e 3e60 2e20 466f 7220 6578  attern>`. For ex
+0000f610: 616d 706c 652c 2060 6020 7820 6069 7369  ample, `` x `isi
+0000f620: 6e73 7461 6e63 6560 2069 6e74 2060 6020  nstance` int `` 
+0000f630: 7769 6c6c 2063 6865 636b 2074 6861 7420  will check that 
+0000f640: 7768 6174 6576 6572 2069 7320 696e 2074  whatever is in t
+0000f650: 6861 7420 706f 7369 7469 6f6e 2060 6973  hat position `is
+0000f660: 696e 7374 616e 6365 2428 3f2c 2069 6e74  instance$(?, int
+0000f670: 2960 2061 6e64 2062 696e 6420 6974 2074  )` and bind it t
+0000f680: 6f20 6078 602e 2049 6620 603c 6578 7072  o `x`. If `<expr
+0000f690: 3e60 2069 7320 6e6f 7420 6769 7665 6e2c  >` is not given,
+0000f6a0: 2077 696c 6c20 7369 6d70 6c79 2063 6865   will simply che
+0000f6b0: 636b 2060 3c6f 703e 6020 6469 7265 6374  ck `<op>` direct
+0000f6c0: 6c79 2072 6174 6865 7220 7468 616e 2060  ly rather than `
+0000f6d0: 3c6f 703e 2428 3c65 7870 723e 2960 2e20  <op>$(<expr>)`. 
+0000f6e0: 4164 6469 7469 6f6e 616c 6c79 2c20 6060  Additionally, ``
+0000f6f0: 2060 3c6f 703e 6020 6060 2063 616e 2069   `<op>` `` can i
+0000f700: 6e73 7465 6164 2062 6520 6120 5b63 7573  nstead be a [cus
+0000f710: 746f 6d20 6f70 6572 6174 6f72 5d28 2363  tom operator](#c
+0000f720: 7573 746f 6d2d 6f70 6572 6174 6f72 7329  ustom-operators)
+0000f730: 2028 696e 2074 6861 7420 6361 7365 2c20   (in that case, 
+0000f740: 6e6f 2062 6163 6b74 6963 6b73 2073 686f  no backticks sho
+0000f750: 756c 6420 6265 2075 7365 6429 2e0a 2020  uld be used)..  
+0000f760: 2d20 5669 6577 2050 6174 7465 726e 7320  - View Patterns 
+0000f770: 2860 283c 6578 7072 6573 7369 6f6e 3e29  (`(<expression>)
+0000f780: 202d 3e20 3c70 6174 7465 726e 3e60 293a   -> <pattern>`):
+0000f790: 2063 616c 6c73 2060 3c65 7870 7265 7373   calls `<express
+0000f7a0: 696f 6e3e 6020 6f6e 2074 6865 2069 7465  ion>` on the ite
+0000f7b0: 6d20 6265 696e 6720 6d61 7463 6865 6420  m being matched 
+0000f7c0: 616e 6420 6d61 7463 6865 7320 7468 6520  and matches the 
+0000f7d0: 7265 7375 6c74 2074 6f20 603c 7061 7474  result to `<patt
+0000f7e0: 6572 6e3e 602e 2054 6865 206d 6174 6368  ern>`. The match
+0000f7f0: 2066 6169 6c73 2069 6620 6120 5b60 4d61   fails if a [`Ma
+0000f800: 7463 6845 7272 6f72 605d 2823 6d61 7463  tchError`](#matc
+0000f810: 6865 7272 6f72 2920 6973 2072 6169 7365  herror) is raise
+0000f820: 642e 2060 3c65 7870 7265 7373 696f 6e3e  d. `<expression>
+0000f830: 6020 6d61 7920 6265 2075 6e70 6172 656e  ` may be unparen
+0000f840: 7468 6573 697a 6564 206f 6e6c 7920 7768  thesized only wh
+0000f850: 656e 2069 7420 6973 2061 2073 696e 676c  en it is a singl
+0000f860: 6520 6174 6f6d 2e0a 2d20 436c 6173 7320  e atom..- Class 
+0000f870: 616e 6420 4461 7461 2054 7970 6520 4d61  and Data Type Ma
+0000f880: 7463 6869 6e67 3a0a 2020 2d20 436c 6173  tching:.  - Clas
+0000f890: 7365 7320 6f72 2044 6174 6120 5479 7065  ses or Data Type
+0000f8a0: 7320 2860 3c6e 616d 653e 283c 6172 6773  s (`<name>(<args
+0000f8b0: 3e29 6029 3a20 7769 6c6c 206d 6174 6368  >)`): will match
+0000f8c0: 2061 7320 6120 6461 7461 2074 7970 6520   as a data type 
+0000f8d0: 6966 2067 6976 656e 205b 6120 436f 636f  if given [a Coco
+0000f8e0: 6e75 7420 6064 6174 6160 2074 7970 655d  nut `data` type]
+0000f8f0: 2823 6461 7461 2920 286f 7220 6120 7475  (#data) (or a tu
+0000f900: 706c 6520 6f66 2043 6f63 6f6e 7574 2064  ple of Coconut d
+0000f910: 6174 6120 7479 7065 7329 2061 6e64 2061  ata types) and a
+0000f920: 2063 6c61 7373 206f 7468 6572 7769 7365   class otherwise
+0000f930: 2e0a 2020 2d20 4461 7461 2054 7970 6573  ..  - Data Types
+0000f940: 2028 6064 6174 6120 3c6e 616d 653e 283c   (`data <name>(<
+0000f950: 6172 6773 3e29 6029 3a20 7769 6c6c 2063  args>)`): will c
+0000f960: 6865 636b 2074 6861 7420 7768 6174 6576  heck that whatev
+0000f970: 6572 2069 7320 696e 2074 6861 7420 706f  er is in that po
+0000f980: 7369 7469 6f6e 2069 7320 6f66 2064 6174  sition is of dat
+0000f990: 6120 7479 7065 2060 3c6e 616d 653e 6020  a type `<name>` 
+0000f9a0: 616e 6420 7769 6c6c 206d 6174 6368 2074  and will match t
+0000f9b0: 6865 2061 7474 7269 6275 7465 7320 746f  he attributes to
+0000f9c0: 2060 3c61 7267 733e 602e 2047 656e 6572   `<args>`. Gener
+0000f9d0: 616c 6c79 2c20 6064 6174 6120 3c6e 616d  ally, `data <nam
+0000f9e0: 653e 283c 6172 6773 3e29 6020 7769 6c6c  e>(<args>)` will
+0000f9f0: 206d 6174 6368 2061 6e79 2064 6174 6120   match any data 
+0000fa00: 7479 7065 2074 6861 7420 636f 756c 6420  type that could 
+0000fa10: 6861 7665 2062 6565 6e20 636f 6e73 7472  have been constr
+0000fa20: 7563 7465 6420 7769 7468 2060 6d61 6b65  ucted with `make
+0000fa30: 6461 7461 283c 6e61 6d65 3e2c 203c 6172  data(<name>, <ar
+0000fa40: 6773 3e29 602e 2049 6e63 6c75 6465 7320  gs>)`. Includes 
+0000fa50: 7375 7070 6f72 7420 666f 7220 706f 7369  support for posi
+0000fa60: 7469 6f6e 616c 2061 7267 756d 656e 7473  tional arguments
+0000fa70: 2c20 6e61 6d65 6420 6172 6775 6d65 6e74  , named argument
+0000fa80: 732c 2064 6566 6175 6c74 2061 7267 756d  s, default argum
+0000fa90: 656e 7473 2c20 616e 6420 7374 6172 7265  ents, and starre
+0000faa0: 6420 6172 6775 6d65 6e74 732e 2041 6c73  d arguments. Als
+0000fab0: 6f20 7375 7070 6f72 7473 2073 7472 6963  o supports stric
+0000fac0: 7420 6174 7472 6962 7574 6573 2062 7920  t attributes by 
+0000fad0: 7072 6570 656e 6469 6e67 2061 2064 6f74  prepending a dot
+0000fae0: 2074 6f20 7468 6520 6174 7472 6962 7574   to the attribut
+0000faf0: 6520 6e61 6d65 2074 6861 7420 7261 6973  e name that rais
+0000fb00: 6573 2060 4174 7472 6962 7574 4572 726f  es `AttributErro
+0000fb10: 7260 2069 6620 7468 6520 6174 7472 6962  r` if the attrib
+0000fb20: 7574 6520 6973 206e 6f74 2070 7265 7365  ute is not prese
+0000fb30: 6e74 2072 6174 6865 7220 7468 616e 2066  nt rather than f
+0000fb40: 6169 6c69 6e67 2074 6865 206d 6174 6368  ailing the match
+0000fb50: 2028 652e 672e 2060 6461 7461 204d 7944   (e.g. `data MyD
+0000fb60: 6174 6128 2e6d 795f 6174 7472 3d3c 736f  ata(.my_attr=<so
+0000fb70: 6d65 5f70 6174 7465 726e 3e29 6029 2e0a  me_pattern>)`)..
+0000fb80: 2020 2d20 436c 6173 7365 7320 2860 636c    - Classes (`cl
+0000fb90: 6173 7320 3c6e 616d 653e 283c 6172 6773  ass <name>(<args
+0000fba0: 3e29 6029 3a20 646f 6573 205b 5045 502d  >)`): does [PEP-
+0000fbb0: 3633 342d 7374 796c 6520 636c 6173 7320  634-style class 
+0000fbc0: 6d61 7463 6869 6e67 5d28 6874 7470 733a  matching](https:
+0000fbd0: 2f2f 7777 772e 7079 7468 6f6e 2e6f 7267  //www.python.org
+0000fbe0: 2f64 6576 2f70 6570 732f 7065 702d 3036  /dev/peps/pep-06
+0000fbf0: 3334 2f23 636c 6173 732d 7061 7474 6572  34/#class-patter
+0000fc00: 6e73 292e 2041 6c73 6f20 7375 7070 6f72  ns). Also suppor
+0000fc10: 7473 2073 7472 6963 7420 6174 7472 6962  ts strict attrib
+0000fc20: 7574 6520 6d61 7463 6869 6e67 2061 7320  ute matching as 
+0000fc30: 6162 6f76 652e 0a2d 204d 6170 7069 6e67  above..- Mapping
+0000fc40: 2044 6573 7472 7563 7475 7269 6e67 3a0a   Destructuring:.
+0000fc50: 2020 2d20 4469 6374 7320 2860 7b3c 6b65    - Dicts (`{<ke
+0000fc60: 793e 3a20 3c76 616c 7565 3e2c 202e 2e2e  y>: <value>, ...
+0000fc70: 7d60 293a 2077 696c 6c20 6d61 7463 6820  }`): will match 
+0000fc80: 616e 7920 6d61 7070 696e 6720 2860 636f  any mapping (`co
+0000fc90: 6c6c 6563 7469 6f6e 732e 6162 632e 4d61  llections.abc.Ma
+0000fca0: 7070 696e 6760 2920 7769 7468 2074 6865  pping`) with the
+0000fcb0: 2067 6976 656e 206b 6579 7320 616e 6420   given keys and 
+0000fcc0: 7661 6c75 6573 2074 6861 7420 6d61 7463  values that matc
+0000fcd0: 6820 7468 6520 7661 6c75 6520 7061 7474  h the value patt
+0000fce0: 6572 6e73 2e20 4b65 7973 206d 7573 7420  erns. Keys must 
+0000fcf0: 6265 2063 6f6e 7374 616e 7473 206f 7220  be constants or 
+0000fd00: 6571 7561 6c69 7479 2063 6865 636b 732e  equality checks.
+0000fd10: 0a20 202d 2044 6963 7473 2057 6974 6820  .  - Dicts With 
+0000fd20: 5265 7374 2028 607b 3c70 6169 7273 3e2c  Rest (`{<pairs>,
+0000fd30: 202a 2a3c 7265 7374 3e7d 6029 3a20 7769   **<rest>}`): wi
+0000fd40: 6c6c 206d 6174 6368 2061 206d 6170 7069  ll match a mappi
+0000fd50: 6e67 2028 6063 6f6c 6c65 6374 696f 6e73  ng (`collections
+0000fd60: 2e61 6263 2e4d 6170 7069 6e67 6029 2063  .abc.Mapping`) c
+0000fd70: 6f6e 7461 696e 696e 6720 616c 6c20 7468  ontaining all th
+0000fd80: 6520 603c 7061 6972 733e 602c 2061 6e64  e `<pairs>`, and
+0000fd90: 2077 696c 6c20 7075 7420 6120 6064 6963   will put a `dic
+0000fda0: 7460 206f 6620 6576 6572 7974 6869 6e67  t` of everything
+0000fdb0: 2065 6c73 6520 696e 746f 2060 3c72 6573   else into `<res
+0000fdc0: 743e 602e 2049 6620 603c 7265 7374 3e60  t>`. If `<rest>`
+0000fdd0: 2069 7320 607b 7d60 2c20 7769 6c6c 2065   is `{}`, will e
+0000fde0: 6e66 6f72 6365 2074 6861 7420 7468 6520  nforce that the 
+0000fdf0: 6d61 7070 696e 6720 6973 2065 7861 6374  mapping is exact
+0000fe00: 6c79 2074 6865 2073 616d 6520 6c65 6e67  ly the same leng
+0000fe10: 7468 2061 7320 603c 7061 6972 733e 602e  th as `<pairs>`.
+0000fe20: 0a2d 2053 6574 2044 6573 7472 7563 7475  .- Set Destructu
+0000fe30: 7269 6e67 3a0a 2020 2d20 5365 7473 2028  ring:.  - Sets (
+0000fe40: 6073 7b3c 636f 6e73 7461 6e74 733e 2c20  `s{<constants>, 
+0000fe50: 2a5f 7d60 293a 2077 696c 6c20 6d61 7463  *_}`): will matc
+0000fe60: 6820 6120 7365 7420 2860 636f 6c6c 6563  h a set (`collec
+0000fe70: 7469 6f6e 732e 6162 632e 5365 7460 2920  tions.abc.Set`) 
+0000fe80: 7468 6174 2063 6f6e 7461 696e 7320 7468  that contains th
+0000fe90: 6520 6769 7665 6e20 603c 636f 6e73 7461  e given `<consta
+0000fea0: 6e74 733e 602c 2074 686f 7567 6820 6974  nts>`, though it
+0000feb0: 206d 6179 2061 6c73 6f20 636f 6e74 6169   may also contai
+0000fec0: 6e20 6f74 6865 7220 6974 656d 732e 2054  n other items. T
+0000fed0: 6865 2060 7360 2070 7265 6669 7820 616e  he `s` prefix an
+0000fee0: 6420 7468 6520 602a 5f60 2061 7265 206f  d the `*_` are o
+0000fef0: 7074 696f 6e61 6c2e 0a20 202d 2046 6978  ptional..  - Fix
+0000ff00: 6564 2d6c 656e 6774 6820 5365 7473 2028  ed-length Sets (
+0000ff10: 6073 7b3c 636f 6e73 7461 6e74 733e 2c20  `s{<constants>, 
+0000ff20: 2a28 297d 6029 3a20 7769 6c6c 206d 6174  *()}`): will mat
+0000ff30: 6368 2061 2060 7365 7460 2028 6063 6f6c  ch a `set` (`col
+0000ff40: 6c65 6374 696f 6e73 2e61 6263 2e53 6574  lections.abc.Set
+0000ff50: 6029 2074 6861 7420 636f 6e74 6169 6e73  `) that contains
+0000ff60: 2074 6865 2067 6976 656e 2060 3c63 6f6e   the given `<con
+0000ff70: 7374 616e 7473 3e60 2c20 616e 6420 6e6f  stants>`, and no
+0000ff80: 7468 696e 6720 656c 7365 2e0a 2020 2d20  thing else..  - 
+0000ff90: 4672 6f7a 656e 7365 7473 2028 6066 7b3c  Frozensets (`f{<
+0000ffa0: 636f 6e73 7461 6e74 733e 7d60 293a 2077  constants>}`): w
+0000ffb0: 696c 6c20 6d61 7463 6820 6120 6066 726f  ill match a `fro
+0000ffc0: 7a65 6e73 6574 6020 2860 6672 6f7a 656e  zenset` (`frozen
+0000ffd0: 7365 7460 2920 7468 6174 2063 6f6e 7461  set`) that conta
+0000ffe0: 696e 7320 7468 6520 6769 7665 6e20 603c  ins the given `<
+0000fff0: 636f 6e73 7461 6e74 733e 602e 204d 6179  constants>`. May
+00010000: 2075 7365 2065 6974 6865 7220 6e6f 726d   use either norm
+00010010: 616c 206f 7220 6669 7865 642d 6c65 6e67  al or fixed-leng
+00010020: 7468 2073 796e 7461 782e 0a20 202d 204d  th syntax..  - M
+00010030: 756c 7469 7365 7473 2028 606d 7b3c 636f  ultisets (`m{<co
+00010040: 6e73 7461 6e74 733e 7d60 293a 2077 696c  nstants>}`): wil
+00010050: 6c20 6d61 7463 6820 6120 5b60 6d75 6c74  l match a [`mult
+00010060: 6973 6574 605d 2823 6d75 6c74 6973 6574  iset`](#multiset
+00010070: 2920 2860 636f 6c6c 6563 7469 6f6e 732e  ) (`collections.
+00010080: 436f 756e 7465 7260 2920 7468 6174 2063  Counter`) that c
+00010090: 6f6e 7461 696e 7320 6174 206c 6561 7374  ontains at least
+000100a0: 2074 6865 2067 6976 656e 2060 3c63 6f6e   the given `<con
+000100b0: 7374 616e 7473 3e60 2e20 4d61 7920 7573  stants>`. May us
+000100c0: 6520 6569 7468 6572 206e 6f72 6d61 6c20  e either normal 
+000100d0: 6f72 2066 6978 6564 2d6c 656e 6774 6820  or fixed-length 
+000100e0: 7379 6e74 6178 2e0a 2d20 5365 7175 656e  syntax..- Sequen
+000100f0: 6365 2044 6573 7472 7563 7475 7269 6e67  ce Destructuring
+00010100: 3a0a 2020 2d20 4c69 7374 7320 2860 5b3c  :.  - Lists (`[<
+00010110: 7061 7474 6572 6e73 3e5d 6029 2c20 5475  patterns>]`), Tu
+00010120: 706c 6573 2028 6028 3c70 6174 7465 726e  ples (`(<pattern
+00010130: 733e 2960 293a 2077 696c 6c20 6f6e 6c79  s>)`): will only
+00010140: 206d 6174 6368 2061 2073 6571 7565 6e63   match a sequenc
+00010150: 6520 2860 636f 6c6c 6563 7469 6f6e 732e  e (`collections.
+00010160: 6162 632e 5365 7175 656e 6365 6029 206f  abc.Sequence`) o
+00010170: 6620 7468 6520 7361 6d65 206c 656e 6774  f the same lengt
+00010180: 682c 2061 6e64 2077 696c 6c20 6368 6563  h, and will chec
+00010190: 6b20 7468 6520 636f 6e74 656e 7473 2061  k the contents a
+000101a0: 6761 696e 7374 2060 3c70 6174 7465 726e  gainst `<pattern
+000101b0: 733e 6020 2843 6f63 6f6e 7574 2061 7574  s>` (Coconut aut
+000101c0: 6f6d 6174 6963 616c 6c79 2072 6567 6973  omatically regis
+000101d0: 7465 7273 2060 6e75 6d70 7960 2061 7272  ters `numpy` arr
+000101e0: 6179 7320 616e 6420 6063 6f6c 6c65 6374  ays and `collect
+000101f0: 696f 6e73 2e64 6571 7565 6020 6f62 6a65  ions.deque` obje
+00010200: 6374 7320 6173 2073 6571 7565 6e63 6573  cts as sequences
+00010210: 292e 0a20 202d 204c 617a 7920 6c69 7374  )..  - Lazy list
+00010220: 7320 2860 287c 3c70 6174 7465 726e 733e  s (`(|<patterns>
+00010230: 7c29 6029 3a20 7361 6d65 2061 7320 6c69  |)`): same as li
+00010240: 7374 206f 7220 7475 706c 6520 6d61 7463  st or tuple matc
+00010250: 6869 6e67 2c20 6275 7420 6368 6563 6b73  hing, but checks
+00010260: 2066 6f72 2061 6e20 4974 6572 6162 6c65   for an Iterable
+00010270: 2028 6063 6f6c 6c65 6374 696f 6e73 2e61   (`collections.a
+00010280: 6263 2e49 7465 7261 626c 6560 2920 696e  bc.Iterable`) in
+00010290: 7374 6561 6420 6f66 2061 2053 6571 7565  stead of a Seque
+000102a0: 6e63 652e 0a20 202d 2048 6561 642d 5461  nce..  - Head-Ta
+000102b0: 696c 2053 706c 6974 7320 2860 3c6c 6973  il Splits (`<lis
+000102c0: 742f 7475 706c 653e 202b 203c 7661 723e  t/tuple> + <var>
+000102d0: 6020 6f72 2060 283c 7061 7474 6572 6e73  ` or `(<patterns
+000102e0: 3e2c 202a 3c76 6172 3e29 6029 3a20 7769  >, *<var>)`): wi
+000102f0: 6c6c 206d 6174 6368 2074 6865 2062 6567  ll match the beg
+00010300: 696e 6e69 6e67 206f 6620 7468 6520 7365  inning of the se
+00010310: 7175 656e 6365 2061 6761 696e 7374 2074  quence against t
+00010320: 6865 2060 3c6c 6973 742f 7475 706c 653e  he `<list/tuple>
+00010330: 602f 603c 7061 7474 6572 6e73 3e60 2c20  `/`<patterns>`, 
+00010340: 7468 656e 2062 696e 6420 7468 6520 7265  then bind the re
+00010350: 7374 2074 6f20 603c 7661 723e 602c 2061  st to `<var>`, a
+00010360: 6e64 206d 616b 6520 6974 2074 6865 2074  nd make it the t
+00010370: 7970 6520 6f66 2074 6865 2063 6f6e 7374  ype of the const
+00010380: 7275 6374 2075 7365 642e 0a20 202d 2049  ruct used..  - I
+00010390: 6e69 742d 4c61 7374 2053 706c 6974 7320  nit-Last Splits 
+000103a0: 2860 3c76 6172 3e20 2b20 3c6c 6973 742f  (`<var> + <list/
+000103b0: 7475 706c 653e 6020 6f72 2060 282a 3c76  tuple>` or `(*<v
+000103c0: 6172 3e2c 203c 7061 7474 6572 6e73 3e29  ar>, <patterns>)
+000103d0: 6029 3a20 6578 6163 746c 7920 7468 6520  `): exactly the 
+000103e0: 7361 6d65 2061 7320 6865 6164 2d74 6169  same as head-tai
+000103f0: 6c20 7370 6c69 7473 2c20 6275 7420 6f6e  l splits, but on
+00010400: 2074 6865 2065 6e64 2069 6e73 7465 6164   the end instead
+00010410: 206f 6620 7468 6520 6265 6769 6e6e 696e   of the beginnin
+00010420: 6720 6f66 2074 6865 2073 6571 7565 6e63  g of the sequenc
+00010430: 652e 0a20 202d 2048 6561 642d 4c61 7374  e..  - Head-Last
+00010440: 2053 706c 6974 7320 2860 3c6c 6973 742f   Splits (`<list/
+00010450: 7475 706c 653e 202b 203c 7661 723e 202b  tuple> + <var> +
+00010460: 203c 6c69 7374 2f74 7570 6c65 3e60 206f   <list/tuple>` o
+00010470: 7220 6028 3c70 6174 7465 726e 733e 2c20  r `(<patterns>, 
+00010480: 2a3c 7661 723e 2c20 3c70 6174 7465 726e  *<var>, <pattern
+00010490: 733e 2960 293a 2074 6865 2063 6f6d 6269  s>)`): the combi
+000104a0: 6e61 7469 6f6e 206f 6620 6120 6865 6164  nation of a head
+000104b0: 2d74 6169 6c20 616e 6420 616e 2069 6e69  -tail and an ini
+000104c0: 742d 6c61 7374 2073 706c 6974 2e0a 2020  t-last split..  
+000104d0: 2d20 5365 6172 6368 2053 706c 6974 7320  - Search Splits 
+000104e0: 2860 3c76 6172 313e 202b 203c 6c69 7374  (`<var1> + <list
+000104f0: 2f74 7570 6c65 3e20 2b20 3c76 6172 323e  /tuple> + <var2>
+00010500: 6020 6f72 2060 282a 3c76 6172 313e 2c20  ` or `(*<var1>, 
+00010510: 3c70 6174 7465 726e 733e 2c20 2a3c 7661  <patterns>, *<va
+00010520: 7232 3e29 6029 3a20 7365 6172 6368 6573  r2>)`): searches
+00010530: 2066 6f72 2074 6865 2066 6972 7374 206f   for the first o
+00010540: 6363 7572 7265 6e63 6520 6f66 2074 6865  ccurrence of the
+00010550: 2060 3c6c 6973 742f 7475 706c 653e 602f   `<list/tuple>`/
+00010560: 603c 7061 7474 6572 6e73 3e60 2069 6e20  `<patterns>` in 
+00010570: 7468 6520 7365 7175 656e 6365 2c20 7468  the sequence, th
+00010580: 656e 2070 7574 7320 6576 6572 7974 6869  en puts everythi
+00010590: 6e67 2062 6566 6f72 6520 696e 746f 2060  ng before into `
+000105a0: 3c76 6172 313e 6020 616e 6420 6576 6572  <var1>` and ever
+000105b0: 7974 6869 6e67 2061 6674 6572 2069 6e74  ything after int
+000105c0: 6f20 603c 7661 7232 3e60 2e0a 2020 2d20  o `<var2>`..  - 
+000105d0: 4865 6164 2d4c 6173 7420 5365 6172 6368  Head-Last Search
+000105e0: 2053 706c 6974 7320 2860 3c6c 6973 742f   Splits (`<list/
+000105f0: 7475 706c 653e 202b 203c 7661 723e 202b  tuple> + <var> +
+00010600: 203c 6c69 7374 2f74 7570 6c65 3e20 2b20   <list/tuple> + 
+00010610: 3c76 6172 3e20 2b20 3c6c 6973 742f 7475  <var> + <list/tu
+00010620: 706c 653e 6020 6f72 2060 283c 7061 7474  ple>` or `(<patt
+00010630: 6572 6e73 3e2c 202a 3c76 6172 3e2c 203c  erns>, *<var>, <
+00010640: 7061 7474 6572 6e73 3e2c 202a 3c76 6172  patterns>, *<var
+00010650: 3e2c 203c 7061 7474 6572 6e73 3e29 6029  >, <patterns>)`)
+00010660: 3a20 7468 6520 636f 6d62 696e 6174 696f  : the combinatio
+00010670: 6e20 6f66 2061 2068 6561 642d 7461 696c  n of a head-tail
+00010680: 2073 706c 6974 2061 6e64 2061 2073 6561   split and a sea
+00010690: 7263 6820 7370 6c69 742e 0a20 202d 2049  rch split..  - I
+000106a0: 7465 7261 626c 6520 5370 6c69 7473 2028  terable Splits (
+000106b0: 603c 6c69 7374 2f74 7570 6c65 2f6c 617a  `<list/tuple/laz
+000106c0: 7920 6c69 7374 3e20 3a3a 203c 7661 723e  y list> :: <var>
+000106d0: 203a 3a20 3c6c 6973 742f 7475 706c 652f   :: <list/tuple/
+000106e0: 6c61 7a79 206c 6973 743e 203a 3a20 3c76  lazy list> :: <v
+000106f0: 6172 3e20 3a3a 203c 6c69 7374 2f74 7570  ar> :: <list/tup
+00010700: 6c65 2f6c 617a 7920 6c69 7374 3e60 293a  le/lazy list>`):
+00010710: 2073 616d 6520 6173 206f 7468 6572 2073   same as other s
+00010720: 6571 7565 6e63 6520 6465 7374 7275 6374  equence destruct
+00010730: 7572 696e 672c 2062 7574 2077 6f72 6b73  uring, but works
+00010740: 206f 6e20 616e 7920 6974 6572 6162 6c65   on any iterable
+00010750: 2028 6063 6f6c 6c65 6374 696f 6e73 2e61   (`collections.a
+00010760: 6263 2e49 7465 7261 626c 6560 292c 2069  bc.Iterable`), i
+00010770: 6e63 6c75 6469 6e67 2069 6e66 696e 6974  ncluding infinit
+00010780: 6520 6974 6572 6174 6f72 7320 286e 6f74  e iterators (not
+00010790: 6520 7468 6174 2069 6620 616e 2069 7465  e that if an ite
+000107a0: 7261 746f 7220 6973 206d 6174 6368 6564  rator is matched
+000107b0: 2061 6761 696e 7374 2069 7420 7769 6c6c   against it will
+000107c0: 2062 6520 6d6f 6469 6669 6564 2075 6e6c   be modified unl
+000107d0: 6573 7320 6974 2069 7320 5b60 7265 6974  ess it is [`reit
+000107e0: 6572 6162 6c65 605d 2823 7265 6974 6572  erable`](#reiter
+000107f0: 6162 6c65 2929 2e0a 2020 2d20 436f 6d70  able))..  - Comp
+00010800: 6c65 7820 5374 7269 6e67 204d 6174 6368  lex String Match
+00010810: 696e 6720 2860 3c73 7472 696e 673e 202b  ing (`<string> +
+00010820: 203c 7661 723e 202b 203c 7374 7269 6e67   <var> + <string
+00010830: 3e20 2b20 3c76 6172 3e20 2b20 3c73 7472  > + <var> + <str
+00010840: 696e 673e 6029 3a20 7374 7269 6e67 206d  ing>`): string m
+00010850: 6174 6368 696e 6720 7375 7070 6f72 7473  atching supports
+00010860: 2074 6865 2073 616d 6520 6465 7374 7275   the same destru
+00010870: 6374 7572 696e 6720 6f70 7469 6f6e 7320  cturing options 
+00010880: 6173 2061 626f 7665 2e0a 0a5f 4e6f 7465  as above..._Note
+00010890: 3a20 4c69 6b65 205b 6974 6572 6174 6f72  : Like [iterator
+000108a0: 2073 6c69 6369 6e67 5d28 2369 7465 7261   slicing](#itera
+000108b0: 746f 722d 736c 6963 696e 6729 2c20 6974  tor-slicing), it
+000108c0: 6572 6174 6f72 2061 6e64 206c 617a 7920  erator and lazy 
+000108d0: 6c69 7374 206d 6174 6368 696e 6720 6d61  list matching ma
+000108e0: 6b65 206e 6f20 6775 6172 616e 7465 6520  ke no guarantee 
+000108f0: 7468 6174 2074 6865 206f 7269 6769 6e61  that the origina
+00010900: 6c20 6974 6572 6174 6f72 206d 6174 6368  l iterator match
+00010910: 6564 2061 6761 696e 7374 2062 6520 7072  ed against be pr
+00010920: 6573 6572 7665 6420 2874 6f20 7072 6573  eserved (to pres
+00010930: 6572 7665 2074 6865 2069 7465 7261 746f  erve the iterato
+00010940: 722c 2075 7365 2043 6f63 6f6e 7574 2773  r, use Coconut's
+00010950: 205b 6072 6569 7465 7261 626c 6560 5d28   [`reiterable`](
+00010960: 2372 6569 7465 7261 626c 6529 2062 7569  #reiterable) bui
+00010970: 6c74 2d69 6e29 2e5f 0a0a 5768 656e 2063  lt-in)._..When c
+00010980: 6865 636b 696e 6720 7768 6574 6865 7220  hecking whether 
+00010990: 6f72 206e 6f74 2061 6e20 6f62 6a65 6374  or not an object
+000109a0: 2063 616e 2062 6520 6d61 7463 6865 6420   can be matched 
+000109b0: 6167 6169 6e73 7420 696e 2061 2070 6172  against in a par
+000109c0: 7469 6375 6c61 7220 6661 7368 696f 6e2c  ticular fashion,
+000109d0: 2043 6f63 6f6e 7574 206d 616b 6573 2075   Coconut makes u
+000109e0: 7365 206f 6620 5079 7468 6f6e 2773 2061  se of Python's a
+000109f0: 6273 7472 6163 7420 6261 7365 2063 6c61  bstract base cla
+00010a00: 7373 6573 2e20 5468 6572 6566 6f72 652c  sses. Therefore,
+00010a10: 2074 6f20 656e 7375 7265 2070 726f 7065   to ensure prope
+00010a20: 7220 6d61 7463 6869 6e67 2066 6f72 2061  r matching for a
+00010a30: 2063 7573 746f 6d20 6f62 6a65 6374 2c20   custom object, 
+00010a40: 6974 2773 2072 6563 6f6d 6d65 6e64 6564  it's recommended
+00010a50: 2074 6f20 7265 6769 7374 6572 2069 7420   to register it 
+00010a60: 7769 7468 2074 6865 2070 726f 7065 7220  with the proper 
+00010a70: 6162 7374 7261 6374 2062 6173 6520 636c  abstract base cl
+00010a80: 6173 7365 732e 0a0a 2323 2323 2320 4578  asses...##### Ex
+00010a90: 616d 706c 6573 0a0a 2a2a 436f 636f 6e75  amples..**Coconu
+00010aa0: 743a 2a2a 0a60 6060 636f 636f 6e75 740a  t:**.```coconut.
+00010ab0: 6465 6620 6661 6374 6f72 6961 6c28 7661  def factorial(va
+00010ac0: 6c75 6529 3a0a 2020 2020 6d61 7463 6820  lue):.    match 
+00010ad0: 3020 696e 2076 616c 7565 3a0a 2020 2020  0 in value:.    
+00010ae0: 2020 2020 7265 7475 726e 2031 0a20 2020      return 1.   
+00010af0: 2065 6c73 653a 206d 6174 6368 206e 2060   else: match n `
+00010b00: 6973 696e 7374 616e 6365 6020 696e 7420  isinstance` int 
+00010b10: 696e 2076 616c 7565 2069 6620 6e20 3e20  in value if n > 
+00010b20: 303a 2020 2320 436f 636f 6e75 7420 616c  0:  # Coconut al
+00010b30: 6c6f 7773 206e 6573 7469 6e67 206f 6620  lows nesting of 
+00010b40: 7374 6174 656d 656e 7473 206f 6e20 7468  statements on th
+00010b50: 6520 7361 6d65 206c 696e 650a 2020 2020  e same line.    
+00010b60: 2020 2020 7265 7475 726e 206e 202a 2066      return n * f
+00010b70: 6163 746f 7269 616c 286e 2d31 290a 2020  actorial(n-1).  
+00010b80: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+00010b90: 7261 6973 6520 5479 7065 4572 726f 7228  raise TypeError(
+00010ba0: 2269 6e76 616c 6964 2061 7267 756d 656e  "invalid argumen
+00010bb0: 7420 746f 2066 6163 746f 7269 616c 206f  t to factorial o
+00010bc0: 663a 2022 2b72 6570 7228 7661 6c75 6529  f: "+repr(value)
+00010bd0: 290a 0a33 207c 3e20 6661 6374 6f72 6961  )..3 |> factoria
+00010be0: 6c20 7c3e 2070 7269 6e74 0a60 6060 0a5f  l |> print.```._
+00010bf0: 5368 6f77 6361 7365 7320 6065 6c73 6560  Showcases `else`
+00010c00: 2073 7461 7465 6d65 6e74 732c 2077 6869   statements, whi
+00010c10: 6368 2077 6f72 6b20 6d75 6368 206c 696b  ch work much lik
+00010c20: 6520 6065 6c73 6560 2073 7461 7465 6d65  e `else` stateme
+00010c30: 6e74 7320 696e 2050 7974 686f 6e3a 2074  nts in Python: t
+00010c40: 6865 2063 6f64 6520 756e 6465 7220 616e  he code under an
+00010c50: 2060 656c 7365 6020 7374 6174 656d 656e   `else` statemen
+00010c60: 7420 6973 206f 6e6c 7920 6578 6563 7574  t is only execut
+00010c70: 6564 2069 6620 7468 6520 636f 7272 6573  ed if the corres
+00010c80: 706f 6e64 696e 6720 6d61 7463 6820 6661  ponding match fa
+00010c90: 696c 732e 5f0a 0a60 6060 636f 636f 6e75  ils._..```coconu
+00010ca0: 740a 6461 7461 2070 6f69 6e74 2878 2c20  t.data point(x, 
+00010cb0: 7929 3a0a 2020 2020 6465 6620 7472 616e  y):.    def tran
+00010cc0: 7366 6f72 6d28 7365 6c66 2c20 6f74 6865  sform(self, othe
+00010cd0: 7229 3a0a 2020 2020 2020 2020 6d61 7463  r):.        matc
+00010ce0: 6820 706f 696e 7428 782c 2079 2920 696e  h point(x, y) in
+00010cf0: 206f 7468 6572 3a0a 2020 2020 2020 2020   other:.        
+00010d00: 2020 2020 7265 7475 726e 2070 6f69 6e74      return point
+00010d10: 2873 656c 662e 7820 2b20 782c 2073 656c  (self.x + x, sel
+00010d20: 662e 7920 2b20 7929 0a20 2020 2020 2020  f.y + y).       
+00010d30: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+00010d40: 2020 2072 6169 7365 2054 7970 6545 7272     raise TypeErr
+00010d50: 6f72 2822 6172 6720 746f 2074 7261 6e73  or("arg to trans
+00010d60: 666f 726d 206d 7573 7420 6265 2061 2070  form must be a p
+00010d70: 6f69 6e74 2229 0a0a 706f 696e 7428 312c  oint")..point(1,
+00010d80: 3229 207c 3e20 706f 696e 7428 332c 3429  2) |> point(3,4)
+00010d90: 2e74 7261 6e73 666f 726d 207c 3e20 7072  .transform |> pr
+00010da0: 696e 740a 706f 696e 7428 312c 3229 207c  int.point(1,2) |
+00010db0: 3e20 283d 3d29 2428 706f 696e 7428 312c  > (==)$(point(1,
+00010dc0: 3229 2920 7c3e 2070 7269 6e74 0a60 6060  2)) |> print.```
+00010dd0: 0a5f 5368 6f77 6361 7365 7320 6d61 7463  ._Showcases matc
+00010de0: 6869 6e67 2074 6f20 6461 7461 2074 7970  hing to data typ
+00010df0: 6573 2061 6e64 2074 6865 2064 6566 6175  es and the defau
+00010e00: 6c74 2065 7175 616c 6974 7920 6f70 6572  lt equality oper
+00010e10: 6174 6f72 2e20 5661 6c75 6573 2064 6566  ator. Values def
+00010e20: 696e 6564 2062 7920 7468 6520 7573 6572  ined by the user
+00010e30: 2077 6974 6820 7468 6520 6064 6174 6160   with the `data`
+00010e40: 2073 7461 7465 6d65 6e74 2063 616e 2062   statement can b
+00010e50: 6520 6d61 7463 6865 6420 6167 6169 6e73  e matched agains
+00010e60: 7420 616e 6420 7468 6569 7220 636f 6e74  t and their cont
+00010e70: 656e 7473 2061 6363 6573 7365 6420 6279  ents accessed by
+00010e80: 2073 7065 6369 6669 6361 6c6c 7920 7265   specifically re
+00010e90: 6665 7265 6e63 696e 6720 6172 6775 6d65  ferencing argume
+00010ea0: 6e74 7320 746f 2074 6865 2064 6174 6120  nts to the data 
+00010eb0: 7479 7065 2773 2063 6f6e 7374 7275 6374  type's construct
+00010ec0: 6f72 2e5f 0a0a 6060 6063 6f63 6f6e 7574  or._..```coconut
+00010ed0: 0a63 6c61 7373 2054 7265 650a 6461 7461  .class Tree.data
+00010ee0: 2045 6d70 7479 2829 2066 726f 6d20 5472   Empty() from Tr
+00010ef0: 6565 0a64 6174 6120 4c65 6166 286e 2920  ee.data Leaf(n) 
+00010f00: 6672 6f6d 2054 7265 650a 6461 7461 204e  from Tree.data N
+00010f10: 6f64 6528 6c2c 2072 2920 6672 6f6d 2054  ode(l, r) from T
+00010f20: 7265 650a 0a64 6566 2064 6570 7468 2854  ree..def depth(T
+00010f30: 7265 6528 2929 203d 2030 0a0a 6164 6470  ree()) = 0..addp
+00010f40: 6174 7465 726e 2064 6566 2064 6570 7468  attern def depth
+00010f50: 2854 7265 6528 6e29 2920 3d20 310a 0a61  (Tree(n)) = 1..a
+00010f60: 6464 7061 7474 6572 6e20 6465 6620 6465  ddpattern def de
+00010f70: 7074 6828 5472 6565 286c 2c20 7229 2920  pth(Tree(l, r)) 
+00010f80: 3d20 3120 2b20 6d61 7828 5b64 6570 7468  = 1 + max([depth
+00010f90: 286c 292c 2064 6570 7468 2872 295d 290a  (l), depth(r)]).
+00010fa0: 0a45 6d70 7479 2829 207c 3e20 6465 7074  .Empty() |> dept
+00010fb0: 6820 7c3e 2070 7269 6e74 0a4c 6561 6628  h |> print.Leaf(
+00010fc0: 3529 207c 3e20 6465 7074 6820 7c3e 2070  5) |> depth |> p
+00010fd0: 7269 6e74 0a4e 6f64 6528 4c65 6166 2832  rint.Node(Leaf(2
+00010fe0: 292c 204e 6f64 6528 456d 7074 7928 292c  ), Node(Empty(),
+00010ff0: 204c 6561 6628 3329 2929 207c 3e20 6465   Leaf(3))) |> de
+00011000: 7074 6820 7c3e 2070 7269 6e74 0a60 6060  pth |> print.```
+00011010: 0a5f 5368 6f77 6361 7365 7320 686f 7720  ._Showcases how 
+00011020: 7468 6520 636f 6d62 696e 6174 696f 6e20  the combination 
+00011030: 6f66 2064 6174 6120 7479 7065 7320 616e  of data types an
+00011040: 6420 6d61 7463 6820 7374 6174 656d 656e  d match statemen
+00011050: 7473 2063 616e 2062 6520 7573 6564 2074  ts can be used t
+00011060: 6f20 706f 7765 7266 756c 2065 6666 6563  o powerful effec
+00011070: 7420 746f 2072 6570 6c69 6361 7465 2074  t to replicate t
+00011080: 6865 2075 7361 6765 206f 6620 616c 6765  he usage of alge
+00011090: 6272 6169 6320 6461 7461 2074 7970 6573  braic data types
+000110a0: 2069 6e20 6f74 6865 7220 6675 6e63 7469   in other functi
+000110b0: 6f6e 616c 2070 726f 6772 616d 6d69 6e67  onal programming
+000110c0: 206c 616e 6775 6167 6573 2e5f 0a0a 6060   languages._..``
+000110d0: 6063 6f63 6f6e 7574 0a64 6566 2064 7570  `coconut.def dup
+000110e0: 6c69 6361 7465 5f66 6972 7374 285b 785d  licate_first([x]
+000110f0: 202b 2078 7320 6173 206c 2920 3d0a 2020   + xs as l) =.  
+00011100: 2020 5b78 5d20 2b20 6c0a 0a5b 312c 322c    [x] + l..[1,2,
+00011110: 335d 207c 3e20 6475 706c 6963 6174 655f  3] |> duplicate_
+00011120: 6669 7273 7420 7c3e 2070 7269 6e74 0a60  first |> print.`
+00011130: 6060 0a5f 5368 6f77 6361 7365 7320 6865  ``._Showcases he
+00011140: 6164 2d74 6169 6c20 7370 6c69 7474 696e  ad-tail splittin
+00011150: 672c 206f 6e65 206f 6620 7468 6520 6d6f  g, one of the mo
+00011160: 7374 2063 6f6d 6d6f 6e20 7573 6573 206f  st common uses o
+00011170: 6620 7061 7474 6572 6e2d 6d61 7463 6869  f pattern-matchi
+00011180: 6e67 2c20 7768 6572 6520 6120 602b 203c  ng, where a `+ <
+00011190: 7661 723e 6020 286f 7220 603a 3a20 3c76  var>` (or `:: <v
+000111a0: 6172 3e60 2066 6f72 2061 6e79 2069 7465  ar>` for any ite
+000111b0: 7261 626c 6529 2061 7420 7468 6520 656e  rable) at the en
+000111c0: 6420 6f66 2061 206c 6973 7420 6f72 2074  d of a list or t
+000111d0: 7570 6c65 206c 6974 6572 616c 2063 616e  uple literal can
+000111e0: 2062 6520 7573 6564 2074 6f20 6d61 7463   be used to matc
+000111f0: 6820 7468 6520 7265 7374 206f 6620 7468  h the rest of th
+00011200: 6520 7365 7175 656e 6365 2e5f 0a0a 6060  e sequence._..``
+00011210: 600a 6465 6620 7369 6576 6528 5b68 6561  `.def sieve([hea
+00011220: 645d 203a 3a20 7461 696c 2920 3d0a 2020  d] :: tail) =.  
+00011230: 2020 5b68 6561 645d 203a 3a20 7369 6576    [head] :: siev
+00011240: 6528 6e20 666f 7220 6e20 696e 2074 6169  e(n for n in tai
+00011250: 6c20 6966 206e 2025 2068 6561 6429 0a0a  l if n % head)..
+00011260: 6164 6470 6174 7465 726e 2064 6566 2073  addpattern def s
+00011270: 6965 7665 2828 7c7c 2929 203d 205b 5d0a  ieve((||)) = [].
+00011280: 6060 600a 5f53 686f 7763 6173 6573 2068  ```._Showcases h
+00011290: 6f77 2074 6f20 6d61 7463 6820 6167 6169  ow to match agai
+000112a0: 6e73 7420 6974 6572 6174 6f72 732c 206e  nst iterators, n
+000112b0: 616d 656c 7920 7468 6174 2074 6865 2065  amely that the e
+000112c0: 6d70 7479 2069 7465 7261 746f 7220 6361  mpty iterator ca
+000112d0: 7365 2028 6028 7c7c 2960 2920 6d75 7374  se (`(||)`) must
+000112e0: 2063 6f6d 6520 6c61 7374 2c20 6f74 6865   come last, othe
+000112f0: 7277 6973 6520 7468 6174 2063 6173 6520  rwise that case 
+00011300: 7769 6c6c 2065 7868 6175 7374 2074 6865  will exhaust the
+00011310: 2077 686f 6c65 2069 7465 7261 746f 7220   whole iterator 
+00011320: 6265 666f 7265 2061 6e79 206f 7468 6572  before any other
+00011330: 2070 6174 7465 726e 2068 6173 2061 2063   pattern has a c
+00011340: 6861 6e63 6520 746f 206d 6174 6368 2061  hance to match a
+00011350: 6761 696e 7374 2069 742e 5f0a 0a60 6060  gainst it._..```
+00011360: 0a64 6566 206f 6464 5f70 7269 6d65 7328  .def odd_primes(
+00011370: 703d 3329 203d 0a20 2020 2028 702c 2920  p=3) =.    (p,) 
+00011380: 3a3a 2066 696c 7465 7228 2d3e 205f 2025  :: filter(-> _ %
+00011390: 2070 2021 3d20 302c 206f 6464 5f70 7269   p != 0, odd_pri
+000113a0: 6d65 7328 7020 2b20 3229 290a 0a64 6566  mes(p + 2))..def
+000113b0: 2070 7269 6d65 7328 2920 3d0a 2020 2020   primes() =.    
+000113c0: 2832 2c29 203a 3a20 6f64 645f 7072 696d  (2,) :: odd_prim
+000113d0: 6573 2829 0a0a 6465 6620 7477 696e 5f70  es()..def twin_p
+000113e0: 7269 6d65 7328 5f20 3a3a 205b 702c 2028  rimes(_ :: [p, (
+000113f0: 2e2d 3229 202d 3e20 705d 203a 3a20 7073  .-2) -> p] :: ps
+00011400: 2920 3d0a 2020 2020 5b28 702c 2070 2b32  ) =.    [(p, p+2
+00011410: 295d 203a 3a20 7477 696e 5f70 7269 6d65  )] :: twin_prime
+00011420: 7328 5b70 202b 2032 5d20 3a3a 2070 7329  s([p + 2] :: ps)
+00011430: 0a0a 6164 6470 6174 7465 726e 2064 6566  ..addpattern def
+00011440: 2074 7769 6e5f 7072 696d 6573 2829 203d   twin_primes() =
+00011450: 2020 2320 7479 7065 3a20 6967 6e6f 7265    # type: ignore
+00011460: 0a20 2020 2074 7769 6e5f 7072 696d 6573  .    twin_primes
+00011470: 2870 7269 6d65 7328 2929 0a0a 7477 696e  (primes())..twin
+00011480: 5f70 7269 6d65 7328 2924 5b3a 355d 207c  _primes()$[:5] |
+00011490: 3e20 6c69 7374 207c 3e20 7072 696e 740a  > list |> print.
+000114a0: 6060 600a 5f53 686f 7763 6173 6573 2074  ```._Showcases t
+000114b0: 6865 2075 7365 206f 6620 616e 2069 7465  he use of an ite
+000114c0: 7261 626c 6520 7365 6172 6368 2070 6174  rable search pat
+000114d0: 7465 726e 2061 6e64 2061 2076 6965 7720  tern and a view 
+000114e0: 7061 7474 6572 6e20 746f 2063 6f6e 7374  pattern to const
+000114f0: 7275 6374 2061 6e20 6974 6572 6174 6f72  ruct an iterator
+00011500: 206f 6620 616c 6c20 7477 696e 2070 7269   of all twin pri
+00011510: 6d65 732e 5f0a 0a2a 2a50 7974 686f 6e3a  mes._..**Python:
+00011520: 2a2a 0a5f 4361 6e27 7420 6265 2064 6f6e  **._Can't be don
+00011530: 6520 7769 7468 6f75 7420 6120 6c6f 6e67  e without a long
+00011540: 2073 6572 6965 7320 6f66 2063 6865 636b   series of check
+00011550: 7320 666f 7220 6561 6368 2060 6d61 7463  s for each `matc
+00011560: 6860 2073 7461 7465 6d65 6e74 2e20 5365  h` statement. Se
+00011570: 6520 7468 6520 636f 6d70 696c 6564 2063  e the compiled c
+00011580: 6f64 6520 666f 7220 7468 6520 5079 7468  ode for the Pyth
+00011590: 6f6e 2073 796e 7461 782e 5f0a 0a23 2323  on syntax._..###
+000115a0: 2060 6361 7365 600a 0a43 6f63 6f6e 7574   `case`..Coconut
+000115b0: 2773 2060 6361 7365 6020 626c 6f63 6b73  's `case` blocks
+000115c0: 2073 6572 7665 2061 7320 616e 2065 7874   serve as an ext
+000115d0: 656e 7369 6f6e 206f 6620 436f 636f 6e75  ension of Coconu
+000115e0: 7427 7320 606d 6174 6368 6020 7374 6174  t's `match` stat
+000115f0: 656d 656e 7420 666f 7220 7065 7266 6f72  ement for perfor
+00011600: 6d69 6e67 206d 756c 7469 706c 6520 606d  ming multiple `m
+00011610: 6174 6368 6020 7374 6174 656d 656e 7473  atch` statements
+00011620: 2061 6761 696e 7374 2074 6865 2073 616d   against the sam
+00011630: 6520 7661 6c75 652c 2077 6865 7265 206f  e value, where o
+00011640: 6e6c 7920 6f6e 6520 6f66 2074 6865 6d20  nly one of them 
+00011650: 7368 6f75 6c64 2073 7563 6365 6564 2e20  should succeed. 
+00011660: 556e 6c69 6b65 206c 6f6e 6520 606d 6174  Unlike lone `mat
+00011670: 6368 6020 7374 6174 656d 656e 7473 2c20  ch` statements, 
+00011680: 6f6e 6c79 206f 6e65 206d 6174 6368 2073  only one match s
+00011690: 7461 7465 6d65 6e74 2069 6e73 6964 6520  tatement inside 
+000116a0: 6f66 2061 2060 6361 7365 6020 626c 6f63  of a `case` bloc
+000116b0: 6b20 7769 6c6c 2065 7665 7220 7375 6363  k will ever succ
+000116c0: 6565 642c 2061 6e64 2074 6875 7320 6d6f  eed, and thus mo
+000116d0: 7265 2067 656e 6572 616c 206d 6174 6368  re general match
+000116e0: 6573 2073 686f 756c 6420 6265 2070 7574  es should be put
+000116f0: 2062 656c 6f77 206d 6f72 6520 7370 6563   below more spec
+00011700: 6966 6963 206f 6e65 732e 0a0a 436f 636f  ific ones...Coco
+00011710: 6e75 7427 7320 6063 6173 6560 2062 6c6f  nut's `case` blo
+00011720: 636b 7320 6172 6520 616e 2065 7874 656e  cks are an exten
+00011730: 7369 6f6e 206f 6620 5079 7468 6f6e 2033  sion of Python 3
+00011740: 2e31 3027 7320 5b60 6361 7365 6020 626c  .10's [`case` bl
+00011750: 6f63 6b73 5d28 6874 7470 733a 2f2f 7777  ocks](https://ww
+00011760: 772e 7079 7468 6f6e 2e6f 7267 2f64 6576  w.python.org/dev
+00011770: 2f70 6570 732f 7065 702d 3036 3334 2920  /peps/pep-0634) 
+00011780: 746f 2073 7570 706f 7274 2061 6464 6974  to support addit
+00011790: 696f 6e61 6c20 7061 7474 6572 6e2d 6d61  ional pattern-ma
+000117a0: 7463 6869 6e67 2063 6f6e 7374 7275 6374  tching construct
+000117b0: 7320 6164 6465 6420 6279 2043 6f63 6f6e  s added by Cocon
+000117c0: 7574 2028 616e 6420 436f 636f 6e75 7420  ut (and Coconut 
+000117d0: 7769 6c6c 2065 6e73 7572 6520 7468 6174  will ensure that
+000117e0: 2074 6865 7920 776f 726b 206f 6e20 616c   they work on al
+000117f0: 6c20 5079 7468 6f6e 2076 6572 7369 6f6e  l Python version
+00011800: 732c 206e 6f74 206a 7573 7420 332e 3130  s, not just 3.10
+00011810: 2b29 2e0a 0a45 6163 6820 7061 7474 6572  +)...Each patter
+00011820: 6e20 696e 2061 2063 6173 6520 626c 6f63  n in a case bloc
+00011830: 6b20 6973 2063 6865 636b 6564 2075 6e74  k is checked unt
+00011840: 696c 2061 206d 6174 6368 2069 7320 666f  il a match is fo
+00011850: 756e 642c 2061 6e64 2074 6865 6e20 7468  und, and then th
+00011860: 6520 636f 7272 6573 706f 6e64 696e 6720  e corresponding 
+00011870: 626f 6479 2069 7320 6578 6563 7574 6564  body is executed
+00011880: 2c20 616e 6420 7468 6520 6361 7365 2062  , and the case b
+00011890: 6c6f 636b 2074 6572 6d69 6e61 7465 642e  lock terminated.
+000118a0: 2054 6865 2073 796e 7461 7820 666f 7220   The syntax for 
+000118b0: 6361 7365 2062 6c6f 636b 7320 6973 0a60  case blocks is.`
+000118c0: 6060 636f 636f 6e75 740a 6d61 7463 6820  ``coconut.match 
+000118d0: 3c76 616c 7565 3e3a 0a20 2020 2063 6173  <value>:.    cas
+000118e0: 6520 3c70 6174 7465 726e 3e20 5b69 6620  e <pattern> [if 
+000118f0: 3c63 6f6e 643e 5d3a 0a20 2020 2020 2020  <cond>]:.       
+00011900: 203c 626f 6479 3e0a 2020 2020 6361 7365   <body>.    case
+00011910: 203c 7061 7474 6572 6e3e 205b 6966 203c   <pattern> [if <
+00011920: 636f 6e64 3e5d 3a0a 2020 2020 2020 2020  cond>]:.        
+00011930: 3c62 6f64 793e 0a20 2020 202e 2e2e 0a5b  <body>.    ....[
+00011940: 656c 7365 3a0a 2020 2020 3c62 6f64 793e  else:.    <body>
+00011950: 5d0a 6060 600a 7768 6572 6520 603c 7061  ].```.where `<pa
+00011960: 7474 6572 6e3e 6020 6973 2061 6e79 2060  ttern>` is any `
+00011970: 6d61 7463 6860 2070 6174 7465 726e 2c20  match` pattern, 
+00011980: 603c 7661 6c75 653e 6020 6973 2074 6865  `<value>` is the
+00011990: 2069 7465 6d20 746f 206d 6174 6368 2061   item to match a
+000119a0: 6761 696e 7374 2c20 603c 636f 6e64 3e60  gainst, `<cond>`
+000119b0: 2069 7320 616e 206f 7074 696f 6e61 6c20   is an optional 
+000119c0: 6164 6469 7469 6f6e 616c 2063 6865 636b  additional check
+000119d0: 2c20 616e 6420 603c 626f 6479 3e60 2069  , and `<body>` i
+000119e0: 7320 7369 6d70 6c79 2063 6f64 6520 7468  s simply code th
+000119f0: 6174 2069 7320 6578 6563 7574 6564 2069  at is executed i
+00011a00: 6620 7468 6520 6865 6164 6572 2061 626f  f the header abo
+00011a10: 7665 2069 7420 7375 6363 6565 6473 2e20  ve it succeeds. 
+00011a20: 4e6f 7465 2074 6865 2061 6273 656e 6365  Note the absence
+00011a30: 206f 6620 616e 2060 696e 6020 696e 2074   of an `in` in t
+00011a40: 6865 2060 6d61 7463 6860 2073 7461 7465  he `match` state
+00011a50: 6d65 6e74 733a 2074 6861 7427 7320 6265  ments: that's be
+00011a60: 6361 7573 6520 7468 6520 603c 7661 6c75  cause the `<valu
+00011a70: 653e 6020 696e 2060 6361 7365 203c 7661  e>` in `case <va
+00011a80: 6c75 653e 6020 6973 2074 616b 696e 6720  lue>` is taking 
+00011a90: 6974 7320 706c 6163 652e 2049 6620 6e6f  its place. If no
+00011aa0: 2060 656c 7365 6020 6973 2070 7265 7365   `else` is prese
+00011ab0: 6e74 2061 6e64 206e 6f20 6d61 7463 6820  nt and no match 
+00011ac0: 7375 6363 6565 6473 2c20 7468 656e 2074  succeeds, then t
+00011ad0: 6865 2060 6361 7365 6020 7374 6174 656d  he `case` statem
+00011ae0: 656e 7420 6973 2073 696d 706c 7920 736b  ent is simply sk
+00011af0: 6970 7065 6420 6f76 6572 2061 7320 7769  ipped over as wi
+00011b00: 7468 205b 606d 6174 6368 6020 7374 6174  th [`match` stat
+00011b10: 656d 656e 7473 5d28 236d 6174 6368 2920  ements](#match) 
+00011b20: 2874 686f 7567 6820 756e 6c69 6b65 205b  (though unlike [
+00011b30: 6465 7374 7275 6374 7572 696e 6720 6173  destructuring as
+00011b40: 7369 676e 6d65 6e74 735d 2823 6465 7374  signments](#dest
+00011b50: 7275 6374 7572 696e 672d 6173 7369 676e  ructuring-assign
+00011b60: 6d65 6e74 2929 2e0a 0a41 6464 6974 696f  ment))...Additio
+00011b70: 6e61 6c6c 792c 2060 6361 7365 7360 2063  nally, `cases` c
+00011b80: 616e 2062 6520 7573 6564 2061 7320 7468  an be used as th
+00011b90: 6520 746f 702d 6c65 7665 6c20 6b65 7977  e top-level keyw
+00011ba0: 6f72 6420 696e 7374 6561 6420 6f66 2060  ord instead of `
+00011bb0: 6d61 7463 6860 2c20 616e 6420 696e 2073  match`, and in s
+00011bc0: 7563 6820 6120 6063 6173 6560 2062 6c6f  uch a `case` blo
+00011bd0: 636b 2060 6d61 7463 6860 2069 7320 616c  ck `match` is al
+00011be0: 6c6f 7765 6420 666f 7220 6561 6368 2063  lowed for each c
+00011bf0: 6173 6520 7261 7468 6572 2074 6861 6e20  ase rather than 
+00011c00: 6063 6173 6560 2e20 5f44 4550 5245 4341  `case`. _DEPRECA
+00011c10: 5445 443a 2043 6f63 6f6e 7574 2061 6c73  TED: Coconut als
+00011c20: 6f20 7375 7070 6f72 7473 2060 6361 7365  o supports `case
+00011c30: 6020 696e 7374 6561 6420 6f66 2060 6361  ` instead of `ca
+00011c40: 7365 7360 2061 7320 7468 6520 746f 702d  ses` as the top-
+00011c50: 6c65 7665 6c20 6b65 7977 6f72 6420 666f  level keyword fo
+00011c60: 7220 6261 636b 7761 7264 732d 636f 6d70  r backwards-comp
+00011c70: 6174 6962 696c 6974 7920 7075 7270 6f73  atibility purpos
+00011c80: 6573 2e5f 0a0a 2323 2323 2320 4578 616d  es._..##### Exam
+00011c90: 706c 6573 0a0a 2a2a 436f 636f 6e75 743a  ples..**Coconut:
+00011ca0: 2a2a 0a60 6060 636f 636f 6e75 740a 6465  **.```coconut.de
+00011cb0: 6620 636c 6173 7369 6679 5f73 6571 7565  f classify_seque
+00011cc0: 6e63 6528 7661 6c75 6529 3a0a 2020 2020  nce(value):.    
+00011cd0: 6f75 7420 3d20 2222 2020 2020 2020 2020  out = ""        
+00011ce0: 2320 756e 6c69 6b65 2077 6974 6820 6e6f  # unlike with no
+00011cf0: 726d 616c 206d 6174 6368 6573 2c20 6f6e  rmal matches, on
+00011d00: 6c79 206f 6e65 206f 6620 7468 6520 7061  ly one of the pa
+00011d10: 7474 6572 6e73 0a20 2020 206d 6174 6368  tterns.    match
+00011d20: 2076 616c 7565 3a20 2020 2020 2320 2077   value:     #  w
+00011d30: 696c 6c20 6d61 7463 682c 2061 6e64 206f  ill match, and o
+00011d40: 7574 2077 696c 6c20 6f6e 6c79 2067 6574  ut will only get
+00011d50: 2061 7070 656e 6465 6420 746f 206f 6e63   appended to onc
+00011d60: 650a 2020 2020 2020 2020 6361 7365 2028  e.        case (
+00011d70: 293a 0a20 2020 2020 2020 2020 2020 206f  ):.            o
+00011d80: 7574 202b 3d20 2265 6d70 7479 220a 2020  ut += "empty".  
+00011d90: 2020 2020 2020 6361 7365 2028 5f2c 293a        case (_,):
+00011da0: 0a20 2020 2020 2020 2020 2020 206f 7574  .            out
+00011db0: 202b 3d20 2273 696e 676c 6574 6f6e 220a   += "singleton".
+00011dc0: 2020 2020 2020 2020 6361 7365 2028 782c          case (x,
+00011dd0: 7829 3a0a 2020 2020 2020 2020 2020 2020  x):.            
+00011de0: 6f75 7420 2b3d 2022 6475 706c 6963 6174  out += "duplicat
+00011df0: 6520 7061 6972 206f 6620 222b 7374 7228  e pair of "+str(
+00011e00: 7829 0a20 2020 2020 2020 2063 6173 6520  x).        case 
+00011e10: 285f 2c5f 293a 0a20 2020 2020 2020 2020  (_,_):.         
+00011e20: 2020 206f 7574 202b 3d20 2270 6169 7222     out += "pair"
+00011e30: 0a20 2020 2020 2020 2063 6173 6520 5f20  .        case _ 
+00011e40: 6973 2028 7475 706c 652c 206c 6973 7429  is (tuple, list)
+00011e50: 3a0a 2020 2020 2020 2020 2020 2020 6f75  :.            ou
+00011e60: 7420 2b3d 2022 7365 7175 656e 6365 220a  t += "sequence".
+00011e70: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+00011e80: 2020 7261 6973 6520 5479 7065 4572 726f    raise TypeErro
+00011e90: 7228 290a 2020 2020 7265 7475 726e 206f  r().    return o
+00011ea0: 7574 0a0a 5b5d 207c 3e20 636c 6173 7369  ut..[] |> classi
+00011eb0: 6679 5f73 6571 7565 6e63 6520 7c3e 2070  fy_sequence |> p
+00011ec0: 7269 6e74 0a28 2920 7c3e 2063 6c61 7373  rint.() |> class
+00011ed0: 6966 795f 7365 7175 656e 6365 207c 3e20  ify_sequence |> 
+00011ee0: 7072 696e 740a 5b31 5d20 7c3e 2063 6c61  print.[1] |> cla
+00011ef0: 7373 6966 795f 7365 7175 656e 6365 207c  ssify_sequence |
+00011f00: 3e20 7072 696e 740a 2831 2c31 2920 7c3e  > print.(1,1) |>
+00011f10: 2063 6c61 7373 6966 795f 7365 7175 656e   classify_sequen
+00011f20: 6365 207c 3e20 7072 696e 740a 2831 2c32  ce |> print.(1,2
+00011f30: 2920 7c3e 2063 6c61 7373 6966 795f 7365  ) |> classify_se
+00011f40: 7175 656e 6365 207c 3e20 7072 696e 740a  quence |> print.
+00011f50: 2831 2c31 2c31 2920 7c3e 2063 6c61 7373  (1,1,1) |> class
+00011f60: 6966 795f 7365 7175 656e 6365 207c 3e20  ify_sequence |> 
+00011f70: 7072 696e 740a 6060 600a 5f45 7861 6d70  print.```._Examp
+00011f80: 6c65 206f 6620 7573 696e 6720 436f 636f  le of using Coco
+00011f90: 6e75 7427 7320 6063 6173 6560 2073 796e  nut's `case` syn
+00011fa0: 7461 782e 5f0a 6060 6063 6f63 6f6e 7574  tax._.```coconut
+00011fb0: 0a63 6173 6573 207b 2261 223a 2031 2c20  .cases {"a": 1, 
+00011fc0: 2262 223a 2032 7d3a 0a20 2020 206d 6174  "b": 2}:.    mat
+00011fd0: 6368 207b 2261 223a 2061 7d3a 0a20 2020  ch {"a": a}:.   
+00011fe0: 2020 2020 2070 6173 730a 2020 2020 6d61       pass.    ma
+00011ff0: 7463 6820 5f3a 0a20 2020 2020 2020 2061  tch _:.        a
+00012000: 7373 6572 7420 4661 6c73 650a 6173 7365  ssert False.asse
+00012010: 7274 2061 203d 3d20 310a 6060 600a 5f45  rt a == 1.```._E
+00012020: 7861 6d70 6c65 206f 6620 7468 6520 6063  xample of the `c
+00012030: 6173 6573 6020 6b65 7977 6f72 6420 696e  ases` keyword in
+00012040: 7374 6561 642e 5f0a 0a2a 2a50 7974 686f  stead._..**Pytho
+00012050: 6e3a 2a2a 0a5f 4361 6e27 7420 6265 2064  n:**._Can't be d
+00012060: 6f6e 6520 7769 7468 6f75 7420 6120 6c6f  one without a lo
+00012070: 6e67 2073 6572 6965 7320 6f66 2063 6865  ng series of che
+00012080: 636b 7320 666f 7220 6561 6368 2060 6d61  cks for each `ma
+00012090: 7463 6860 2073 7461 7465 6d65 6e74 2e20  tch` statement. 
+000120a0: 5365 6520 7468 6520 636f 6d70 696c 6564  See the compiled
+000120b0: 2063 6f64 6520 666f 7220 7468 6520 5079   code for the Py
+000120c0: 7468 6f6e 2073 796e 7461 782e 5f0a 0a23  thon syntax._..#
+000120d0: 2323 2060 6d61 7463 6820 666f 7260 0a0a  ## `match for`..
+000120e0: 436f 636f 6e75 7420 7375 7070 6f72 7473  Coconut supports
+000120f0: 2070 6174 7465 726e 2d6d 6174 6368 696e   pattern-matchin
+00012100: 6720 696e 2066 6f72 206c 6f6f 7073 2c20  g in for loops, 
+00012110: 7768 6572 6520 7468 6520 7061 7474 6572  where the patter
+00012120: 6e20 6973 206d 6174 6368 6564 2061 6761  n is matched aga
+00012130: 696e 7374 2065 6163 6820 6974 656d 2069  inst each item i
+00012140: 6e20 7468 6520 6974 6572 6162 6c65 2e20  n the iterable. 
+00012150: 5468 6520 7379 6e74 6178 2069 730a 6060  The syntax is.``
+00012160: 6063 6f63 6f6e 7574 0a5b 6d61 7463 685d  `coconut.[match]
+00012170: 2066 6f72 203c 7061 7474 6572 6e3e 2069   for <pattern> i
+00012180: 6e20 3c69 7465 7261 626c 653e 3a0a 2020  n <iterable>:.  
+00012190: 2020 3c62 6f64 793e 0a60 6060 0a77 6869    <body>.```.whi
+000121a0: 6368 2069 7320 6571 7569 7661 6c65 6e74  ch is equivalent
+000121b0: 2074 6f20 7468 6520 5b64 6573 7472 7563   to the [destruc
+000121c0: 7475 7269 6e67 2061 7373 6967 6e6d 656e  turing assignmen
+000121d0: 745d 2823 6465 7374 7275 6374 7572 696e  t](#destructurin
+000121e0: 672d 6173 7369 676e 6d65 6e74 290a 6060  g-assignment).``
+000121f0: 6063 6f63 6f6e 7574 0a66 6f72 2065 6c65  `coconut.for ele
+00012200: 6d20 696e 203c 6974 6572 6162 6c65 3e3a  m in <iterable>:
+00012210: 0a20 2020 206d 6174 6368 203c 7061 7474  .    match <patt
+00012220: 6572 6e3e 203d 2065 6c65 6d0a 2020 2020  ern> = elem.    
+00012230: 3c62 6f64 793e 0a60 6060 0a0a 5061 7474  <body>.```..Patt
+00012240: 6572 6e2d 6d61 7463 6869 6e67 2063 616e  ern-matching can
+00012250: 2061 6c73 6f20 6265 2075 7365 6420 696e   also be used in
+00012260: 2060 6173 796e 6320 666f 7260 206c 6f6f   `async for` loo
+00012270: 7073 2c20 7769 7468 2062 6f74 6820 6061  ps, with both `a
+00012280: 7379 6e63 206d 6174 6368 2066 6f72 6020  sync match for` 
+00012290: 616e 6420 606d 6174 6368 2061 7379 6e63  and `match async
+000122a0: 2066 6f72 6020 616c 6c6f 7765 6420 6173   for` allowed as
+000122b0: 2065 7870 6c69 6369 7420 7379 6e74 6178   explicit syntax
+000122c0: 6573 2e0a 0a23 2323 2323 2045 7861 6d70  es...##### Examp
+000122d0: 6c65 0a0a 2a2a 436f 636f 6e75 743a 2a2a  le..**Coconut:**
+000122e0: 0a60 6060 0a66 6f72 207b 2275 7365 7222  .```.for {"user"
+000122f0: 3a20 7569 642c 202a 2a5f 7d20 696e 2067  : uid, **_} in g
+00012300: 6574 5f64 6174 6128 293a 0a20 2020 2070  et_data():.    p
+00012310: 7269 6e74 2875 6964 290a 6060 600a 0a2a  rint(uid).```..*
+00012320: 2a50 7974 686f 6e3a 2a2a 0a60 6060 0a66  *Python:**.```.f
+00012330: 6f72 2075 7365 725f 6461 7461 2069 6e20  or user_data in 
+00012340: 6765 745f 6461 7461 2829 3a0a 2020 2020  get_data():.    
+00012350: 7569 6420 3d20 7573 6572 5f64 6174 615b  uid = user_data[
+00012360: 2275 7365 7222 5d0a 2020 2020 7072 696e  "user"].    prin
+00012370: 7428 7569 6429 0a60 6060 0a0a 2323 2320  t(uid).```..### 
+00012380: 6064 6174 6160 0a0a 436f 636f 6e75 7427  `data`..Coconut'
+00012390: 7320 6064 6174 6160 206b 6579 776f 7264  s `data` keyword
+000123a0: 2069 7320 7573 6564 2074 6f20 6372 6561   is used to crea
+000123b0: 7465 2069 6d6d 7574 6162 6c65 2c20 616c  te immutable, al
+000123c0: 6765 6272 6169 6320 6461 7461 2074 7970  gebraic data typ
+000123d0: 6573 2c20 696e 636c 7564 696e 6720 6275  es, including bu
+000123e0: 696c 742d 696e 2073 7570 706f 7274 2066  ilt-in support f
+000123f0: 6f72 2064 6573 7472 7563 7475 7269 6e67  or destructuring
+00012400: 205b 7061 7474 6572 6e2d 6d61 7463 6869   [pattern-matchi
+00012410: 6e67 5d28 236d 6174 6368 2920 616e 6420  ng](#match) and 
+00012420: 5b60 666d 6170 605d 2823 666d 6170 292e  [`fmap`](#fmap).
+00012430: 0a0a 5468 6520 7379 6e74 6178 2066 6f72  ..The syntax for
+00012440: 2060 6461 7461 6020 626c 6f63 6b73 2069   `data` blocks i
+00012450: 7320 6120 6372 6f73 7320 6265 7477 6565  s a cross betwee
+00012460: 6e20 7468 6520 7379 6e74 6178 2066 6f72  n the syntax for
+00012470: 2066 756e 6374 696f 6e73 2061 6e64 2074   functions and t
+00012480: 6865 2073 796e 7461 7820 666f 7220 636c  he syntax for cl
+00012490: 6173 7365 732e 2054 6865 2066 6972 7374  asses. The first
+000124a0: 206c 696e 6520 6c6f 6f6b 7320 6c69 6b65   line looks like
+000124b0: 2061 2066 756e 6374 696f 6e20 6465 6669   a function defi
+000124c0: 6e69 7469 6f6e 2c20 6275 7420 7468 6520  nition, but the 
+000124d0: 7265 7374 206f 6620 7468 6520 626f 6479  rest of the body
+000124e0: 206c 6f6f 6b73 206c 696b 6520 6120 636c   looks like a cl
+000124f0: 6173 732c 2075 7375 616c 6c79 2063 6f6e  ass, usually con
+00012500: 7461 696e 696e 6720 6d65 7468 6f64 2064  taining method d
+00012510: 6566 696e 6974 696f 6e73 2e20 5468 6973  efinitions. This
+00012520: 2069 7320 6265 6361 7573 6520 7768 696c   is because whil
+00012530: 6520 6064 6174 6160 2062 6c6f 636b 7320  e `data` blocks 
+00012540: 6163 7475 616c 6c79 2065 6e64 2075 7020  actually end up 
+00012550: 6173 2063 6c61 7373 6573 2069 6e20 5079  as classes in Py
+00012560: 7468 6f6e 2c20 436f 636f 6e75 7420 6175  thon, Coconut au
+00012570: 746f 6d61 7469 6361 6c6c 7920 6372 6561  tomatically crea
+00012580: 7465 7320 6120 7370 6563 6961 6c2c 2069  tes a special, i
+00012590: 6d6d 7574 6162 6c65 2063 6f6e 7374 7275  mmutable constru
+000125a0: 6374 6f72 2062 6173 6564 206f 6e20 7468  ctor based on th
+000125b0: 6520 6769 7665 6e20 6172 6775 6d65 6e74  e given argument
+000125c0: 732e 0a0a 436f 636f 6e75 7420 6461 7461  s...Coconut data
+000125d0: 2073 7461 7465 6d65 6e74 2073 796e 7461   statement synta
+000125e0: 7820 6c6f 6f6b 7320 6c69 6b65 3a0a 6060  x looks like:.``
+000125f0: 6063 6f63 6f6e 7574 0a64 6174 6120 3c6e  `coconut.data <n
+00012600: 616d 653e 283c 6172 6773 3e29 205b 6672  ame>(<args>) [fr
+00012610: 6f6d 203c 696e 6865 7269 7473 3e5d 3a0a  om <inherits>]:.
+00012620: 2020 2020 3c62 6f64 793e 0a60 6060 0a60      <body>.```.`
+00012630: 3c6e 616d 653e 6020 6973 2074 6865 206e  <name>` is the n
+00012640: 616d 6520 6f66 2074 6865 206e 6577 2064  ame of the new d
+00012650: 6174 6120 7479 7065 2c20 603c 6172 6773  ata type, `<args
+00012660: 3e60 2061 7265 2074 6865 2061 7267 756d  >` are the argum
+00012670: 656e 7473 2074 6f20 6974 7320 636f 6e73  ents to its cons
+00012680: 7472 7563 746f 7220 6173 2077 656c 6c20  tructor as well 
+00012690: 6173 2074 6865 206e 616d 6573 206f 6620  as the names of 
+000126a0: 6974 7320 6174 7472 6962 7574 6573 2c20  its attributes, 
+000126b0: 603c 626f 6479 3e60 2063 6f6e 7461 696e  `<body>` contain
+000126c0: 7320 7468 6520 6461 7461 2074 7970 6527  s the data type'
+000126d0: 7320 6d65 7468 6f64 732c 2061 6e64 2060  s methods, and `
+000126e0: 3c69 6e68 6572 6974 733e 6020 6f70 7469  <inherits>` opti
+000126f0: 6f6e 616c 6c79 2063 6f6e 7461 696e 7320  onally contains 
+00012700: 616e 7920 6465 7369 7265 6420 6261 7365  any desired base
+00012710: 2063 6c61 7373 6573 2e0a 0a43 6f63 6f6e   classes...Cocon
+00012720: 7574 2061 6c6c 6f77 7320 6461 7461 2066  ut allows data f
+00012730: 6965 6c64 7320 696e 2060 3c61 7267 733e  ields in `<args>
+00012740: 6020 746f 2068 6176 6520 6465 6661 756c  ` to have defaul
+00012750: 7473 2061 6e64 2f6f 7220 5b74 7970 6520  ts and/or [type 
+00012760: 616e 6e6f 7461 7469 6f6e 735d 2823 656e  annotations](#en
+00012770: 6861 6e63 6564 2d74 7970 652d 616e 6e6f  hanced-type-anno
+00012780: 7461 7469 6f6e 2920 6174 7461 6368 6564  tation) attached
+00012790: 2074 6f20 7468 656d 2c20 616e 6420 7375   to them, and su
+000127a0: 7070 6f72 7473 2061 2073 7461 7272 6564  pports a starred
+000127b0: 2070 6172 616d 6574 6572 2061 7420 7468   parameter at th
+000127c0: 6520 656e 6420 746f 2063 6f6c 6c65 6374  e end to collect
+000127d0: 2065 7874 7261 2061 7267 756d 656e 7473   extra arguments
+000127e0: 2e20 4164 6469 7469 6f6e 616c 6c79 2c20  . Additionally, 
+000127f0: 436f 636f 6e75 7420 616c 6c6f 7773 2074  Coconut allows t
+00012800: 7970 6520 7061 7261 6d65 7465 7273 2074  ype parameters t
+00012810: 6f20 6265 2073 7065 6369 6669 6564 2069  o be specified i
+00012820: 6e20 6272 6163 6b65 7473 2061 6674 6572  n brackets after
+00012830: 2060 3c6e 616d 653e 6020 7573 696e 6720   `<name>` using 
+00012840: 436f 636f 6e75 7427 7320 5b74 7970 6520  Coconut's [type 
+00012850: 7061 7261 6d65 7465 7220 7379 6e74 6178  parameter syntax
+00012860: 5d28 2374 7970 652d 7061 7261 6d65 7465  ](#type-paramete
+00012870: 722d 7379 6e74 6178 292e 0a0a 5772 6974  r-syntax)...Writ
+00012880: 696e 6720 636f 6e73 7472 7563 746f 7273  ing constructors
+00012890: 2066 6f72 2060 6461 7461 6020 7479 7065   for `data` type
+000128a0: 7320 6d75 7374 2062 6520 646f 6e65 2075  s must be done u
+000128b0: 7369 6e67 2074 6865 2060 5f5f 6e65 775f  sing the `__new_
+000128c0: 5f60 206d 6574 686f 6420 696e 7374 6561  _` method instea
+000128d0: 6420 6f66 2074 6865 2060 5f5f 696e 6974  d of the `__init
+000128e0: 5f5f 6020 6d65 7468 6f64 2e20 466f 7220  __` method. For 
+000128f0: 6865 6c70 696e 6720 746f 2065 6173 696c  helping to easil
+00012900: 7920 7772 6974 6520 605f 5f6e 6577 5f5f  y write `__new__
+00012910: 6020 6d65 7468 6f64 732c 2043 6f63 6f6e  ` methods, Cocon
+00012920: 7574 2070 726f 7669 6465 7320 7468 6520  ut provides the 
+00012930: 5b6d 616b 6564 6174 615d 2823 6d61 6b65  [makedata](#make
+00012940: 6461 7461 2920 6275 696c 742d 696e 2e0a  data) built-in..
+00012950: 0a53 7562 636c 6173 7369 6e67 2060 6461  .Subclassing `da
+00012960: 7461 6020 7479 7065 7320 6361 6e20 6265  ta` types can be
+00012970: 2064 6f6e 6520 6561 7369 6c79 2062 7920   done easily by 
+00012980: 696e 6865 7269 7469 6e67 2066 726f 6d20  inheriting from 
+00012990: 7468 656d 2065 6974 6865 7220 696e 2061  them either in a
+000129a0: 6e6f 7468 6572 2060 6461 7461 6020 7374  nother `data` st
+000129b0: 6174 656d 656e 7420 6f72 2061 206e 6f72  atement or a nor
+000129c0: 6d61 6c20 5079 7468 6f6e 2060 636c 6173  mal Python `clas
+000129d0: 7360 2e20 4966 2061 206e 6f72 6d61 6c20  s`. If a normal 
+000129e0: 6063 6c61 7373 6020 7374 6174 656d 656e  `class` statemen
+000129f0: 7420 6973 2075 7365 642c 206d 616b 696e  t is used, makin
+00012a00: 6720 7468 6520 6e65 7720 7375 6263 6c61  g the new subcla
+00012a10: 7373 2069 6d6d 7574 6162 6c65 2077 696c  ss immutable wil
+00012a20: 6c20 7265 7175 6972 6520 6164 6469 6e67  l require adding
+00012a30: 2074 6865 206c 696e 650a 6060 6063 6f63   the line.```coc
+00012a40: 6f6e 7574 0a5f 5f73 6c6f 7473 5f5f 203d  onut.__slots__ =
+00012a50: 2028 290a 6060 600a 7768 6963 6820 7769   ().```.which wi
+00012a60: 6c6c 206e 6565 6420 746f 2062 6520 7075  ll need to be pu
+00012a70: 7420 696e 2074 6865 2073 7562 636c 6173  t in the subclas
+00012a80: 7320 626f 6479 2062 6566 6f72 6520 616e  s body before an
+00012a90: 7920 6d65 7468 6f64 206f 7220 6174 7472  y method or attr
+00012aa0: 6962 7574 6520 6465 6669 6e69 7469 6f6e  ibute definition
+00012ab0: 732e 2049 6620 796f 7520 6e65 6564 2074  s. If you need t
+00012ac0: 6f20 696e 6865 7269 7420 6d61 6769 6320  o inherit magic 
+00012ad0: 6d65 7468 6f64 7320 6672 6f6d 2061 2062  methods from a b
+00012ae0: 6173 6520 636c 6173 7320 696e 2079 6f75  ase class in you
+00012af0: 7220 6064 6174 6160 2074 7970 652c 2073  r `data` type, s
+00012b00: 7563 6820 7375 6263 6c61 7373 696e 6720  uch subclassing 
+00012b10: 6973 2074 6865 2072 6563 6f6d 6d65 6e64  is the recommend
+00012b20: 6564 206d 6574 686f 642c 2061 7320 7468  ed method, as th
+00012b30: 6520 6064 6174 6120 2e2e 2e20 6672 6f6d  e `data ... from
+00012b40: 202e 2e2e 6020 7379 6e74 6178 2077 696c   ...` syntax wil
+00012b50: 6c20 6f76 6572 7772 6974 6520 616e 7920  l overwrite any 
+00012b60: 6d61 6769 6320 6d65 7468 6f64 7320 696e  magic methods in
+00012b70: 2074 6865 2062 6173 6520 636c 6173 7320   the base class 
+00012b80: 7769 7468 206d 6167 6963 206d 6574 686f  with magic metho
+00012b90: 6473 2062 7569 6c74 2066 6f72 2074 6865  ds built for the
+00012ba0: 206e 6577 2060 6461 7461 6020 7479 7065   new `data` type
+00012bb0: 2e0a 0a43 6f6d 7061 7265 6420 746f 205b  ...Compared to [
+00012bc0: 606e 616d 6564 7475 706c 6560 735d 2823  `namedtuple`s](#
+00012bd0: 616e 6f6e 796d 6f75 732d 6e61 6d65 6474  anonymous-namedt
+00012be0: 7570 6c65 7329 2c20 6672 6f6d 2077 6869  uples), from whi
+00012bf0: 6368 2060 6461 7461 6020 7479 7065 7320  ch `data` types 
+00012c00: 6172 6520 6465 7269 7665 642c 2060 6461  are derived, `da
+00012c10: 7461 6020 7479 7065 733a 0a0a 2d20 7573  ta` types:..- us
+00012c20: 6520 7479 7065 6420 6571 7561 6c69 7479  e typed equality
+00012c30: 2c0a 2d20 646f 6e27 7420 7375 7070 6f72  ,.- don't suppor
+00012c40: 7420 7475 706c 6520 6164 6469 7469 6f6e  t tuple addition
+00012c50: 206f 7220 6d75 6c74 6970 6c69 6361 7469   or multiplicati
+00012c60: 6f6e 2028 756e 6c65 7373 2065 7870 6c69  on (unless expli
+00012c70: 6369 746c 7920 6465 6669 6e65 6420 7669  citly defined vi
+00012c80: 6120 7370 6563 6961 6c20 6d65 7468 6f64  a special method
+00012c90: 7320 696e 2074 6865 2060 6461 7461 6020  s in the `data` 
+00012ca0: 626f 6479 292c 0a2d 2073 7570 706f 7274  body),.- support
+00012cb0: 2073 7461 7272 6564 2c20 7479 7065 642c   starred, typed,
+00012cc0: 2061 6e64 205b 7061 7474 6572 6e2d 6d61   and [pattern-ma
+00012cd0: 7463 6869 6e67 5d28 236d 6174 6368 2d64  tching](#match-d
+00012ce0: 6174 6129 2061 7267 756d 656e 7473 2c20  ata) arguments, 
+00012cf0: 616e 640a 2d20 6861 7665 2073 7065 6369  and.- have speci
+00012d00: 616c 205b 7061 7474 6572 6e2d 6d61 7463  al [pattern-matc
+00012d10: 6869 6e67 5d28 236d 6174 6368 2920 6265  hing](#match) be
+00012d20: 6861 7669 6f72 2e0a 0a4c 696b 6520 5b60  havior...Like [`
+00012d30: 6e61 6d65 6474 7570 6c65 6073 5d28 6874  namedtuple`s](ht
+00012d40: 7470 733a 2f2f 646f 6373 2e70 7974 686f  tps://docs.pytho
+00012d50: 6e2e 6f72 672f 332f 6c69 6272 6172 792f  n.org/3/library/
+00012d60: 636f 6c6c 6563 7469 6f6e 732e 6874 6d6c  collections.html
+00012d70: 236e 616d 6564 7475 706c 652d 6661 6374  #namedtuple-fact
+00012d80: 6f72 792d 6675 6e63 7469 6f6e 2d66 6f72  ory-function-for
+00012d90: 2d74 7570 6c65 732d 7769 7468 2d6e 616d  -tuples-with-nam
+00012da0: 6564 2d66 6965 6c64 7329 2c20 6064 6174  ed-fields), `dat
+00012db0: 6160 2074 7970 6573 2061 6c73 6f20 7375  a` types also su
+00012dc0: 7070 6f72 7420 6120 7661 7269 6574 7920  pport a variety 
+00012dd0: 6f66 2065 7874 7261 206d 6574 686f 6473  of extra methods
+00012de0: 2c20 7375 6368 2061 7320 5b60 2e5f 6173  , such as [`._as
+00012df0: 6469 6374 2829 605d 2868 7474 7073 3a2f  dict()`](https:/
+00012e00: 2f64 6f63 732e 7079 7468 6f6e 2e6f 7267  /docs.python.org
+00012e10: 2f33 2f6c 6962 7261 7279 2f63 6f6c 6c65  /3/library/colle
+00012e20: 6374 696f 6e73 2e68 746d 6c23 636f 6c6c  ctions.html#coll
+00012e30: 6563 7469 6f6e 732e 736f 6d65 6e61 6d65  ections.somename
+00012e40: 6474 7570 6c65 2e5f 6173 6469 6374 2920  dtuple._asdict) 
+00012e50: 616e 6420 5b60 2e5f 7265 706c 6163 6528  and [`._replace(
+00012e60: 2a2a 6b77 6172 6773 2960 5d28 6874 7470  **kwargs)`](http
+00012e70: 733a 2f2f 646f 6373 2e70 7974 686f 6e2e  s://docs.python.
+00012e80: 6f72 672f 332f 6c69 6272 6172 792f 636f  org/3/library/co
+00012e90: 6c6c 6563 7469 6f6e 732e 6874 6d6c 2363  llections.html#c
+00012ea0: 6f6c 6c65 6374 696f 6e73 2e73 6f6d 656e  ollections.somen
+00012eb0: 616d 6564 7475 706c 652e 5f72 6570 6c61  amedtuple._repla
+00012ec0: 6365 292e 0a0a 2323 2323 2320 5261 7469  ce)...##### Rati
+00012ed0: 6f6e 616c 650a 0a41 206d 6169 6e73 7461  onale..A mainsta
+00012ee0: 7920 6f66 2066 756e 6374 696f 6e61 6c20  y of functional 
+00012ef0: 7072 6f67 7261 6d6d 696e 6720 7468 6174  programming that
+00012f00: 2043 6f63 6f6e 7574 2069 6d70 726f 7665   Coconut improve
+00012f10: 7320 696e 2050 7974 686f 6e20 6973 2074  s in Python is t
+00012f20: 6865 2075 7365 206f 6620 7661 6c75 6573  he use of values
+00012f30: 2c20 6f72 2069 6d6d 7574 6162 6c65 2064  , or immutable d
+00012f40: 6174 6120 7479 7065 732e 2049 6d6d 7574  ata types. Immut
+00012f50: 6162 6c65 2064 6174 6120 6361 6e20 6265  able data can be
+00012f60: 2076 6572 7920 7573 6566 756c 2062 6563   very useful bec
+00012f70: 6175 7365 2069 7420 6775 6172 616e 7465  ause it guarante
+00012f80: 6573 2074 6861 7420 6f6e 6365 2079 6f75  es that once you
+00012f90: 2068 6176 6520 736f 6d65 2064 6174 6120   have some data 
+00012fa0: 6974 2077 6f6e 2774 2063 6861 6e67 652c  it won't change,
+00012fb0: 2062 7574 2069 6e20 5079 7468 6f6e 2063   but in Python c
+00012fc0: 7265 6174 696e 6720 6375 7374 6f6d 2069  reating custom i
+00012fd0: 6d6d 7574 6162 6c65 2064 6174 6120 7479  mmutable data ty
+00012fe0: 7065 7320 6973 2064 6966 6669 6375 6c74  pes is difficult
+00012ff0: 2e20 436f 636f 6e75 7420 6d61 6b65 7320  . Coconut makes 
+00013000: 6974 2076 6572 7920 6561 7379 2062 7920  it very easy by 
+00013010: 7072 6f76 6964 696e 6720 6064 6174 6160  providing `data`
+00013020: 2062 6c6f 636b 732e 0a0a 2323 2323 2320   blocks...##### 
+00013030: 4578 616d 706c 6573 0a0a 2a2a 436f 636f  Examples..**Coco
+00013040: 6e75 743a 2a2a 0a60 6060 636f 636f 6e75  nut:**.```coconu
+00013050: 740a 6461 7461 2076 6563 746f 7232 2878  t.data vector2(x
+00013060: 3a69 6e74 3d30 2c20 793a 696e 743d 3029  :int=0, y:int=0)
+00013070: 3a0a 2020 2020 6465 6620 5f5f 6162 735f  :.    def __abs_
+00013080: 5f28 7365 6c66 293a 0a20 2020 2020 2020  _(self):.       
+00013090: 2072 6574 7572 6e20 2873 656c 662e 782a   return (self.x*
+000130a0: 2a32 202b 2073 656c 662e 792a 2a32 292a  *2 + self.y**2)*
+000130b0: 2a2e 350a 0a76 203d 2076 6563 746f 7232  *.5..v = vector2
+000130c0: 2833 2c20 3429 0a76 207c 3e20 7072 696e  (3, 4).v |> prin
+000130d0: 7420 2023 2061 6c6c 2064 6174 6120 7479  t  # all data ty
+000130e0: 7065 7320 636f 6d65 2077 6974 6820 6120  pes come with a 
+000130f0: 6275 696c 742d 696e 205f 5f72 6570 725f  built-in __repr_
+00013100: 5f0a 7620 7c3e 2061 6273 207c 3e20 7072  _.v |> abs |> pr
+00013110: 696e 740a 762e 7820 3d20 3220 2023 2074  int.v.x = 2  # t
+00013120: 6869 7320 7769 6c6c 2066 6169 6c20 6265  his will fail be
+00013130: 6361 7573 6520 6461 7461 206f 626a 6563  cause data objec
+00013140: 7473 2061 7265 2069 6d6d 7574 6162 6c65  ts are immutable
+00013150: 0a76 6563 746f 7232 2829 207c 3e20 7072  .vector2() |> pr
+00013160: 696e 740a 6060 600a 5f53 686f 7763 6173  int.```._Showcas
+00013170: 6573 2074 6865 2073 796e 7461 782c 2066  es the syntax, f
+00013180: 6561 7475 7265 732c 2061 6e64 2069 6d6d  eatures, and imm
+00013190: 7574 6162 6c65 206e 6174 7572 6520 6f66  utable nature of
+000131a0: 2060 6461 7461 6020 7479 7065 732c 2061   `data` types, a
+000131b0: 7320 7765 6c6c 2061 7320 7468 6520 7573  s well as the us
+000131c0: 6520 6f66 2064 6566 6175 6c74 2061 7267  e of default arg
+000131d0: 756d 656e 7473 2061 6e64 2074 7970 6520  uments and type 
+000131e0: 616e 6e6f 7461 7469 6f6e 732e 5f0a 0a60  annotations._..`
+000131f0: 6060 636f 636f 6e75 740a 6461 7461 2045  ``coconut.data E
+00013200: 6d70 7479 2829 0a64 6174 6120 4c65 6166  mpty().data Leaf
+00013210: 286e 290a 6461 7461 204e 6f64 6528 6c2c  (n).data Node(l,
+00013220: 2072 290a 0a64 6566 2073 697a 6528 456d   r)..def size(Em
+00013230: 7074 7928 2929 203d 2030 0a0a 6164 6470  pty()) = 0..addp
+00013240: 6174 7465 726e 2064 6566 2073 697a 6528  attern def size(
+00013250: 4c65 6166 286e 2929 203d 2031 0a0a 6164  Leaf(n)) = 1..ad
+00013260: 6470 6174 7465 726e 2064 6566 2073 697a  dpattern def siz
+00013270: 6528 4e6f 6465 286c 2c20 7229 2920 3d20  e(Node(l, r)) = 
+00013280: 7369 7a65 286c 2920 2b20 7369 7a65 2872  size(l) + size(r
+00013290: 290a 0a73 697a 6528 4e6f 6465 2845 6d70  )..size(Node(Emp
+000132a0: 7479 2829 2c20 4c65 6166 2831 3029 2929  ty(), Leaf(10)))
+000132b0: 203d 3d20 310a 6060 600a 5f53 686f 7763   == 1.```._Showc
+000132c0: 6173 6573 2074 6865 2061 6c67 6562 7261  ases the algebra
+000132d0: 6963 206e 6174 7572 6520 6f66 2060 6461  ic nature of `da
+000132e0: 7461 6020 7479 7065 7320 7768 656e 2063  ta` types when c
+000132f0: 6f6d 6269 6e65 6420 7769 7468 2070 6174  ombined with pat
+00013300: 7465 726e 2d6d 6174 6368 696e 672e 5f0a  tern-matching._.
+00013310: 0a60 6060 636f 636f 6e75 740a 6461 7461  .```coconut.data
+00013320: 2076 6563 746f 7228 2a70 7473 293a 0a20   vector(*pts):. 
+00013330: 2020 2022 2222 496d 6d75 7461 626c 6520     """Immutable 
+00013340: 6172 6269 7472 6172 792d 6c65 6e67 7468  arbitrary-length
+00013350: 2076 6563 746f 722e 2222 220a 0a20 2020   vector."""..   
+00013360: 2064 6566 205f 5f61 6273 5f5f 2873 656c   def __abs__(sel
+00013370: 6629 203d 0a20 2020 2020 2020 2073 656c  f) =.        sel
+00013380: 662e 7074 7320 7c3e 206d 6170 2428 706f  f.pts |> map$(po
+00013390: 7724 283f 2c20 3229 2920 7c3e 2073 756d  w$(?, 2)) |> sum
+000133a0: 207c 3e20 706f 7724 283f 2c20 302e 3529   |> pow$(?, 0.5)
+000133b0: 0a0a 2020 2020 6465 6620 5f5f 6164 645f  ..    def __add_
+000133c0: 5f28 7365 6c66 2c20 6f74 6865 7229 203d  _(self, other) =
+000133d0: 0a20 2020 2020 2020 2076 6563 746f 7228  .        vector(
+000133e0: 2a6f 7468 6572 5f70 7473 2920 3d20 6f74  *other_pts) = ot
+000133f0: 6865 720a 2020 2020 2020 2020 6173 7365  her.        asse
+00013400: 7274 206c 656e 286f 7468 6572 5f70 7473  rt len(other_pts
+00013410: 2920 3d3d 206c 656e 2873 656c 662e 7074  ) == len(self.pt
+00013420: 7329 0a20 2020 2020 2020 206d 6170 2828  s).        map((
+00013430: 2b29 2c20 7365 6c66 2e70 7473 2c20 6f74  +), self.pts, ot
+00013440: 6865 725f 7074 7329 207c 2a3e 2076 6563  her_pts) |*> vec
+00013450: 746f 720a 0a20 2020 2064 6566 205f 5f6e  tor..    def __n
+00013460: 6567 5f5f 2873 656c 6629 203d 0a20 2020  eg__(self) =.   
+00013470: 2020 2020 2073 656c 662e 7074 7320 7c3e       self.pts |>
+00013480: 206d 6170 2428 282d 2929 207c 2a3e 2076   map$((-)) |*> v
+00013490: 6563 746f 720a 0a20 2020 2064 6566 205f  ector..    def _
+000134a0: 5f73 7562 5f5f 2873 656c 662c 206f 7468  _sub__(self, oth
+000134b0: 6572 2920 3d0a 2020 2020 2020 2020 7365  er) =.        se
+000134c0: 6c66 202b 202d 6f74 6865 720a 6060 600a  lf + -other.```.
+000134d0: 5f53 686f 7763 6173 6573 2073 7461 7272  _Showcases starr
+000134e0: 6564 2060 6461 7461 6020 6465 636c 6172  ed `data` declar
+000134f0: 6174 696f 6e2e 5f0a 0a2a 2a50 7974 686f  ation._..**Pytho
+00013500: 6e3a 2a2a 0a5f 4361 6e27 7420 6265 2064  n:**._Can't be d
+00013510: 6f6e 6520 7769 7468 6f75 7420 6120 7365  one without a se
+00013520: 7269 6573 206f 6620 6d65 7468 6f64 2064  ries of method d
+00013530: 6566 696e 6974 696f 6e73 2066 6f72 2065  efinitions for e
+00013540: 6163 6820 6461 7461 2074 7970 652e 2053  ach data type. S
+00013550: 6565 2074 6865 2063 6f6d 7069 6c65 6420  ee the compiled 
+00013560: 636f 6465 2066 6f72 2074 6865 2050 7974  code for the Pyt
+00013570: 686f 6e20 7379 6e74 6178 2e5f 0a0a 2323  hon syntax._..##
+00013580: 2323 2060 6d61 7463 6820 6461 7461 600a  ## `match data`.
+00013590: 0a49 6e20 6164 6469 7469 6f6e 2074 6f20  .In addition to 
+000135a0: 6e6f 726d 616c 2060 6461 7461 6020 7374  normal `data` st
+000135b0: 6174 656d 656e 7473 2c20 436f 636f 6e75  atements, Coconu
+000135c0: 7420 616c 736f 2073 7570 706f 7274 7320  t also supports 
+000135d0: 7061 7474 6572 6e2d 6d61 7463 6869 6e67  pattern-matching
+000135e0: 2064 6174 6120 7374 6174 656d 656e 7473   data statements
+000135f0: 2074 6861 7420 656e 6162 6c65 2074 6865   that enable the
+00013600: 2075 7365 206f 6620 436f 636f 6e75 7427   use of Coconut'
+00013610: 7320 7061 7474 6572 6e2d 6d61 7463 6869  s pattern-matchi
+00013620: 6e67 2073 796e 7461 7820 746f 2064 6566  ng syntax to def
+00013630: 696e 6520 7468 6520 6461 7461 2074 7970  ine the data typ
+00013640: 6527 7320 636f 6e73 7472 7563 746f 722e  e's constructor.
+00013650: 2050 6174 7465 726e 2d6d 6174 6368 696e   Pattern-matchin
+00013660: 6720 6461 7461 2074 7970 6573 206c 6f6f  g data types loo
+00013670: 6b20 6c69 6b65 0a60 6060 0a5b 6d61 7463  k like.```.[matc
+00013680: 685d 2064 6174 6120 3c6e 616d 653e 283c  h] data <name>(<
+00013690: 7061 7474 6572 6e73 3e29 205b 6672 6f6d  patterns>) [from
+000136a0: 203c 6261 7365 2063 6c61 7373 3e5d 3a0a   <base class>]:.
+000136b0: 2020 2020 3c62 6f64 793e 0a60 6060 0a77      <body>.```.w
+000136c0: 6865 7265 2060 3c70 6174 7465 726e 733e  here `<patterns>
+000136d0: 6020 6172 6520 6578 6163 746c 7920 6173  ` are exactly as
+000136e0: 2069 6e20 5b70 6174 7465 726e 2d6d 6174   in [pattern-mat
+000136f0: 6368 696e 6720 6675 6e63 7469 6f6e 735d  ching functions]
+00013700: 2823 7061 7474 6572 6e2d 6d61 7463 6869  (#pattern-matchi
+00013710: 6e67 2d66 756e 6374 696f 6e73 292e 0a0a  ng-functions)...
+00013720: 4974 2069 7320 696d 706f 7274 616e 7420  It is important 
+00013730: 746f 206b 6565 7020 696e 206d 696e 6420  to keep in mind 
+00013740: 7468 6174 2070 6174 7465 726e 2d6d 6174  that pattern-mat
+00013750: 6368 696e 6720 6461 7461 2074 7970 6573  ching data types
+00013760: 2076 6172 7920 6672 6f6d 206e 6f72 6d61   vary from norma
+00013770: 6c20 6461 7461 2074 7970 6573 2069 6e20  l data types in 
+00013780: 6120 7661 7269 6574 7920 6f66 2077 6179  a variety of way
+00013790: 732e 2046 6972 7374 2c20 6c69 6b65 2070  s. First, like p
+000137a0: 6174 7465 726e 2d6d 6174 6368 696e 6720  attern-matching 
+000137b0: 6675 6e63 7469 6f6e 732c 2074 6865 7920  functions, they 
+000137c0: 7261 6973 6520 5b60 4d61 7463 6845 7272  raise [`MatchErr
+000137d0: 6f72 605d 2823 6d61 7463 6865 7272 6f72  or`](#matcherror
+000137e0: 2920 696e 7374 6561 6420 6f66 2060 5479  ) instead of `Ty
+000137f0: 7065 4572 726f 7260 2077 6865 6e20 7061  peError` when pa
+00013800: 7373 6564 2074 6865 2077 726f 6e67 2061  ssed the wrong a
+00013810: 7267 756d 656e 7473 2e20 5365 636f 6e64  rguments. Second
+00013820: 2c20 7061 7474 6572 6e2d 6d61 7463 6869  , pattern-matchi
+00013830: 6e67 2064 6174 6120 7479 7065 7320 7769  ng data types wi
+00013840: 6c6c 206e 6f74 2064 6f20 616e 7920 7370  ll not do any sp
+00013850: 6563 6961 6c20 6861 6e64 6c69 6e67 206f  ecial handling o
+00013860: 6620 7374 6172 7265 6420 6172 6775 6d65  f starred argume
+00013870: 6e74 732e 2054 6875 732c 0a60 6060 0a64  nts. Thus,.```.d
+00013880: 6174 6120 7665 6328 2a78 7329 0a60 6060  ata vec(*xs).```
+00013890: 0a77 6865 6e20 6974 6572 6174 6564 206f  .when iterated o
+000138a0: 7665 7220 7769 6c6c 2069 7465 7261 7465  ver will iterate
+000138b0: 206f 7665 7220 616c 6c20 7468 6520 656c   over all the el
+000138c0: 656d 656e 7473 206f 6620 6078 7360 2c20  ements of `xs`, 
+000138d0: 6275 740a 6060 600a 6d61 7463 6820 6461  but.```.match da
+000138e0: 7461 2076 6563 282a 7873 290a 6060 600a  ta vec(*xs).```.
+000138f0: 7768 656e 2069 7465 7261 7465 6420 6f76  when iterated ov
+00013900: 6572 2077 696c 6c20 6f6e 6c79 2067 6976  er will only giv
+00013910: 6520 7468 6520 7369 6e67 6c65 2065 6c65  e the single ele
+00013920: 6d65 6e74 2060 7873 602e 0a0a 2323 2323  ment `xs`...####
+00013930: 2320 4578 616d 706c 650a 0a2a 2a43 6f63  # Example..**Coc
+00013940: 6f6e 7574 3a2a 2a0a 6060 600a 6461 7461  onut:**.```.data
+00013950: 206e 616d 6564 7074 286e 616d 6520 6069   namedpt(name `i
+00013960: 7369 6e73 7461 6e63 6560 2073 7472 2c20  sinstance` str, 
+00013970: 7820 6069 7369 6e73 7461 6e63 6560 2069  x `isinstance` i
+00013980: 6e74 2c20 7920 6069 7369 6e73 7461 6e63  nt, y `isinstanc
+00013990: 6560 2069 6e74 293a 0a20 2020 2064 6566  e` int):.    def
+000139a0: 206d 6167 2873 656c 6629 203d 2028 7365   mag(self) = (se
+000139b0: 6c66 2e78 2a2a 3220 2b20 7365 6c66 2e79  lf.x**2 + self.y
+000139c0: 2a2a 3229 2a2a 302e 350a 6060 600a 0a2a  **2)**0.5.```..*
+000139d0: 2a50 7974 686f 6e3a 2a2a 0a5f 4361 6e27  *Python:**._Can'
+000139e0: 7420 6265 2064 6f6e 6520 7769 7468 6f75  t be done withou
+000139f0: 7420 6120 7365 7269 6573 206f 6620 6d65  t a series of me
+00013a00: 7468 6f64 2064 6566 696e 6974 696f 6e73  thod definitions
+00013a10: 2066 6f72 2065 6163 6820 6461 7461 2074   for each data t
+00013a20: 7970 652e 2053 6565 2074 6865 2063 6f6d  ype. See the com
+00013a30: 7069 6c65 6420 636f 6465 2066 6f72 2074  piled code for t
+00013a40: 6865 2050 7974 686f 6e20 7379 6e74 6178  he Python syntax
+00013a50: 2e5f 0a0a 2323 2320 6077 6865 7265 600a  ._..### `where`.
+00013a60: 0a43 6f63 6f6e 7574 2773 2060 7768 6572  .Coconut's `wher
+00013a70: 6560 2073 7461 7465 6d65 6e74 2069 7320  e` statement is 
+00013a80: 6578 7472 656d 656c 7920 7374 7261 6967  extremely straig
+00013a90: 6874 666f 7277 6172 642e 2054 6865 2073  htforward. The s
+00013aa0: 796e 7461 7820 666f 7220 6120 6077 6865  yntax for a `whe
+00013ab0: 7265 6020 7374 6174 656d 656e 7420 6973  re` statement is
+00013ac0: 206a 7573 740a 6060 600a 3c73 746d 743e   just.```.<stmt>
+00013ad0: 2077 6865 7265 3a0a 2020 2020 3c62 6f64   where:.    <bod
+00013ae0: 793e 0a60 6060 0a77 6869 6368 206a 7573  y>.```.which jus
+00013af0: 7420 6578 6563 7574 6573 2060 3c62 6f64  t executes `<bod
+00013b00: 793e 6020 666f 6c6c 6f77 6564 2062 7920  y>` followed by 
+00013b10: 603c 7374 6d74 3e60 2e0a 0a23 2323 2323  `<stmt>`...#####
+00013b20: 2045 7861 6d70 6c65 0a0a 2a2a 436f 636f   Example..**Coco
+00013b30: 6e75 743a 2a2a 0a60 6060 636f 636f 6e75  nut:**.```coconu
+00013b40: 740a 6320 3d20 6120 2b20 6220 7768 6572  t.c = a + b wher
+00013b50: 653a 0a20 2020 2061 203d 2031 0a20 2020  e:.    a = 1.   
+00013b60: 2062 203d 2032 0a60 6060 0a0a 2a2a 5079   b = 2.```..**Py
+00013b70: 7468 6f6e 3a2a 2a0a 6060 6063 6f63 6f6e  thon:**.```cocon
+00013b80: 7574 5f70 7974 686f 6e0a 6120 3d20 310a  ut_python.a = 1.
+00013b90: 6220 3d20 320a 6320 3d20 6120 2b20 620a  b = 2.c = a + b.
+00013ba0: 6060 600a 0a23 2323 2048 616e 646c 696e  ```..### Handlin
+00013bb0: 6720 4b65 7977 6f72 642f 5661 7269 6162  g Keyword/Variab
+00013bc0: 6c65 204e 616d 6520 4f76 6572 6c61 700a  le Name Overlap.
+00013bd0: 0a49 6e20 436f 636f 6e75 742c 2074 6865  .In Coconut, the
+00013be0: 2066 6f6c 6c6f 7769 6e67 206b 6579 776f   following keywo
+00013bf0: 7264 7320 6172 6520 616c 736f 2076 616c  rds are also val
+00013c00: 6964 2076 6172 6961 626c 6520 6e61 6d65  id variable name
+00013c10: 733a 0a2d 2060 6461 7461 600a 2d20 606d  s:.- `data`.- `m
+00013c20: 6174 6368 600a 2d20 6063 6173 6560 0a2d  atch`.- `case`.-
+00013c30: 2060 6361 7365 7360 0a2d 2060 6164 6470   `cases`.- `addp
+00013c40: 6174 7465 726e 600a 2d20 6077 6865 7265  attern`.- `where
+00013c50: 600a 2d20 606f 7065 7261 746f 7260 0a2d  `.- `operator`.-
+00013c60: 2060 7468 656e 600a 2d20 60ce bb60 2028   `then`.- `..` (
+00013c70: 6120 5b55 6e69 636f 6465 2061 6c74 6572  a [Unicode alter
+00013c80: 6e61 7469 7665 5d28 2375 6e69 636f 6465  native](#unicode
+00013c90: 2d61 6c74 6572 6e61 7469 7665 7329 2066  -alternatives) f
+00013ca0: 6f72 2060 6c61 6d62 6461 6029 0a0a 5768  or `lambda`)..Wh
+00013cb0: 696c 6520 436f 636f 6e75 7420 6361 6e20  ile Coconut can 
+00013cc0: 7573 7561 6c6c 7920 6469 7361 6d62 6967  usually disambig
+00013cd0: 7561 7465 2074 6865 7365 2074 776f 2075  uate these two u
+00013ce0: 7365 2063 6173 6573 2c20 7370 6563 6961  se cases, specia
+00013cf0: 6c20 7379 6e74 6178 2069 7320 6176 6169  l syntax is avai
+00013d00: 6c61 626c 6520 666f 7220 6469 7361 6d62  lable for disamb
+00013d10: 6967 7561 7469 6e67 2074 6865 6d20 6966  iguating them if
+00013d20: 206e 6563 6573 7361 7279 2e20 4e6f 7465   necessary. Note
+00013d30: 2074 6861 742c 2069 6620 7768 6174 2079   that, if what y
+00013d40: 6f75 2772 6520 7772 6974 696e 6720 6361  ou're writing ca
+00013d50: 6e20 6265 2069 6e74 6572 7072 6574 6564  n be interpreted
+00013d60: 2061 7320 7661 6c69 6420 5079 7468 6f6e   as valid Python
+00013d70: 2033 2c20 436f 636f 6e75 7420 7769 6c6c   3, Coconut will
+00013d80: 2061 6c77 6179 7320 7072 6566 6572 2074   always prefer t
+00013d90: 6861 7420 696e 7465 7270 7265 7461 7469  hat interpretati
+00013da0: 6f6e 2062 7920 6465 6661 756c 742e 0a0a  on by default...
+00013db0: 546f 2073 7065 6369 6679 2074 6861 7420  To specify that 
+00013dc0: 796f 7520 7761 6e74 2061 205f 7661 7269  you want a _vari
+00013dd0: 6162 6c65 5f2c 2070 7265 6669 7820 7468  able_, prefix th
+00013de0: 6520 6e61 6d65 2077 6974 6820 6120 6261  e name with a ba
+00013df0: 636b 736c 6173 6820 6173 2069 6e20 605c  ckslash as in `\
+00013e00: 6461 7461 602c 2061 6e64 2074 6f20 7370  data`, and to sp
+00013e10: 6563 6966 7920 7468 6174 2079 6f75 2077  ecify that you w
+00013e20: 616e 7420 6120 5f6b 6579 776f 7264 5f2c  ant a _keyword_,
+00013e30: 2070 7265 6669 7820 7468 6520 6e61 6d65   prefix the name
+00013e40: 2077 6974 6820 6120 636f 6c6f 6e20 6173   with a colon as
+00013e50: 2069 6e20 603a 6d61 7463 6860 2e0a 0a41   in `:match`...A
+00013e60: 6464 6974 696f 6e61 6c6c 792c 2062 6163  dditionally, bac
+00013e70: 6b73 6c61 7368 2073 796e 7461 7820 666f  kslash syntax fo
+00013e80: 7220 6573 6361 7069 6e67 2076 6172 6961  r escaping varia
+00013e90: 626c 6520 6e61 6d65 7320 6361 6e20 616c  ble names can al
+00013ea0: 736f 2062 6520 7573 6564 2074 6f20 6469  so be used to di
+00013eb0: 7374 696e 6775 6973 6820 6265 7477 6565  stinguish betwee
+00013ec0: 6e20 7661 7269 6162 6c65 206e 616d 6573  n variable names
+00013ed0: 2061 6e64 205b 6375 7374 6f6d 206f 7065   and [custom ope
+00013ee0: 7261 746f 7273 5d28 2363 7573 746f 6d2d  rators](#custom-
+00013ef0: 6f70 6572 6174 6f72 7329 2061 7320 7765  operators) as we
+00013f00: 6c6c 2061 7320 6578 706c 6963 6974 6c79  ll as explicitly
+00013f10: 2073 6967 6e69 6679 2074 6861 7420 616e   signify that an
+00013f20: 2061 7373 6967 6e6d 656e 7420 746f 2061   assignment to a
+00013f30: 2062 7569 6c74 2d69 6e20 6973 2064 6573   built-in is des
+00013f40: 6972 6162 6c65 2074 6f20 6469 736d 6973  irable to dismis
+00013f50: 7320 5b60 2d2d 7374 7269 6374 6020 7761  s [`--strict` wa
+00013f60: 726e 696e 6773 5d28 2373 7472 6963 742d  rnings](#strict-
+00013f70: 6d6f 6465 292e 0a0a 4669 6e61 6c6c 792c  mode)...Finally,
+00013f80: 2073 7563 6820 6469 7361 6d62 6967 7561   such disambigua
+00013f90: 7469 6f6e 2073 796e 7461 7820 6361 6e20  tion syntax can 
+00013fa0: 616c 736f 2062 6520 6865 6c70 6675 6c20  also be helpful 
+00013fb0: 666f 7220 6c65 7474 696e 6720 7379 6e74  for letting synt
+00013fc0: 6178 2068 6967 686c 6967 6874 6572 7320  ax highlighters 
+00013fd0: 6b6e 6f77 2077 6861 7420 796f 7527 7265  know what you're
+00013fe0: 2064 6f69 6e67 2e0a 0a23 2323 2323 2045   doing...##### E
+00013ff0: 7861 6d70 6c65 730a 0a2a 2a43 6f63 6f6e  xamples..**Cocon
+00014000: 7574 3a2a 2a0a 6060 6063 6f63 6f6e 7574  ut:**.```coconut
+00014010: 0a5c 6461 7461 203d 2035 0a70 7269 6e74  .\data = 5.print
+00014020: 285c 6461 7461 290a 6060 600a 0a60 6060  (\data).```..```
+00014030: 636f 636f 6e75 740a 2320 7769 7468 6f75  coconut.# withou
+00014040: 7420 7468 6520 636f 6c6f 6e2c 2043 6f63  t the colon, Coc
+00014050: 6f6e 7574 2077 696c 6c20 696e 7465 7270  onut will interp
+00014060: 7265 7420 7468 6973 2061 7320 7468 6520  ret this as the 
+00014070: 7661 6c69 6420 5079 7468 6f6e 206d 6174  valid Python mat
+00014080: 6368 5b78 2c20 795d 203d 2069 6e70 7574  ch[x, y] = input
+00014090: 5f6c 6973 740a 3a6d 6174 6368 205b 782c  _list.:match [x,
+000140a0: 2079 5d20 3d20 696e 7075 745f 6c69 7374   y] = input_list
+000140b0: 0a60 6060 0a0a 2a2a 5079 7468 6f6e 3a2a  .```..**Python:*
+000140c0: 2a0a 6060 6063 6f63 6f6e 7574 5f70 7974  *.```coconut_pyt
+000140d0: 686f 6e0a 6461 7461 203d 2035 0a70 7269  hon.data = 5.pri
+000140e0: 6e74 2864 6174 6129 0a60 6060 0a0a 6060  nt(data).```..``
+000140f0: 6063 6f63 6f6e 7574 5f70 7974 686f 6e0a  `coconut_python.
+00014100: 782c 2079 203d 2069 6e70 7574 5f6c 6973  x, y = input_lis
+00014110: 740a 6060 600a 0a23 2320 4578 7072 6573  t.```..## Expres
+00014120: 7369 6f6e 730a 0a60 6060 7b63 6f6e 7465  sions..```{conte
+00014130: 6e74 737d 0a2d 2d2d 0a6c 6f63 616c 3a0a  nts}.---.local:.
+00014140: 6465 7074 683a 2031 0a2d 2d2d 0a60 6060  depth: 1.---.```
+00014150: 0a0a 2323 2320 5374 6174 656d 656e 7420  ..### Statement 
+00014160: 4c61 6d62 6461 730a 0a54 6865 2073 7461  Lambdas..The sta
+00014170: 7465 6d65 6e74 206c 616d 6264 6120 7379  tement lambda sy
+00014180: 6e74 6178 2069 7320 616e 2065 7874 656e  ntax is an exten
+00014190: 7369 6f6e 206f 6620 7468 6520 5b6e 6f72  sion of the [nor
+000141a0: 6d61 6c20 6c61 6d62 6461 2073 796e 7461  mal lambda synta
+000141b0: 785d 2823 6c61 6d62 6461 7329 2074 6f20  x](#lambdas) to 
+000141c0: 7375 7070 6f72 7420 7374 6174 656d 656e  support statemen
+000141d0: 7473 2c20 6e6f 7420 6a75 7374 2065 7870  ts, not just exp
+000141e0: 7265 7373 696f 6e73 2e0a 0a54 6865 2073  ressions...The s
+000141f0: 796e 7461 7820 666f 7220 6120 7374 6174  yntax for a stat
+00014200: 656d 656e 7420 6c61 6d62 6461 2069 730a  ement lambda is.
+00014210: 6060 600a 5b61 7379 6e63 7c6d 6174 6368  ```.[async|match
+00014220: 7c63 6f70 7963 6c6f 7375 7265 5d20 6465  |copyclosure] de
+00014230: 6620 2861 7267 756d 656e 7473 2920 2d3e  f (arguments) ->
+00014240: 2073 7461 7465 6d65 6e74 3b20 7374 6174   statement; stat
+00014250: 656d 656e 743b 202e 2e2e 0a60 6060 0a77  ement; ....```.w
+00014260: 6865 7265 2060 6172 6775 6d65 6e74 7360  here `arguments`
+00014270: 2063 616e 2062 6520 7374 616e 6461 7264   can be standard
+00014280: 2066 756e 6374 696f 6e20 6172 6775 6d65   function argume
+00014290: 6e74 7320 6f72 205b 7061 7474 6572 6e2d  nts or [pattern-
+000142a0: 6d61 7463 6869 6e67 2066 756e 6374 696f  matching functio
+000142b0: 6e20 6465 6669 6e69 7469 6f6e 5d28 2370  n definition](#p
+000142c0: 6174 7465 726e 2d6d 6174 6368 696e 672d  attern-matching-
+000142d0: 6675 6e63 7469 6f6e 7329 2061 7267 756d  functions) argum
+000142e0: 656e 7473 2061 6e64 2060 7374 6174 656d  ents and `statem
+000142f0: 656e 7460 2063 616e 2062 6520 616e 2061  ent` can be an a
+00014300: 7373 6967 6e6d 656e 7420 7374 6174 656d  ssignment statem
+00014310: 656e 7420 6f72 2061 206b 6579 776f 7264  ent or a keyword
+00014320: 2073 7461 7465 6d65 6e74 2e20 4e6f 7465   statement. Note
+00014330: 2074 6861 7420 7468 6520 6061 7379 6e63   that the `async
+00014340: 602c 2060 6d61 7463 6860 2c20 616e 6420  `, `match`, and 
+00014350: 5b60 636f 7079 636c 6f73 7572 6560 5d28  [`copyclosure`](
+00014360: 2363 6f70 7963 6c6f 7375 7265 2d66 756e  #copyclosure-fun
+00014370: 6374 696f 6e73 2920 6b65 7977 6f72 6473  ctions) keywords
+00014380: 2063 616e 2062 6520 636f 6d62 696e 6564   can be combined
+00014390: 2061 6e64 2063 616e 2062 6520 696e 2061   and can be in a
+000143a0: 6e79 206f 7264 6572 2e0a 0a49 6620 7468  ny order...If th
+000143b0: 6520 6c61 7374 2060 7374 6174 656d 656e  e last `statemen
+000143c0: 7460 2028 6e6f 7420 666f 6c6c 6f77 6564  t` (not followed
+000143d0: 2062 7920 6120 7365 6d69 636f 6c6f 6e29   by a semicolon)
+000143e0: 2069 6e20 6120 7374 6174 656d 656e 7420   in a statement 
+000143f0: 6c61 6d62 6461 2069 7320 616e 2060 6578  lambda is an `ex
+00014400: 7072 6573 7369 6f6e 602c 2069 7420 7769  pression`, it wi
+00014410: 6c6c 2061 7574 6f6d 6174 6963 616c 6c79  ll automatically
+00014420: 2062 6520 7265 7475 726e 6564 2e0a 0a53   be returned...S
+00014430: 7461 7465 6d65 6e74 206c 616d 6264 6173  tatement lambdas
+00014440: 2061 6c73 6f20 7375 7070 6f72 7420 696d   also support im
+00014450: 706c 6963 6974 206c 616d 6264 6120 7379  plicit lambda sy
+00014460: 6e74 6178 2073 7563 6820 7468 6174 2060  ntax such that `
+00014470: 6465 6620 2d3e 205f 6020 6973 2065 7175  def -> _` is equ
+00014480: 6976 616c 656e 7420 746f 2060 6465 6620  ivalent to `def 
+00014490: 285f 3d4e 6f6e 6529 202d 3e20 5f60 2061  (_=None) -> _` a
+000144a0: 7320 7765 6c6c 2061 7320 6578 706c 6963  s well as explic
+000144b0: 6974 6c79 206d 6172 6b69 6e67 2074 6865  itly marking the
+000144c0: 6d20 6173 2070 6174 7465 726e 2d6d 6174  m as pattern-mat
+000144d0: 6368 696e 6720 7375 6368 2074 6861 7420  ching such that 
+000144e0: 606d 6174 6368 2064 6566 2028 7829 202d  `match def (x) -
+000144f0: 3e20 7860 2077 696c 6c20 6265 2061 2070  > x` will be a p
+00014500: 6174 7465 726e 2d6d 6174 6368 696e 6720  attern-matching 
+00014510: 6675 6e63 7469 6f6e 2e0a 0a4e 6f74 6520  function...Note 
+00014520: 7468 6174 2073 7461 7465 6d65 6e74 206c  that statement l
+00014530: 616d 6264 6173 2068 6176 6520 6120 6c6f  ambdas have a lo
+00014540: 7765 7220 7072 6563 6564 656e 6365 2074  wer precedence t
+00014550: 6861 6e20 6e6f 726d 616c 206c 616d 6264  han normal lambd
+00014560: 6173 2061 6e64 2074 6875 7320 6361 7074  as and thus capt
+00014570: 7572 6520 7468 696e 6773 206c 696b 6520  ure things like 
+00014580: 7472 6169 6c69 6e67 2063 6f6d 6d61 732e  trailing commas.
+00014590: 0a0a 2323 2323 2320 4578 616d 706c 650a  ..##### Example.
+000145a0: 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0a 6060  .**Coconut:**.``
+000145b0: 6063 6f63 6f6e 7574 0a4c 207c 3e20 6d61  `coconut.L |> ma
+000145c0: 7024 2864 6566 2028 7829 202d 3e0a 2020  p$(def (x) ->.  
+000145d0: 2020 7920 3d20 312f 783b 0a20 2020 2079    y = 1/x;.    y
+000145e0: 2a28 3120 2d20 7929 290a 6060 600a 0a2a  *(1 - y)).```..*
+000145f0: 2a50 7974 686f 6e3a 2a2a 0a60 6060 636f  *Python:**.```co
+00014600: 636f 6e75 745f 7079 7468 6f6e 0a64 6566  conut_python.def
+00014610: 205f 6c61 6d62 6461 2878 293a 0a20 2020   _lambda(x):.   
+00014620: 2079 203d 2031 2f78 0a20 2020 2072 6574   y = 1/x.    ret
+00014630: 7572 6e20 792a 2831 202d 2079 290a 6d61  urn y*(1 - y).ma
+00014640: 7028 5f6c 616d 6264 612c 204c 290a 6060  p(_lambda, L).``
+00014650: 600a 0a23 2323 2320 5479 7065 2061 6e6e  `..#### Type ann
+00014660: 6f74 6174 696f 6e73 0a0a 416e 6f74 6865  otations..Anothe
+00014670: 7220 6361 7365 2077 6865 7265 2073 7461  r case where sta
+00014680: 7465 6d65 6e74 206c 616d 6264 6173 2077  tement lambdas w
+00014690: 6f75 6c64 2062 6520 7573 6564 206f 7665  ould be used ove
+000146a0: 7220 7374 616e 6461 7264 206c 616d 6264  r standard lambd
+000146b0: 6173 2069 7320 7768 656e 2074 6865 2070  as is when the p
+000146c0: 6172 616d 6574 6572 7320 746f 2074 6865  arameters to the
+000146d0: 206c 616d 6264 6120 6172 6520 7479 7065   lambda are type
+000146e0: 6420 7769 7468 2074 7970 6520 616e 6e6f  d with type anno
+000146f0: 7461 7469 6f6e 732e 2053 7461 7465 6d65  tations. Stateme
+00014700: 6e74 206c 616d 6264 6173 2075 7365 2074  nt lambdas use t
+00014710: 6865 2073 7461 6e64 6172 6420 5079 7468  he standard Pyth
+00014720: 6f6e 2073 796e 7461 7820 666f 7220 6164  on syntax for ad
+00014730: 6469 6e67 2074 7970 6520 616e 6e6f 7461  ding type annota
+00014740: 7469 6f6e 7320 746f 2074 6865 6972 2070  tions to their p
+00014750: 6172 616d 6574 6572 733a 0a0a 6060 6063  arameters:..```c
+00014760: 6f63 6f6e 7574 0a66 203d 2064 6566 2028  oconut.f = def (
+00014770: 633a 2073 7472 2920 2d3e 2070 7269 6e74  c: str) -> print
+00014780: 2863 290a 0a67 203d 2064 6566 2028 613a  (c)..g = def (a:
+00014790: 2069 6e74 2c20 623a 2069 6e74 2920 2d3e   int, b: int) ->
+000147a0: 2061 202a 2a20 620a 6060 600a 0a48 6f77   a ** b.```..How
+000147b0: 6576 6572 2c20 7374 6174 656d 656e 7420  ever, statement 
+000147c0: 6c61 6d62 6461 7320 646f 206e 6f74 2073  lambdas do not s
+000147d0: 7570 706f 7274 2072 6574 7572 6e20 7479  upport return ty
+000147e0: 7065 2061 6e6e 6f74 6174 696f 6e73 2e0a  pe annotations..
+000147f0: 0a23 2323 204f 7065 7261 746f 7220 4675  .### Operator Fu
+00014800: 6e63 7469 6f6e 730a 0a43 6f63 6f6e 7574  nctions..Coconut
+00014810: 2075 7365 7320 6120 7369 6d70 6c65 206f   uses a simple o
+00014820: 7065 7261 746f 7220 6675 6e63 7469 6f6e  perator function
+00014830: 2073 686f 7274 2d68 616e 643a 2073 7572   short-hand: sur
+00014840: 726f 756e 6420 616e 206f 7065 7261 746f  round an operato
+00014850: 7220 7769 7468 2070 6172 656e 7468 6573  r with parenthes
+00014860: 6573 2074 6f20 7265 7472 6965 7665 2069  es to retrieve i
+00014870: 7473 2066 756e 6374 696f 6e2e 2053 696d  ts function. Sim
+00014880: 696c 6172 6c79 2074 6f20 6974 6572 6174  ilarly to iterat
+00014890: 6f72 2063 6f6d 7072 6568 656e 7369 6f6e  or comprehension
+000148a0: 732c 2069 6620 7468 6520 6f70 6572 6174  s, if the operat
+000148b0: 6f72 2066 756e 6374 696f 6e20 6973 2074  or function is t
+000148c0: 6865 206f 6e6c 7920 6172 6775 6d65 6e74  he only argument
+000148d0: 2074 6f20 6120 6675 6e63 7469 6f6e 2c20   to a function, 
+000148e0: 7468 6520 7061 7265 6e74 6865 7365 7320  the parentheses 
+000148f0: 6f66 2074 6865 2066 756e 6374 696f 6e20  of the function 
+00014900: 6361 6c6c 2063 616e 2061 6c73 6f20 7365  call can also se
+00014910: 7276 6520 6173 2074 6865 2070 6172 656e  rve as the paren
+00014920: 7468 6573 6573 2066 6f72 2074 6865 206f  theses for the o
+00014930: 7065 7261 746f 7220 6675 6e63 7469 6f6e  perator function
+00014940: 2e0a 0a23 2323 2323 2052 6174 696f 6e61  ...##### Rationa
+00014950: 6c65 0a0a 4120 7665 7279 2063 6f6d 6d6f  le..A very commo
+00014960: 6e20 7468 696e 6720 746f 2064 6f20 696e  n thing to do in
+00014970: 2066 756e 6374 696f 6e61 6c20 7072 6f67   functional prog
+00014980: 7261 6d6d 696e 6720 6973 2074 6f20 6d61  ramming is to ma
+00014990: 6b65 2075 7365 206f 6620 6675 6e63 7469  ke use of functi
+000149a0: 6f6e 2076 6572 7369 6f6e 7320 6f66 2062  on versions of b
+000149b0: 7569 6c74 2d69 6e20 6f70 6572 6174 6f72  uilt-in operator
+000149c0: 733a 2063 7572 7279 696e 6720 7468 656d  s: currying them
+000149d0: 2c20 636f 6d70 6f73 696e 6720 7468 656d  , composing them
+000149e0: 2c20 616e 6420 7069 7069 6e67 2074 6865  , and piping the
+000149f0: 6d2e 2054 6f20 6d61 6b65 2074 6869 7320  m. To make this 
+00014a00: 6561 7379 2c20 436f 636f 6e75 7420 7072  easy, Coconut pr
+00014a10: 6f76 6964 6573 2061 2073 686f 7274 2d68  ovides a short-h
+00014a20: 616e 6420 7379 6e74 6178 2074 6f20 6163  and syntax to ac
+00014a30: 6365 7373 206f 7065 7261 746f 7220 6675  cess operator fu
+00014a40: 6e63 7469 6f6e 732e 0a0a 2323 2323 2320  nctions...##### 
+00014a50: 4675 6c6c 204c 6973 740a 0a60 6060 636f  Full List..```co
+00014a60: 636f 6e75 740a 283a 3a29 2020 2020 2020  conut.(::)      
+00014a70: 2020 3d3e 2028 6974 6572 746f 6f6c 732e    => (itertools.
+00014a80: 6368 6169 6e29 2020 2320 7769 6c6c 206e  chain)  # will n
+00014a90: 6f74 2065 7661 6c75 6174 6520 6974 7320  ot evaluate its 
+00014aa0: 6172 6775 6d65 6e74 7320 6c61 7a69 6c79  arguments lazily
+00014ab0: 0a28 2429 2020 2020 2020 2020 203d 3e20  .($)         => 
+00014ac0: 2866 756e 6374 6f6f 6c73 2e70 6172 7469  (functools.parti
+00014ad0: 616c 290a 282e 2920 2020 2020 2020 2020  al).(.)         
+00014ae0: 3d3e 2028 6765 7461 7474 7229 0a28 2c29  => (getattr).(,)
+00014af0: 2020 2020 2020 2020 203d 3e20 282a 6172           => (*ar
+00014b00: 6773 2920 2d3e 2061 7267 7320 2023 2028  gs) -> args  # (
+00014b10: 6275 7420 7069 636b 6c65 6162 6c65 290a  but pickleable).
+00014b20: 282b 2920 2020 2020 2020 2020 3d3e 2028  (+)         => (
+00014b30: 6f70 6572 6174 6f72 2e61 6464 290a 282d  operator.add).(-
+00014b40: 2920 2020 2020 2020 2020 3d3e 2023 2031  )         => # 1
+00014b50: 2061 7267 3a20 6f70 6572 6174 6f72 2e6e   arg: operator.n
+00014b60: 6567 2c20 3220 6172 6773 3a20 6f70 6572  eg, 2 args: oper
+00014b70: 6174 6f72 2e73 7562 0a28 2a29 2020 2020  ator.sub.(*)    
+00014b80: 2020 2020 203d 3e20 286f 7065 7261 746f       => (operato
+00014b90: 722e 6d75 6c29 0a28 2a2a 2920 2020 2020  r.mul).(**)     
+00014ba0: 2020 203d 3e20 286f 7065 7261 746f 722e     => (operator.
+00014bb0: 706f 7729 0a28 2f29 2020 2020 2020 2020  pow).(/)        
+00014bc0: 203d 3e20 286f 7065 7261 746f 722e 7472   => (operator.tr
+00014bd0: 7565 6469 7629 0a28 2f2f 2920 2020 2020  uediv).(//)     
+00014be0: 2020 203d 3e20 286f 7065 7261 746f 722e     => (operator.
+00014bf0: 666c 6f6f 7264 6976 290a 2825 2920 2020  floordiv).(%)   
+00014c00: 2020 2020 2020 3d3e 2028 6f70 6572 6174        => (operat
+00014c10: 6f72 2e6d 6f64 290a 2826 2920 2020 2020  or.mod).(&)     
+00014c20: 2020 2020 3d3e 2028 6f70 6572 6174 6f72      => (operator
+00014c30: 2e61 6e64 5f29 0a28 5e29 2020 2020 2020  .and_).(^)      
+00014c40: 2020 203d 3e20 286f 7065 7261 746f 722e     => (operator.
+00014c50: 786f 7229 0a28 7c29 2020 2020 2020 2020  xor).(|)        
+00014c60: 203d 3e20 286f 7065 7261 746f 722e 6f72   => (operator.or
+00014c70: 5f29 0a28 3c3c 2920 2020 2020 2020 203d  _).(<<)        =
+00014c80: 3e20 286f 7065 7261 746f 722e 6c73 6869  > (operator.lshi
+00014c90: 6674 290a 283e 3e29 2020 2020 2020 2020  ft).(>>)        
+00014ca0: 3d3e 2028 6f70 6572 6174 6f72 2e72 7368  => (operator.rsh
+00014cb0: 6966 7429 0a28 3c29 2020 2020 2020 2020  ift).(<)        
+00014cc0: 203d 3e20 286f 7065 7261 746f 722e 6c74   => (operator.lt
+00014cd0: 290a 283e 2920 2020 2020 2020 2020 3d3e  ).(>)         =>
+00014ce0: 2028 6f70 6572 6174 6f72 2e67 7429 0a28   (operator.gt).(
+00014cf0: 3d3d 2920 2020 2020 2020 203d 3e20 286f  ==)        => (o
+00014d00: 7065 7261 746f 722e 6571 290a 283c 3d29  perator.eq).(<=)
+00014d10: 2020 2020 2020 2020 3d3e 2028 6f70 6572          => (oper
+00014d20: 6174 6f72 2e6c 6529 0a28 3e3d 2920 2020  ator.le).(>=)   
+00014d30: 2020 2020 203d 3e20 286f 7065 7261 746f       => (operato
+00014d40: 722e 6765 290a 2821 3d29 2020 2020 2020  r.ge).(!=)      
+00014d50: 2020 3d3e 2028 6f70 6572 6174 6f72 2e6e    => (operator.n
+00014d60: 6529 0a28 7e29 2020 2020 2020 2020 203d  e).(~)         =
+00014d70: 3e20 286f 7065 7261 746f 722e 696e 7629  > (operator.inv)
+00014d80: 0a28 4029 2020 2020 2020 2020 203d 3e20  .(@)         => 
+00014d90: 286f 7065 7261 746f 722e 6d61 746d 756c  (operator.matmul
+00014da0: 290a 287c 3e29 2020 2020 2020 2020 3d3e  ).(|>)        =>
+00014db0: 2023 2070 6970 6520 666f 7277 6172 640a   # pipe forward.
+00014dc0: 287c 2a3e 2920 2020 2020 2020 3d3e 2023  (|*>)       => #
+00014dd0: 206d 756c 7469 2d61 7267 2070 6970 6520   multi-arg pipe 
+00014de0: 666f 7277 6172 640a 287c 2a2a 3e29 2020  forward.(|**>)  
+00014df0: 2020 2020 3d3e 2023 206b 6579 776f 7264      => # keyword
+00014e00: 2061 7267 2070 6970 6520 666f 7277 6172   arg pipe forwar
+00014e10: 640a 283c 7c29 2020 2020 2020 2020 3d3e  d.(<|)        =>
+00014e20: 2023 2070 6970 6520 6261 636b 7761 7264   # pipe backward
+00014e30: 0a28 3c2a 7c29 2020 2020 2020 203d 3e20  .(<*|)       => 
+00014e40: 2320 6d75 6c74 692d 6172 6720 7069 7065  # multi-arg pipe
+00014e50: 2062 6163 6b77 6172 640a 283c 2a2a 7c29   backward.(<**|)
+00014e60: 2020 2020 2020 3d3e 2023 206b 6579 776f        => # keywo
+00014e70: 7264 2061 7267 2070 6970 6520 6261 636b  rd arg pipe back
+00014e80: 7761 7264 0a28 7c3f 3e29 2020 2020 2020  ward.(|?>)      
+00014e90: 203d 3e20 2320 4e6f 6e65 2d61 7761 7265   => # None-aware
+00014ea0: 2070 6970 6520 666f 7277 6172 640a 287c   pipe forward.(|
+00014eb0: 3f2a 3e29 2020 2020 2020 3d3e 2023 204e  ?*>)      => # N
+00014ec0: 6f6e 652d 6177 6172 6520 6d75 6c74 692d  one-aware multi-
+00014ed0: 6172 6720 7069 7065 2066 6f72 7761 7264  arg pipe forward
+00014ee0: 0a28 7c3f 2a2a 3e29 2020 2020 203d 3e20  .(|?**>)     => 
+00014ef0: 2320 4e6f 6e65 2d61 7761 7265 206b 6579  # None-aware key
+00014f00: 776f 7264 2061 7267 2070 6970 6520 666f  word arg pipe fo
+00014f10: 7277 6172 640a 283c 3f7c 2920 2020 2020  rward.(<?|)     
+00014f20: 2020 3d3e 2023 204e 6f6e 652d 6177 6172    => # None-awar
+00014f30: 6520 7069 7065 2062 6163 6b77 6172 640a  e pipe backward.
+00014f40: 283c 2a3f 7c29 2020 2020 2020 3d3e 2023  (<*?|)      => #
+00014f50: 204e 6f6e 652d 6177 6172 6520 6d75 6c74   None-aware mult
+00014f60: 692d 6172 6720 7069 7065 2062 6163 6b77  i-arg pipe backw
+00014f70: 6172 640a 283c 2a2a 3f7c 2920 2020 2020  ard.(<**?|)     
+00014f80: 3d3e 2023 204e 6f6e 652d 6177 6172 6520  => # None-aware 
+00014f90: 6b65 7977 6f72 6420 6172 6720 7069 7065  keyword arg pipe
+00014fa0: 2062 6163 6b77 6172 640a 282e 2e29 2c20   backward.(..), 
+00014fb0: 283c 2e2e 2920 3d3e 2023 2062 6163 6b77  (<..) => # backw
+00014fc0: 6172 6420 6675 6e63 7469 6f6e 2063 6f6d  ard function com
+00014fd0: 706f 7369 7469 6f6e 0a28 2e2e 3e29 2020  position.(..>)  
+00014fe0: 2020 2020 203d 3e20 2320 666f 7277 6172       => # forwar
+00014ff0: 6420 6675 6e63 7469 6f6e 2063 6f6d 706f  d function compo
+00015000: 7369 7469 6f6e 0a28 3c2a 2e2e 2920 2020  sition.(<*..)   
+00015010: 2020 203d 3e20 2320 6d75 6c74 692d 6172     => # multi-ar
+00015020: 6720 6261 636b 7761 7264 2066 756e 6374  g backward funct
+00015030: 696f 6e20 636f 6d70 6f73 6974 696f 6e0a  ion composition.
+00015040: 282e 2e2a 3e29 2020 2020 2020 3d3e 2023  (..*>)      => #
+00015050: 206d 756c 7469 2d61 7267 2066 6f72 7761   multi-arg forwa
+00015060: 7264 2066 756e 6374 696f 6e20 636f 6d70  rd function comp
+00015070: 6f73 6974 696f 6e0a 283c 2a2a 2e2e 2920  osition.(<**..) 
+00015080: 2020 2020 3d3e 2023 206b 6579 776f 7264      => # keyword
+00015090: 2061 7267 2062 6163 6b77 6172 6420 6675   arg backward fu
+000150a0: 6e63 7469 6f6e 2063 6f6d 706f 7369 7469  nction compositi
+000150b0: 6f6e 0a28 2e2e 2a2a 3e29 2020 2020 203d  on.(..**>)     =
+000150c0: 3e20 2320 6b65 7977 6f72 6420 6172 6720  > # keyword arg 
+000150d0: 666f 7277 6172 6420 6675 6e63 7469 6f6e  forward function
+000150e0: 2063 6f6d 706f 7369 7469 6f6e 0a28 6e6f   composition.(no
+000150f0: 7429 2020 2020 2020 203d 3e20 286f 7065  t)       => (ope
+00015100: 7261 746f 722e 6e6f 745f 290a 2861 6e64  rator.not_).(and
+00015110: 2920 2020 2020 2020 3d3e 2023 2062 6f6f  )       => # boo
+00015120: 6c65 616e 2061 6e64 0a28 6f72 2920 2020  lean and.(or)   
+00015130: 2020 2020 203d 3e20 2320 626f 6f6c 6561       => # boolea
+00015140: 6e20 6f72 0a28 6973 2920 2020 2020 2020  n or.(is)       
+00015150: 203d 3e20 286f 7065 7261 746f 722e 6973   => (operator.is
+00015160: 5f29 0a28 6973 206e 6f74 2920 2020 203d  _).(is not)    =
+00015170: 3e20 286f 7065 7261 746f 722e 6973 5f6e  > (operator.is_n
+00015180: 6f74 290a 2869 6e29 2020 2020 2020 2020  ot).(in)        
+00015190: 3d3e 2028 6f70 6572 6174 6f72 2e63 6f6e  => (operator.con
+000151a0: 7461 696e 7329 0a28 6e6f 7420 696e 2920  tains).(not in) 
+000151b0: 2020 203d 3e20 2320 6e65 6761 7469 7665     => # negative
+000151c0: 2063 6f6e 7461 696e 6d65 6e74 0a28 6173   containment.(as
+000151d0: 7365 7274 2920 2020 203d 3e20 6465 6620  sert)    => def 
+000151e0: 2863 6f6e 642c 206d 7367 3d4e 6f6e 6529  (cond, msg=None)
+000151f0: 202d 3e20 6173 7365 7274 2063 6f6e 642c   -> assert cond,
+00015200: 206d 7367 2020 2320 2862 7574 2061 2062   msg  # (but a b
+00015210: 6574 7465 7220 6d73 6720 6966 206d 7367  etter msg if msg
+00015220: 2069 7320 4e6f 6e65 290a 2872 6169 7365   is None).(raise
+00015230: 2920 2020 2020 3d3e 2064 6566 2028 6578  )     => def (ex
+00015240: 633d 4e6f 6e65 2c20 6672 6f6d 5f65 7863  c=None, from_exc
+00015250: 3d4e 6f6e 6529 202d 3e20 7261 6973 6520  =None) -> raise 
+00015260: 6578 6320 6672 6f6d 2066 726f 6d5f 6578  exc from from_ex
+00015270: 6320 2023 206f 7220 6a75 7374 2072 6169  c  # or just rai
+00015280: 7365 2069 6620 6578 6320 6973 204e 6f6e  se if exc is Non
+00015290: 650a 2320 7468 6572 6520 6172 6520 7477  e.# there are tw
+000152a0: 6f20 6f70 6572 6174 6f72 2066 756e 6374  o operator funct
+000152b0: 696f 6e73 2074 6861 7420 646f 6e27 7420  ions that don't 
+000152c0: 7265 7175 6972 6520 7061 7265 6e74 6865  require parenthe
+000152d0: 7365 733a 0a2e 5b5d 2020 2020 2020 2020  ses:..[]        
+000152e0: 203d 3e20 286f 7065 7261 746f 722e 6765   => (operator.ge
+000152f0: 7469 7465 6d29 0a2e 245b 5d20 2020 2020  titem)..$[]     
+00015300: 2020 203d 3e20 2320 6974 6572 6174 6f72     => # iterator
+00015310: 2073 6c69 6369 6e67 206f 7065 7261 746f   slicing operato
+00015320: 720a 6060 600a 0a46 6f72 2061 6e20 6f70  r.```..For an op
+00015330: 6572 6174 6f72 2066 756e 6374 696f 6e20  erator function 
+00015340: 666f 7220 6675 6e63 7469 6f6e 2061 7070  for function app
+00015350: 6c69 6361 7469 6f6e 2c20 7365 6520 5b60  lication, see [`
+00015360: 6361 6c6c 605d 2823 6361 6c6c 292e 0a0a  call`](#call)...
+00015370: 5468 6f75 6768 206e 6f20 6f70 6572 6174  Though no operat
+00015380: 6f72 2066 756e 6374 696f 6e20 6973 2061  or function is a
+00015390: 7661 696c 6162 6c65 2066 6f72 2060 6177  vailable for `aw
+000153a0: 6169 7460 2c20 616e 2065 7175 6976 616c  ait`, an equival
+000153b0: 656e 7420 7379 6e74 6178 2069 7320 6176  ent syntax is av
+000153c0: 6169 6c61 626c 6520 666f 7220 5b70 6970  ailable for [pip
+000153d0: 6573 5d28 2370 6970 6573 2920 696e 2074  es](#pipes) in t
+000153e0: 6865 2066 6f72 6d20 6f66 2060 6177 6169  he form of `awai
+000153f0: 7461 626c 6520 7c3e 2061 7761 6974 602e  table |> await`.
+00015400: 0a0a 2323 2323 2320 4578 616d 706c 650a  ..##### Example.
+00015410: 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0a 6060  .**Coconut:**.``
+00015420: 6063 6f63 6f6e 7574 0a28 7261 6e67 6528  `coconut.(range(
+00015430: 302c 2035 292c 2072 616e 6765 2835 2c20  0, 5), range(5, 
+00015440: 3130 2929 207c 2a3e 206d 6170 2428 2b29  10)) |*> map$(+)
+00015450: 207c 3e20 6c69 7374 207c 3e20 7072 696e   |> list |> prin
+00015460: 740a 6060 600a 0a2a 2a50 7974 686f 6e3a  t.```..**Python:
+00015470: 2a2a 0a60 6060 636f 636f 6e75 745f 7079  **.```coconut_py
+00015480: 7468 6f6e 0a69 6d70 6f72 7420 6f70 6572  thon.import oper
+00015490: 6174 6f72 0a70 7269 6e74 286c 6973 7428  ator.print(list(
+000154a0: 6d61 7028 6f70 6572 6174 6f72 2e61 6464  map(operator.add
+000154b0: 2c20 7261 6e67 6528 302c 2035 292c 2072  , range(0, 5), r
+000154c0: 616e 6765 2835 2c20 3130 2929 2929 0a60  ange(5, 10)))).`
+000154d0: 6060 0a0a 2323 2320 496d 706c 6963 6974  ``..### Implicit
+000154e0: 2050 6172 7469 616c 2041 7070 6c69 6361   Partial Applica
+000154f0: 7469 6f6e 0a0a 436f 636f 6e75 7420 7375  tion..Coconut su
+00015500: 7070 6f72 7473 2061 206e 756d 6265 7220  pports a number 
+00015510: 6f66 2064 6966 6665 7265 6e74 2073 796e  of different syn
+00015520: 7461 6374 6963 616c 2061 6c69 6173 6573  tactical aliases
+00015530: 2066 6f72 2063 6f6d 6d6f 6e20 7061 7274   for common part
+00015540: 6961 6c20 6170 706c 6963 6174 696f 6e20  ial application 
+00015550: 7573 6520 6361 7365 732e 2054 6865 7365  use cases. These
+00015560: 2061 7265 3a0a 6060 6063 6f63 6f6e 7574   are:.```coconut
+00015570: 0a2e 6174 7472 2020 2020 2020 2020 2020  ..attr          
+00015580: 203d 3e20 2020 2020 206f 7065 7261 746f   =>      operato
+00015590: 722e 6174 7472 6765 7474 6572 2822 6174  r.attrgetter("at
+000155a0: 7472 2229 0a2e 6d65 7468 6f64 2861 7267  tr")..method(arg
+000155b0: 7329 2020 203d 3e20 2020 2020 206f 7065  s)   =>      ope
+000155c0: 7261 746f 722e 6d65 7468 6f64 6361 6c6c  rator.methodcall
+000155d0: 6572 2822 6d65 7468 6f64 222c 2061 7267  er("method", arg
+000155e0: 7329 0a66 756e 6324 2020 2020 2020 2020  s).func$        
+000155f0: 2020 203d 3e20 2020 2020 2028 2429 2428     =>      ($)$(
+00015600: 6675 6e63 290a 7365 715b 5d20 2020 2020  func).seq[]     
+00015610: 2020 2020 2020 3d3e 2020 2020 2020 6f70        =>      op
+00015620: 6572 6174 6f72 2e67 6574 6974 656d 2428  erator.getitem$(
+00015630: 7365 7129 0a69 7465 7224 5b5d 2020 2020  seq).iter$[]    
+00015640: 2020 2020 203d 3e20 2020 2020 2023 2074       =>      # t
+00015650: 6865 2065 7175 6976 616c 656e 7420 6f66  he equivalent of
+00015660: 2073 6571 5b5d 2066 6f72 2069 7465 7261   seq[] for itera
+00015670: 746f 7273 0a2e 5b61 3a62 3a63 5d20 2020  tors..[a:b:c]   
+00015680: 2020 2020 203d 3e20 2020 2020 206f 7065       =>      ope
+00015690: 7261 746f 722e 6974 656d 6765 7474 6572  rator.itemgetter
+000156a0: 2873 6c69 6365 2861 2c20 622c 2063 2929  (slice(a, b, c))
+000156b0: 0a2e 245b 613a 623a 635d 2020 2020 2020  ..$[a:b:c]      
+000156c0: 203d 3e20 2020 2020 2023 2074 6865 2065   =>      # the e
+000156d0: 7175 6976 616c 656e 7420 6f66 202e 5b61  quivalent of .[a
+000156e0: 3a62 3a63 5d20 666f 7220 6974 6572 6174  :b:c] for iterat
+000156f0: 6f72 730a 6060 600a 0a41 6464 6974 696f  ors.```..Additio
+00015700: 6e61 6c6c 792c 2060 2e61 7474 722e 6d65  nally, `.attr.me
+00015710: 7468 6f64 2861 7267 7329 602c 2060 2e5b  thod(args)`, `.[
+00015720: 785d 5b79 5d60 2c20 616e 6420 602e 245b  x][y]`, and `.$[
+00015730: 785d 245b 795d 6020 6172 6520 616c 736f  x]$[y]` are also
+00015740: 2073 7570 706f 7274 6564 2e0a 0a49 6e20   supported...In 
+00015750: 6164 6469 7469 6f6e 2c20 666f 7220 6576  addition, for ev
+00015760: 6572 7920 436f 636f 6e75 7420 5b6f 7065  ery Coconut [ope
+00015770: 7261 746f 7220 6675 6e63 7469 6f6e 5d28  rator function](
+00015780: 236f 7065 7261 746f 722d 6675 6e63 7469  #operator-functi
+00015790: 6f6e 7329 2c20 436f 636f 6e75 7420 7375  ons), Coconut su
+000157a0: 7070 6f72 7473 2073 796e 7461 7820 666f  pports syntax fo
+000157b0: 7220 696d 706c 6963 6974 6c79 2070 6172  r implicitly par
+000157c0: 7469 616c 6c79 2061 7070 6c79 696e 6720  tially applying 
+000157d0: 7468 6174 206f 7065 7261 746f 7220 6675  that operator fu
+000157e0: 6e63 7469 6f6e 2061 730a 6060 600a 282e  nction as.```.(.
+000157f0: 203c 6f70 3e20 3c61 7267 3e29 0a28 3c61   <op> <arg>).(<a
+00015800: 7267 3e20 3c6f 703e 202e 290a 6060 600a  rg> <op> .).```.
+00015810: 7768 6572 6520 603c 6f70 3e60 2069 7320  where `<op>` is 
+00015820: 7468 6520 6f70 6572 6174 6f72 2066 756e  the operator fun
+00015830: 6374 696f 6e20 616e 6420 603c 6172 673e  ction and `<arg>
+00015840: 6020 6973 2061 6e79 2065 7870 7265 7373  ` is any express
+00015850: 696f 6e2e 204e 6f74 6520 7468 6174 2c20  ion. Note that, 
+00015860: 6173 2077 6974 6820 6f70 6572 6174 6f72  as with operator
+00015870: 2066 756e 6374 696f 6e73 2074 6865 6d73   functions thems
+00015880: 656c 7665 732c 2074 6865 2070 6172 656e  elves, the paren
+00015890: 7468 6573 6573 2061 7265 206e 6563 6573  theses are neces
+000158a0: 7361 7279 2066 6f72 2074 6869 7320 7479  sary for this ty
+000158b0: 7065 206f 6620 696d 706c 6963 6974 2070  pe of implicit p
+000158c0: 6172 7469 616c 2061 7070 6c69 6361 7469  artial applicati
+000158d0: 6f6e 2e0a 0a41 6464 6974 696f 6e61 6c6c  on...Additionall
+000158e0: 792c 2043 6f63 6f6e 7574 2061 6c73 6f20  y, Coconut also 
+000158f0: 7375 7070 6f72 7473 2069 6d70 6c69 6369  supports implici
+00015900: 7420 6f70 6572 6174 6f72 2066 756e 6374  t operator funct
+00015910: 696f 6e20 7061 7274 6961 6c73 2066 6f72  ion partials for
+00015920: 2061 7262 6974 7261 7279 2066 756e 6374   arbitrary funct
+00015930: 696f 6e73 2061 730a 6060 600a 282e 2060  ions as.```.(. `
+00015940: 3c6e 616d 653e 6020 3c61 7267 3e29 0a28  <name>` <arg>).(
+00015950: 3c61 7267 3e20 603c 6e61 6d65 3e60 202e  <arg> `<name>` .
+00015960: 290a 6060 600a 6261 7365 6420 6f6e 2043  ).```.based on C
+00015970: 6f63 6f6e 7574 2773 205b 696e 6669 7820  oconut's [infix 
+00015980: 6e6f 7461 7469 6f6e 5d28 2369 6e66 6978  notation](#infix
+00015990: 2d66 756e 6374 696f 6e73 2920 7768 6572  -functions) wher
+000159a0: 6520 603c 6e61 6d65 3e60 2069 7320 7468  e `<name>` is th
+000159b0: 6520 6e61 6d65 206f 6620 7468 6520 6675  e name of the fu
+000159c0: 6e63 7469 6f6e 2e20 4164 6469 7469 6f6e  nction. Addition
+000159d0: 616c 6c79 2c20 6060 2060 3c6e 616d 653e  ally, `` `<name>
+000159e0: 6020 6060 2063 616e 2069 6e73 7465 6164  ` `` can instead
+000159f0: 2062 6520 6120 5b63 7573 746f 6d20 6f70   be a [custom op
+00015a00: 6572 6174 6f72 5d28 2363 7573 746f 6d2d  erator](#custom-
+00015a10: 6f70 6572 6174 6f72 7329 2028 696e 2074  operators) (in t
+00015a20: 6861 7420 6361 7365 2c20 6e6f 2062 6163  hat case, no bac
+00015a30: 6b74 6963 6b73 2073 686f 756c 6420 6265  kticks should be
+00015a40: 2075 7365 6429 2e0a 0a5f 4445 5052 4543   used)..._DEPREC
+00015a50: 4154 4544 3a20 436f 636f 6e75 7420 616c  ATED: Coconut al
+00015a60: 736f 2073 7570 706f 7274 7320 606f 626a  so supports `obj
+00015a70: 2e60 2061 7320 616e 2069 6d70 6c69 6369  .` as an implici
+00015a80: 7420 7061 7274 6961 6c20 666f 7220 6067  t partial for `g
+00015a90: 6574 6174 7472 2428 6f62 6a29 602c 2062  etattr$(obj)`, b
+00015aa0: 7574 2069 7473 2075 7361 6765 2069 7320  ut its usage is 
+00015ab0: 6465 7072 6563 6174 6564 2061 6e64 2077  deprecated and w
+00015ac0: 696c 6c20 7368 6f77 2061 2077 6172 6e69  ill show a warni
+00015ad0: 6e67 2074 6f20 7377 6974 6368 2074 6f20  ng to switch to 
+00015ae0: 6067 6574 6174 7472 2428 6f62 6a29 6020  `getattr$(obj)` 
+00015af0: 696e 7374 6561 642e 5f0a 0a23 2323 2323  instead._..#####
+00015b00: 2045 7861 6d70 6c65 0a0a 2a2a 436f 636f   Example..**Coco
+00015b10: 6e75 743a 2a2a 0a60 6060 636f 636f 6e75  nut:**.```coconu
+00015b20: 740a 3120 7c3e 2022 3132 3322 5b5d 0a6d  t.1 |> "123"[].m
+00015b30: 6f64 2420 3c7c 2035 203c 7c20 330a 3320  od$ <| 5 <| 3.3 
+00015b40: 7c3e 2028 2e2a 3229 207c 3e20 282e 2b31  |> (.*2) |> (.+1
+00015b50: 290a 6060 600a 0a2a 2a50 7974 686f 6e3a  ).```..**Python:
+00015b60: 2a2a 0a60 6060 636f 636f 6e75 745f 7079  **.```coconut_py
+00015b70: 7468 6f6e 0a22 3132 3322 5b31 5d0a 6d6f  thon."123"[1].mo
+00015b80: 6428 352c 2033 290a 2833 202a 2032 2920  d(5, 3).(3 * 2) 
+00015b90: 2b20 310a 6060 600a 0a23 2323 2045 6e68  + 1.```..### Enh
+00015ba0: 616e 6365 6420 5479 7065 2041 6e6e 6f74  anced Type Annot
+00015bb0: 6174 696f 6e0a 0a53 696e 6365 2043 6f63  ation..Since Coc
+00015bc0: 6f6e 7574 2073 796e 7461 7820 6973 2061  onut syntax is a
+00015bd0: 2073 7570 6572 7365 7420 6f66 2050 7974   superset of Pyt
+00015be0: 686f 6e20 3320 7379 6e74 6178 2c20 6974  hon 3 syntax, it
+00015bf0: 2073 7570 706f 7274 7320 5b50 7974 686f   supports [Pytho
+00015c00: 6e20 3320 6675 6e63 7469 6f6e 2074 7970  n 3 function typ
+00015c10: 6520 616e 6e6f 7461 7469 6f6e 2073 796e  e annotation syn
+00015c20: 7461 785d 2868 7474 7073 3a2f 2f77 7777  tax](https://www
+00015c30: 2e70 7974 686f 6e2e 6f72 672f 6465 762f  .python.org/dev/
+00015c40: 7065 7073 2f70 6570 2d30 3438 342f 2920  peps/pep-0484/) 
+00015c50: 616e 6420 5b50 7974 686f 6e20 332e 3620  and [Python 3.6 
+00015c60: 7661 7269 6162 6c65 2074 7970 6520 616e  variable type an
+00015c70: 6e6f 7461 7469 6f6e 2073 796e 7461 785d  notation syntax]
+00015c80: 2868 7474 7073 3a2f 2f77 7777 2e70 7974  (https://www.pyt
+00015c90: 686f 6e2e 6f72 672f 6465 762f 7065 7073  hon.org/dev/peps
+00015ca0: 2f70 6570 2d30 3532 362f 292e 2042 7920  /pep-0526/). By 
+00015cb0: 6465 6661 756c 742c 2043 6f63 6f6e 7574  default, Coconut
+00015cc0: 2063 6f6d 7069 6c65 7320 616c 6c20 7479   compiles all ty
+00015cd0: 7065 2061 6e6e 6f74 6174 696f 6e73 2069  pe annotations i
+00015ce0: 6e74 6f20 5079 7468 6f6e 2d32 2d63 6f6d  nto Python-2-com
+00015cf0: 7061 7469 626c 6520 7479 7065 2063 6f6d  patible type com
+00015d00: 6d65 6e74 732e 2049 6620 796f 7520 7761  ments. If you wa
+00015d10: 6e74 2074 6f20 6b65 6570 2074 6865 2074  nt to keep the t
+00015d20: 7970 6520 616e 6e6f 7461 7469 6f6e 7320  ype annotations 
+00015d30: 696e 7374 6561 642c 2073 696d 706c 7920  instead, simply 
+00015d40: 7061 7373 2061 2060 2d2d 7461 7267 6574  pass a `--target
+00015d50: 6020 7468 6174 2073 7570 706f 7274 7320  ` that supports 
+00015d60: 7468 656d 2e0a 0a53 696e 6365 206e 6f74  them...Since not
+00015d70: 2061 6c6c 2073 7570 706f 7274 6564 2050   all supported P
+00015d80: 7974 686f 6e20 7665 7273 696f 6e73 2073  ython versions s
+00015d90: 7570 706f 7274 2074 6865 205b 6074 7970  upport the [`typ
+00015da0: 696e 6760 5d28 6874 7470 733a 2f2f 646f  ing`](https://do
+00015db0: 6373 2e70 7974 686f 6e2e 6f72 672f 332f  cs.python.org/3/
+00015dc0: 6c69 6272 6172 792f 7479 7069 6e67 2e68  library/typing.h
+00015dd0: 746d 6c29 206d 6f64 756c 652c 2043 6f63  tml) module, Coc
+00015de0: 6f6e 7574 2070 726f 7669 6465 7320 7468  onut provides th
+00015df0: 6520 5b60 5459 5045 5f43 4845 434b 494e  e [`TYPE_CHECKIN
+00015e00: 4760 5d28 2374 7970 655f 6368 6563 6b69  G`](#type_checki
+00015e10: 6e67 2920 6275 696c 742d 696e 2066 6f72  ng) built-in for
+00015e20: 2068 6964 696e 6720 796f 7572 2060 7479   hiding your `ty
+00015e30: 7069 6e67 6020 696d 706f 7274 7320 616e  ping` imports an
+00015e40: 6420 6054 7970 6556 6172 6020 6465 6669  d `TypeVar` defi
+00015e50: 6e69 7469 6f6e 7320 6672 6f6d 2062 6569  nitions from bei
+00015e60: 6e67 2065 7865 6375 7465 6420 6174 2072  ng executed at r
+00015e70: 756e 7469 6d65 2e20 436f 636f 6e75 7420  untime. Coconut 
+00015e80: 7769 6c6c 2061 6c73 6f20 6175 746f 6d61  will also automa
+00015e90: 7469 6361 6c6c 7920 7573 6520 5b60 7479  tically use [`ty
+00015ea0: 7069 6e67 5f65 7874 656e 7369 6f6e 7360  ping_extensions`
+00015eb0: 5d28 6874 7470 733a 2f2f 7079 7069 2e6f  ](https://pypi.o
+00015ec0: 7267 2f70 726f 6a65 6374 2f74 7970 696e  rg/project/typin
+00015ed0: 672d 6578 7465 6e73 696f 6e73 2f29 206f  g-extensions/) o
+00015ee0: 7665 7220 6074 7970 696e 6760 2077 6865  ver `typing` whe
+00015ef0: 6e20 696d 706f 7274 696e 6720 6f62 6a65  n importing obje
+00015f00: 6374 7320 6e6f 7420 6176 6169 6c61 626c  cts not availabl
+00015f10: 6520 696e 2060 7479 7069 6e67 6020 6f6e  e in `typing` on
+00015f20: 2074 6865 2063 7572 7265 6e74 2050 7974   the current Pyt
+00015f30: 686f 6e20 7665 7273 696f 6e2e 0a0a 4675  hon version...Fu
+00015f40: 7274 6865 726d 6f72 652c 2077 6865 6e20  rthermore, when 
+00015f50: 636f 6d70 696c 696e 6720 7479 7065 2061  compiling type a
+00015f60: 6e6e 6f74 6174 696f 6e73 2074 6f20 5079  nnotations to Py
+00015f70: 7468 6f6e 2033 2076 6572 7369 6f6e 7320  thon 3 versions 
+00015f80: 7769 7468 6f75 7420 5b50 4550 2035 3633  without [PEP 563
+00015f90: 5d28 6874 7470 733a 2f2f 7777 772e 7079  ](https://www.py
+00015fa0: 7468 6f6e 2e6f 7267 2f64 6576 2f70 6570  thon.org/dev/pep
+00015fb0: 732f 7065 702d 3035 3633 2f29 2073 7570  s/pep-0563/) sup
+00015fc0: 706f 7274 2c20 436f 636f 6e75 7420 7772  port, Coconut wr
+00015fd0: 6170 7320 616e 6e6f 7461 7469 6f6e 2069  aps annotation i
+00015fe0: 6e20 7374 7269 6e67 7320 746f 2070 7265  n strings to pre
+00015ff0: 7665 6e74 2074 6865 6d20 6672 6f6d 2062  vent them from b
+00016000: 6569 6e67 2065 7661 6c75 6174 6564 2061  eing evaluated a
+00016010: 7420 7275 6e74 696d 6520 286e 6f74 6520  t runtime (note 
+00016020: 7468 6174 2060 2d2d 6e6f 2d77 7261 702d  that `--no-wrap-
+00016030: 7479 7065 7360 2064 6973 6162 6c65 7320  types` disables 
+00016040: 616c 6c20 7772 6170 7069 6e67 2c20 696e  all wrapping, in
+00016050: 636c 7564 696e 6720 7669 6120 5045 5020  cluding via PEP 
+00016060: 3536 3320 7375 7070 6f72 7429 2e0a 0a41  563 support)...A
+00016070: 6464 6974 696f 6e61 6c6c 792c 2043 6f63  dditionally, Coc
+00016080: 6f6e 7574 2061 6464 7320 7370 6563 6961  onut adds specia
+00016090: 6c20 7379 6e74 6178 2066 6f72 206d 616b  l syntax for mak
+000160a0: 696e 6720 7479 7065 2061 6e6e 6f74 6174  ing type annotat
+000160b0: 696f 6e73 2065 6173 6965 7220 616e 6420  ions easier and 
+000160c0: 7369 6d70 6c65 7220 746f 2077 7269 7465  simpler to write
+000160d0: 2e20 5768 656e 2069 6e73 6964 6520 6f66  . When inside of
+000160e0: 2061 2074 7970 6520 616e 6e6f 7461 7469   a type annotati
+000160f0: 6f6e 2c20 436f 636f 6e75 7420 7472 6561  on, Coconut trea
+00016100: 7473 2063 6572 7461 696e 2073 796e 7461  ts certain synta
+00016110: 7820 636f 6e73 7472 7563 7473 2064 6966  x constructs dif
+00016120: 6665 7265 6e74 6c79 2c20 636f 6d70 696c  ferently, compil
+00016130: 696e 6720 7468 656d 2074 6f20 7479 7065  ing them to type
+00016140: 2061 6e6e 6f74 6174 696f 6e73 2069 6e73   annotations ins
+00016150: 7465 6164 206f 6620 7768 6174 2074 6865  tead of what the
+00016160: 7920 776f 756c 6420 6e6f 726d 616c 6c79  y would normally
+00016170: 2072 6570 7265 7365 6e74 2e20 5370 6563   represent. Spec
+00016180: 6966 6963 616c 6c79 2c20 436f 636f 6e75  ifically, Coconu
+00016190: 7420 6170 706c 6965 7320 7468 6520 666f  t applies the fo
+000161a0: 6c6c 6f77 696e 6720 7472 616e 7366 6f72  llowing transfor
+000161b0: 6d61 7469 6f6e 733a 0a60 6060 636f 636f  mations:.```coco
+000161c0: 6e75 740a 4120 7c20 420a 2020 2020 3d3e  nut.A | B.    =>
+000161d0: 2074 7970 696e 672e 556e 696f 6e5b 412c   typing.Union[A,
+000161e0: 2042 5d0a 2841 3b20 4229 0a20 2020 203d   B].(A; B).    =
+000161f0: 3e20 7479 7069 6e67 2e54 7570 6c65 5b41  > typing.Tuple[A
+00016200: 2c20 425d 0a41 3f0a 2020 2020 3d3e 2074  , B].A?.    => t
+00016210: 7970 696e 672e 4f70 7469 6f6e 616c 5b41  yping.Optional[A
+00016220: 5d0a 415b 5d0a 2020 2020 3d3e 2074 7970  ].A[].    => typ
+00016230: 696e 672e 5365 7175 656e 6365 5b41 5d0a  ing.Sequence[A].
+00016240: 4124 5b5d 0a20 2020 203d 3e20 7479 7069  A$[].    => typi
+00016250: 6e67 2e49 7465 7261 626c 655b 415d 0a28  ng.Iterable[A].(
+00016260: 2920 2d3e 203c 7265 743e 0a20 2020 203d  ) -> <ret>.    =
+00016270: 3e20 7479 7069 6e67 2e43 616c 6c61 626c  > typing.Callabl
+00016280: 655b 5b5d 2c20 3c72 6574 3e5d 0a3c 6172  e[[], <ret>].<ar
+00016290: 673e 202d 3e20 3c72 6574 3e0a 2020 2020  g> -> <ret>.    
+000162a0: 3d3e 2074 7970 696e 672e 4361 6c6c 6162  => typing.Callab
+000162b0: 6c65 5b5b 3c61 7267 3e5d 2c20 3c72 6574  le[[<arg>], <ret
+000162c0: 3e5d 0a28 3c61 7267 733e 2920 2d3e 203c  >].(<args>) -> <
+000162d0: 7265 743e 0a20 2020 203d 3e20 7479 7069  ret>.    => typi
+000162e0: 6e67 2e43 616c 6c61 626c 655b 5b3c 6172  ng.Callable[[<ar
+000162f0: 6773 3e5d 2c20 3c72 6574 3e5d 0a2d 3e20  gs>], <ret>].-> 
+00016300: 3c72 6574 3e0a 2020 2020 3d3e 2074 7970  <ret>.    => typ
+00016310: 696e 672e 4361 6c6c 6162 6c65 5b2e 2e2e  ing.Callable[...
+00016320: 2c20 3c72 6574 3e5d 0a28 3c61 7267 733e  , <ret>].(<args>
+00016330: 2c20 2a2a 3c50 6172 616d 5370 6563 3e29  , **<ParamSpec>)
+00016340: 202d 3e20 3c72 6574 3e0a 2020 2020 3d3e   -> <ret>.    =>
+00016350: 2074 7970 696e 672e 4361 6c6c 6162 6c65   typing.Callable
+00016360: 5b74 7970 696e 672e 436f 6e63 6174 656e  [typing.Concaten
+00016370: 6174 655b 3c61 7267 733e 2c20 3c50 6172  ate[<args>, <Par
+00016380: 616d 5370 6563 3e5d 2c20 3c72 6574 3e5d  amSpec>], <ret>]
+00016390: 0a61 7379 6e63 2028 3c61 7267 733e 2920  .async (<args>) 
+000163a0: 2d3e 203c 7265 743e 0a20 2020 203d 3e20  -> <ret>.    => 
+000163b0: 7479 7069 6e67 2e43 616c 6c61 626c 655b  typing.Callable[
+000163c0: 5b3c 6172 6773 3e5d 2c20 7479 7069 6e67  [<args>], typing
+000163d0: 2e41 7761 6974 6162 6c65 5b3c 7265 743e  .Awaitable[<ret>
+000163e0: 5d5d 0a60 6060 0a77 6865 7265 2060 7479  ]].```.where `ty
+000163f0: 7069 6e67 6020 6973 2074 6865 2050 7974  ping` is the Pyt
+00016400: 686f 6e20 332e 3520 6275 696c 742d 696e  hon 3.5 built-in
+00016410: 205b 6074 7970 696e 6760 206d 6f64 756c   [`typing` modul
+00016420: 655d 2868 7474 7073 3a2f 2f64 6f63 732e  e](https://docs.
+00016430: 7079 7468 6f6e 2e6f 7267 2f33 2f6c 6962  python.org/3/lib
+00016440: 7261 7279 2f74 7970 696e 672e 6874 6d6c  rary/typing.html
+00016450: 292e 2046 6f72 206d 6f72 6520 696e 666f  ). For more info
+00016460: 726d 6174 696f 6e20 6f6e 2074 6865 2043  rmation on the C
+00016470: 616c 6c61 626c 6520 7379 6e74 6178 2c20  allable syntax, 
+00016480: 7365 6520 5b50 4550 2036 3737 5d28 6874  see [PEP 677](ht
+00016490: 7470 733a 2f2f 7065 7073 2e70 7974 686f  tps://peps.pytho
+000164a0: 6e2e 6f72 672f 7065 702d 3036 3737 292c  n.org/pep-0677),
+000164b0: 2077 6869 6368 2043 6f63 6f6e 7574 2066   which Coconut f
+000164c0: 756c 6c79 2073 7570 706f 7274 732e 0a0a  ully supports...
+000164d0: 4164 6469 7469 6f6e 616c 6c79 2c20 6d61  Additionally, ma
+000164e0: 6e79 206f 6620 436f 636f 6e75 7427 7320  ny of Coconut's 
+000164f0: 5b6f 7065 7261 746f 7220 6675 6e63 7469  [operator functi
+00016500: 6f6e 735d 2823 6f70 6572 6174 6f72 2d66  ons](#operator-f
+00016510: 756e 6374 696f 6e73 2920 7769 6c6c 2063  unctions) will c
+00016520: 6f6d 7069 6c65 2069 6e74 6f20 6571 7569  ompile into equi
+00016530: 7661 6c65 6e74 205b 6050 726f 746f 636f  valent [`Protoco
+00016540: 6c60 735d 2868 7474 7073 3a2f 2f64 6f63  l`s](https://doc
+00016550: 732e 7079 7468 6f6e 2e6f 7267 2f33 2f6c  s.python.org/3/l
+00016560: 6962 7261 7279 2f74 7970 696e 672e 6874  ibrary/typing.ht
+00016570: 6d6c 2374 7970 696e 672e 5072 6f74 6f63  ml#typing.Protoc
+00016580: 6f6c 2920 696e 7374 6561 6420 7768 656e  ol) instead when
+00016590: 2069 6e73 6964 6520 6120 7479 7065 2061   inside a type a
+000165a0: 6e6e 6f74 6174 696f 6e2e 2053 6565 2062  nnotation. See b
+000165b0: 656c 6f77 2066 6f72 2074 6865 2066 756c  elow for the ful
+000165c0: 6c20 6c69 7374 2061 6e64 2073 7065 6369  l list and speci
+000165d0: 6669 6361 7469 6f6e 2e0a 0a5f 4e6f 7465  fication..._Note
+000165e0: 3a20 5468 6520 7472 616e 7366 6f72 6d61  : The transforma
+000165f0: 7469 6f6e 2074 6f20 6055 6e69 6f6e 6020  tion to `Union` 
+00016600: 6973 206e 6f74 2064 6f6e 6520 6f6e 2050  is not done on P
+00016610: 7974 686f 6e20 332e 3130 2061 7320 5079  ython 3.10 as Py
+00016620: 7468 6f6e 2033 2e31 3020 6861 7320 6e61  thon 3.10 has na
+00016630: 7469 7665 205b 5045 5020 3630 345d 2868  tive [PEP 604](h
+00016640: 7474 7073 3a2f 2f77 7777 2e70 7974 686f  ttps://www.pytho
+00016650: 6e2e 6f72 672f 6465 762f 7065 7073 2f70  n.org/dev/peps/p
+00016660: 6570 2d30 3630 3429 2073 7570 706f 7274  ep-0604) support
+00016670: 2e5f 0a0a 546f 2075 7365 2074 6865 7365  ._..To use these
+00016680: 2074 7261 6e73 666f 726d 6174 696f 6e73   transformations
+00016690: 2069 6e20 6120 5b74 7970 6520 616c 6961   in a [type alia
+000166a0: 735d 2868 7474 7073 3a2f 2f70 6570 732e  s](https://peps.
+000166b0: 7079 7468 6f6e 2e6f 7267 2f70 6570 2d30  python.org/pep-0
+000166c0: 3438 342f 2374 7970 652d 616c 6961 7365  484/#type-aliase
+000166d0: 7329 2c20 7573 6520 7468 6520 7379 6e74  s), use the synt
+000166e0: 6178 0a60 6060 0a74 7970 6520 3c6e 616d  ax.```.type <nam
+000166f0: 653e 203d 203c 7479 7065 3e0a 6060 600a  e> = <type>.```.
+00016700: 7768 6963 6820 7769 6c6c 2061 6c6c 6f77  which will allow
+00016710: 2060 3c74 7970 653e 6020 746f 2069 6e63   `<type>` to inc
+00016720: 6c75 6465 2043 6f63 6f6e 7574 2773 2073  lude Coconut's s
+00016730: 7065 6369 616c 2074 7970 6520 616e 6e6f  pecial type anno
+00016740: 7461 7469 6f6e 2073 796e 7461 7820 616e  tation syntax an
+00016750: 6420 7479 7065 2060 3c6e 616d 653e 6020  d type `<name>` 
+00016760: 6173 2061 205b 6074 7970 696e 672e 5479  as a [`typing.Ty
+00016770: 7065 416c 6961 7360 5d28 6874 7470 733a  peAlias`](https:
+00016780: 2f2f 646f 6373 2e70 7974 686f 6e2e 6f72  //docs.python.or
+00016790: 672f 332f 6c69 6272 6172 792f 7479 7069  g/3/library/typi
+000167a0: 6e67 2e68 746d 6c23 7479 7069 6e67 2e54  ng.html#typing.T
+000167b0: 7970 6541 6c69 6173 292e 2049 6620 796f  ypeAlias). If yo
+000167c0: 7520 7472 7920 746f 2069 6e73 7465 6164  u try to instead
+000167d0: 206a 7573 7420 646f 2061 206e 616b 6564   just do a naked
+000167e0: 2060 3c6e 616d 653e 203d 203c 7479 7065   `<name> = <type
+000167f0: 3e60 2074 7970 6520 616c 6961 732c 2043  >` type alias, C
+00016800: 6f63 6f6e 7574 2077 6f6e 2774 2062 6520  oconut won't be 
+00016810: 6162 6c65 2074 6f20 7465 6c6c 2079 6f75  able to tell you
+00016820: 2772 6520 6174 7465 6d70 7469 6e67 2061  're attempting a
+00016830: 2074 7970 6520 616c 6961 7320 616e 6420   type alias and 
+00016840: 7468 7573 2077 6f6e 2774 2061 7070 6c79  thus won't apply
+00016850: 2061 6e79 206f 6620 7468 6520 6162 6f76   any of the abov
+00016860: 6520 7472 616e 7366 6f72 6d61 7469 6f6e  e transformation
+00016870: 732e 0a0a 5375 6368 2074 7970 6520 616c  s...Such type al
+00016880: 6961 7320 7374 6174 656d 656e 7473 e280  ias statements..
+00016890: 9461 7320 7765 6c6c 2061 7320 616c 6c20  .as well as all 
+000168a0: 6063 6c61 7373 602c 2060 6461 7461 602c  `class`, `data`,
+000168b0: 2061 6e64 2066 756e 6374 696f 6e20 6465   and function de
+000168c0: 6669 6e69 7469 6f6e 7320 696e 2043 6f63  finitions in Coc
+000168d0: 6f6e 7574 e280 9461 6c73 6f20 7375 7070  onut...also supp
+000168e0: 6f72 7420 436f 636f 6e75 7427 7320 5b74  ort Coconut's [t
+000168f0: 7970 6520 7061 7261 6d65 7465 7220 7379  ype parameter sy
+00016900: 6e74 6178 5d28 2374 7970 652d 7061 7261  ntax](#type-para
+00016910: 6d65 7465 722d 7379 6e74 6178 292c 2061  meter-syntax), a
+00016920: 6c6c 6f77 696e 6720 796f 7520 746f 2064  llowing you to d
+00016930: 6f20 7468 696e 6773 206c 696b 6520 6074  o things like `t
+00016940: 7970 6520 4f72 5374 725b 545d 203d 2054  ype OrStr[T] = T
+00016950: 207c 2073 7472 602e 0a0a 2323 2323 2320   | str`...##### 
+00016960: 5375 7070 6f72 7465 6420 5072 6f74 6f63  Supported Protoc
+00016970: 6f6c 730a 0a55 7369 6e67 2043 6f63 6f6e  ols..Using Cocon
+00016980: 7574 2773 205b 6f70 6572 6174 6f72 2066  ut's [operator f
+00016990: 756e 6374 696f 6e5d 2823 6f70 6572 6174  unction](#operat
+000169a0: 6f72 2d66 756e 6374 696f 6e73 2920 7379  or-functions) sy
+000169b0: 6e74 6178 2069 6e73 6964 6520 6f66 2061  ntax inside of a
+000169c0: 2074 7970 6520 616e 6e6f 7461 7469 6f6e   type annotation
+000169d0: 2077 696c 6c20 696e 7374 6561 6420 7072   will instead pr
+000169e0: 6f64 7563 6520 6120 5b60 5072 6f74 6f63  oduce a [`Protoc
+000169f0: 6f6c 605d 2868 7474 7073 3a2f 2f64 6f63  ol`](https://doc
+00016a00: 732e 7079 7468 6f6e 2e6f 7267 2f33 2f6c  s.python.org/3/l
+00016a10: 6962 7261 7279 2f74 7970 696e 672e 6874  ibrary/typing.ht
+00016a20: 6d6c 2374 7970 696e 672e 5072 6f74 6f63  ml#typing.Protoc
+00016a30: 6f6c 2920 636f 7272 6573 706f 6e64 696e  ol) correspondin
+00016a40: 6720 746f 2074 6861 7420 6f70 6572 6174  g to that operat
+00016a50: 6f72 2028 6f72 2072 6169 7365 2061 2073  or (or raise a s
+00016a60: 796e 7461 7820 6572 726f 7220 6966 206e  yntax error if n
+00016a70: 6f20 7375 6368 2060 5072 6f74 6f63 6f6c  o such `Protocol
+00016a80: 6020 6973 2061 7661 696c 6162 6c65 292e  ` is available).
+00016a90: 2041 6c6c 2061 7661 696c 6162 6c65 2060   All available `
+00016aa0: 5072 6f74 6f63 6f6c 6073 2061 7265 206c  Protocol`s are l
+00016ab0: 6973 7465 6420 6265 6c6f 772e 0a0a 466f  isted below...Fo
+00016ac0: 7220 7468 6520 6f70 6572 6174 6f72 2066  r the operator f
+00016ad0: 756e 6374 696f 6e73 0a60 6060 0a28 2b29  unctions.```.(+)
+00016ae0: 0a28 2a29 0a28 2a2a 290a 282f 290a 282f  .(*).(**).(/).(/
+00016af0: 2f29 0a28 2529 0a28 2629 0a28 5e29 0a28  /).(%).(&).(^).(
+00016b00: 7c29 0a28 3c3c 290a 283e 3e29 0a28 4029  |).(<<).(>>).(@)
+00016b10: 0a60 6060 0a74 6865 2072 6573 756c 7469  .```.the resulti
+00016b20: 6e67 2060 5072 6f74 6f63 6f6c 6020 6973  ng `Protocol` is
+00016b30: 0a60 6060 636f 636f 6e75 740a 636c 6173  .```coconut.clas
+00016b40: 7320 5375 7070 6f72 7473 4f70 5b54 2c20  s SupportsOp[T, 
+00016b50: 552c 2056 5d28 5072 6f74 6f63 6f6c 293a  U, V](Protocol):
+00016b60: 0a20 2020 2064 6566 205f 5f6f 705f 5f28  .    def __op__(
+00016b70: 7365 6c66 3a20 542c 206f 7468 6572 3a20  self: T, other: 
+00016b80: 5529 202d 3e20 563a 0a20 2020 2020 2020  U) -> V:.       
+00016b90: 2072 6169 7365 204e 6f74 496d 706c 656d   raise NotImplem
+00016ba0: 656e 7465 6445 7272 6f72 282e 2e2e 290a  entedError(...).
+00016bb0: 6060 600a 7768 6572 6520 605f 5f6f 705f  ```.where `__op_
+00016bc0: 5f60 2069 7320 7468 6520 6d61 6769 6320  _` is the magic 
+00016bd0: 6d65 7468 6f64 2063 6f72 7265 7370 6f6e  method correspon
+00016be0: 6469 6e67 2074 6f20 7468 6174 206f 7065  ding to that ope
+00016bf0: 7261 746f 722e 0a0a 466f 7220 7468 6520  rator...For the 
+00016c00: 6f70 6572 6174 6f72 2066 756e 6374 696f  operator functio
+00016c10: 6e20 6028 2d29 602c 2074 6865 2072 6573  n `(-)`, the res
+00016c20: 756c 7469 6e67 2060 5072 6f74 6f63 6f6c  ulting `Protocol
+00016c30: 6020 6973 3a0a 6060 6063 6f63 6f6e 7574  ` is:.```coconut
+00016c40: 0a63 6c61 7373 2053 7570 706f 7274 734d  .class SupportsM
+00016c50: 696e 7573 5b54 2c20 552c 2056 5d28 5072  inus[T, U, V](Pr
+00016c60: 6f74 6f63 6f6c 293a 0a20 2020 2064 6566  otocol):.    def
+00016c70: 205f 5f73 7562 5f5f 2873 656c 663a 2054   __sub__(self: T
+00016c80: 2c20 6f74 6865 723a 2055 2920 2d3e 2056  , other: U) -> V
+00016c90: 3a0a 2020 2020 2020 2020 7261 6973 6520  :.        raise 
+00016ca0: 4e6f 7449 6d70 6c65 6d65 6e74 6564 4572  NotImplementedEr
+00016cb0: 726f 720a 2020 2020 6465 6620 5f5f 6e65  ror.    def __ne
+00016cc0: 675f 5f28 7365 6c66 3a20 5429 202d 3e20  g__(self: T) -> 
+00016cd0: 563a 0a20 2020 2020 2020 2072 6169 7365  V:.        raise
+00016ce0: 204e 6f74 496d 706c 656d 656e 7465 6445   NotImplementedE
+00016cf0: 7272 6f72 0a60 6060 0a0a 466f 7220 7468  rror.```..For th
+00016d00: 6520 6f70 6572 6174 6f72 2066 756e 6374  e operator funct
+00016d10: 696f 6e20 6028 7e29 602c 2074 6865 2072  ion `(~)`, the r
+00016d20: 6573 756c 7469 6e67 2060 5072 6f74 6f63  esulting `Protoc
+00016d30: 6f6c 6020 6973 3a0a 6060 6063 6f63 6f6e  ol` is:.```cocon
+00016d40: 7574 0a63 6c61 7373 2053 7570 706f 7274  ut.class Support
+00016d50: 7349 6e76 5b54 2c20 565d 2850 726f 746f  sInv[T, V](Proto
+00016d60: 636f 6c29 3a0a 2020 2020 6465 6620 5f5f  col):.    def __
+00016d70: 696e 7665 7274 5f5f 2873 656c 663a 2054  invert__(self: T
+00016d80: 2920 2d3e 2056 3a0a 2020 2020 2020 2020  ) -> V:.        
+00016d90: 7261 6973 6520 4e6f 7449 6d70 6c65 6d65  raise NotImpleme
+00016da0: 6e74 6564 4572 726f 7228 2e2e 2e29 0a60  ntedError(...).`
+00016db0: 6060 0a0a 2323 2323 2320 604c 6973 7460  ``..##### `List`
+00016dc0: 2076 732e 2060 5365 7175 656e 6365 600a   vs. `Sequence`.
+00016dd0: 0a49 6d70 6f72 7461 6e74 6c79 2c20 6e6f  .Importantly, no
+00016de0: 7465 2074 6861 7420 6054 5b5d 6020 646f  te that `T[]` do
+00016df0: 6573 206e 6f74 206d 6170 206f 6e74 6f20  es not map onto 
+00016e00: 6074 7970 696e 672e 4c69 7374 5b54 5d60  `typing.List[T]`
+00016e10: 2062 7574 206f 6e74 6f20 6074 7970 696e   but onto `typin
+00016e20: 672e 5365 7175 656e 6365 5b54 5d60 2e20  g.Sequence[T]`. 
+00016e30: 5468 6973 2061 6c6c 6f77 7320 7468 6520  This allows the 
+00016e40: 7265 7375 6c74 696e 6720 7479 7065 2074  resulting type t
+00016e50: 6f20 6265 2063 6f76 6172 6961 6e74 2c20  o be covariant, 
+00016e60: 7375 6368 2074 6861 7420 6966 2060 5560  such that if `U`
+00016e70: 2069 7320 6120 7375 6274 7970 6520 6f66   is a subtype of
+00016e80: 2060 5460 2c20 7468 656e 2060 555b 5d60   `T`, then `U[]`
+00016e90: 2069 7320 6120 7375 6274 7970 6520 6f66   is a subtype of
+00016ea0: 2060 545b 5d60 2e20 4164 6469 7469 6f6e   `T[]`. Addition
+00016eb0: 616c 6c79 2c20 6053 6571 7565 6e63 655b  ally, `Sequence[
+00016ec0: 545d 6020 616c 6c6f 7773 2066 6f72 2074  T]` allows for t
+00016ed0: 7570 6c65 732c 2061 6e64 2077 6865 6e20  uples, and when 
+00016ee0: 7772 6974 696e 6720 696e 2061 6e20 6964  writing in an id
+00016ef0: 696f 6d61 7469 6320 6675 6e63 7469 6f6e  iomatic function
+00016f00: 616c 2073 7479 6c65 2c20 6173 7369 676e  al style, assign
+00016f10: 6d65 6e74 2073 686f 756c 6420 6265 2072  ment should be r
+00016f20: 6172 6520 616e 6420 7475 706c 6573 2073  are and tuples s
+00016f30: 686f 756c 6420 6265 2063 6f6d 6d6f 6e2e  hould be common.
+00016f40: 2055 7369 6e67 2060 5365 7175 656e 6365   Using `Sequence
+00016f50: 6020 636f 7665 7273 2062 6f74 6820 6361  ` covers both ca
+00016f60: 7365 732c 2061 6363 6f6d 6d6f 6461 7469  ses, accommodati
+00016f70: 6e67 2074 7570 6c65 7320 616e 6420 6c69  ng tuples and li
+00016f80: 7374 7320 616e 6420 7072 6576 656e 7469  sts and preventi
+00016f90: 6e67 2069 6e64 6578 6564 2061 7373 6967  ng indexed assig
+00016fa0: 6e6d 656e 742e 2057 6865 6e20 616e 2069  nment. When an i
+00016fb0: 6e64 6578 6564 2061 7373 6967 6e6d 656e  ndexed assignmen
+00016fc0: 7420 6973 2061 7474 656d 7074 6564 2069  t is attempted i
+00016fd0: 6e74 6f20 6120 7661 7269 6162 6c65 2074  nto a variable t
+00016fe0: 7970 6564 2077 6974 6820 6053 6571 7565  yped with `Seque
+00016ff0: 6e63 6560 2c20 4d79 5079 2077 696c 6c20  nce`, MyPy will 
+00017000: 6765 6e65 7261 7465 2061 6e20 6572 726f  generate an erro
+00017010: 723a 0a0a 6060 6063 6f63 6f6e 7574 0a66  r:..```coconut.f
+00017020: 6f6f 3a20 696e 745b 5d20 3d20 5b30 2c20  oo: int[] = [0, 
+00017030: 312c 2032 2c20 332c 2034 2c20 355d 0a66  1, 2, 3, 4, 5].f
+00017040: 6f6f 5b30 5d20 3d20 3120 2020 2320 4d79  oo[0] = 1   # My
+00017050: 5079 2065 7272 6f72 3a20 2255 6e73 7570  Py error: "Unsup
+00017060: 706f 7274 6564 2074 6172 6765 7420 666f  ported target fo
+00017070: 7220 696e 6465 7865 6420 6173 7369 676e  r indexed assign
+00017080: 6d65 6e74 220a 6060 600a 0a49 6620 796f  ment".```..If yo
+00017090: 7520 7761 6e74 2074 6f20 7573 6520 604c  u want to use `L
+000170a0: 6973 7460 2069 6e73 7465 6164 2028 652e  ist` instead (e.
+000170b0: 672e 2069 6620 796f 7520 7761 6e74 2074  g. if you want t
+000170c0: 6f20 7375 7070 6f72 7420 696e 6465 7865  o support indexe
+000170d0: 6420 6173 7369 676e 6d65 6e74 292c 2075  d assignment), u
+000170e0: 7365 2074 6865 2073 7461 6e64 6172 6420  se the standard 
+000170f0: 5079 7468 6f6e 2033 2e35 2076 6172 6961  Python 3.5 varia
+00017100: 626c 6520 7479 7065 2061 6e6e 6f74 6174  ble type annotat
+00017110: 696f 6e20 7379 6e74 6178 3a20 6066 6f6f  ion syntax: `foo
+00017120: 3a20 4c69 7374 5b3c 7479 7065 3e5d 602e  : List[<type>]`.
+00017130: 0a0a 5f4e 6f74 653a 2054 6f20 6561 7369  .._Note: To easi
+00017140: 6c79 2076 6965 7720 796f 7572 2064 6566  ly view your def
+00017150: 696e 6564 2074 7970 6573 2c20 7365 6520  ined types, see 
+00017160: 5b60 7265 7665 616c 5f74 7970 6560 2061  [`reveal_type` a
+00017170: 6e64 2060 7265 7665 616c 5f6c 6f63 616c  nd `reveal_local
+00017180: 7360 5d28 2372 6576 6561 6c2d 7479 7065  s`](#reveal-type
+00017190: 2d61 6e64 2d72 6576 6561 6c2d 6c6f 6361  -and-reveal-loca
+000171a0: 6c73 292e 5f0a 0a23 2323 2323 2045 7861  ls)._..##### Exa
+000171b0: 6d70 6c65 0a0a 2a2a 436f 636f 6e75 743a  mple..**Coconut:
+000171c0: 2a2a 0a60 6060 636f 636f 6e75 740a 6465  **.```coconut.de
+000171d0: 6620 696e 745f 6d61 7028 0a20 2020 2066  f int_map(.    f
+000171e0: 3a20 696e 7420 2d3e 2069 6e74 2c0a 2020  : int -> int,.  
+000171f0: 2020 7873 3a20 696e 745b 5d2c 0a29 202d    xs: int[],.) -
+00017200: 3e20 696e 745b 5d20 3d0a 2020 2020 7873  > int[] =.    xs
+00017210: 207c 3e20 6d61 7024 2866 2920 7c3e 206c   |> map$(f) |> l
+00017220: 6973 740a 0a74 7970 6520 4361 6e41 6464  ist..type CanAdd
+00017230: 416e 6453 7562 203d 2028 2b29 2026 3a20  AndSub = (+) &: 
+00017240: 282d 290a 6060 600a 0a2a 2a50 7974 686f  (-).```..**Pytho
+00017250: 6e3a 2a2a 0a60 6060 636f 636f 6e75 745f  n:**.```coconut_
+00017260: 7079 7468 6f6e 0a69 6d70 6f72 7420 7479  python.import ty
+00017270: 7069 6e67 2020 2320 756e 6c69 6b65 2074  ping  # unlike t
+00017280: 6869 7320 7479 7069 6e67 2069 6d70 6f72  his typing impor
+00017290: 742c 2043 6f63 6f6e 7574 2070 726f 6475  t, Coconut produ
+000172a0: 6365 7320 756e 6976 6572 7361 6c20 636f  ces universal co
+000172b0: 6465 0a0a 6465 6620 696e 745f 6d61 7028  de..def int_map(
+000172c0: 0a20 2020 2066 2c20 2023 2074 7970 653a  .    f,  # type:
+000172d0: 2074 7970 696e 672e 4361 6c6c 6162 6c65   typing.Callable
+000172e0: 5b5b 696e 745d 2c20 696e 745d 0a20 2020  [[int], int].   
+000172f0: 2078 732c 2020 2320 7479 7065 3a20 7479   xs,  # type: ty
+00017300: 7069 6e67 2e53 6571 7565 6e63 655b 696e  ping.Sequence[in
+00017310: 745d 0a29 3a0a 2020 2020 2320 7479 7065  t].):.    # type
+00017320: 3a20 282e 2e2e 2920 2d3e 2074 7970 696e  : (...) -> typin
+00017330: 672e 5365 7175 656e 6365 5b69 6e74 5d0a  g.Sequence[int].
+00017340: 2020 2020 7265 7475 726e 206c 6973 7428      return list(
+00017350: 6d61 7028 662c 2078 7329 290a 0a54 203d  map(f, xs))..T =
+00017360: 2074 7970 696e 672e 5479 7065 5661 7228   typing.TypeVar(
+00017370: 2254 222c 2069 6e66 6572 5f76 6172 6961  "T", infer_varia
+00017380: 6e63 653d 5472 7565 290a 5520 3d20 7479  nce=True).U = ty
+00017390: 7069 6e67 2e54 7970 6556 6172 2822 5522  ping.TypeVar("U"
+000173a0: 2c20 696e 6665 725f 7661 7269 616e 6365  , infer_variance
+000173b0: 3d54 7275 6529 0a56 203d 2074 7970 696e  =True).V = typin
+000173c0: 672e 5479 7065 5661 7228 2256 222c 2069  g.TypeVar("V", i
+000173d0: 6e66 6572 5f76 6172 6961 6e63 653d 5472  nfer_variance=Tr
+000173e0: 7565 290a 636c 6173 7320 4361 6e41 6464  ue).class CanAdd
+000173f0: 416e 6453 7562 2874 7970 696e 672e 5072  AndSub(typing.Pr
+00017400: 6f74 6f63 6f6c 2c20 7479 7069 6e67 2e47  otocol, typing.G
+00017410: 656e 6572 6963 5b54 2c20 552c 2056 5d29  eneric[T, U, V])
+00017420: 3a0a 2020 2020 6465 6620 5f5f 6164 645f  :.    def __add_
+00017430: 5f28 7365 6c66 3a20 542c 206f 7468 6572  _(self: T, other
+00017440: 3a20 5529 202d 3e20 563a 0a20 2020 2020  : U) -> V:.     
+00017450: 2020 2072 6169 7365 204e 6f74 496d 706c     raise NotImpl
+00017460: 656d 656e 7465 6445 7272 6f72 0a20 2020  ementedError.   
+00017470: 2064 6566 205f 5f73 7562 5f5f 2873 656c   def __sub__(sel
+00017480: 663a 2054 2c20 6f74 6865 723a 2055 2920  f: T, other: U) 
+00017490: 2d3e 2056 3a0a 2020 2020 2020 2020 7261  -> V:.        ra
+000174a0: 6973 6520 4e6f 7449 6d70 6c65 6d65 6e74  ise NotImplement
+000174b0: 6564 4572 726f 720a 2020 2020 6465 6620  edError.    def 
+000174c0: 5f5f 6e65 675f 5f28 7365 6c66 3a20 5429  __neg__(self: T)
+000174d0: 202d 3e20 563a 0a20 2020 2020 2020 2072   -> V:.        r
+000174e0: 6169 7365 204e 6f74 496d 706c 656d 656e  aise NotImplemen
+000174f0: 7465 6445 7272 6f72 0a60 6060 0a0a 2323  tedError.```..##
+00017500: 2320 4d75 6c74 6964 696d 656e 7369 6f6e  # Multidimension
+00017510: 616c 2041 7272 6179 204c 6974 6572 616c  al Array Literal
+00017520: 2f43 6f6e 6361 7465 6e61 7469 6f6e 2053  /Concatenation S
+00017530: 796e 7461 780a 0a43 6f63 6f6e 7574 2073  yntax..Coconut s
+00017540: 7570 706f 7274 7320 6d75 6c74 6964 696d  upports multidim
+00017550: 656e 7369 6f6e 616c 2061 7272 6179 206c  ensional array l
+00017560: 6974 6572 616c 2061 6e64 2061 7272 6179  iteral and array
+00017570: 205b 636f 6e63 6174 656e 6174 696f 6e5d   [concatenation]
+00017580: 2868 7474 7073 3a2f 2f6e 756d 7079 2e6f  (https://numpy.o
+00017590: 7267 2f64 6f63 2f73 7461 626c 652f 7265  rg/doc/stable/re
+000175a0: 6665 7265 6e63 652f 6765 6e65 7261 7465  ference/generate
+000175b0: 642f 6e75 6d70 792e 636f 6e63 6174 656e  d/numpy.concaten
+000175c0: 6174 652e 6874 6d6c 292f 5b73 7461 636b  ate.html)/[stack
+000175d0: 5d28 6874 7470 733a 2f2f 6e75 6d70 792e  ](https://numpy.
+000175e0: 6f72 672f 646f 632f 7374 6162 6c65 2f72  org/doc/stable/r
+000175f0: 6566 6572 656e 6365 2f67 656e 6572 6174  eference/generat
+00017600: 6564 2f6e 756d 7079 2e73 7461 636b 2e68  ed/numpy.stack.h
+00017610: 746d 6c29 2073 796e 7461 782e 0a0a 4279  tml) syntax...By
+00017620: 2064 6566 6175 6c74 2c20 616c 6c20 6d75   default, all mu
+00017630: 6c74 6964 696d 656e 7369 6f6e 616c 2061  ltidimensional a
+00017640: 7272 6179 2073 796e 7461 7820 7769 6c6c  rray syntax will
+00017650: 2073 696d 706c 7920 6f70 6572 6174 6520   simply operate 
+00017660: 6f6e 2050 7974 686f 6e20 6c69 7374 7320  on Python lists 
+00017670: 6f66 206c 6973 7473 2028 6f72 2061 6e79  of lists (or any
+00017680: 206e 6f6e 2d60 7374 7260 2060 5365 7175   non-`str` `Sequ
+00017690: 656e 6365 6029 2e20 486f 7765 7665 722c  ence`). However,
+000176a0: 2069 6620 5b60 6e75 6d70 7960 5d28 236e   if [`numpy`](#n
+000176b0: 756d 7079 2d69 6e74 6567 7261 7469 6f6e  umpy-integration
+000176c0: 2920 6f62 6a65 6374 7320 6172 6520 7573  ) objects are us
+000176d0: 6564 2c20 7468 6520 6170 7072 6f70 7269  ed, the appropri
+000176e0: 6174 6520 606e 756d 7079 6020 6361 6c6c  ate `numpy` call
+000176f0: 7320 7769 6c6c 2062 6520 6d61 6465 2069  s will be made i
+00017700: 6e73 7465 6164 2e20 546f 2067 6976 6520  nstead. To give 
+00017710: 6375 7374 6f6d 206f 626a 6563 7473 206d  custom objects m
+00017720: 756c 7469 6469 6d65 6e73 696f 6e61 6c20  ultidimensional 
+00017730: 6172 7261 7920 636f 6e63 6174 656e 6174  array concatenat
+00017740: 696f 6e20 7375 7070 6f72 742c 2064 6566  ion support, def
+00017750: 696e 6520 6074 7970 6528 6f62 6a29 2e5f  ine `type(obj)._
+00017760: 5f6d 6174 636f 6e63 6174 5f5f 6020 2873  _matconcat__` (s
+00017770: 686f 756c 6420 6265 6861 7665 2061 7320  hould behave as 
+00017780: 606e 702e 636f 6e63 6174 6029 2c20 606f  `np.concat`), `o
+00017790: 626a 2e6e 6469 6d60 2028 7368 6f75 6c64  bj.ndim` (should
+000177a0: 2062 6568 6176 6520 6173 2060 6e70 2e6e   behave as `np.n
+000177b0: 6461 7272 6179 2e6e 6469 6d60 292c 2061  darray.ndim`), a
+000177c0: 6e64 2060 6f62 6a2e 7265 7368 6170 6560  nd `obj.reshape`
+000177d0: 2028 7368 6f75 6c64 2062 6568 6176 6520   (should behave 
+000177e0: 6173 2060 6e70 2e6e 6461 7272 6179 2e72  as `np.ndarray.r
+000177f0: 6573 6861 7065 6029 2e0a 0a41 7320 6120  eshape`)...As a 
+00017800: 7369 6d70 6c65 2065 7861 6d70 6c65 2c20  simple example, 
+00017810: 3244 206d 6174 7269 6365 7320 6361 6e20  2D matrices can 
+00017820: 6265 2063 6f6e 7374 7275 6374 6564 2062  be constructed b
+00017830: 7920 7365 7061 7261 7469 6e67 2074 6865  y separating the
+00017840: 2072 6f77 7320 7769 7468 2060 3b3b 6020   rows with `;;` 
+00017850: 696e 7369 6465 206f 6620 6120 6c69 7374  inside of a list
+00017860: 206c 6974 6572 616c 3a0a 6060 6063 6f63   literal:.```coc
+00017870: 6f6e 7574 5f70 7963 6f6e 0a3e 3e3e 205b  onut_pycon.>>> [
+00017880: 312c 2032 203b 3b0a 2020 2020 2033 2c20  1, 2 ;;.     3, 
+00017890: 345d 0a0a 5b5b 312c 2032 5d2c 205b 332c  4]..[[1, 2], [3,
+000178a0: 2034 5d5d 0a3e 3e3e 2069 6d70 6f72 7420   4]].>>> import 
+000178b0: 6e75 6d70 7920 6173 206e 700a 3e3e 3e20  numpy as np.>>> 
+000178c0: 6e70 2e61 7272 6179 285b 312c 2032 203b  np.array([1, 2 ;
+000178d0: 3b20 332c 2034 5d29 0a61 7272 6179 285b  ; 3, 4]).array([
+000178e0: 5b31 2c20 325d 2c0a 2020 2020 2020 205b  [1, 2],.       [
+000178f0: 332c 2034 5d5d 290a 6060 600a 4173 2063  3, 4]]).```.As c
+00017900: 616e 2062 6520 7365 656e 2c20 606e 702e  an be seen, `np.
+00017910: 6172 7261 7960 2028 6f72 2065 7175 6976  array` (or equiv
+00017920: 616c 656e 7429 2063 616e 2062 6520 7573  alent) can be us
+00017930: 6564 2074 6f20 7475 726e 2074 6865 2072  ed to turn the r
+00017940: 6573 756c 7469 6e67 206c 6973 7420 6f66  esulting list of
+00017950: 206c 6973 7473 2069 6e74 6f20 616e 2061   lists into an a
+00017960: 6374 7561 6c20 6172 7261 792e 2054 6869  ctual array. Thi
+00017970: 7320 7379 6e74 6178 2077 6f72 6b73 2062  s syntax works b
+00017980: 6563 6175 7365 2060 3b3b 6020 696e 7369  ecause `;;` insi
+00017990: 6465 206f 6620 6120 6c69 7374 206c 6974  de of a list lit
+000179a0: 6572 616c 2066 756e 6374 696f 6e73 2061  eral functions a
+000179b0: 7320 6120 636f 6e63 6174 656e 6174 696f  s a concatenatio
+000179c0: 6e2f 7374 6163 6b20 616c 6f6e 6720 7468  n/stack along th
+000179d0: 6520 602d 3260 2061 7869 7320 2877 6974  e `-2` axis (wit
+000179e0: 6820 7468 6520 696e 6e65 7220 6172 7261  h the inner arra
+000179f0: 7973 2062 6569 6e67 2062 726f 6164 6361  ys being broadca
+00017a00: 7374 2074 6f20 6028 312c 2032 2960 2061  st to `(1, 2)` a
+00017a10: 7272 6179 7320 6265 666f 7265 2063 6f6e  rrays before con
+00017a20: 6361 7465 6e61 7469 6f6e 292e 204e 6f74  catenation). Not
+00017a30: 6520 7468 6174 2074 6869 7320 636f 6e63  e that this conc
+00017a40: 6174 656e 6174 696f 6e20 6973 2064 6f6e  atenation is don
+00017a50: 6520 656e 7469 7265 6c79 2069 6e20 5079  e entirely in Py
+00017a60: 7468 6f6e 206c 6973 7473 206f 6620 6c69  thon lists of li
+00017a70: 7374 7320 6865 7265 2c20 7369 6e63 6520  sts here, since 
+00017a80: 7468 6520 606e 702e 6172 7261 7960 2063  the `np.array` c
+00017a90: 616c 6c20 636f 6d65 7320 6f6e 6c79 2061  all comes only a
+00017aa0: 7420 7468 6520 656e 642e 0a0a 496e 2067  t the end...In g
+00017ab0: 656e 6572 616c 2c20 7468 6520 6e75 6d62  eneral, the numb
+00017ac0: 6572 206f 6620 7365 6d69 636f 6c6f 6e73  er of semicolons
+00017ad0: 2069 6e64 6963 6174 6573 2074 6865 2064   indicates the d
+00017ae0: 696d 656e 7369 6f6e 2066 726f 6d20 7468  imension from th
+00017af0: 6520 656e 6420 6f6e 2077 6869 6368 2074  e end on which t
+00017b00: 6f20 636f 6e63 6174 656e 6174 652e 2054  o concatenate. T
+00017b10: 6875 732c 2060 3b60 2069 6e64 6963 6174  hus, `;` indicat
+00017b20: 6573 2063 6f6e 6174 656e 6174 696f 6e20  es conatenation 
+00017b30: 616c 6f6e 6720 7468 6520 602d 3160 2061  along the `-1` a
+00017b40: 7869 732c 2060 3b3b 6020 616c 6f6e 6720  xis, `;;` along 
+00017b50: 7468 6520 602d 3260 2061 7869 732c 2061  the `-2` axis, a
+00017b60: 6e64 2073 6f20 6f6e 2e20 4265 666f 7265  nd so on. Before
+00017b70: 2063 6f6e 6361 7465 6e61 7469 6f6e 2c20   concatenation, 
+00017b80: 6172 7261 7973 2061 7265 2061 6c77 6179  arrays are alway
+00017b90: 7320 6272 6f61 6463 6173 7420 746f 2061  s broadcast to a
+00017ba0: 2073 6861 7065 2077 6869 6368 2069 7320   shape which is 
+00017bb0: 6c61 7267 6520 656e 6f75 6768 2074 6f20  large enough to 
+00017bc0: 616c 6c6f 7720 7468 6520 636f 6e63 6174  allow the concat
+00017bd0: 656e 6174 696f 6e2e 0a0a 5468 7573 2c20  enation...Thus, 
+00017be0: 6966 2060 6160 2069 7320 6120 606e 756d  if `a` is a `num
+00017bf0: 7079 6020 6172 7261 792c 2060 5b61 3b20  py` array, `[a; 
+00017c00: 615d 6020 6973 2065 7175 6976 616c 656e  a]` is equivalen
+00017c10: 7420 746f 2060 6e70 2e63 6f6e 6361 7465  t to `np.concate
+00017c20: 6e61 7465 2828 612c 2061 292c 2061 7869  nate((a, a), axi
+00017c30: 733d 2d31 2960 2c20 7768 696c 6520 605b  s=-1)`, while `[
+00017c40: 6120 3b3b 2061 5d60 2077 6f75 6c64 2062  a ;; a]` would b
+00017c50: 6520 6571 7569 7661 6c65 6e74 2074 6f20  e equivalent to 
+00017c60: 6120 7665 7273 696f 6e20 6f66 2060 6e70  a version of `np
+00017c70: 2e63 6f6e 6361 7465 6e61 7465 2828 612c  .concatenate((a,
+00017c80: 2061 292c 2061 7869 733d 2d32 2960 2074   a), axis=-2)` t
+00017c90: 6861 7420 616c 736f 2065 6e73 7572 6573  hat also ensures
+00017ca0: 2074 6861 7420 6061 6020 6973 2061 7420   that `a` is at 
+00017cb0: 6c65 6173 7420 7477 6f20 6469 6d65 6e73  least two dimens
+00017cc0: 696f 6e61 6c2e 2046 6f72 206e 6f72 6d61  ional. For norma
+00017cd0: 6c20 6c69 7374 7320 6f66 206c 6973 7473  l lists of lists
+00017ce0: 2c20 7468 6520 6265 6861 7669 6f72 2069  , the behavior i
+00017cf0: 7320 7468 6520 7361 6d65 2c20 6275 7420  s the same, but 
+00017d00: 6973 2069 6d70 6c65 6d65 6e74 6564 2077  is implemented w
+00017d10: 6974 686f 7574 2061 6e79 2060 6e75 6d70  ithout any `nump
+00017d20: 7960 2063 616c 6c73 2e0a 0a49 6620 6d75  y` calls...If mu
+00017d30: 6c74 6970 6c65 2064 6966 6665 7265 6e74  ltiple different
+00017d40: 2063 6f6e 6361 7465 6e61 7469 6f6e 206f   concatenation o
+00017d50: 7065 7261 746f 7273 2061 7265 2075 7365  perators are use
+00017d60: 642c 2074 6865 206f 7065 7261 746f 7273  d, the operators
+00017d70: 2077 6974 6820 7468 6520 6c65 6173 7420   with the least 
+00017d80: 6e75 6d62 6572 206f 6620 7365 6d69 636f  number of semico
+00017d90: 6c6f 6e73 2077 696c 6c20 6269 6e64 206d  lons will bind m
+00017da0: 6f73 7420 7469 6768 746c 792e 2054 6875  ost tightly. Thu
+00017db0: 732c 2079 6f75 2063 616e 2077 7269 7465  s, you can write
+00017dc0: 2061 2033 4420 6172 7261 7920 6c69 7465   a 3D array lite
+00017dd0: 7261 6c20 6173 3a0a 6060 6063 6f63 6f6e  ral as:.```cocon
+00017de0: 7574 5f70 7963 6f6e 0a3e 3e3e 205b 312c  ut_pycon.>>> [1,
+00017df0: 2032 203b 3b0a 2020 2020 2033 2c20 340a   2 ;;.     3, 4.
+00017e00: 2020 2020 203b 3b3b 0a20 2020 2020 352c       ;;;.     5,
+00017e10: 2036 203b 3b0a 2020 2020 2037 2c20 385d   6 ;;.     7, 8]
+00017e20: 0a0a 5b5b 5b31 2c20 325d 2c20 5b33 2c20  ..[[[1, 2], [3, 
+00017e30: 345d 5d2c 205b 5b35 2c20 365d 2c20 5b37  4]], [[5, 6], [7
+00017e40: 2c20 385d 5d5d 0a60 6060 0a0a 2323 2323  , 8]]].```..####
+00017e50: 2320 436f 6d70 6172 6973 6f6e 2074 6f20  # Comparison to 
+00017e60: 4a75 6c69 610a 0a43 6f63 6f6e 7574 2773  Julia..Coconut's
+00017e70: 206d 756c 7469 6469 6d65 6e73 696f 6e61   multidimensiona
+00017e80: 6c20 6172 7261 7920 7379 6e74 6178 2069  l array syntax i
+00017e90: 7320 6261 7365 6420 6f6e 2074 6861 7420  s based on that 
+00017ea0: 6f66 205b 4a75 6c69 615d 2868 7474 7073  of [Julia](https
+00017eb0: 3a2f 2f64 6f63 732e 6a75 6c69 616c 616e  ://docs.julialan
+00017ec0: 672e 6f72 672f 656e 2f76 312f 6d61 6e75  g.org/en/v1/manu
+00017ed0: 616c 2f61 7272 6179 732f 236d 616e 2d61  al/arrays/#man-a
+00017ee0: 7272 6179 2d6c 6974 6572 616c 7329 2e20  rray-literals). 
+00017ef0: 5468 6520 7072 696d 6172 7920 6469 6666  The primary diff
+00017f00: 6572 656e 6365 2062 6574 7765 656e 2043  erence between C
+00017f10: 6f63 6f6e 7574 2773 2073 796e 7461 7820  oconut's syntax 
+00017f20: 616e 6420 4a75 6c69 6127 7320 7379 6e74  and Julia's synt
+00017f30: 6178 2069 7320 7468 6174 206d 756c 7469  ax is that multi
+00017f40: 6469 6d65 6e73 696f 6e61 6c20 6172 7261  dimensional arra
+00017f50: 7973 2061 7265 2072 6f77 2d66 6972 7374  ys are row-first
+00017f60: 2069 6e20 436f 636f 6e75 7420 2866 6f6c   in Coconut (fol
+00017f70: 6c6f 7769 6e67 2060 6e75 6d70 7960 292c  lowing `numpy`),
+00017f80: 2062 7574 2063 6f6c 756d 6e2d 6669 7273   but column-firs
+00017f90: 7420 696e 204a 756c 6961 2e20 5468 7573  t in Julia. Thus
+00017fa0: 2c20 603b 6020 6973 2076 6572 7469 6361  , `;` is vertica
+00017fb0: 6c20 636f 6e63 6174 656e 6174 696f 6e20  l concatenation 
+00017fc0: 696e 204a 756c 6961 2062 7574 202a 2a68  in Julia but **h
+00017fd0: 6f72 697a 6f6e 7461 6c20 636f 6e63 6174  orizontal concat
+00017fe0: 656e 6174 696f 6e2a 2a20 696e 2043 6f63  enation** in Coc
+00017ff0: 6f6e 7574 2061 6e64 2060 3b3b 6020 6973  onut and `;;` is
+00018000: 2068 6f72 697a 6f6e 7461 6c20 636f 6e63   horizontal conc
+00018010: 6174 656e 6174 696f 6e20 696e 204a 756c  atenation in Jul
+00018020: 6961 2062 7574 202a 2a76 6572 7469 6361  ia but **vertica
+00018030: 6c20 636f 6e63 6174 656e 6174 696f 6e2a  l concatenation*
+00018040: 2a20 696e 2043 6f63 6f6e 7574 2e0a 0a23  * in Coconut...#
+00018050: 2323 2323 2045 7861 6d70 6c65 730a 0a2a  #### Examples..*
+00018060: 2a43 6f63 6f6e 7574 3a2a 2a0a 6060 6063  *Coconut:**.```c
+00018070: 6f63 6f6e 7574 5f70 7963 6f6e 0a3e 3e3e  oconut_pycon.>>>
+00018080: 205b 5b31 3b3b 325d 203b 205b 333b 3b34   [[1;;2] ; [3;;4
+00018090: 5d5d 0a5b 5b31 2c20 335d 2c20 5b32 2c20  ]].[[1, 3], [2, 
+000180a0: 345d 5d0a 6060 600a 5f41 7272 6179 206c  4]].```._Array l
+000180b0: 6974 6572 616c 7320 6361 6e20 6265 2077  iterals can be w
+000180c0: 7269 7474 656e 2069 6e20 636f 6c75 6d6e  ritten in column
+000180d0: 2d66 6972 7374 206f 7264 6572 2069 6620  -first order if 
+000180e0: 7468 6520 636f 6c75 6d6e 7320 6172 6520  the columns are 
+000180f0: 6669 7273 7420 6372 6561 7465 6420 7669  first created vi
+00018100: 6120 7665 7274 6963 616c 2063 6f6e 6361  a vertical conca
+00018110: 7465 6e61 7469 6f6e 2028 603b 3b60 2920  tenation (`;;`) 
+00018120: 616e 6420 7468 656e 206a 6f69 6e65 6420  and then joined 
+00018130: 7669 6120 686f 7269 7a6f 6e74 616c 2063  via horizontal c
+00018140: 6f6e 6361 7465 6e61 7469 6f6e 2028 603b  oncatenation (`;
+00018150: 6029 2e5f 0a0a 6060 6063 6f63 6f6e 7574  `)._..```coconut
+00018160: 5f70 7963 6f6e 0a3e 3e3e 205b 7261 6e67  _pycon.>>> [rang
+00018170: 6528 3329 207c 3e20 6c69 7374 203b 3b20  e(3) |> list ;; 
+00018180: 782b 3120 666f 7220 7820 696e 2072 616e  x+1 for x in ran
+00018190: 6765 2833 295d 0a5b 5b30 2c20 312c 2032  ge(3)].[[0, 1, 2
+000181a0: 5d2c 205b 312c 2032 2c20 335d 5d0a 6060  ], [1, 2, 3]].``
+000181b0: 600a 5f41 7262 6974 7261 7279 2065 7870  `._Arbitrary exp
+000181c0: 7265 7373 696f 6e73 2c20 696e 636c 7564  ressions, includ
+000181d0: 696e 6720 636f 6d70 7265 6865 6e73 696f  ing comprehensio
+000181e0: 6e73 2c20 6172 6520 616c 6c6f 7765 6420  ns, are allowed 
+000181f0: 696e 206d 756c 7469 6469 6d65 6e73 696f  in multidimensio
+00018200: 6e61 6c20 6172 7261 7920 6c69 7465 7261  nal array litera
+00018210: 6c73 2e5f 0a0a 6060 6063 6f63 6f6e 7574  ls._..```coconut
+00018220: 5f70 7963 6f6e 0a3e 3e3e 2069 6d70 6f72  _pycon.>>> impor
+00018230: 7420 6e75 6d70 7920 6173 206e 700a 3e3e  t numpy as np.>>
+00018240: 3e20 6120 3d20 6e70 2e61 7272 6179 285b  > a = np.array([
+00018250: 312c 2032 203b 3b20 332c 2034 5d29 0a3e  1, 2 ;; 3, 4]).>
+00018260: 3e3e 205b 6120 3b20 615d 0a61 7272 6179  >> [a ; a].array
+00018270: 285b 5b31 2c20 322c 2031 2c20 325d 2c0a  ([[1, 2, 1, 2],.
+00018280: 2020 2020 2020 205b 332c 2034 2c20 332c         [3, 4, 3,
+00018290: 2034 5d5d 290a 3e3e 3e20 5b61 203b 3b20   4]]).>>> [a ;; 
+000182a0: 615d 0a61 7272 6179 285b 5b31 2c20 325d  a].array([[1, 2]
+000182b0: 2c0a 2020 2020 2020 205b 332c 2034 5d2c  ,.       [3, 4],
+000182c0: 0a20 2020 2020 2020 5b31 2c20 325d 2c0a  .       [1, 2],.
+000182d0: 2020 2020 2020 205b 332c 2034 5d5d 290a         [3, 4]]).
+000182e0: 3e3e 3e20 5b61 203b 3b3b 2061 5d0a 6172  >>> [a ;;; a].ar
+000182f0: 7261 7928 5b5b 5b31 2c20 325d 2c0a 2020  ray([[[1, 2],.  
+00018300: 2020 2020 2020 5b33 2c20 345d 5d2c 0a0a        [3, 4]],..
+00018310: 2020 2020 2020 205b 5b31 2c20 325d 2c0a         [[1, 2],.
+00018320: 2020 2020 2020 2020 5b33 2c20 345d 5d5d          [3, 4]]]
+00018330: 290a 6060 600a 5f47 656e 6572 616c 2073  ).```._General s
+00018340: 686f 7763 6173 6520 6f66 2068 6f77 2074  howcase of how t
+00018350: 6865 2064 6966 6665 7265 6e74 2063 6f6e  he different con
+00018360: 6361 7465 6e61 7469 6f6e 206f 7065 7261  catenation opera
+00018370: 746f 7273 2077 6f72 6b20 7573 696e 6720  tors work using 
+00018380: 606e 756d 7079 6020 6172 7261 7973 2e5f  `numpy` arrays._
+00018390: 0a0a 2a2a 5079 7468 6f6e 3a2a 2a20 5f54  ..**Python:** _T
+000183a0: 6865 2065 7175 6976 616c 656e 7420 5079  he equivalent Py
+000183b0: 7468 6f6e 2061 7272 6179 206c 6974 6572  thon array liter
+000183c0: 616c 7320 6361 6e20 6265 2073 6565 6e20  als can be seen 
+000183d0: 696e 2074 6865 2070 7269 6e74 6564 2072  in the printed r
+000183e0: 6570 7265 7365 6e74 6174 696f 6e73 2069  epresentations i
+000183f0: 6e20 6561 6368 2065 7861 6d70 6c65 2e5f  n each example._
+00018400: 0a0a 2323 2320 4c61 7a79 204c 6973 7473  ..### Lazy Lists
+00018410: 0a0a 436f 636f 6e75 7420 7375 7070 6f72  ..Coconut suppor
+00018420: 7473 2074 6865 2063 7265 6174 696f 6e20  ts the creation 
+00018430: 6f66 206c 617a 7920 6c69 7374 732c 2077  of lazy lists, w
+00018440: 6865 7265 2074 6865 2063 6f6e 7465 6e74  here the content
+00018450: 7320 696e 2074 6865 206c 6973 7420 7769  s in the list wi
+00018460: 6c6c 2062 6520 7472 6561 7465 6420 6173  ll be treated as
+00018470: 2061 6e20 6974 6572 6174 6f72 2061 6e64   an iterator and
+00018480: 206e 6f74 2065 7661 6c75 6174 6564 2075   not evaluated u
+00018490: 6e74 696c 2074 6865 7920 6172 6520 6e65  ntil they are ne
+000184a0: 6564 6564 2e20 556e 6c69 6b65 206e 6f72  eded. Unlike nor
+000184b0: 6d61 6c20 6974 6572 6174 6f72 732c 2068  mal iterators, h
+000184c0: 6f77 6576 6572 2c20 6c61 7a79 206c 6973  owever, lazy lis
+000184d0: 7473 2063 616e 2062 6520 6974 6572 6174  ts can be iterat
+000184e0: 6564 206f 7665 7220 6d75 6c74 6970 6c65  ed over multiple
+000184f0: 2074 696d 6573 2061 6e64 2073 7469 6c6c   times and still
+00018500: 2072 6574 7572 6e20 7468 6520 7361 6d65   return the same
+00018510: 2072 6573 756c 742e 204c 617a 7920 6c69   result. Lazy li
+00018520: 7374 7320 6361 6e20 6265 2063 7265 6174  sts can be creat
+00018530: 6564 2069 6e20 436f 636f 6e75 7420 7369  ed in Coconut si
+00018540: 6d70 6c79 2062 7920 7375 7272 6f75 6e64  mply by surround
+00018550: 696e 6720 6120 636f 6d6d 612d 7365 7061  ing a comma-sepa
+00018560: 7261 7465 6420 6c69 7374 206f 6620 6974  rated list of it
+00018570: 656d 7320 7769 7468 2060 287c 6020 616e  ems with `(|` an
+00018580: 6420 607c 2960 2028 736f 2d63 616c 6c65  d `|)` (so-calle
+00018590: 6420 2262 616e 616e 6120 6272 6163 6b65  d "banana bracke
+000185a0: 7473 2229 2069 6e73 7465 6164 206f 6620  ts") instead of 
+000185b0: 605b 6020 616e 6420 605d 6020 666f 7220  `[` and `]` for 
+000185c0: 6120 6c69 7374 206f 7220 6028 6020 616e  a list or `(` an
+000185d0: 6420 6029 6020 666f 7220 6120 7475 706c  d `)` for a tupl
+000185e0: 652e 0a0a 4c61 7a79 206c 6973 7473 2075  e...Lazy lists u
+000185f0: 7365 205b 7265 6974 6572 6162 6c65 5d28  se [reiterable](
+00018600: 2372 6569 7465 7261 626c 6529 2075 6e64  #reiterable) und
+00018610: 6572 2074 6865 2068 6f6f 6420 746f 2065  er the hood to e
+00018620: 6e61 626c 6520 7468 656d 2074 6f20 6265  nable them to be
+00018630: 2069 7465 7261 7465 6420 6f76 6572 206d   iterated over m
+00018640: 756c 7469 706c 6520 7469 6d65 732e 204c  ultiple times. L
+00018650: 617a 7920 6c69 7374 7320 7769 6c6c 2065  azy lists will e
+00018660: 7665 6e20 636f 6e74 696e 7565 2074 6f20  ven continue to 
+00018670: 6265 2072 6569 7465 7261 626c 6520 7768  be reiterable wh
+00018680: 656e 2063 6f6d 6269 6e65 6420 7769 7468  en combined with
+00018690: 205b 6c61 7a79 2063 6861 696e 696e 675d   [lazy chaining]
+000186a0: 2823 6974 6572 6174 6f72 2d63 6861 696e  (#iterator-chain
+000186b0: 696e 6729 2e0a 0a23 2323 2323 2052 6174  ing)...##### Rat
+000186c0: 696f 6e61 6c65 0a0a 4c61 7a79 206c 6973  ionale..Lazy lis
+000186d0: 7473 2c20 7768 6572 6520 7365 7175 656e  ts, where sequen
+000186e0: 6365 7320 6172 6520 6f6e 6c79 2065 7661  ces are only eva
+000186f0: 6c75 6174 6564 2077 6865 6e20 7468 6569  luated when thei
+00018700: 7220 636f 6e74 656e 7473 2061 7265 2072  r contents are r
+00018710: 6571 7565 7374 6564 2c20 6172 6520 6120  equested, are a 
+00018720: 6d61 696e 7374 6179 206f 6620 6675 6e63  mainstay of func
+00018730: 7469 6f6e 616c 2070 726f 6772 616d 6d69  tional programmi
+00018740: 6e67 2c20 616c 6c6f 7769 6e67 2066 6f72  ng, allowing for
+00018750: 2064 796e 616d 6963 2065 7661 6c75 6174   dynamic evaluat
+00018760: 696f 6e20 6f66 2074 6865 206c 6973 7427  ion of the list'
+00018770: 7320 636f 6e74 656e 7473 2e0a 0a23 2323  s contents...###
+00018780: 2323 2045 7861 6d70 6c65 0a0a 2a2a 436f  ## Example..**Co
+00018790: 636f 6e75 743a 2a2a 0a60 6060 636f 636f  conut:**.```coco
+000187a0: 6e75 740a 287c 2070 7269 6e74 2822 6865  nut.(| print("he
+000187b0: 6c6c 6f2c 2229 2c20 7072 696e 7428 2277  llo,"), print("w
+000187c0: 6f72 6c64 2122 2920 7c29 207c 3e20 636f  orld!") |) |> co
+000187d0: 6e73 756d 650a 6060 600a 0a2a 2a50 7974  nsume.```..**Pyt
+000187e0: 686f 6e3a 2a2a 0a5f 4361 6e27 7420 6265  hon:**._Can't be
+000187f0: 2064 6f6e 6520 7769 7468 6f75 7420 6120   done without a 
+00018800: 636f 6d70 6c69 6361 7465 6420 6974 6572  complicated iter
+00018810: 6174 6f72 2063 6f6d 7072 6568 656e 7369  ator comprehensi
+00018820: 6f6e 2069 6e20 706c 6163 6520 6f66 2074  on in place of t
+00018830: 6865 206c 617a 7920 6c69 7374 2e20 5365  he lazy list. Se
+00018840: 6520 7468 6520 636f 6d70 696c 6564 2063  e the compiled c
+00018850: 6f64 6520 666f 7220 7468 6520 5079 7468  ode for the Pyth
+00018860: 6f6e 2073 796e 7461 782e 5f0a 0a23 2323  on syntax._..###
+00018870: 2049 6d70 6c69 6369 7420 4675 6e63 7469   Implicit Functi
+00018880: 6f6e 2041 7070 6c69 6361 7469 6f6e 2061  on Application a
+00018890: 6e64 2043 6f65 6666 6963 6965 6e74 730a  nd Coefficients.
+000188a0: 0a43 6f63 6f6e 7574 2073 7570 706f 7274  .Coconut support
+000188b0: 7320 696d 706c 6963 6974 2066 756e 6374  s implicit funct
+000188c0: 696f 6e20 6170 706c 6963 6174 696f 6e20  ion application 
+000188d0: 6f66 2074 6865 2066 6f72 6d20 6066 2078  of the form `f x
+000188e0: 2079 602c 2077 6869 6368 2069 7320 636f   y`, which is co
+000188f0: 6d70 696c 6564 2074 6f20 6066 2878 2c20  mpiled to `f(x, 
+00018900: 7929 6020 286e 6f74 653a 202a 2a6e 6f74  y)` (note: **not
+00018910: 2a2a 2060 6628 7829 2879 2960 2061 7320  ** `f(x)(y)` as 
+00018920: 6973 2063 6f6d 6d6f 6e20 696e 206d 616e  is common in man
+00018930: 7920 6c61 6e67 7561 6765 7320 7769 7468  y languages with
+00018940: 2061 7574 6f6d 6174 6963 2063 7572 7279   automatic curry
+00018950: 696e 6729 2e0a 0a41 6464 6974 696f 6e61  ing)...Additiona
+00018960: 6c6c 792c 2069 6620 7468 6520 6669 7273  lly, if the firs
+00018970: 7420 6172 6775 6d65 6e74 2069 7320 6e6f  t argument is no
+00018980: 7420 6361 6c6c 6162 6c65 2c20 616e 6420  t callable, and 
+00018990: 6973 2069 6e73 7465 6164 2061 6e20 6069  is instead an `i
+000189a0: 6e74 602c 2060 666c 6f61 7460 2c20 6063  nt`, `float`, `c
+000189b0: 6f6d 706c 6578 602c 206f 7220 5b60 6e75  omplex`, or [`nu
+000189c0: 6d70 7960 5d28 236e 756d 7079 2d69 6e74  mpy`](#numpy-int
+000189d0: 6567 7261 7469 6f6e 2920 6f62 6a65 6374  egration) object
+000189e0: 2c20 7468 656e 2074 6865 2072 6573 756c  , then the resul
+000189f0: 7420 6973 206d 756c 7469 706c 6963 6174  t is multiplicat
+00018a00: 696f 6e20 7261 7468 6572 2074 6861 6e20  ion rather than 
+00018a10: 6675 6e63 7469 6f6e 2061 7070 6c69 6361  function applica
+00018a20: 7469 6f6e 2c20 7375 6368 2074 6861 7420  tion, such that 
+00018a30: 6032 2078 6020 6973 2065 7175 6976 616c  `2 x` is equival
+00018a40: 656e 7420 746f 2060 322a 7860 2e0a 0a54  ent to `2*x`...T
+00018a50: 686f 7567 6820 7468 6520 6669 7273 7420  hough the first 
+00018a60: 6974 656d 206d 6179 2062 6520 616e 7920  item may be any 
+00018a70: 6174 6f6d 2c20 666f 6c6c 6f77 696e 6720  atom, following 
+00018a80: 6172 6775 6d65 6e74 7320 6172 6520 6869  arguments are hi
+00018a90: 6768 6c79 2072 6573 7472 6963 7465 642c  ghly restricted,
+00018aa0: 2061 6e64 206d 7573 7420 6265 3a0a 2d20   and must be:.- 
+00018ab0: 7661 7269 6162 6c65 732f 6174 7472 6962  variables/attrib
+00018ac0: 7574 6573 2028 652e 672e 2060 612e 6260  utes (e.g. `a.b`
+00018ad0: 292c 0a2d 206c 6974 6572 616c 2063 6f6e  ),.- literal con
+00018ae0: 7374 616e 7473 2028 652e 672e 2060 5472  stants (e.g. `Tr
+00018af0: 7565 6029 2c0a 2d20 6e75 6d62 6572 206c  ue`),.- number l
+00018b00: 6974 6572 616c 7320 2865 2e67 2e20 6031  iterals (e.g. `1
+00018b10: 2e35 6029 2c20 6f72 0a2d 206f 6e65 206f  .5`), or.- one o
+00018b20: 6620 7468 6520 6162 6f76 6520 666f 6c6c  f the above foll
+00018b30: 6f77 6564 2062 7920 616e 2065 7870 6f6e  owed by an expon
+00018b40: 656e 7420 2865 2e67 2e20 6061 2a2a 2d35  ent (e.g. `a**-5
+00018b50: 6029 2e0a 0a46 6f72 2065 7861 6d70 6c65  `)...For example
+00018b60: 2c20 6028 6620 2e2e 2067 2920 7820 3160  , `(f .. g) x 1`
+00018b70: 2077 696c 6c20 776f 726b 2c20 6275 7420   will work, but 
+00018b80: 6066 2078 205b 315d 602c 2060 6620 7820  `f x [1]`, `f x 
+00018b90: 2831 2b32 2960 2c20 616e 6420 6066 2022  (1+2)`, and `f "
+00018ba0: 6162 6322 6020 7769 6c6c 206e 6f74 2e0a  abc"` will not..
+00018bb0: 0a49 6d70 6c69 6369 7420 6675 6e63 7469  .Implicit functi
+00018bc0: 6f6e 2061 7070 6c69 6361 7469 6f6e 2061  on application a
+00018bd0: 6e64 2063 6f65 6666 6963 6965 6e74 2073  nd coefficient s
+00018be0: 796e 7461 7820 6973 206f 6e6c 7920 696e  yntax is only in
+00018bf0: 7465 6e64 6564 2066 6f72 2073 696d 706c  tended for simpl
+00018c00: 6520 7573 6520 6361 7365 732e 2046 6f72  e use cases. For
+00018c10: 206d 6f72 6520 636f 6d70 6c65 7820 6361   more complex ca
+00018c20: 7365 732c 2075 7365 2074 6865 2073 7461  ses, use the sta
+00018c30: 6e64 6172 6420 6d75 6c74 6970 6c69 6361  ndard multiplica
+00018c40: 7469 6f6e 206f 7065 7261 746f 7220 602a  tion operator `*
+00018c50: 602c 2073 7461 6e64 6172 6420 6675 6e63  `, standard func
+00018c60: 7469 6f6e 2061 7070 6c69 6361 7469 6f6e  tion application
+00018c70: 2c20 6f72 205b 7069 7065 735d 2823 7069  , or [pipes](#pi
+00018c80: 7065 7329 2e0a 0a49 6d70 6c69 6369 7420  pes)...Implicit 
+00018c90: 6675 6e63 7469 6f6e 2061 7070 6c69 6361  function applica
+00018ca0: 7469 6f6e 2061 6e64 2063 6f65 6666 6963  tion and coeffic
+00018cb0: 6965 6e74 2073 796e 7461 7820 6861 7320  ient syntax has 
+00018cc0: 6120 6c6f 7765 7220 7072 6563 6564 656e  a lower preceden
+00018cd0: 6365 2074 6861 6e20 602a 2a60 2062 7574  ce than `**` but
+00018ce0: 2061 2068 6967 6865 7220 7072 6563 6564   a higher preced
+00018cf0: 656e 6365 2074 6861 6e20 756e 6172 7920  ence than unary 
+00018d00: 6f70 6572 6174 6f72 732e 2041 7320 6120  operators. As a 
+00018d10: 7265 7375 6c74 2c20 6032 2078 2a2a 3220  result, `2 x**2 
+00018d20: 2b20 3320 7860 2069 7320 6571 7569 7661  + 3 x` is equiva
+00018d30: 6c65 6e74 2074 6f20 6032 202a 2078 2a2a  lent to `2 * x**
+00018d40: 3220 2b20 3320 2a20 7860 2e0a 0a44 7565  2 + 3 * x`...Due
+00018d50: 2074 6f20 706f 7465 6e74 6961 6c20 636f   to potential co
+00018d60: 6e66 7573 696f 6e2c 2073 6f6d 6520 7379  nfusion, some sy
+00018d70: 6e74 6163 7469 6320 636f 6e73 7472 7563  ntactic construc
+00018d80: 7473 2061 7265 2065 7870 6c69 6369 746c  ts are explicitl
+00018d90: 7920 6469 7361 6c6c 6f77 6564 2069 6e20  y disallowed in 
+00018da0: 696d 706c 6963 6974 2066 756e 6374 696f  implicit functio
+00018db0: 6e20 6170 706c 6963 6174 696f 6e20 616e  n application an
+00018dc0: 6420 636f 6566 6669 6369 656e 7420 7379  d coefficient sy
+00018dd0: 6e74 6178 2e20 5370 6563 6966 6963 616c  ntax. Specifical
+00018de0: 6c79 3a0a 2d20 5374 7269 6e67 7320 6172  ly:.- Strings ar
+00018df0: 6520 616c 7761 7973 2064 6973 616c 6c6f  e always disallo
+00018e00: 7765 6420 6576 6572 7977 6865 7265 2069  wed everywhere i
+00018e10: 6e20 696d 706c 6963 6974 2066 756e 6374  n implicit funct
+00018e20: 696f 6e20 6170 706c 6963 6174 696f 6e20  ion application 
+00018e30: 2f20 636f 6566 6669 6369 656e 7420 7379  / coefficient sy
+00018e40: 6e74 6178 2064 7565 2074 6f20 636f 6e66  ntax due to conf
+00018e50: 6c69 6374 696e 6720 7769 7468 205b 5079  licting with [Py
+00018e60: 7468 6f6e 2773 2069 6d70 6c69 6369 7420  thon's implicit 
+00018e70: 7374 7269 6e67 2063 6f6e 6361 7465 6e61  string concatena
+00018e80: 7469 6f6e 5d28 6874 7470 733a 2f2f 7374  tion](https://st
+00018e90: 6163 6b6f 7665 7266 6c6f 772e 636f 6d2f  ackoverflow.com/
+00018ea0: 7175 6573 7469 6f6e 732f 3138 3834 3237  questions/188427
+00018eb0: 3739 2f73 7472 696e 672d 636f 6e63 6174  79/string-concat
+00018ec0: 656e 6174 696f 6e2d 7769 7468 6f75 742d  enation-without-
+00018ed0: 6f70 6572 6174 6f72 292e 0a2d 204d 756c  operator)..- Mul
+00018ee0: 7469 706c 7969 6e67 2074 776f 206f 7220  tiplying two or 
+00018ef0: 6d6f 7265 206e 756d 6572 6963 206c 6974  more numeric lit
+00018f00: 6572 616c 7320 7769 7468 2069 6d70 6c69  erals with impli
+00018f10: 6369 7420 636f 6566 6669 6369 656e 7420  cit coefficient 
+00018f20: 7379 6e74 6178 2069 7320 7072 6f68 6962  syntax is prohib
+00018f30: 6974 6564 2c20 736f 2060 3130 2032 3060  ited, so `10 20`
+00018f40: 2069 7320 6e6f 7420 616c 6c6f 7765 642e   is not allowed.
+00018f50: 0a2d 2060 6177 6169 7460 2069 7320 6e6f  .- `await` is no
+00018f60: 7420 616c 6c6f 7765 6420 696e 2066 726f  t allowed in fro
+00018f70: 6e74 206f 6620 696d 706c 6963 6974 2066  nt of implicit f
+00018f80: 756e 6374 696f 6e20 6170 706c 6963 6174  unction applicat
+00018f90: 696f 6e20 616e 6420 636f 6566 6669 6369  ion and coeffici
+00018fa0: 656e 7420 7379 6e74 6178 2e20 546f 2075  ent syntax. To u
+00018fb0: 7365 2060 6177 6169 7460 2c20 7369 6d70  se `await`, simp
+00018fc0: 6c79 2070 6172 656e 7468 6573 697a 6520  ly parenthesize 
+00018fd0: 7468 6520 6578 7072 6573 7369 6f6e 2c20  the expression, 
+00018fe0: 6173 2069 6e20 6061 7761 6974 2028 6620  as in `await (f 
+00018ff0: 7829 602e 0a0a 2323 2323 2320 4578 616d  x)`...##### Exam
+00019000: 706c 6573 0a0a 2a2a 436f 636f 6e75 743a  ples..**Coconut:
+00019010: 2a2a 0a60 6060 636f 636f 6e75 740a 6465  **.```coconut.de
+00019020: 6620 6628 782c 2079 2920 3d20 2878 2c20  f f(x, y) = (x, 
+00019030: 7929 0a70 7269 6e74 2866 2035 2031 3029  y).print(f 5 10)
+00019040: 0a60 6060 0a0a 6060 6063 6f63 6f6e 7574  .```..```coconut
+00019050: 0a64 6566 2070 3128 7829 203d 2078 202b  .def p1(x) = x +
+00019060: 2031 0a70 7269 6e74 203c 7c20 7031 2035   1.print <| p1 5
+00019070: 0a60 6060 0a0a 6060 6063 6f63 6f6e 7574  .```..```coconut
+00019080: 0a71 7561 6420 3d20 3520 782a 2a32 202b  .quad = 5 x**2 +
+00019090: 2033 2078 202b 2031 0a60 6060 0a0a 2a2a   3 x + 1.```..**
+000190a0: 5079 7468 6f6e 3a2a 2a0a 6060 6063 6f63  Python:**.```coc
+000190b0: 6f6e 7574 5f70 7974 686f 6e0a 6465 6620  onut_python.def 
+000190c0: 6628 782c 2079 293a 2072 6574 7572 6e20  f(x, y): return 
+000190d0: 2878 2c20 7929 0a70 7269 6e74 2866 2831  (x, y).print(f(1
+000190e0: 3030 2c20 352b 3629 290a 6060 600a 0a60  00, 5+6)).```..`
+000190f0: 6060 636f 636f 6e75 745f 7079 7468 6f6e  ``coconut_python
+00019100: 0a64 6566 2070 3128 7829 3a20 7265 7475  .def p1(x): retu
+00019110: 726e 2078 202b 2031 0a70 7269 6e74 2870  rn x + 1.print(p
+00019120: 3128 3529 290a 6060 600a 0a60 6060 636f  1(5)).```..```co
+00019130: 636f 6e75 745f 7079 7468 6f6e 0a71 7561  conut_python.qua
+00019140: 6420 3d20 3520 2a20 782a 2a32 202b 2033  d = 5 * x**2 + 3
+00019150: 202a 2078 202b 2031 0a60 6060 0a0a 2323   * x + 1.```..##
+00019160: 2320 4b65 7977 6f72 6420 4172 6775 6d65  # Keyword Argume
+00019170: 6e74 204e 616d 6520 456c 6973 696f 6e0a  nt Name Elision.
+00019180: 0a57 6865 6e20 7061 7373 696e 6720 696e  .When passing in
+00019190: 206c 6f6e 6720 7661 7269 6162 6c65 206e   long variable n
+000191a0: 616d 6573 2061 7320 6b65 7977 6f72 6420  ames as keyword 
+000191b0: 6172 6775 6d65 6e74 7320 6f66 2074 6865  arguments of the
+000191c0: 2073 616d 6520 6e61 6d65 2c20 436f 636f   same name, Coco
+000191d0: 6e75 7420 7375 7070 6f72 7473 2074 6865  nut supports the
+000191e0: 2073 796e 7461 780a 6060 600a 6628 2e2e   syntax.```.f(..
+000191f0: 2e3d 6c6f 6e67 5f76 6172 6961 626c 655f  .=long_variable_
+00019200: 6e61 6d65 290a 6060 600a 6173 2061 2073  name).```.as a s
+00019210: 686f 7274 6861 6e64 2066 6f72 0a60 6060  horthand for.```
+00019220: 0a66 286c 6f6e 675f 7661 7269 6162 6c65  .f(long_variable
+00019230: 5f6e 616d 653d 6c6f 6e67 5f76 6172 6961  _name=long_varia
+00019240: 626c 655f 6e61 6d65 290a 6060 600a 0a53  ble_name).```..S
+00019250: 7563 6820 7379 6e74 6178 2069 7320 616c  uch syntax is al
+00019260: 736f 2073 7570 706f 7274 6564 2069 6e20  so supported in 
+00019270: 5b70 6172 7469 616c 2061 7070 6c69 6361  [partial applica
+00019280: 7469 6f6e 5d28 2370 6172 7469 616c 2d61  tion](#partial-a
+00019290: 7070 6c69 6361 7469 6f6e 2920 616e 6420  pplication) and 
+000192a0: 5b61 6e6f 6e79 6d6f 7573 2060 6e61 6d65  [anonymous `name
+000192b0: 6474 7570 6c65 6073 5d28 2361 6e6f 6e79  dtuple`s](#anony
+000192c0: 6d6f 7573 2d6e 616d 6564 7475 706c 6573  mous-namedtuples
+000192d0: 292e 0a0a 2323 2323 2320 4578 616d 706c  )...##### Exampl
+000192e0: 650a 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0a  e..**Coconut:**.
+000192f0: 6060 6063 6f63 6f6e 7574 0a72 6561 6c6c  ```coconut.reall
+00019300: 795f 6c6f 6e67 5f76 6172 6961 626c 655f  y_long_variable_
+00019310: 6e61 6d65 5f31 203d 2067 6574 5f31 2829  name_1 = get_1()
+00019320: 0a72 6561 6c6c 795f 6c6f 6e67 5f76 6172  .really_long_var
+00019330: 6961 626c 655f 6e61 6d65 5f32 203d 2067  iable_name_2 = g
+00019340: 6574 5f32 2829 0a6d 6169 6e5f 6675 6e63  et_2().main_func
+00019350: 280a 2020 2020 2e2e 2e3d 7265 616c 6c79  (.    ...=really
+00019360: 5f6c 6f6e 675f 7661 7269 6162 6c65 5f6e  _long_variable_n
+00019370: 616d 655f 312c 0a20 2020 202e 2e2e 3d72  ame_1,.    ...=r
+00019380: 6561 6c6c 795f 6c6f 6e67 5f76 6172 6961  eally_long_varia
+00019390: 626c 655f 6e61 6d65 5f32 2c0a 290a 6060  ble_name_2,.).``
+000193a0: 600a 0a2a 2a50 7974 686f 6e3a 2a2a 0a60  `..**Python:**.`
+000193b0: 6060 636f 636f 6e75 745f 7079 7468 6f6e  ``coconut_python
+000193c0: 0a72 6561 6c6c 795f 6c6f 6e67 5f76 6172  .really_long_var
+000193d0: 6961 626c 655f 6e61 6d65 5f31 203d 2067  iable_name_1 = g
+000193e0: 6574 5f31 2829 0a72 6561 6c6c 795f 6c6f  et_1().really_lo
+000193f0: 6e67 5f76 6172 6961 626c 655f 6e61 6d65  ng_variable_name
+00019400: 5f32 203d 2067 6574 5f32 2829 0a6d 6169  _2 = get_2().mai
+00019410: 6e5f 6675 6e63 280a 2020 2020 7265 616c  n_func(.    real
+00019420: 6c79 5f6c 6f6e 675f 7661 7269 6162 6c65  ly_long_variable
+00019430: 5f6e 616d 655f 313d 7265 616c 6c79 5f6c  _name_1=really_l
+00019440: 6f6e 675f 7661 7269 6162 6c65 5f6e 616d  ong_variable_nam
+00019450: 655f 312c 0a20 2020 2072 6561 6c6c 795f  e_1,.    really_
+00019460: 6c6f 6e67 5f76 6172 6961 626c 655f 6e61  long_variable_na
+00019470: 6d65 5f32 3d72 6561 6c6c 795f 6c6f 6e67  me_2=really_long
+00019480: 5f76 6172 6961 626c 655f 6e61 6d65 5f32  _variable_name_2
+00019490: 2c0a 290a 6060 600a 0a23 2323 2041 6e6f  ,.).```..### Ano
+000194a0: 6e79 6d6f 7573 204e 616d 6564 7475 706c  nymous Namedtupl
+000194b0: 6573 0a0a 436f 636f 6e75 7420 7375 7070  es..Coconut supp
+000194c0: 6f72 7473 2061 6e6f 6e79 6d6f 7573 205b  orts anonymous [
+000194d0: 606e 616d 6564 7475 706c 6560 5d28 6874  `namedtuple`](ht
+000194e0: 7470 733a 2f2f 646f 6373 2e70 7974 686f  tps://docs.pytho
+000194f0: 6e2e 6f72 672f 332f 6c69 6272 6172 792f  n.org/3/library/
+00019500: 636f 6c6c 6563 7469 6f6e 732e 6874 6d6c  collections.html
+00019510: 2363 6f6c 6c65 6374 696f 6e73 2e6e 616d  #collections.nam
+00019520: 6564 7475 706c 6529 206c 6974 6572 616c  edtuple) literal
+00019530: 732c 2073 7563 6820 7468 6174 2060 2861  s, such that `(a
+00019540: 3d31 2c20 623d 3229 6020 6361 6e20 6265  =1, b=2)` can be
+00019550: 2075 7365 6420 6a75 7374 2061 7320 6028   used just as `(
+00019560: 312c 2032 2960 2c20 6275 7420 7769 7468  1, 2)`, but with
+00019570: 2061 6464 6564 206e 616d 6573 2e20 416e   added names. An
+00019580: 6f6e 796d 6f75 7320 606e 616d 6564 7475  onymous `namedtu
+00019590: 706c 6560 7320 6172 6520 616c 7761 7973  ple`s are always
+000195a0: 2070 6963 6b6c 6561 626c 652e 0a0a 5468   pickleable...Th
+000195b0: 6520 7379 6e74 6178 2066 6f72 2061 6e6f  e syntax for ano
+000195c0: 6e79 6d6f 7573 206e 616d 6564 7475 706c  nymous namedtupl
+000195d0: 6520 6c69 7465 7261 6c73 2069 733a 0a60  e literals is:.`
+000195e0: 6060 636f 636f 6e75 740a 283c 6e61 6d65  ``coconut.(<name
+000195f0: 3e20 5b3a 203c 7479 7065 3e5d 203d 203c  > [: <type>] = <
+00019600: 7661 6c75 653e 2c20 2e2e 2e29 0a60 6060  value>, ...).```
+00019610: 0a77 6865 7265 2c20 6966 2060 3c74 7970  .where, if `<typ
+00019620: 653e 6020 6973 2067 6976 656e 2066 6f72  e>` is given for
+00019630: 2061 6e79 2066 6965 6c64 2c20 5b60 7479   any field, [`ty
+00019640: 7069 6e67 2e4e 616d 6564 5475 706c 6560  ping.NamedTuple`
+00019650: 5d28 6874 7470 733a 2f2f 646f 6373 2e70  ](https://docs.p
+00019660: 7974 686f 6e2e 6f72 672f 332f 6c69 6272  ython.org/3/libr
+00019670: 6172 792f 7479 7069 6e67 2e68 746d 6c23  ary/typing.html#
+00019680: 7479 7069 6e67 2e4e 616d 6564 5475 706c  typing.NamedTupl
+00019690: 6529 2069 7320 7573 6564 2069 6e73 7465  e) is used inste
+000196a0: 6164 206f 6620 6063 6f6c 6c65 6374 696f  ad of `collectio
+000196b0: 6e73 2e6e 616d 6564 7475 706c 6560 2e0a  ns.namedtuple`..
+000196c0: 0a41 6e6f 6e79 6d6f 7573 2060 6e61 6d65  .Anonymous `name
+000196d0: 6474 7570 6c65 6073 2061 6c73 6f20 7375  dtuple`s also su
+000196e0: 7070 6f72 7420 5b6b 6579 776f 7264 2061  pport [keyword a
+000196f0: 7267 756d 656e 7420 6e61 6d65 2065 6c69  rgument name eli
+00019700: 7369 6f6e 5d28 236b 6579 776f 7264 2d61  sion](#keyword-a
+00019710: 7267 756d 656e 742d 6e61 6d65 2d65 6c69  rgument-name-eli
+00019720: 7369 6f6e 292e 0a0a 2323 2323 2320 605f  sion)...##### `_
+00019730: 6e61 6d65 6474 7570 6c65 5f6f 6660 0a0a  namedtuple_of`..
+00019740: 4f6e 2050 7974 686f 6e20 7665 7273 696f  On Python versio
+00019750: 6e73 2060 3e3d 332e 3660 2c20 605f 6e61  ns `>=3.6`, `_na
+00019760: 6d65 6474 7570 6c65 5f6f 6660 2069 7320  medtuple_of` is 
+00019770: 7072 6f76 6964 6564 2061 7320 6120 6275  provided as a bu
+00019780: 696c 742d 696e 2074 6861 7420 6361 6e20  ilt-in that can 
+00019790: 6d69 6d69 6320 7468 6520 6265 6861 7669  mimic the behavi
+000197a0: 6f72 206f 6620 616e 6f6e 796d 6f75 7320  or of anonymous 
+000197b0: 6e61 6d65 6474 7570 6c65 206c 6974 6572  namedtuple liter
+000197c0: 616c 7320 7375 6368 2074 6861 7420 605f  als such that `_
+000197d0: 6e61 6d65 6474 7570 6c65 5f6f 6628 613d  namedtuple_of(a=
+000197e0: 312c 2062 3d32 2960 2069 7320 6571 7569  1, b=2)` is equi
+000197f0: 7661 6c65 6e74 2074 6f20 6028 613d 312c  valent to `(a=1,
+00019800: 2062 3d32 2960 2e20 5369 6e63 6520 605f   b=2)`. Since `_
+00019810: 6e61 6d65 6474 7570 6c65 5f6f 6660 2069  namedtuple_of` i
+00019820: 7320 6f6e 6c79 2061 7661 696c 6162 6c65  s only available
+00019830: 206f 6e20 5079 7468 6f6e 2033 2e36 2061   on Python 3.6 a
+00019840: 6e64 2061 626f 7665 2c20 686f 7765 7665  nd above, howeve
+00019850: 722c 2069 7420 6973 2067 656e 6572 616c  r, it is general
+00019860: 6c79 2072 6563 6f6d 6d65 6e64 6564 2074  ly recommended t
+00019870: 6f20 7573 6520 616e 6f6e 796d 6f75 7320  o use anonymous 
+00019880: 6e61 6d65 6474 7570 6c65 206c 6974 6572  namedtuple liter
+00019890: 616c 7320 696e 7374 6561 642c 2061 7320  als instead, as 
+000198a0: 7468 6579 2077 6f72 6b20 6f6e 2061 6e79  they work on any
+000198b0: 2050 7974 686f 6e20 7665 7273 696f 6e2e   Python version.
+000198c0: 0a0a 5f60 5f6e 616d 6564 7475 706c 655f  .._`_namedtuple_
+000198d0: 6f66 6020 6973 206a 7573 7420 7072 6f76  of` is just prov
+000198e0: 6964 6564 2074 6f20 6769 7665 206e 616d  ided to give nam
+000198f0: 6564 7475 706c 6520 6c69 7465 7261 6c73  edtuple literals
+00019900: 2061 2072 6570 7265 7365 6e74 6174 696f   a representatio
+00019910: 6e20 7468 6174 2063 6f72 7265 7370 6f6e  n that correspon
+00019920: 6473 2074 6f20 616e 2065 7870 7265 7373  ds to an express
+00019930: 696f 6e20 7468 6174 2063 616e 2062 6520  ion that can be 
+00019940: 7573 6564 2074 6f20 7265 6372 6561 7465  used to recreate
+00019950: 2074 6865 6d2e 5f0a 0a23 2323 2323 2045   them._..##### E
+00019960: 7861 6d70 6c65 0a0a 2a2a 436f 636f 6e75  xample..**Coconu
+00019970: 743a 2a2a 0a60 6060 636f 636f 6e75 740a  t:**.```coconut.
+00019980: 7573 6572 7320 3d20 5b0a 2020 2020 2869  users = [.    (i
+00019990: 643d 312c 206e 616d 653d 2241 6c69 6365  d=1, name="Alice
+000199a0: 2229 2c0a 2020 2020 2869 643d 322c 206e  "),.    (id=2, n
+000199b0: 616d 653d 2242 6f62 2229 2c0a 5d0a 6060  ame="Bob"),.].``
+000199c0: 600a 0a2a 2a50 7974 686f 6e3a 2a2a 0a60  `..**Python:**.`
+000199d0: 6060 636f 636f 6e75 745f 7079 7468 6f6e  ``coconut_python
+000199e0: 0a66 726f 6d20 636f 6c6c 6563 7469 6f6e  .from collection
+000199f0: 7320 696d 706f 7274 206e 616d 6564 7475  s import namedtu
+00019a00: 706c 650a 0a75 7365 7273 203d 205b 0a20  ple..users = [. 
+00019a10: 2020 206e 616d 6564 7475 706c 6528 225f     namedtuple("_
+00019a20: 222c 2022 6964 2c20 6e61 6d65 2229 2831  ", "id, name")(1
+00019a30: 2c20 2241 6c69 6365 2229 2c0a 2020 2020  , "Alice"),.    
+00019a40: 6e61 6d65 6474 7570 6c65 2822 5f22 2c20  namedtuple("_", 
+00019a50: 2269 642c 206e 616d 6522 2928 322c 2022  "id, name")(2, "
+00019a60: 426f 6222 292c 0a5d 0a60 6060 0a0a 2323  Bob"),.].```..##
+00019a70: 2320 5365 7420 4c69 7465 7261 6c73 0a0a  # Set Literals..
+00019a80: 436f 636f 6e75 7420 616c 6c6f 7773 2061  Coconut allows a
+00019a90: 6e20 6f70 7469 6f6e 616c 2060 7360 2074  n optional `s` t
+00019aa0: 6f20 6265 2070 7265 7065 6e64 6564 2069  o be prepended i
+00019ab0: 6e20 6672 6f6e 7420 6f66 2050 7974 686f  n front of Pytho
+00019ac0: 6e20 7365 7420 6c69 7465 7261 6c73 2e20  n set literals. 
+00019ad0: 5768 696c 6520 696e 206d 6f73 7420 6361  While in most ca
+00019ae0: 7365 7320 7468 6973 2064 6f65 7320 6e6f  ses this does no
+00019af0: 7468 696e 672c 2069 6e20 7468 6520 6361  thing, in the ca
+00019b00: 7365 206f 6620 7468 6520 656d 7074 7920  se of the empty 
+00019b10: 7365 7420 6974 206c 6574 7320 436f 636f  set it lets Coco
+00019b20: 6e75 7420 6b6e 6f77 2074 6861 7420 6974  nut know that it
+00019b30: 2069 7320 616e 2065 6d70 7479 2073 6574   is an empty set
+00019b40: 2061 6e64 206e 6f74 2061 6e20 656d 7074   and not an empt
+00019b50: 7920 6469 6374 696f 6e61 7279 2e20 5365  y dictionary. Se
+00019b60: 7420 6c69 7465 7261 6c73 2061 6c73 6f20  t literals also 
+00019b70: 7375 7070 6f72 7420 756e 7061 636b 696e  support unpackin
+00019b80: 6720 7379 6e74 6178 2028 652e 672e 2060  g syntax (e.g. `
+00019b90: 737b 2a78 737d 6029 2e0a 0a41 6464 6974  s{*xs}`)...Addit
+00019ba0: 696f 6e61 6c6c 792c 2043 6f63 6f6e 7574  ionally, Coconut
+00019bb0: 2061 6c73 6f20 7375 7070 6f72 7473 2072   also supports r
+00019bc0: 6570 6c61 6369 6e67 2074 6865 2060 7360  eplacing the `s`
+00019bd0: 2077 6974 6820 616e 2060 6660 2074 6f20   with an `f` to 
+00019be0: 6765 6e65 7261 7465 2061 2060 6672 6f7a  generate a `froz
+00019bf0: 656e 7365 7460 206f 7220 616e 2060 6d60  enset` or an `m`
+00019c00: 2074 6f20 6765 6e65 7261 7465 2061 2043   to generate a C
+00019c10: 6f63 6f6e 7574 205b 606d 756c 7469 7365  oconut [`multise
+00019c20: 7460 5d28 236d 756c 7469 7365 7429 2e0a  t`](#multiset)..
+00019c30: 0a23 2323 2323 2045 7861 6d70 6c65 0a0a  .##### Example..
+00019c40: 2a2a 436f 636f 6e75 743a 2a2a 0a60 6060  **Coconut:**.```
+00019c50: 636f 636f 6e75 740a 656d 7074 795f 6672  coconut.empty_fr
+00019c60: 6f7a 656e 5f73 6574 203d 2066 7b7d 0a60  ozen_set = f{}.`
+00019c70: 6060 0a0a 2a2a 5079 7468 6f6e 3a2a 2a0a  ``..**Python:**.
+00019c80: 6060 6063 6f63 6f6e 7574 5f70 7974 686f  ```coconut_pytho
+00019c90: 6e0a 656d 7074 795f 6672 6f7a 656e 5f73  n.empty_frozen_s
+00019ca0: 6574 203d 2066 726f 7a65 6e73 6574 2829  et = frozenset()
+00019cb0: 0a60 6060 0a0a 2323 2320 496d 6167 696e  .```..### Imagin
+00019cc0: 6172 7920 4c69 7465 7261 6c73 0a0a 496e  ary Literals..In
+00019cd0: 2061 6464 6974 696f 6e20 746f 2050 7974   addition to Pyt
+00019ce0: 686f 6e27 7320 603c 6e75 6d3e 6a60 206f  hon's `<num>j` o
+00019cf0: 7220 603c 6e75 6d3e 4a60 206e 6f74 6174  r `<num>J` notat
+00019d00: 696f 6e20 666f 7220 696d 6167 696e 6172  ion for imaginar
+00019d10: 7920 6c69 7465 7261 6c73 2c20 436f 636f  y literals, Coco
+00019d20: 6e75 7420 616c 736f 2073 7570 706f 7274  nut also support
+00019d30: 7320 603c 6e75 6d3e 6960 206f 7220 603c  s `<num>i` or `<
+00019d40: 6e75 6d3e 4960 2c20 746f 206d 616b 6520  num>I`, to make 
+00019d50: 696d 6167 696e 6172 7920 6c69 7465 7261  imaginary litera
+00019d60: 6c73 206d 6f72 6520 7265 6164 6162 6c65  ls more readable
+00019d70: 2069 6620 7573 6564 2069 6e20 6120 6d61   if used in a ma
+00019d80: 7468 656d 6174 6963 616c 2063 6f6e 7465  thematical conte
+00019d90: 7874 2e0a 0a23 2323 2323 2050 7974 686f  xt...##### Pytho
+00019da0: 6e20 446f 6373 0a0a 496d 6167 696e 6172  n Docs..Imaginar
+00019db0: 7920 6c69 7465 7261 6c73 2061 7265 2064  y literals are d
+00019dc0: 6573 6372 6962 6564 2062 7920 7468 6520  escribed by the 
+00019dd0: 666f 6c6c 6f77 696e 6720 6c65 7869 6361  following lexica
+00019de0: 6c20 6465 6669 6e69 7469 6f6e 733a 0a60  l definitions:.`
+00019df0: 6060 636f 636f 6e75 740a 696d 6167 6e75  ``coconut.imagnu
+00019e00: 6d62 6572 203a 3a3d 2028 666c 6f61 746e  mber ::= (floatn
+00019e10: 756d 6265 7220 7c20 696e 7470 6172 7429  umber | intpart)
+00019e20: 2028 226a 2220 7c20 224a 2220 7c20 2269   ("j" | "J" | "i
+00019e30: 2220 7c20 2249 2229 0a60 6060 0a41 6e20  " | "I").```.An 
+00019e40: 696d 6167 696e 6172 7920 6c69 7465 7261  imaginary litera
+00019e50: 6c20 7969 656c 6473 2061 2063 6f6d 706c  l yields a compl
+00019e60: 6578 206e 756d 6265 7220 7769 7468 2061  ex number with a
+00019e70: 2072 6561 6c20 7061 7274 206f 6620 302e   real part of 0.
+00019e80: 302e 2043 6f6d 706c 6578 206e 756d 6265  0. Complex numbe
+00019e90: 7273 2061 7265 2072 6570 7265 7365 6e74  rs are represent
+00019ea0: 6564 2061 7320 6120 7061 6972 206f 6620  ed as a pair of 
+00019eb0: 666c 6f61 7469 6e67 2070 6f69 6e74 206e  floating point n
+00019ec0: 756d 6265 7273 2061 6e64 2068 6176 6520  umbers and have 
+00019ed0: 7468 6520 7361 6d65 2072 6573 7472 6963  the same restric
+00019ee0: 7469 6f6e 7320 6f6e 2074 6865 6972 2072  tions on their r
+00019ef0: 616e 6765 2e20 546f 2063 7265 6174 6520  ange. To create 
+00019f00: 6120 636f 6d70 6c65 7820 6e75 6d62 6572  a complex number
+00019f10: 2077 6974 6820 6120 6e6f 6e7a 6572 6f20   with a nonzero 
+00019f20: 7265 616c 2070 6172 742c 2061 6464 2061  real part, add a
+00019f30: 2066 6c6f 6174 696e 6720 706f 696e 7420   floating point 
+00019f40: 6e75 6d62 6572 2074 6f20 6974 2c20 652e  number to it, e.
+00019f50: 672e 2c20 6028 332b 3469 2960 2e20 536f  g., `(3+4i)`. So
+00019f60: 6d65 2065 7861 6d70 6c65 7320 6f66 2069  me examples of i
+00019f70: 6d61 6769 6e61 7279 206c 6974 6572 616c  maginary literal
+00019f80: 733a 0a60 6060 636f 636f 6e75 740a 332e  s:.```coconut.3.
+00019f90: 3134 6920 2020 3130 2e69 2020 2020 3130  14i   10.i    10
+00019fa0: 6920 2020 2020 2e30 3031 6920 2020 3165  i     .001i   1e
+00019fb0: 3130 3069 2020 332e 3134 652d 3130 690a  100i  3.14e-10i.
+00019fc0: 6060 600a 0a23 2323 2323 2045 7861 6d70  ```..##### Examp
+00019fd0: 6c65 0a0a 2a2a 436f 636f 6e75 743a 2a2a  le..**Coconut:**
+00019fe0: 0a60 6060 636f 636f 6e75 740a 3320 2b20  .```coconut.3 + 
+00019ff0: 3469 207c 3e20 6162 7320 7c3e 2070 7269  4i |> abs |> pri
+0001a000: 6e74 0a60 6060 0a0a 2a2a 5079 7468 6f6e  nt.```..**Python
+0001a010: 3a2a 2a0a 6060 6063 6f63 6f6e 7574 5f70  :**.```coconut_p
+0001a020: 7974 686f 6e0a 7072 696e 7428 6162 7328  ython.print(abs(
+0001a030: 3320 2b20 346a 2929 0a60 6060 0a0a 2323  3 + 4j)).```..##
+0001a040: 2320 416c 7465 726e 6174 6976 6520 5465  # Alternative Te
+0001a050: 726e 6172 7920 4f70 6572 6174 6f72 0a0a  rnary Operator..
+0001a060: 5079 7468 6f6e 2073 7570 706f 7274 7320  Python supports 
+0001a070: 7468 6520 7465 726e 6172 7920 6f70 6572  the ternary oper
+0001a080: 6174 6f72 2073 796e 7461 780a 6060 6063  ator syntax.```c
+0001a090: 6f63 6f6e 7574 5f70 7974 686f 6e0a 7265  oconut_python.re
+0001a0a0: 7375 6c74 203d 2069 665f 7472 7565 2069  sult = if_true i
+0001a0b0: 6620 636f 6e64 6974 696f 6e20 656c 7365  f condition else
+0001a0c0: 2069 665f 6661 6c73 650a 6060 600a 7768   if_false.```.wh
+0001a0d0: 6963 682c 2073 696e 6365 2043 6f63 6f6e  ich, since Cocon
+0001a0e0: 7574 2069 7320 6120 7375 7065 7273 6574  ut is a superset
+0001a0f0: 206f 6620 5079 7468 6f6e 2c20 436f 636f   of Python, Coco
+0001a100: 6e75 7420 616c 736f 2073 7570 706f 7274  nut also support
+0001a110: 732e 0a0a 486f 7765 7665 722c 2043 6f63  s...However, Coc
+0001a120: 6f6e 7574 2061 6c73 6f20 7072 6f76 6964  onut also provid
+0001a130: 6573 2061 6e20 616c 7465 726e 6174 6976  es an alternativ
+0001a140: 6520 7379 6e74 6178 2074 6861 7420 7573  e syntax that us
+0001a150: 6573 2074 6865 206d 6f72 6520 636f 6e76  es the more conv
+0001a160: 656e 7469 6f6e 616c 2061 7267 756d 656e  entional argumen
+0001a170: 7420 6f72 6465 7269 6e67 2061 730a 6060  t ordering as.``
+0001a180: 600a 7265 7375 6c74 203d 2069 6620 636f  `.result = if co
+0001a190: 6e64 6974 696f 6e20 7468 656e 2069 665f  ndition then if_
+0001a1a0: 7472 7565 2065 6c73 6520 6966 5f66 616c  true else if_fal
+0001a1b0: 7365 0a60 6060 0a6d 616b 696e 6720 7573  se.```.making us
+0001a1c0: 6520 6f66 2074 6865 2043 6f63 6f6e 7574  e of the Coconut
+0001a1d0: 2d73 7065 6369 6669 6320 6074 6865 6e60  -specific `then`
+0001a1e0: 206b 6579 776f 7264 2028 5b74 686f 7567   keyword ([thoug
+0001a1f0: 6820 436f 636f 6e75 7420 7374 696c 6c20  h Coconut still 
+0001a200: 616c 6c6f 7773 2060 7468 656e 6020 6173  allows `then` as
+0001a210: 2061 2076 6172 6961 626c 6520 6e61 6d65   a variable name
+0001a220: 5d28 2368 616e 646c 696e 672d 6b65 7977  ](#handling-keyw
+0001a230: 6f72 642d 7661 7269 6162 6c65 2d6e 616d  ord-variable-nam
+0001a240: 652d 6f76 6572 6c61 7029 292e 0a0a 2323  e-overlap))...##
+0001a250: 2323 2320 4578 616d 706c 650a 0a2a 2a43  ### Example..**C
+0001a260: 6f63 6f6e 7574 3a2a 2a0a 6060 6063 6f63  oconut:**.```coc
+0001a270: 6f6e 7574 0a76 616c 7565 203d 2028 0a20  onut.value = (. 
+0001a280: 2020 2069 6620 7368 6f75 6c64 5f75 7365     if should_use
+0001a290: 5f61 2829 2074 6865 6e20 610a 2020 2020  _a() then a.    
+0001a2a0: 656c 7365 2069 6620 7368 6f75 6c64 5f75  else if should_u
+0001a2b0: 7365 5f62 2829 2074 6865 6e20 620a 2020  se_b() then b.  
+0001a2c0: 2020 656c 7365 2069 6620 7368 6f75 6c64    else if should
+0001a2d0: 5f75 7365 5f63 2829 2074 6865 6e20 630a  _use_c() then c.
+0001a2e0: 2020 2020 656c 7365 2066 616c 6c62 6163      else fallbac
+0001a2f0: 6b0a 290a 6060 600a 0a2a 2a50 7974 686f  k.).```..**Pytho
+0001a300: 6e3a 2a2a 0a60 6060 636f 636f 6e75 745f  n:**.```coconut_
+0001a310: 7079 7468 6f6e 0a76 616c 7565 203d 2028  python.value = (
+0001a320: 0a20 2020 2061 2069 6620 7368 6f75 6c64  .    a if should
+0001a330: 5f75 7365 5f61 2829 2065 6c73 650a 2020  _use_a() else.  
+0001a340: 2020 6220 6966 2073 686f 756c 645f 7573    b if should_us
+0001a350: 655f 6228 2920 656c 7365 0a20 2020 2063  e_b() else.    c
+0001a360: 2069 6620 7368 6f75 6c64 5f75 7365 5f63   if should_use_c
+0001a370: 2829 2065 6c73 650a 2020 2020 6661 6c6c  () else.    fall
+0001a380: 6261 636b 0a29 0a60 6060 0a0a 2323 2046  back.).```..## F
+0001a390: 756e 6374 696f 6e20 4465 6669 6e69 7469  unction Definiti
+0001a3a0: 6f6e 0a0a 6060 607b 636f 6e74 656e 7473  on..```{contents
+0001a3b0: 7d0a 2d2d 2d0a 6c6f 6361 6c3a 0a64 6570  }.---.local:.dep
+0001a3c0: 7468 3a20 310a 2d2d 2d0a 6060 600a 0a23  th: 1.---.```..#
+0001a3d0: 2323 2054 6169 6c20 4361 6c6c 204f 7074  ## Tail Call Opt
+0001a3e0: 696d 697a 6174 696f 6e0a 0a43 6f63 6f6e  imization..Cocon
+0001a3f0: 7574 2077 696c 6c20 7065 7266 6f72 6d20  ut will perform 
+0001a400: 6175 746f 6d61 7469 6320 5b74 6169 6c20  automatic [tail 
+0001a410: 6361 6c6c 5d28 6874 7470 733a 2f2f 656e  call](https://en
+0001a420: 2e77 696b 6970 6564 6961 2e6f 7267 2f77  .wikipedia.org/w
+0001a430: 696b 692f 5461 696c 5f63 616c 6c29 206f  iki/Tail_call) o
+0001a440: 7074 696d 697a 6174 696f 6e20 616e 6420  ptimization and 
+0001a450: 7461 696c 2072 6563 7572 7369 6f6e 2065  tail recursion e
+0001a460: 6c69 6d69 6e61 7469 6f6e 206f 6e20 616e  limination on an
+0001a470: 7920 6675 6e63 7469 6f6e 2074 6861 7420  y function that 
+0001a480: 6d65 6574 7320 7468 6520 666f 6c6c 6f77  meets the follow
+0001a490: 696e 6720 6372 6974 6572 6961 3a0a 0a31  ing criteria:..1
+0001a4a0: 2e20 6974 206d 7573 7420 6469 7265 6374  . it must direct
+0001a4b0: 6c79 2072 6574 7572 6e20 2875 7369 6e67  ly return (using
+0001a4c0: 2065 6974 6865 7220 6072 6574 7572 6e60   either `return`
+0001a4d0: 206f 7220 5b61 7373 6967 6e6d 656e 7420   or [assignment 
+0001a4e0: 6675 6e63 7469 6f6e 206e 6f74 6174 696f  function notatio
+0001a4f0: 6e5d 2823 6173 7369 676e 6d65 6e74 2d66  n](#assignment-f
+0001a500: 756e 6374 696f 6e73 2929 2061 2063 616c  unctions)) a cal
+0001a510: 6c20 746f 2069 7473 656c 6620 2874 6169  l to itself (tai
+0001a520: 6c20 7265 6375 7273 696f 6e20 656c 696d  l recursion elim
+0001a530: 696e 6174 696f 6e2c 2074 6865 206d 6f73  ination, the mos
+0001a540: 7420 706f 7765 7266 756c 206f 7074 696d  t powerful optim
+0001a550: 697a 6174 696f 6e29 206f 7220 616e 6f74  ization) or anot
+0001a560: 6865 7220 6675 6e63 7469 6f6e 2028 7461  her function (ta
+0001a570: 696c 2063 616c 6c20 6f70 7469 6d69 7a61  il call optimiza
+0001a580: 7469 6f6e 292c 0a32 2e20 6974 206d 7573  tion),.2. it mus
+0001a590: 7420 6e6f 7420 6265 2061 2067 656e 6572  t not be a gener
+0001a5a0: 6174 6f72 2028 7573 6573 2060 7969 656c  ator (uses `yiel
+0001a5b0: 6460 2920 6f72 2061 6e20 6173 796e 6368  d`) or an asynch
+0001a5c0: 726f 6e6f 7573 2066 756e 6374 696f 6e20  ronous function 
+0001a5d0: 2875 7365 7320 6061 7379 6e63 6029 2e0a  (uses `async`)..
+0001a5e0: 0a54 6169 6c20 6361 6c6c 206f 7074 696d  .Tail call optim
+0001a5f0: 697a 6174 696f 6e20 2874 686f 7567 6820  ization (though 
+0001a600: 6e6f 7420 7461 696c 2072 6563 7572 7369  not tail recursi
+0001a610: 6f6e 2065 6c69 6d69 6e61 7469 6f6e 2920  on elimination) 
+0001a620: 7769 6c6c 2077 6f72 6b20 6576 656e 2066  will work even f
+0001a630: 6f72 2031 2920 6d75 7475 616c 2072 6563  or 1) mutual rec
+0001a640: 7572 7369 6f6e 2061 6e64 2032 2920 7061  ursion and 2) pa
+0001a650: 7474 6572 6e2d 6d61 7463 6869 6e67 2066  ttern-matching f
+0001a660: 756e 6374 696f 6e73 2073 706c 6974 2061  unctions split a
+0001a670: 6372 6f73 7320 6d75 6c74 6970 6c65 2064  cross multiple d
+0001a680: 6566 696e 6974 696f 6e73 2075 7369 6e67  efinitions using
+0001a690: 205b 6061 6464 7061 7474 6572 6e60 5d28   [`addpattern`](
+0001a6a0: 2361 6464 7061 7474 6572 6e29 2e0a 0a49  #addpattern)...I
+0001a6b0: 6620 796f 7520 6172 6520 656e 636f 756e  f you are encoun
+0001a6c0: 7465 7269 6e67 2061 2060 5275 6e74 696d  tering a `Runtim
+0001a6d0: 6545 7272 6f72 6020 6475 6520 746f 206d  eError` due to m
+0001a6e0: 6178 696d 756d 2072 6563 7572 7369 6f6e  aximum recursion
+0001a6f0: 2064 6570 7468 2c20 6974 2069 7320 6869   depth, it is hi
+0001a700: 6768 6c79 2072 6563 6f6d 6d65 6e64 6564  ghly recommended
+0001a710: 2074 6861 7420 796f 7520 7265 7772 6974   that you rewrit
+0001a720: 6520 796f 7572 2066 756e 6374 696f 6e20  e your function 
+0001a730: 746f 206d 6565 7420 6569 7468 6572 2074  to meet either t
+0001a740: 6865 2063 7269 7465 7269 6120 6162 6f76  he criteria abov
+0001a750: 6520 666f 7220 7461 696c 2063 616c 6c20  e for tail call 
+0001a760: 6f70 7469 6d69 7a61 7469 6f6e 2c20 6f72  optimization, or
+0001a770: 2074 6865 2063 6f72 7265 7370 6f6e 6469   the correspondi
+0001a780: 6e67 2063 7269 7465 7269 6120 666f 7220  ng criteria for 
+0001a790: 5b60 7265 6375 7273 6976 655f 6974 6572  [`recursive_iter
+0001a7a0: 6174 6f72 605d 2823 7265 6375 7273 6976  ator`](#recursiv
+0001a7b0: 652d 6974 6572 6174 6f72 292c 2065 6974  e-iterator), eit
+0001a7c0: 6865 7220 6f66 2077 6869 6368 2073 686f  her of which sho
+0001a7d0: 756c 6420 7072 6576 656e 7420 7375 6368  uld prevent such
+0001a7e0: 2065 7272 6f72 732e 0a0a 2323 2323 2320   errors...##### 
+0001a7f0: 4578 616d 706c 650a 0a2a 2a43 6f63 6f6e  Example..**Cocon
+0001a800: 7574 3a2a 2a0a 6060 6063 6f63 6f6e 7574  ut:**.```coconut
+0001a810: 0a23 2075 6e6c 696b 6520 696e 2050 7974  .# unlike in Pyt
+0001a820: 686f 6e2c 2074 6869 7320 6675 6e63 7469  hon, this functi
+0001a830: 6f6e 2077 696c 6c20 6e65 7665 7220 6869  on will never hi
+0001a840: 7420 6120 6d61 7869 6d75 6d20 7265 6375  t a maximum recu
+0001a850: 7273 696f 6e20 6465 7074 6820 6572 726f  rsion depth erro
+0001a860: 720a 6465 6620 6661 6374 6f72 6961 6c28  r.def factorial(
+0001a870: 6e2c 2061 6363 3d31 293a 0a20 2020 206d  n, acc=1):.    m
+0001a880: 6174 6368 206e 3a0a 2020 2020 2020 2020  atch n:.        
+0001a890: 6361 7365 2030 3a0a 2020 2020 2020 2020  case 0:.        
+0001a8a0: 2020 2020 7265 7475 726e 2061 6363 0a20      return acc. 
+0001a8b0: 2020 2020 2020 2063 6173 6520 696e 7428         case int(
+0001a8c0: 2920 6966 206e 203e 2030 3a0a 2020 2020  ) if n > 0:.    
+0001a8d0: 2020 2020 2020 2020 7265 7475 726e 2066          return f
+0001a8e0: 6163 746f 7269 616c 286e 2d31 2c20 6163  actorial(n-1, ac
+0001a8f0: 632a 6e29 0a60 6060 0a5f 5368 6f77 6361  c*n).```._Showca
+0001a900: 7365 7320 7461 696c 2072 6563 7572 7369  ses tail recursi
+0001a910: 6f6e 2065 6c69 6d69 6e61 7469 6f6e 2e5f  on elimination._
+0001a920: 0a0a 6060 6063 6f63 6f6e 7574 0a23 2075  ..```coconut.# u
+0001a930: 6e6c 696b 6520 696e 2050 7974 686f 6e2c  nlike in Python,
+0001a940: 206e 6569 7468 6572 206f 6620 7468 6573   neither of thes
+0001a950: 6520 6675 6e63 7469 6f6e 7320 7769 6c6c  e functions will
+0001a960: 2065 7665 7220 6869 7420 6120 6d61 7869   ever hit a maxi
+0001a970: 6d75 6d20 7265 6375 7273 696f 6e20 6465  mum recursion de
+0001a980: 7074 6820 6572 726f 720a 6465 6620 6973  pth error.def is
+0001a990: 5f65 7665 6e28 3029 203d 2054 7275 650a  _even(0) = True.
+0001a9a0: 6164 6470 6174 7465 726e 2064 6566 2069  addpattern def i
+0001a9b0: 735f 6576 656e 286e 2060 6973 696e 7374  s_even(n `isinst
+0001a9c0: 616e 6365 6020 696e 7420 6966 206e 203e  ance` int if n >
+0001a9d0: 2030 2920 3d20 6973 5f6f 6464 286e 2d31   0) = is_odd(n-1
+0001a9e0: 290a 0a64 6566 2069 735f 6f64 6428 3029  )..def is_odd(0)
+0001a9f0: 203d 2046 616c 7365 0a61 6464 7061 7474   = False.addpatt
+0001aa00: 6572 6e20 6465 6620 6973 5f6f 6464 286e  ern def is_odd(n
+0001aa10: 2060 6973 696e 7374 616e 6365 6020 696e   `isinstance` in
+0001aa20: 7420 6966 206e 203e 2030 2920 3d20 6973  t if n > 0) = is
+0001aa30: 5f65 7665 6e28 6e2d 3129 0a60 6060 0a5f  _even(n-1).```._
+0001aa40: 5368 6f77 6361 7365 7320 7461 696c 2063  Showcases tail c
+0001aa50: 616c 6c20 6f70 7469 6d69 7a61 7469 6f6e  all optimization
+0001aa60: 2e5f 0a0a 2a2a 5079 7468 6f6e 3a2a 2a0a  ._..**Python:**.
+0001aa70: 5f43 616e 2774 2062 6520 646f 6e65 2077  _Can't be done w
+0001aa80: 6974 686f 7574 2072 6577 7269 7469 6e67  ithout rewriting
+0001aa90: 2074 6865 2066 756e 6374 696f 6e28 7329   the function(s)
+0001aaa0: 2e5f 0a0a 2323 2323 2060 2d2d 6e6f 2d74  ._..#### `--no-t
+0001aab0: 636f 6020 666c 6167 0a0a 5461 696c 2063  co` flag..Tail c
+0001aac0: 616c 6c20 6f70 7469 6d69 7a61 7469 6f6e  all optimization
+0001aad0: 2077 696c 6c20 6265 2074 7572 6e65 6420   will be turned 
+0001aae0: 6f66 6620 6966 2079 6f75 2070 6173 7320  off if you pass 
+0001aaf0: 7468 6520 602d 2d6e 6f2d 7463 6f60 2063  the `--no-tco` c
+0001ab00: 6f6d 6d61 6e64 2d6c 696e 6520 6f70 7469  ommand-line opti
+0001ab10: 6f6e 2c20 7768 6963 6820 6973 2075 7365  on, which is use
+0001ab20: 6675 6c20 6966 2079 6f75 2061 7265 2068  ful if you are h
+0001ab30: 6176 696e 6720 7472 6f75 626c 6520 7265  aving trouble re
+0001ab40: 6164 696e 6720 796f 7572 2074 7261 6365  ading your trace
+0001ab50: 6261 636b 7320 616e 642f 6f72 206e 6565  backs and/or nee
+0001ab60: 6420 6d61 7869 6d75 6d20 7065 7266 6f72  d maximum perfor
+0001ab70: 6d61 6e63 652e 0a0a 602d 2d6e 6f2d 7463  mance...`--no-tc
+0001ab80: 6f60 2064 6f65 7320 6e6f 7420 6469 7361  o` does not disa
+0001ab90: 626c 6520 7461 696c 2072 6563 7572 7369  ble tail recursi
+0001aba0: 6f6e 2065 6c69 6d69 6e61 7469 6f6e 2e0a  on elimination..
+0001abb0: 5468 6973 2069 7320 6265 6361 7573 6520  This is because 
+0001abc0: 7461 696c 2072 6563 7572 7369 6f6e 2065  tail recursion e
+0001abd0: 6c69 6d69 6e61 7469 6f6e 2069 7320 7573  limination is us
+0001abe0: 7561 6c6c 7920 6661 7374 6572 2074 6861  ually faster tha
+0001abf0: 6e20 646f 696e 6720 6e6f 7468 696e 672c  n doing nothing,
+0001ac00: 2077 6869 6c65 206f 7468 6572 2074 7970   while other typ
+0001ac10: 6573 206f 6620 7461 696c 2063 616c 6c20  es of tail call 
+0001ac20: 6f70 7469 6d69 7a61 7469 6f6e 2061 7265  optimization are
+0001ac30: 2075 7375 616c 6c79 2073 6c6f 7765 7220   usually slower 
+0001ac40: 7468 616e 2064 6f69 6e67 206e 6f74 6869  than doing nothi
+0001ac50: 6e67 2e0a 5461 696c 2072 6563 7572 7369  ng..Tail recursi
+0001ac60: 6f6e 2065 6c69 6d69 6e61 7469 6f6e 2072  on elimination r
+0001ac70: 6573 756c 7473 2069 6e20 6120 6269 6720  esults in a big 
+0001ac80: 7065 7266 6f72 6d61 6e63 6520 7769 6e20  performance win 
+0001ac90: 6265 6361 7573 6520 5079 7468 6f6e 2068  because Python h
+0001aca0: 6173 2061 2066 6169 726c 7920 6c61 7267  as a fairly larg
+0001acb0: 6520 6675 6e63 7469 6f6e 2063 616c 6c20  e function call 
+0001acc0: 6f76 6572 6865 6164 2e20 4279 2075 6e77  overhead. By unw
+0001acd0: 696e 6469 6e67 2061 2072 6563 7572 7369  inding a recursi
+0001ace0: 7665 2066 756e 6374 696f 6e2c 2066 6172  ve function, far
+0001acf0: 2066 6577 6572 2066 756e 6374 696f 6e20   fewer function 
+0001ad00: 6361 6c6c 7320 6e65 6564 2074 6f20 6265  calls need to be
+0001ad10: 206d 6164 652e 0a57 6865 6e20 7468 6520   made..When the 
+0001ad20: 602d 2d6e 6f2d 7463 6f60 2066 6c61 6720  `--no-tco` flag 
+0001ad30: 6973 2064 6973 6162 6c65 642c 2043 6f63  is disabled, Coc
+0001ad40: 6f6e 7574 2077 696c 6c20 6174 7465 6d70  onut will attemp
+0001ad50: 7420 746f 2064 6f20 616c 6c20 7479 7065  t to do all type
+0001ad60: 7320 6f66 2074 6169 6c20 6361 6c6c 206f  s of tail call o
+0001ad70: 7074 696d 697a 6174 696f 6e73 2c20 6861  ptimizations, ha
+0001ad80: 6e64 6c69 6e67 206e 6f6e 2d72 6563 7572  ndling non-recur
+0001ad90: 7369 7665 2074 6169 6c20 6361 6c6c 732c  sive tail calls,
+0001ada0: 2073 706c 6974 2070 6174 7465 726e 2d6d   split pattern-m
+0001adb0: 6174 6368 696e 6720 6675 6e63 7469 6f6e  atching function
+0001adc0: 732c 206d 7574 7561 6c20 7265 6375 7273  s, mutual recurs
+0001add0: 696f 6e2c 2061 6e64 2074 6169 6c20 7265  ion, and tail re
+0001ade0: 6375 7273 696f 6e2e 2057 6865 6e20 7468  cursion. When th
+0001adf0: 6520 602d 2d6e 6f2d 7463 6f60 2066 6c61  e `--no-tco` fla
+0001ae00: 6720 6973 2065 6e61 626c 6564 2c20 436f  g is enabled, Co
+0001ae10: 636f 6e75 7420 7769 6c6c 206e 6f20 6c6f  conut will no lo
+0001ae20: 6e67 6572 2070 6572 666f 726d 2061 6e79  nger perform any
+0001ae30: 2074 6169 6c20 6361 6c6c 206f 7074 696d   tail call optim
+0001ae40: 697a 6174 696f 6e73 206f 7468 6572 2074  izations other t
+0001ae50: 6861 6e20 7461 696c 2072 6563 7572 7369  han tail recursi
+0001ae60: 6f6e 2065 6c69 6d69 6e61 7469 6f6e 2e0a  on elimination..
+0001ae70: 0a23 2323 2320 5461 696c 2052 6563 7572  .#### Tail Recur
+0001ae80: 7369 6f6e 2045 6c69 6d69 6e61 7469 6f6e  sion Elimination
+0001ae90: 2061 6e64 2050 7974 686f 6e20 6c61 6d62   and Python lamb
+0001aea0: 6461 730a 0a43 6f63 6f6e 7574 2064 6f65  das..Coconut doe
+0001aeb0: 7320 6e6f 7420 7065 7266 6f72 6d20 7461  s not perform ta
+0001aec0: 696c 2072 6563 7572 7369 6f6e 2065 6c69  il recursion eli
+0001aed0: 6d69 6e61 7469 6f6e 2069 6e20 6675 6e63  mination in func
+0001aee0: 7469 6f6e 7320 7468 6174 2075 7469 6c69  tions that utili
+0001aef0: 7a65 206c 616d 6264 6173 206f 7220 696e  ze lambdas or in
+0001af00: 6e65 7220 6675 6e63 7469 6f6e 732e 2054  ner functions. T
+0001af10: 6869 7320 6973 2062 6563 6175 7365 206f  his is because o
+0001af20: 6620 7468 6520 7761 7920 7468 6174 2050  f the way that P
+0001af30: 7974 686f 6e20 6861 6e64 6c65 7320 6c61  ython handles la
+0001af40: 6d62 6461 732e 0a0a 4561 6368 206c 616d  mbdas...Each lam
+0001af50: 6264 6120 7374 6f72 6573 2061 2070 6f69  bda stores a poi
+0001af60: 6e74 6572 2074 6f20 7468 6520 6e61 6d65  nter to the name
+0001af70: 7370 6163 6520 656e 636c 6f73 696e 6720  space enclosing 
+0001af80: 6974 2c20 7261 7468 6572 2074 6861 6e20  it, rather than 
+0001af90: 6120 636f 7079 206f 6620 7468 6520 6e61  a copy of the na
+0001afa0: 6d65 7370 6163 652e 2054 6875 732c 2069  mespace. Thus, i
+0001afb0: 6620 7468 6520 436f 636f 6e75 7420 636f  f the Coconut co
+0001afc0: 6d70 696c 6572 2074 7269 6573 2074 6f20  mpiler tries to 
+0001afd0: 7265 6379 636c 6520 616e 7974 6869 6e67  recycle anything
+0001afe0: 2069 6e20 7468 6520 6e61 6d65 7370 6163   in the namespac
+0001aff0: 6520 7468 6174 2070 726f 6475 6365 6420  e that produced 
+0001b000: 7468 6520 6c61 6d62 6461 2c20 7768 6963  the lambda, whic
+0001b010: 6820 6e65 6564 7320 746f 2062 6520 646f  h needs to be do
+0001b020: 6e65 2066 6f72 2054 5245 2c20 7468 6520  ne for TRE, the 
+0001b030: 6c61 6d62 6461 2063 616e 2062 6520 6368  lambda can be ch
+0001b040: 616e 6765 6420 7265 7472 6f61 6374 6976  anged retroactiv
+0001b050: 656c 792e 0a0a 4120 7369 6d70 6c65 2065  ely...A simple e
+0001b060: 7861 6d70 6c65 2064 656d 6f6e 7374 7261  xample demonstra
+0001b070: 7469 6e67 2074 6869 7320 6265 6861 7669  ting this behavi
+0001b080: 6f72 2069 6e20 5079 7468 6f6e 3a0a 0a60  or in Python:..`
+0001b090: 6060 7079 7468 6f6e 0a78 203d 2031 0a66  ``python.x = 1.f
+0001b0a0: 6f6f 203d 206c 616d 6264 613a 2078 0a70  oo = lambda: x.p
+0001b0b0: 7269 6e74 2866 6f6f 2829 2920 2023 2031  rint(foo())  # 1
+0001b0c0: 0a78 203d 2032 2020 2020 2020 2020 2023  .x = 2         #
+0001b0d0: 2044 6972 6563 746c 7920 616c 7465 7220   Directly alter 
+0001b0e0: 7468 6520 7661 6c75 6573 2069 6e20 7468  the values in th
+0001b0f0: 6520 6e61 6d65 7370 6163 6520 656e 636c  e namespace encl
+0001b100: 6f73 696e 6720 666f 6f0a 7072 696e 7428  osing foo.print(
+0001b110: 666f 6f28 2929 2020 2320 3220 2821 290a  foo())  # 2 (!).
+0001b120: 6060 600a 0a42 6563 6175 7365 2074 6869  ```..Because thi
+0001b130: 7320 636f 756c 6420 6861 7665 2075 6e69  s could have uni
+0001b140: 6e74 656e 6465 6420 616e 6420 706f 7465  ntended and pote
+0001b150: 6e74 6961 6c6c 7920 6461 6d61 6769 6e67  ntially damaging
+0001b160: 2063 6f6e 7365 7175 656e 6365 732c 2043   consequences, C
+0001b170: 6f63 6f6e 7574 206f 7074 7320 746f 206e  oconut opts to n
+0001b180: 6f74 2070 6572 666f 726d 2054 5245 206f  ot perform TRE o
+0001b190: 6e20 616e 7920 6675 6e63 7469 6f6e 2077  n any function w
+0001b1a0: 6974 6820 6120 6c61 6d62 6461 206f 7220  ith a lambda or 
+0001b1b0: 696e 6e65 7220 6675 6e63 7469 6f6e 2e0a  inner function..
+0001b1c0: 0a23 2323 2041 7373 6967 6e6d 656e 7420  .### Assignment 
+0001b1d0: 4675 6e63 7469 6f6e 730a 0a43 6f63 6f6e  Functions..Cocon
+0001b1e0: 7574 2061 6c6c 6f77 7320 666f 7220 6173  ut allows for as
+0001b1f0: 7369 676e 6d65 6e74 2066 756e 6374 696f  signment functio
+0001b200: 6e20 6465 6669 6e69 7469 6f6e 2074 6861  n definition tha
+0001b210: 7420 6175 746f 6d61 7469 6361 6c6c 7920  t automatically 
+0001b220: 7265 7475 726e 7320 7468 6520 6c61 7374  returns the last
+0001b230: 206c 696e 6520 6f66 2074 6865 2066 756e   line of the fun
+0001b240: 6374 696f 6e20 626f 6479 2e20 416e 2061  ction body. An a
+0001b250: 7373 6967 6e6d 656e 7420 6675 6e63 7469  ssignment functi
+0001b260: 6f6e 2069 7320 636f 6e73 7472 7563 7465  on is constructe
+0001b270: 6420 6279 2073 7562 7374 6974 7574 696e  d by substitutin
+0001b280: 6720 603d 6020 666f 7220 603a 6020 6166  g `=` for `:` af
+0001b290: 7465 7220 7468 6520 6675 6e63 7469 6f6e  ter the function
+0001b2a0: 2064 6566 696e 6974 696f 6e20 6c69 6e65   definition line
+0001b2b0: 2e20 5468 7573 2c20 7468 6520 7379 6e74  . Thus, the synt
+0001b2c0: 6178 2066 6f72 2061 7373 6967 6e6d 656e  ax for assignmen
+0001b2d0: 7420 6675 6e63 7469 6f6e 2064 6566 696e  t function defin
+0001b2e0: 6974 696f 6e20 6973 2065 6974 6865 720a  ition is either.
+0001b2f0: 6060 6063 6f63 6f6e 7574 0a5b 6173 796e  ```coconut.[asyn
+0001b300: 635d 2064 6566 203c 6e61 6d65 3e28 3c61  c] def <name>(<a
+0001b310: 7267 733e 2920 3d20 3c65 7870 723e 0a60  rgs>) = <expr>.`
+0001b320: 6060 0a66 6f72 206f 6e65 2d6c 696e 6572  ``.for one-liner
+0001b330: 7320 6f72 0a60 6060 636f 636f 6e75 740a  s or.```coconut.
+0001b340: 5b61 7379 6e63 5d20 6465 6620 3c6e 616d  [async] def <nam
+0001b350: 653e 283c 6172 6773 3e29 203d 0a20 2020  e>(<args>) =.   
+0001b360: 203c 7374 6d74 733e 0a20 2020 203c 6578   <stmts>.    <ex
+0001b370: 7072 3e0a 6060 600a 666f 7220 6675 6c6c  pr>.```.for full
+0001b380: 2066 756e 6374 696f 6e73 2c20 7768 6572   functions, wher
+0001b390: 6520 603c 6e61 6d65 3e60 2069 7320 7468  e `<name>` is th
+0001b3a0: 6520 6e61 6d65 206f 6620 7468 6520 6675  e name of the fu
+0001b3b0: 6e63 7469 6f6e 2c20 603c 6172 6773 3e60  nction, `<args>`
+0001b3c0: 2061 7265 2074 6865 2066 756e 6374 696f   are the functio
+0001b3d0: 6e73 2061 7267 756d 656e 7473 2c20 603c  ns arguments, `<
+0001b3e0: 7374 6d74 733e 6020 6172 6520 616e 7920  stmts>` are any 
+0001b3f0: 7374 6174 656d 656e 7473 2074 6861 7420  statements that 
+0001b400: 7468 6520 6675 6e63 7469 6f6e 2073 686f  the function sho
+0001b410: 756c 6420 6578 6563 7574 652c 2061 6e64  uld execute, and
+0001b420: 2060 3c65 7870 723e 6020 6973 2074 6865   `<expr>` is the
+0001b430: 2076 616c 7565 2074 6861 7420 7468 6520   value that the 
+0001b440: 6675 6e63 7469 6f6e 2073 686f 756c 6420  function should 
+0001b450: 7265 7475 726e 2e0a 0a5f 4e6f 7465 3a20  return..._Note: 
+0001b460: 4173 7369 676e 6d65 6e74 2066 756e 6374  Assignment funct
+0001b470: 696f 6e20 6465 6669 6e69 7469 6f6e 2063  ion definition c
+0001b480: 616e 2062 6520 636f 6d62 696e 6564 2077  an be combined w
+0001b490: 6974 6820 696e 6669 7820 616e 642f 6f72  ith infix and/or
+0001b4a0: 2070 6174 7465 726e 2d6d 6174 6368 696e   pattern-matchin
+0001b4b0: 6720 6675 6e63 7469 6f6e 2064 6566 696e  g function defin
+0001b4c0: 6974 696f 6e2e 5f0a 0a23 2323 2323 2052  ition._..##### R
+0001b4d0: 6174 696f 6e61 6c65 0a0a 436f 636f 6e75  ationale..Coconu
+0001b4e0: 7427 7320 4173 7369 676e 6d65 6e74 2066  t's Assignment f
+0001b4f0: 756e 6374 696f 6e20 6465 6669 6e69 7469  unction definiti
+0001b500: 6f6e 2069 7320 6173 2065 6173 7920 746f  on is as easy to
+0001b510: 2077 7269 7465 2061 7320 6173 7369 676e   write as assign
+0001b520: 6d65 6e74 2074 6f20 6120 6c61 6d62 6461  ment to a lambda
+0001b530: 2c20 6275 7420 7769 6c6c 2061 7070 6561  , but will appea
+0001b540: 7220 6e61 6d65 6420 696e 2074 7261 6365  r named in trace
+0001b550: 6261 636b 732c 2061 7320 6974 2063 6f6d  backs, as it com
+0001b560: 7069 6c65 7320 746f 206e 6f72 6d61 6c20  piles to normal 
+0001b570: 5079 7468 6f6e 2066 756e 6374 696f 6e20  Python function 
+0001b580: 6465 6669 6e69 7469 6f6e 2e0a 0a23 2323  definition...###
+0001b590: 2323 2045 7861 6d70 6c65 0a0a 2a2a 436f  ## Example..**Co
+0001b5a0: 636f 6e75 743a 2a2a 0a60 6060 636f 636f  conut:**.```coco
+0001b5b0: 6e75 740a 6465 6620 6269 6e65 7870 2878  nut.def binexp(x
+0001b5c0: 2920 3d20 322a 2a78 0a35 207c 3e20 6269  ) = 2**x.5 |> bi
+0001b5d0: 6e65 7870 207c 3e20 7072 696e 740a 6060  nexp |> print.``
+0001b5e0: 600a 0a2a 2a50 7974 686f 6e3a 2a2a 0a60  `..**Python:**.`
+0001b5f0: 6060 636f 636f 6e75 745f 7079 7468 6f6e  ``coconut_python
+0001b600: 0a64 6566 2062 696e 6578 7028 7829 3a20  .def binexp(x): 
+0001b610: 7265 7475 726e 2032 2a2a 780a 7072 696e  return 2**x.prin
+0001b620: 7428 6269 6e65 7870 2835 2929 0a60 6060  t(binexp(5)).```
+0001b630: 0a0a 2323 2320 5061 7474 6572 6e2d 4d61  ..### Pattern-Ma
+0001b640: 7463 6869 6e67 2046 756e 6374 696f 6e73  tching Functions
+0001b650: 0a0a 436f 636f 6e75 7420 7061 7474 6572  ..Coconut patter
+0001b660: 6e2d 6d61 7463 6869 6e67 2066 756e 6374  n-matching funct
+0001b670: 696f 6e73 2061 7265 206a 7573 7420 6e6f  ions are just no
+0001b680: 726d 616c 2066 756e 6374 696f 6e73 2c20  rmal functions, 
+0001b690: 6578 6365 7074 2077 6865 7265 2074 6865  except where the
+0001b6a0: 2061 7267 756d 656e 7473 2061 7265 2070   arguments are p
+0001b6b0: 6174 7465 726e 7320 746f 2062 6520 6d61  atterns to be ma
+0001b6c0: 7463 6865 6420 6167 6169 6e73 7420 696e  tched against in
+0001b6d0: 7374 6561 6420 6f66 2076 6172 6961 626c  stead of variabl
+0001b6e0: 6573 2074 6f20 6265 2061 7373 6967 6e65  es to be assigne
+0001b6f0: 6420 746f 2e20 5468 6520 7379 6e74 6178  d to. The syntax
+0001b700: 2066 6f72 2070 6174 7465 726e 2d6d 6174   for pattern-mat
+0001b710: 6368 696e 6720 6675 6e63 7469 6f6e 2064  ching function d
+0001b720: 6566 696e 6974 696f 6e20 6973 0a60 6060  efinition is.```
+0001b730: 636f 636f 6e75 740a 5b6d 6174 6368 5d20  coconut.[match] 
+0001b740: 6465 6620 3c6e 616d 653e 283c 6172 673e  def <name>(<arg>
+0001b750: 2c20 3c61 7267 3e2c 202e 2e2e 205b 6966  , <arg>, ... [if
+0001b760: 203c 636f 6e64 3e5d 2920 5b2d 3e20 3c72   <cond>]) [-> <r
+0001b770: 6574 7572 6e5f 7479 7065 3e5d 3a0a 2020  eturn_type>]:.  
+0001b780: 2020 3c62 6f64 793e 0a60 6060 0a77 6865    <body>.```.whe
+0001b790: 7265 2060 3c61 7267 3e60 2069 7320 6465  re `<arg>` is de
+0001b7a0: 6669 6e65 6420 6173 0a60 6060 636f 636f  fined as.```coco
+0001b7b0: 6e75 740a 5b2a 7c2a 2a5d 203c 7061 7474  nut.[*|**] <patt
+0001b7c0: 6572 6e3e 205b 3d20 3c64 6566 6175 6c74  ern> [= <default
+0001b7d0: 3e5d 0a60 6060 0a77 6865 7265 2060 3c6e  >].```.where `<n
+0001b7e0: 616d 653e 6020 6973 2074 6865 206e 616d  ame>` is the nam
+0001b7f0: 6520 6f66 2074 6865 2066 756e 6374 696f  e of the functio
+0001b800: 6e2c 2060 3c63 6f6e 643e 6020 6973 2061  n, `<cond>` is a
+0001b810: 6e20 6f70 7469 6f6e 616c 2061 6464 6974  n optional addit
+0001b820: 696f 6e61 6c20 6368 6563 6b2c 2060 3c62  ional check, `<b
+0001b830: 6f64 793e 6020 6973 2074 6865 2062 6f64  ody>` is the bod
+0001b840: 7920 6f66 2074 6865 2066 756e 6374 696f  y of the functio
+0001b850: 6e2c 2060 3c70 6174 7465 726e 3e60 2069  n, `<pattern>` i
+0001b860: 7320 6465 6669 6e65 6420 6279 2043 6f63  s defined by Coc
+0001b870: 6f6e 7574 2773 205b 606d 6174 6368 6020  onut's [`match` 
+0001b880: 7374 6174 656d 656e 745d 2823 6d61 7463  statement](#matc
+0001b890: 6829 2c20 603c 6465 6661 756c 743e 6020  h), `<default>` 
+0001b8a0: 6973 2074 6865 206f 7074 696f 6e61 6c20  is the optional 
+0001b8b0: 6465 6661 756c 7420 6966 206e 6f20 6172  default if no ar
+0001b8c0: 6775 6d65 6e74 2069 7320 7061 7373 6564  gument is passed
+0001b8d0: 2c20 616e 6420 603c 7265 7475 726e 5f74  , and `<return_t
+0001b8e0: 7970 653e 6020 6973 2074 6865 206f 7074  ype>` is the opt
+0001b8f0: 696f 6e61 6c20 7265 7475 726e 2074 7970  ional return typ
+0001b900: 6520 616e 6e6f 7461 7469 6f6e 2028 6e6f  e annotation (no
+0001b910: 7465 2074 6861 7420 6172 6775 6d65 6e74  te that argument
+0001b920: 2074 7970 6520 616e 6e6f 7461 7469 6f6e   type annotation
+0001b930: 7320 6172 6520 6e6f 7420 7375 7070 6f72  s are not suppor
+0001b940: 7465 6420 666f 7220 7061 7474 6572 6e2d  ted for pattern-
+0001b950: 6d61 7463 6869 6e67 2066 756e 6374 696f  matching functio
+0001b960: 6e73 292e 2054 6865 2060 6d61 7463 6860  ns). The `match`
+0001b970: 206b 6579 776f 7264 2061 7420 7468 6520   keyword at the 
+0001b980: 6265 6769 6e6e 696e 6720 6973 206f 7074  beginning is opt
+0001b990: 696f 6e61 6c2c 2062 7574 2069 7320 736f  ional, but is so
+0001b9a0: 6d65 7469 6d65 7320 6e65 6365 7373 6172  metimes necessar
+0001b9b0: 7920 746f 2064 6973 616d 6269 6775 6174  y to disambiguat
+0001b9c0: 6520 7061 7474 6572 6e2d 6d61 7463 6869  e pattern-matchi
+0001b9d0: 6e67 2066 756e 6374 696f 6e20 6465 6669  ng function defi
+0001b9e0: 6e69 7469 6f6e 2066 726f 6d20 6e6f 726d  nition from norm
+0001b9f0: 616c 2066 756e 6374 696f 6e20 6465 6669  al function defi
+0001ba00: 6e69 7469 6f6e 2c20 7369 6e63 6520 5079  nition, since Py
+0001ba10: 7468 6f6e 2066 756e 6374 696f 6e20 6465  thon function de
+0001ba20: 6669 6e69 7469 6f6e 2077 696c 6c20 616c  finition will al
+0001ba30: 7761 7973 2074 616b 6520 7072 6563 6564  ways take preced
+0001ba40: 656e 6365 2e20 4e6f 7465 2074 6861 7420  ence. Note that 
+0001ba50: 7468 6520 6061 7379 6e63 6020 616e 6420  the `async` and 
+0001ba60: 606d 6174 6368 6020 6b65 7977 6f72 6473  `match` keywords
+0001ba70: 2063 616e 2062 6520 696e 2061 6e79 206f   can be in any o
+0001ba80: 7264 6572 2e0a 0a49 6620 603c 7061 7474  rder...If `<patt
+0001ba90: 6572 6e3e 6020 6861 7320 6120 7661 7269  ern>` has a vari
+0001baa0: 6162 6c65 206e 616d 6520 2865 6974 6865  able name (eithe
+0001bab0: 7220 6469 7265 6374 6c79 206f 7220 7769  r directly or wi
+0001bac0: 7468 2060 6173 6029 2c20 7468 6520 7265  th `as`), the re
+0001bad0: 7375 6c74 696e 6720 7061 7474 6572 6e2d  sulting pattern-
+0001bae0: 6d61 7463 6869 6e67 2066 756e 6374 696f  matching functio
+0001baf0: 6e20 7769 6c6c 2073 7570 706f 7274 206b  n will support k
+0001bb00: 6579 776f 7264 2061 7267 756d 656e 7473  eyword arguments
+0001bb10: 2075 7369 6e67 2074 6861 7420 7661 7269   using that vari
+0001bb20: 6162 6c65 206e 616d 652e 0a0a 496e 2061  able name...In a
+0001bb30: 6464 6974 696f 6e20 746f 2073 7570 706f  ddition to suppo
+0001bb40: 7274 696e 6720 7061 7474 6572 6e2d 6d61  rting pattern-ma
+0001bb50: 7463 6869 6e67 2069 6e20 7468 6569 7220  tching in their 
+0001bb60: 6172 6775 6d65 6e74 732c 2070 6174 7465  arguments, patte
+0001bb70: 726e 2d6d 6174 6368 696e 6720 6675 6e63  rn-matching func
+0001bb80: 7469 6f6e 2064 6566 696e 6974 696f 6e73  tion definitions
+0001bb90: 2061 6c73 6f20 6861 7665 2061 2063 6f75   also have a cou
+0001bba0: 706c 6520 6f66 206e 6f74 6162 6c65 2064  ple of notable d
+0001bbb0: 6966 6665 7265 6e63 6573 2063 6f6d 7061  ifferences compa
+0001bbc0: 7265 6420 746f 2050 7974 686f 6e20 6675  red to Python fu
+0001bbd0: 6e63 7469 6f6e 732e 2053 7065 6369 6669  nctions. Specifi
+0001bbe0: 6361 6c6c 793a 0a2d 2049 6620 7061 7474  cally:.- If patt
+0001bbf0: 6572 6e2d 6d61 7463 6869 6e67 2066 756e  ern-matching fun
+0001bc00: 6374 696f 6e20 6465 6669 6e69 7469 6f6e  ction definition
+0001bc10: 2066 6169 6c73 2c20 6974 2077 696c 6c20   fails, it will 
+0001bc20: 7261 6973 6520 6120 5b60 4d61 7463 6845  raise a [`MatchE
+0001bc30: 7272 6f72 605d 2823 6d61 7463 6865 7272  rror`](#matcherr
+0001bc40: 6f72 2920 286a 7573 7420 6c69 6b65 205b  or) (just like [
+0001bc50: 6465 7374 7275 6374 7572 696e 6720 6173  destructuring as
+0001bc60: 7369 676e 6d65 6e74 5d28 2364 6573 7472  signment](#destr
+0001bc70: 7563 7475 7269 6e67 2d61 7373 6967 6e6d  ucturing-assignm
+0001bc80: 656e 7429 2920 696e 7374 6561 6420 6f66  ent)) instead of
+0001bc90: 2061 2060 5479 7065 4572 726f 7260 2e0a   a `TypeError`..
+0001bca0: 2d20 416c 6c20 6465 6661 756c 7473 2069  - All defaults i
+0001bcb0: 6e20 7061 7474 6572 6e2d 6d61 7463 6869  n pattern-matchi
+0001bcc0: 6e67 2066 756e 6374 696f 6e20 6465 6669  ng function defi
+0001bcd0: 6e69 7469 6f6e 2061 7265 206c 6174 652d  nition are late-
+0001bce0: 626f 756e 6420 7261 7468 6572 2074 6861  bound rather tha
+0001bcf0: 6e20 6561 726c 792d 626f 756e 642e 2054  n early-bound. T
+0001bd00: 6875 732c 2060 6d61 7463 6820 6465 6620  hus, `match def 
+0001bd10: 6628 7873 3d5b 5d29 203d 2078 7360 2077  f(xs=[]) = xs` w
+0001bd20: 696c 6c20 696e 7374 616e 7469 6174 6520  ill instantiate 
+0001bd30: 6120 6e65 7720 6c69 7374 2066 6f72 2065  a new list for e
+0001bd40: 6163 6820 6361 6c6c 2077 6865 7265 2060  ach call where `
+0001bd50: 7873 6020 6973 206e 6f74 2067 6976 656e  xs` is not given
+0001bd60: 2c20 756e 6c69 6b65 2060 6465 6620 6628  , unlike `def f(
+0001bd70: 7873 3d5b 5d29 203d 2078 7360 2c20 7768  xs=[]) = xs`, wh
+0001bd80: 6963 6820 7769 6c6c 2075 7365 2074 6865  ich will use the
+0001bd90: 2073 616d 6520 6c69 7374 2066 6f72 2061   same list for a
+0001bda0: 6c6c 2063 616c 6c73 2077 6865 7265 2060  ll calls where `
+0001bdb0: 7873 6020 6973 2075 6e73 7065 6369 6669  xs` is unspecifi
+0001bdc0: 6564 2e0a 0a50 6174 7465 726e 2d6d 6174  ed...Pattern-mat
+0001bdd0: 6368 696e 6720 6675 6e63 7469 6f6e 2064  ching function d
+0001bde0: 6566 696e 6974 696f 6e20 6361 6e20 616c  efinition can al
+0001bdf0: 736f 2062 6520 636f 6d62 696e 6564 2077  so be combined w
+0001be00: 6974 6820 6061 7379 6e63 6020 6675 6e63  ith `async` func
+0001be10: 7469 6f6e 732c 205b 6063 6f70 7963 6c6f  tions, [`copyclo
+0001be20: 7375 7265 6020 6675 6e63 7469 6f6e 735d  sure` functions]
+0001be30: 2823 636f 7079 636c 6f73 7572 652d 6675  (#copyclosure-fu
+0001be40: 6e63 7469 6f6e 7329 2c20 5b60 7969 656c  nctions), [`yiel
+0001be50: 6460 2066 756e 6374 696f 6e73 5d28 2365  d` functions](#e
+0001be60: 7870 6c69 6369 742d 6765 6e65 7261 746f  xplicit-generato
+0001be70: 7273 292c 205b 696e 6669 7820 6675 6e63  rs), [infix func
+0001be80: 7469 6f6e 2064 6566 696e 6974 696f 6e5d  tion definition]
+0001be90: 2823 696e 6669 782d 6675 6e63 7469 6f6e  (#infix-function
+0001bea0: 7329 2c20 616e 6420 5b61 7373 6967 6e6d  s), and [assignm
+0001beb0: 656e 7420 6675 6e63 7469 6f6e 2073 796e  ent function syn
+0001bec0: 7461 785d 2823 6173 7369 676e 6d65 6e74  tax](#assignment
+0001bed0: 2d66 756e 6374 696f 6e73 292e 2054 6865  -functions). The
+0001bee0: 2076 6172 696f 7573 206b 6579 776f 7264   various keyword
+0001bef0: 7320 696e 2066 726f 6e74 206f 6620 7468  s in front of th
+0001bf00: 6520 6064 6566 6020 6361 6e20 6265 2070  e `def` can be p
+0001bf10: 7574 2069 6e20 616e 7920 6f72 6465 722e  ut in any order.
+0001bf20: 0a0a 2323 2323 2320 4578 616d 706c 650a  ..##### Example.
+0001bf30: 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0a 6060  .**Coconut:**.``
+0001bf40: 6063 6f63 6f6e 7574 0a64 6566 206c 6173  `coconut.def las
+0001bf50: 745f 7477 6f28 5f20 2b20 5b61 2c20 625d  t_two(_ + [a, b]
+0001bf60: 293a 0a20 2020 2072 6574 7572 6e20 612c  ):.    return a,
+0001bf70: 2062 0a64 6566 2078 7964 6963 745f 746f   b.def xydict_to
+0001bf80: 5f78 7974 7570 6c65 287b 2278 223a 2078  _xytuple({"x": x
+0001bf90: 2060 6973 696e 7374 616e 6365 6020 696e   `isinstance` in
+0001bfa0: 742c 2022 7922 3a20 7920 6069 7369 6e73  t, "y": y `isins
+0001bfb0: 7461 6e63 6560 2069 6e74 7d29 3a0a 2020  tance` int}):.  
+0001bfc0: 2020 7265 7475 726e 2078 2c20 790a 0a72    return x, y..r
+0001bfd0: 616e 6765 2835 2920 7c3e 206c 6173 745f  ange(5) |> last_
+0001bfe0: 7477 6f20 7c3e 2070 7269 6e74 0a7b 2278  two |> print.{"x
+0001bff0: 223a 312c 2022 7922 3a32 7d20 7c3e 2078  ":1, "y":2} |> x
+0001c000: 7964 6963 745f 746f 5f78 7974 7570 6c65  ydict_to_xytuple
+0001c010: 207c 3e20 7072 696e 740a 6060 600a 0a2a   |> print.```..*
+0001c020: 2a50 7974 686f 6e3a 2a2a 0a5f 4361 6e27  *Python:**._Can'
+0001c030: 7420 6265 2064 6f6e 6520 7769 7468 6f75  t be done withou
+0001c040: 7420 6120 6c6f 6e67 2073 6572 6965 7320  t a long series 
+0001c050: 6f66 2063 6865 636b 7320 6174 2074 6865  of checks at the
+0001c060: 2074 6f70 206f 6620 7468 6520 6675 6e63   top of the func
+0001c070: 7469 6f6e 2e20 5365 6520 7468 6520 636f  tion. See the co
+0001c080: 6d70 696c 6564 2063 6f64 6520 666f 7220  mpiled code for 
+0001c090: 7468 6520 5079 7468 6f6e 2073 796e 7461  the Python synta
+0001c0a0: 782e 5f0a 0a23 2323 2060 6164 6470 6174  x._..### `addpat
+0001c0b0: 7465 726e 6020 4675 6e63 7469 6f6e 730a  tern` Functions.
+0001c0c0: 0a43 6f63 6f6e 7574 2070 726f 7669 6465  .Coconut provide
+0001c0d0: 7320 7468 6520 6061 6464 7061 7474 6572  s the `addpatter
+0001c0e0: 6e20 6465 6660 2073 796e 7461 7820 6173  n def` syntax as
+0001c0f0: 2061 2073 686f 7274 6375 7420 666f 7220   a shortcut for 
+0001c100: 7468 6520 6675 6c6c 0a60 6060 636f 636f  the full.```coco
+0001c110: 6e75 740a 4061 6464 7061 7474 6572 6e28  nut.@addpattern(
+0001c120: 6675 6e63 290a 6d61 7463 6820 6465 6620  func).match def 
+0001c130: 6675 6e63 282e 2e2e 293a 0a20 202e 2e2e  func(...):.  ...
+0001c140: 0a60 6060 0a73 796e 7461 7820 7573 696e  .```.syntax usin
+0001c150: 6720 7468 6520 5b60 6164 6470 6174 7465  g the [`addpatte
+0001c160: 726e 605d 2823 6164 6470 6174 7465 726e  rn`](#addpattern
+0001c170: 2920 6465 636f 7261 746f 722e 0a0a 4164  ) decorator...Ad
+0001c180: 6469 7469 6f6e 616c 6c79 2c20 6061 6464  ditionally, `add
+0001c190: 7061 7474 6572 6e20 6465 6660 2077 696c  pattern def` wil
+0001c1a0: 6c20 6163 7420 6a75 7374 206c 696b 6520  l act just like 
+0001c1b0: 6120 6e6f 726d 616c 205b 606d 6174 6368  a normal [`match
+0001c1c0: 2064 6566 605d 2823 7061 7474 6572 6e2d   def`](#pattern-
+0001c1d0: 6d61 7463 6869 6e67 2d66 756e 6374 696f  matching-functio
+0001c1e0: 6e73 2920 6966 2074 6865 2066 756e 6374  ns) if the funct
+0001c1f0: 696f 6e20 6861 7320 6e6f 7420 7072 6576  ion has not prev
+0001c200: 696f 7573 6c79 2062 6565 6e20 6465 6669  iously been defi
+0001c210: 6e65 642c 2061 6c6c 6f77 696e 6720 666f  ned, allowing fo
+0001c220: 7220 6061 6464 7061 7474 6572 6e20 6465  r `addpattern de
+0001c230: 6660 2074 6f20 6265 2075 7365 6420 666f  f` to be used fo
+0001c240: 7220 6561 6368 2063 6173 6520 7261 7468  r each case rath
+0001c250: 6572 2074 6861 6e20 7265 7175 6972 696e  er than requirin
+0001c260: 6720 606d 6174 6368 2064 6566 6020 666f  g `match def` fo
+0001c270: 7220 7468 6520 6669 7273 7420 6361 7365  r the first case
+0001c280: 2061 6e64 2060 6164 6470 6174 7465 726e   and `addpattern
+0001c290: 2064 6566 6020 666f 7220 6675 7475 7265   def` for future
+0001c2a0: 2063 6173 6573 2e0a 0a49 6620 796f 7520   cases...If you 
+0001c2b0: 7761 6e74 2074 6f20 7075 7420 6120 6465  want to put a de
+0001c2c0: 636f 7261 746f 7220 6f6e 2061 6e20 6061  corator on an `a
+0001c2d0: 6464 7061 7474 6572 6e20 6465 6660 2066  ddpattern def` f
+0001c2e0: 756e 6374 696f 6e2c 206d 616b 6520 7375  unction, make su
+0001c2f0: 7265 2074 6f20 7075 7420 6974 206f 6e20  re to put it on 
+0001c300: 7468 6520 5f6c 6173 745f 2070 6174 7465  the _last_ patte
+0001c310: 726e 2066 756e 6374 696f 6e2e 0a0a 2323  rn function...##
+0001c320: 2323 2320 4578 616d 706c 650a 0a2a 2a43  ### Example..**C
+0001c330: 6f63 6f6e 7574 3a2a 2a0a 6060 6063 6f63  oconut:**.```coc
+0001c340: 6f6e 7574 0a61 6464 7061 7474 6572 6e20  onut.addpattern 
+0001c350: 6465 6620 6661 6374 6f72 6961 6c28 3029  def factorial(0)
+0001c360: 203d 2031 0a61 6464 7061 7474 6572 6e20   = 1.addpattern 
+0001c370: 6465 6620 6661 6374 6f72 6961 6c28 6e29  def factorial(n)
+0001c380: 203d 206e 202a 2066 6163 746f 7269 616c   = n * factorial
+0001c390: 286e 202d 2031 290a 6060 600a 0a2a 2a50  (n - 1).```..**P
+0001c3a0: 7974 686f 6e3a 2a2a 0a5f 4361 6e27 7420  ython:**._Can't 
+0001c3b0: 6265 2064 6f6e 6520 7769 7468 6f75 7420  be done without 
+0001c3c0: 6120 636f 6d70 6c69 6361 7465 6420 6465  a complicated de
+0001c3d0: 636f 7261 746f 7220 6465 6669 6e69 7469  corator definiti
+0001c3e0: 6f6e 2061 6e64 2061 206c 6f6e 6720 7365  on and a long se
+0001c3f0: 7269 6573 206f 6620 6368 6563 6b73 2066  ries of checks f
+0001c400: 6f72 2065 6163 6820 7061 7474 6572 6e2d  or each pattern-
+0001c410: 6d61 7463 6869 6e67 2e20 5365 6520 7468  matching. See th
+0001c420: 6520 636f 6d70 696c 6564 2063 6f64 6520  e compiled code 
+0001c430: 666f 7220 7468 6520 5079 7468 6f6e 2073  for the Python s
+0001c440: 796e 7461 782e 5f0a 0a23 2323 2060 636f  yntax._..### `co
+0001c450: 7079 636c 6f73 7572 6560 2046 756e 6374  pyclosure` Funct
+0001c460: 696f 6e73 0a0a 436f 636f 6e75 7420 7375  ions..Coconut su
+0001c470: 7070 6f72 7473 2074 6865 2073 796e 7461  pports the synta
+0001c480: 780a 6060 600a 636f 7079 636c 6f73 7572  x.```.copyclosur
+0001c490: 6520 6465 6620 3c6e 616d 653e 283c 6172  e def <name>(<ar
+0001c4a0: 6773 3e29 3a0a 2020 2020 3c62 6f64 793e  gs>):.    <body>
+0001c4b0: 0a60 6060 0a74 6f20 6465 6669 6e65 2061  .```.to define a
+0001c4c0: 2066 756e 6374 696f 6e20 7468 6174 2075   function that u
+0001c4d0: 7365 7320 6173 2069 7473 2063 6c6f 7375  ses as its closu
+0001c4e0: 7265 2061 2073 6861 6c6c 6f77 2063 6f70  re a shallow cop
+0001c4f0: 7920 6f66 2069 7473 2065 6e63 6c6f 7369  y of its enclosi
+0001c500: 6e67 2073 636f 7065 7320 6174 2074 6865  ng scopes at the
+0001c510: 2074 696d 6520 7468 6174 2074 6865 2066   time that the f
+0001c520: 756e 6374 696f 6e20 6973 2064 6566 696e  unction is defin
+0001c530: 6564 2c20 7261 7468 6572 2074 6861 6e20  ed, rather than 
+0001c540: 6120 7265 6665 7265 6e63 6520 746f 2074  a reference to t
+0001c550: 686f 7365 2073 636f 7065 7320 2861 7320  hose scopes (as 
+0001c560: 7769 7468 206e 6f72 6d61 6c20 5079 7468  with normal Pyth
+0001c570: 6f6e 2066 756e 6374 696f 6e73 292e 0a0a  on functions)...
+0001c580: 466f 7220 6578 616d 706c 652c 6069 6e0a  For example,`in.
+0001c590: 6060 6063 6f63 6f6e 7574 0a64 6566 206f  ```coconut.def o
+0001c5a0: 7574 6572 5f66 756e 6328 293a 0a20 2020  uter_func():.   
+0001c5b0: 2066 756e 6373 203d 205b 5d0a 2020 2020   funcs = [].    
+0001c5c0: 666f 7220 7820 696e 2072 616e 6765 2831  for x in range(1
+0001c5d0: 3029 3a0a 2020 2020 2020 2020 636f 7079  0):.        copy
+0001c5e0: 636c 6f73 7572 6520 6465 6620 696e 6e65  closure def inne
+0001c5f0: 725f 6675 6e63 2829 3a0a 2020 2020 2020  r_func():.      
+0001c600: 2020 2020 2020 7265 7475 726e 2078 0a20        return x. 
+0001c610: 2020 2020 2020 2066 756e 6373 2e61 7070         funcs.app
+0001c620: 656e 6428 696e 6e65 725f 6675 6e63 290a  end(inner_func).
+0001c630: 2020 2020 7265 7475 726e 2066 756e 6373      return funcs
+0001c640: 0a60 6060 0a74 6865 2072 6573 756c 7469  .```.the resulti
+0001c650: 6e67 2060 696e 6e65 725f 6675 6e63 6073  ng `inner_func`s
+0001c660: 2077 696c 6c20 6561 6368 2072 6574 7572   will each retur
+0001c670: 6e20 6120 5f64 6966 6665 7265 6e74 5f20  n a _different_ 
+0001c680: 6078 6020 7661 6c75 6520 7261 7468 6572  `x` value rather
+0001c690: 2074 6861 6e20 616c 6c20 7468 6520 7361   than all the sa
+0001c6a0: 6d65 2060 7860 2076 616c 7565 2c20 7369  me `x` value, si
+0001c6b0: 6e63 6520 7468 6579 206c 6f6f 6b20 6174  nce they look at
+0001c6c0: 2077 6861 7420 6078 6020 7761 7320 626f   what `x` was bo
+0001c6d0: 756e 6420 746f 2061 7420 6675 6e63 7469  und to at functi
+0001c6e0: 6f6e 2064 6566 696e 6974 696f 6e20 7469  on definition ti
+0001c6f0: 6d65 2072 6174 6865 7220 7468 616e 2064  me rather than d
+0001c700: 7572 696e 6720 6675 6e63 7469 6f6e 2065  uring function e
+0001c710: 7865 6375 7469 6f6e 2e0a 0a60 636f 7079  xecution...`copy
+0001c720: 636c 6f73 7572 6560 2066 756e 6374 696f  closure` functio
+0001c730: 6e73 2063 616e 2061 6c73 6f20 6265 2063  ns can also be c
+0001c740: 6f6d 6269 6e65 6420 7769 7468 2060 6173  ombined with `as
+0001c750: 796e 6360 2066 756e 6374 696f 6e73 2c20  ync` functions, 
+0001c760: 5b60 7969 656c 6460 2066 756e 6374 696f  [`yield` functio
+0001c770: 6e73 5d28 2365 7870 6c69 6369 742d 6765  ns](#explicit-ge
+0001c780: 6e65 7261 746f 7273 292c 205b 7061 7474  nerators), [patt
+0001c790: 6572 6e2d 6d61 7463 6869 6e67 2066 756e  ern-matching fun
+0001c7a0: 6374 696f 6e73 5d28 2370 6174 7465 726e  ctions](#pattern
+0001c7b0: 2d6d 6174 6368 696e 672d 6675 6e63 7469  -matching-functi
+0001c7c0: 6f6e 7329 2c20 5b69 6e66 6978 2066 756e  ons), [infix fun
+0001c7d0: 6374 696f 6e20 6465 6669 6e69 7469 6f6e  ction definition
+0001c7e0: 5d28 2369 6e66 6978 2d66 756e 6374 696f  ](#infix-functio
+0001c7f0: 6e73 292c 2061 6e64 205b 6173 7369 676e  ns), and [assign
+0001c800: 6d65 6e74 2066 756e 6374 696f 6e20 7379  ment function sy
+0001c810: 6e74 6178 5d28 2361 7373 6967 6e6d 656e  ntax](#assignmen
+0001c820: 742d 6675 6e63 7469 6f6e 7329 2e20 5468  t-functions). Th
+0001c830: 6520 7661 7269 6f75 7320 6b65 7977 6f72  e various keywor
+0001c840: 6473 2069 6e20 6672 6f6e 7420 6f66 2074  ds in front of t
+0001c850: 6865 2060 6465 6660 2063 616e 2062 6520  he `def` can be 
+0001c860: 7075 7420 696e 2061 6e79 206f 7264 6572  put in any order
+0001c870: 2e0a 0a49 6620 6067 6c6f 6261 6c60 206f  ...If `global` o
+0001c880: 7220 606e 6f6e 6c6f 6361 6c60 2061 7265  r `nonlocal` are
+0001c890: 2075 7365 6420 696e 2061 2060 636f 7079   used in a `copy
+0001c8a0: 636c 6f73 7572 6560 2066 756e 6374 696f  closure` functio
+0001c8b0: 6e2c 2074 6865 7920 7769 6c6c 206e 6f74  n, they will not
+0001c8c0: 2062 6520 6162 6c65 2074 6f20 6d6f 6469   be able to modi
+0001c8d0: 6679 2076 6172 6961 626c 6573 2069 6e20  fy variables in 
+0001c8e0: 656e 636c 6f73 696e 6720 7363 6f70 6573  enclosing scopes
+0001c8f0: 2e20 486f 7765 7665 722c 2074 6865 7920  . However, they 
+0001c900: 7769 6c6c 2061 6c6c 6f77 2073 7461 7465  will allow state
+0001c910: 2074 6f20 6265 2070 7265 7365 7276 6564   to be preserved
+0001c920: 2061 6363 726f 7373 206d 756c 7469 706c   accross multipl
+0001c930: 6520 6361 6c6c 7320 746f 2074 6865 2060  e calls to the `
+0001c940: 636f 7079 636c 6f73 7572 6560 2066 756e  copyclosure` fun
+0001c950: 6374 696f 6e2e 0a0a 2323 2323 2320 4578  ction...##### Ex
+0001c960: 616d 706c 650a 0a2a 2a43 6f63 6f6e 7574  ample..**Coconut
+0001c970: 3a2a 2a0a 6060 6063 6f63 6f6e 7574 0a64  :**.```coconut.d
+0001c980: 6566 206f 7574 6572 5f66 756e 6328 293a  ef outer_func():
+0001c990: 0a20 2020 2066 756e 6373 203d 205b 5d0a  .    funcs = [].
+0001c9a0: 2020 2020 666f 7220 7820 696e 2072 616e      for x in ran
+0001c9b0: 6765 2831 3029 3a0a 2020 2020 2020 2020  ge(10):.        
+0001c9c0: 636f 7079 636c 6f73 7572 6520 6465 6620  copyclosure def 
+0001c9d0: 696e 6e65 725f 6675 6e63 2829 3a0a 2020  inner_func():.  
+0001c9e0: 2020 2020 2020 2020 2020 7265 7475 726e            return
+0001c9f0: 2078 0a20 2020 2020 2020 2066 756e 6373   x.        funcs
+0001ca00: 2e61 7070 656e 6428 696e 6e65 725f 6675  .append(inner_fu
+0001ca10: 6e63 290a 2020 2020 7265 7475 726e 2066  nc).    return f
+0001ca20: 756e 6373 0a60 6060 0a0a 2a2a 5079 7468  uncs.```..**Pyth
+0001ca30: 6f6e 3a2a 2a0a 6060 6063 6f63 6f6e 7574  on:**.```coconut
+0001ca40: 5f70 7974 686f 6e0a 6672 6f6d 2066 756e  _python.from fun
+0001ca50: 6374 6f6f 6c73 2069 6d70 6f72 7420 7061  ctools import pa
+0001ca60: 7274 6961 6c0a 0a64 6566 206f 7574 6572  rtial..def outer
+0001ca70: 5f66 756e 6328 293a 0a20 2020 2066 756e  _func():.    fun
+0001ca80: 6373 203d 205b 5d0a 2020 2020 666f 7220  cs = [].    for 
+0001ca90: 7820 696e 2072 616e 6765 2831 3029 3a0a  x in range(10):.
+0001caa0: 2020 2020 2020 2020 6465 6620 696e 6e65          def inne
+0001cab0: 725f 6675 6e63 285f 7829 3a0a 2020 2020  r_func(_x):.    
+0001cac0: 2020 2020 2020 2020 7265 7475 726e 205f          return _
+0001cad0: 780a 2020 2020 2020 2020 6675 6e63 732e  x.        funcs.
+0001cae0: 6170 7065 6e64 2870 6172 7469 616c 2869  append(partial(i
+0001caf0: 6e6e 6572 5f66 756e 632c 2078 2929 0a20  nner_func, x)). 
+0001cb00: 2020 2072 6574 7572 6e20 6675 6e63 730a     return funcs.
+0001cb10: 6060 600a 0a23 2323 2045 7870 6c69 6369  ```..### Explici
+0001cb20: 7420 4765 6e65 7261 746f 7273 0a0a 436f  t Generators..Co
+0001cb30: 636f 6e75 7420 7375 7070 6f72 7473 2074  conut supports t
+0001cb40: 6865 2073 796e 7461 780a 6060 600a 7969  he syntax.```.yi
+0001cb50: 656c 6420 6465 6620 3c6e 616d 653e 283c  eld def <name>(<
+0001cb60: 6172 6773 3e29 3a0a 2020 2020 3c62 6f64  args>):.    <bod
+0001cb70: 793e 0a60 6060 0a74 6f20 6465 6e6f 7465  y>.```.to denote
+0001cb80: 2074 6861 7420 796f 7520 6172 6520 6578   that you are ex
+0001cb90: 706c 6963 6974 6c79 2064 6566 696e 696e  plicitly definin
+0001cba0: 6720 6120 6765 6e65 7261 746f 7220 6675  g a generator fu
+0001cbb0: 6e63 7469 6f6e 2e20 5468 6973 2069 7320  nction. This is 
+0001cbc0: 7573 6566 756c 2074 6f20 656e 7375 7265  useful to ensure
+0001cbd0: 2074 6861 742c 2065 7665 6e20 6966 2061   that, even if a
+0001cbe0: 6c6c 2074 6865 2060 7969 656c 6460 7320  ll the `yield`s 
+0001cbf0: 696e 2079 6f75 7220 6675 6e63 7469 6f6e  in your function
+0001cc00: 2061 7265 2072 656d 6f76 6564 2c20 6974   are removed, it
+0001cc10: 276c 6c20 616c 7761 7973 2062 6520 6120  'll always be a 
+0001cc20: 6765 6e65 7261 746f 7220 6675 6e63 7469  generator functi
+0001cc30: 6f6e 2e0a 0a45 7870 6c69 6369 7420 6765  on...Explicit ge
+0001cc40: 6e65 7261 746f 7220 6675 6e63 7469 6f6e  nerator function
+0001cc50: 7320 6361 6e20 616c 736f 2062 6520 636f  s can also be co
+0001cc60: 6d62 696e 6564 2077 6974 6820 6061 7379  mbined with `asy
+0001cc70: 6e63 6020 6675 6e63 7469 6f6e 732c 205b  nc` functions, [
+0001cc80: 6063 6f70 7963 6c6f 7375 7265 6020 6675  `copyclosure` fu
+0001cc90: 6e63 7469 6f6e 735d 2823 636f 7079 636c  nctions](#copycl
+0001cca0: 6f73 7572 652d 6675 6e63 7469 6f6e 7329  osure-functions)
+0001ccb0: 2c20 5b70 6174 7465 726e 2d6d 6174 6368  , [pattern-match
+0001ccc0: 696e 6720 6675 6e63 7469 6f6e 735d 2823  ing functions](#
+0001ccd0: 7061 7474 6572 6e2d 6d61 7463 6869 6e67  pattern-matching
+0001cce0: 2d66 756e 6374 696f 6e73 292c 205b 696e  -functions), [in
+0001ccf0: 6669 7820 6675 6e63 7469 6f6e 2064 6566  fix function def
+0001cd00: 696e 6974 696f 6e5d 2823 696e 6669 782d  inition](#infix-
+0001cd10: 6675 6e63 7469 6f6e 7329 2c20 616e 6420  functions), and 
+0001cd20: 5b61 7373 6967 6e6d 656e 7420 6675 6e63  [assignment func
+0001cd30: 7469 6f6e 2073 796e 7461 785d 2823 6173  tion syntax](#as
+0001cd40: 7369 676e 6d65 6e74 2d66 756e 6374 696f  signment-functio
+0001cd50: 6e73 2920 2874 686f 7567 6820 6e6f 7465  ns) (though note
+0001cd60: 2074 6861 7420 6173 7369 676e 6d65 6e74   that assignment
+0001cd70: 2066 756e 6374 696f 6e20 7379 6e74 6178   function syntax
+0001cd80: 2068 6572 6520 6372 6561 7465 7320 6120   here creates a 
+0001cd90: 6765 6e65 7261 746f 7220 7265 7475 726e  generator return
+0001cda0: 292e 2054 6865 2076 6172 696f 7573 206b  ). The various k
+0001cdb0: 6579 776f 7264 7320 696e 2066 726f 6e74  eywords in front
+0001cdc0: 206f 6620 7468 6520 6064 6566 6020 6361   of the `def` ca
+0001cdd0: 6e20 6265 2070 7574 2069 6e20 616e 7920  n be put in any 
+0001cde0: 6f72 6465 722e 0a0a 2323 2323 2320 4578  order...##### Ex
+0001cdf0: 616d 706c 650a 0a2a 2a43 6f63 6f6e 7574  ample..**Coconut
+0001ce00: 3a2a 2a0a 6060 6063 6f63 6f6e 7574 0a79  :**.```coconut.y
+0001ce10: 6965 6c64 2064 6566 2065 6d70 7479 5f69  ield def empty_i
+0001ce20: 7428 293a 2070 6173 730a 6060 600a 0a2a  t(): pass.```..*
+0001ce30: 2a50 7974 686f 6e3a 2a2a 0a60 6060 636f  *Python:**.```co
+0001ce40: 636f 6e75 745f 7079 7468 6f6e 0a64 6566  conut_python.def
+0001ce50: 2065 6d70 7479 5f69 7428 293a 0a20 2020   empty_it():.   
+0001ce60: 2069 6620 4661 6c73 653a 0a20 2020 2020   if False:.     
+0001ce70: 2020 2079 6965 6c64 0a60 6060 0a0a 2323     yield.```..##
+0001ce80: 2320 446f 7474 6564 2046 756e 6374 696f  # Dotted Functio
+0001ce90: 6e20 4465 6669 6e69 7469 6f6e 0a0a 436f  n Definition..Co
+0001cea0: 636f 6e75 7420 616c 6c6f 7773 2066 6f72  conut allows for
+0001ceb0: 2066 756e 6374 696f 6e20 6465 6669 6e69   function defini
+0001cec0: 7469 6f6e 2075 7369 6e67 2061 2064 6f74  tion using a dot
+0001ced0: 7465 6420 6e61 6d65 2074 6f20 6173 7369  ted name to assi
+0001cee0: 676e 2061 2066 756e 6374 696f 6e20 6173  gn a function as
+0001cef0: 2061 206d 6574 686f 6420 6f66 2061 6e20   a method of an 
+0001cf00: 6f62 6a65 6374 2061 7320 7370 6563 6966  object as specif
+0001cf10: 6965 6420 696e 205b 5045 5020 3534 325d  ied in [PEP 542]
+0001cf20: 2868 7474 7073 3a2f 2f77 7777 2e70 7974  (https://www.pyt
+0001cf30: 686f 6e2e 6f72 672f 6465 762f 7065 7073  hon.org/dev/peps
+0001cf40: 2f70 6570 2d30 3534 322f 292e 2044 6f74  /pep-0542/). Dot
+0001cf50: 7465 6420 6675 6e63 7469 6f6e 2064 6566  ted function def
+0001cf60: 696e 6974 696f 6e20 6361 6e20 6265 2063  inition can be c
+0001cf70: 6f6d 6269 6e65 6420 7769 7468 2061 6c6c  ombined with all
+0001cf80: 206f 7468 6572 2074 7970 6573 206f 6620   other types of 
+0001cf90: 6675 6e63 7469 6f6e 2064 6566 696e 6974  function definit
+0001cfa0: 696f 6e20 6162 6f76 652e 0a0a 2323 2323  ion above...####
+0001cfb0: 2320 4578 616d 706c 650a 0a2a 2a43 6f63  # Example..**Coc
+0001cfc0: 6f6e 7574 3a2a 2a0a 6060 6063 6f63 6f6e  onut:**.```cocon
+0001cfd0: 7574 0a64 6566 204d 7943 6c61 7373 2e6d  ut.def MyClass.m
+0001cfe0: 795f 6d65 7468 6f64 2873 656c 6629 3a0a  y_method(self):.
+0001cff0: 2020 2020 2e2e 2e0a 6060 600a 0a2a 2a50      ....```..**P
+0001d000: 7974 686f 6e3a 2a2a 0a60 6060 636f 636f  ython:**.```coco
+0001d010: 6e75 745f 7079 7468 6f6e 0a64 6566 206d  nut_python.def m
+0001d020: 795f 6d65 7468 6f64 2873 656c 6629 3a0a  y_method(self):.
+0001d030: 2020 2020 2e2e 2e0a 4d79 436c 6173 732e      ....MyClass.
+0001d040: 6d79 5f6d 6574 686f 6420 3d20 6d79 5f6d  my_method = my_m
+0001d050: 6574 686f 640a 6060 600a 0a23 2320 5374  ethod.```..## St
+0001d060: 6174 656d 656e 7473 0a0a 6060 607b 636f  atements..```{co
+0001d070: 6e74 656e 7473 7d0a 2d2d 2d0a 6c6f 6361  ntents}.---.loca
+0001d080: 6c3a 0a64 6570 7468 3a20 310a 2d2d 2d0a  l:.depth: 1.---.
+0001d090: 6060 600a 0a23 2323 2044 6573 7472 7563  ```..### Destruc
+0001d0a0: 7475 7269 6e67 2041 7373 6967 6e6d 656e  turing Assignmen
+0001d0b0: 740a 0a43 6f63 6f6e 7574 2073 7570 706f  t..Coconut suppo
+0001d0c0: 7274 7320 7369 676e 6966 6963 616e 746c  rts significantl
+0001d0d0: 7920 656e 6861 6e63 6564 2064 6573 7472  y enhanced destr
+0001d0e0: 7563 7475 7269 6e67 2061 7373 6967 6e6d  ucturing assignm
+0001d0f0: 656e 742c 2073 696d 696c 6172 2074 6f20  ent, similar to 
+0001d100: 5079 7468 6f6e 2773 2074 7570 6c65 2f6c  Python's tuple/l
+0001d110: 6973 7420 6465 7374 7275 6374 7572 696e  ist destructurin
+0001d120: 672c 2062 7574 206d 7563 6820 6d6f 7265  g, but much more
+0001d130: 2070 6f77 6572 6675 6c2e 2054 6865 2073   powerful. The s
+0001d140: 796e 7461 7820 666f 7220 436f 636f 6e75  yntax for Coconu
+0001d150: 7427 7320 6465 7374 7275 6374 7572 696e  t's destructurin
+0001d160: 6720 6173 7369 676e 6d65 6e74 2069 730a  g assignment is.
+0001d170: 6060 6063 6f63 6f6e 7574 0a5b 6d61 7463  ```coconut.[matc
+0001d180: 685d 203c 7061 7474 6572 6e3e 203d 203c  h] <pattern> = <
+0001d190: 7661 6c75 653e 0a60 6060 0a77 6865 7265  value>.```.where
+0001d1a0: 2060 3c76 616c 7565 3e60 2069 7320 616e   `<value>` is an
+0001d1b0: 7920 6578 7072 6573 7369 6f6e 2061 6e64  y expression and
+0001d1c0: 2060 3c70 6174 7465 726e 3e60 2069 7320   `<pattern>` is 
+0001d1d0: 6465 6669 6e65 6420 6279 2043 6f63 6f6e  defined by Cocon
+0001d1e0: 7574 2773 205b 606d 6174 6368 6020 7374  ut's [`match` st
+0001d1f0: 6174 656d 656e 745d 2823 6d61 7463 6829  atement](#match)
+0001d200: 2e20 5468 6520 606d 6174 6368 6020 6b65  . The `match` ke
+0001d210: 7977 6f72 6420 6174 2074 6865 2062 6567  yword at the beg
+0001d220: 696e 6e69 6e67 2069 7320 6f70 7469 6f6e  inning is option
+0001d230: 616c 2c20 6275 7420 6973 2073 6f6d 6574  al, but is somet
+0001d240: 696d 6573 206e 6563 6573 7361 7279 2074  imes necessary t
+0001d250: 6f20 6469 7361 6d62 6967 7561 7465 2064  o disambiguate d
+0001d260: 6573 7472 7563 7475 7269 6e67 2061 7373  estructuring ass
+0001d270: 6967 6e6d 656e 7420 6672 6f6d 206e 6f72  ignment from nor
+0001d280: 6d61 6c20 6173 7369 676e 6d65 6e74 2c20  mal assignment, 
+0001d290: 7768 6963 6820 7769 6c6c 2061 6c77 6179  which will alway
+0001d2a0: 7320 7461 6b65 2070 7265 6365 6465 6e63  s take precedenc
+0001d2b0: 652e 2043 6f63 6f6e 7574 2773 2064 6573  e. Coconut's des
+0001d2c0: 7472 7563 7475 7269 6e67 2061 7373 6967  tructuring assig
+0001d2d0: 6e6d 656e 7420 6973 2065 7175 6976 616c  nment is equival
+0001d2e0: 656e 7420 746f 2061 206d 6174 6368 2073  ent to a match s
+0001d2f0: 7461 7465 6d65 6e74 2074 6861 7420 666f  tatement that fo
+0001d300: 6c6c 6f77 7320 7468 6520 7379 6e74 6178  llows the syntax
+0001d310: 3a0a 6060 6063 6f63 6f6e 7574 0a6d 6174  :.```coconut.mat
+0001d320: 6368 203c 7061 7474 6572 6e3e 2069 6e20  ch <pattern> in 
+0001d330: 3c76 616c 7565 3e3a 0a20 2020 2070 6173  <value>:.    pas
+0001d340: 730a 656c 7365 3a0a 2020 2020 6572 7220  s.else:.    err 
+0001d350: 3d20 4d61 7463 6845 7272 6f72 283c 6572  = MatchError(<er
+0001d360: 726f 7220 6d65 7373 6167 653e 290a 2020  ror message>).  
+0001d370: 2020 6572 722e 7061 7474 6572 6e20 3d20    err.pattern = 
+0001d380: 223c 7061 7474 6572 6e3e 220a 2020 2020  "<pattern>".    
+0001d390: 6572 722e 7661 6c75 6520 3d20 3c76 616c  err.value = <val
+0001d3a0: 7565 3e0a 2020 2020 7261 6973 6520 6572  ue>.    raise er
+0001d3b0: 720a 6060 600a 4966 2061 2064 6573 7472  r.```.If a destr
+0001d3c0: 7563 7475 7269 6e67 2061 7373 6967 6e6d  ucturing assignm
+0001d3d0: 656e 7420 7374 6174 656d 656e 7420 6661  ent statement fa
+0001d3e0: 696c 732c 2074 6865 6e20 696e 7374 6561  ils, then instea
+0001d3f0: 6420 6f66 2063 6f6e 7469 6e75 696e 6720  d of continuing 
+0001d400: 6f6e 2061 7320 6966 2061 2060 6d61 7463  on as if a `matc
+0001d410: 6860 2062 6c6f 636b 2068 6164 2066 6169  h` block had fai
+0001d420: 6c65 642c 2061 205b 604d 6174 6368 4572  led, a [`MatchEr
+0001d430: 726f 7260 5d28 236d 6174 6368 6572 726f  ror`](#matcherro
+0001d440: 7229 206f 626a 6563 7420 7769 6c6c 2062  r) object will b
+0001d450: 6520 7261 6973 6564 2064 6573 6372 6962  e raised describ
+0001d460: 696e 6720 7468 6520 6661 696c 7572 652e  ing the failure.
+0001d470: 0a0a 2323 2323 2320 4578 616d 706c 650a  ..##### Example.
+0001d480: 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0a 6060  .**Coconut:**.``
+0001d490: 6063 6f63 6f6e 7574 0a5f 202b 205b 612c  `coconut._ + [a,
+0001d4a0: 2062 5d20 3d20 5b30 2c20 312c 2032 2c20   b] = [0, 1, 2, 
+0001d4b0: 335d 0a70 7269 6e74 2861 2c20 6229 0a60  3].print(a, b).`
+0001d4c0: 6060 0a0a 2a2a 5079 7468 6f6e 3a2a 2a0a  ``..**Python:**.
+0001d4d0: 5f43 616e 2774 2062 6520 646f 6e65 2077  _Can't be done w
+0001d4e0: 6974 686f 7574 2061 206c 6f6e 6720 7365  ithout a long se
+0001d4f0: 7269 6573 206f 6620 6368 6563 6b73 2069  ries of checks i
+0001d500: 6e20 706c 6163 6520 6f66 2074 6865 2064  n place of the d
+0001d510: 6573 7472 7563 7475 7269 6e67 2061 7373  estructuring ass
+0001d520: 6967 6e6d 656e 7420 7374 6174 656d 656e  ignment statemen
+0001d530: 742e 2053 6565 2074 6865 2063 6f6d 7069  t. See the compi
+0001d540: 6c65 6420 636f 6465 2066 6f72 2074 6865  led code for the
+0001d550: 2050 7974 686f 6e20 7379 6e74 6178 2e5f   Python syntax._
+0001d560: 0a0a 2323 2320 5479 7065 2050 6172 616d  ..### Type Param
+0001d570: 6574 6572 2053 796e 7461 780a 0a43 6f63  eter Syntax..Coc
+0001d580: 6f6e 7574 2066 756c 6c79 2073 7570 706f  onut fully suppo
+0001d590: 7274 7320 5b50 4550 2036 3935 5d28 6874  rts [PEP 695](ht
+0001d5a0: 7470 733a 2f2f 7065 7073 2e70 7974 686f  tps://peps.pytho
+0001d5b0: 6e2e 6f72 672f 7065 702d 3036 3935 2f29  n.org/pep-0695/)
+0001d5c0: 2074 7970 6520 7061 7261 6d65 7465 7220   type parameter 
+0001d5d0: 7379 6e74 6178 2028 7769 7468 2074 6865  syntax (with the
+0001d5e0: 2063 6176 6561 7420 7468 6174 2061 6c6c   caveat that all
+0001d5f0: 2074 7970 6520 7661 7269 6162 6c65 7320   type variables 
+0001d600: 6172 6520 696e 7661 7269 616e 7420 7261  are invariant ra
+0001d610: 7468 6572 2074 6861 6e20 696e 6665 7272  ther than inferr
+0001d620: 6564 292e 0a0a 5468 6174 2069 6e63 6c75  ed)...That inclu
+0001d630: 6465 7320 7479 7065 2070 6172 616d 6574  des type paramet
+0001d640: 6572 7320 666f 7220 636c 6173 7365 732c  ers for classes,
+0001d650: 205b 6064 6174 6160 2074 7970 6573 5d28   [`data` types](
+0001d660: 2364 6174 6129 2c20 616e 6420 5b61 6c6c  #data), and [all
+0001d670: 2074 7970 6573 206f 6620 6675 6e63 7469   types of functi
+0001d680: 6f6e 2064 6566 696e 6974 696f 6e5d 2823  on definition](#
+0001d690: 6675 6e63 7469 6f6e 2d64 6566 696e 6974  function-definit
+0001d6a0: 696f 6e29 2e20 466f 7220 6469 6666 6572  ion). For differ
+0001d6b0: 656e 7420 7479 7065 7320 6f66 2066 756e  ent types of fun
+0001d6c0: 6374 696f 6e20 6465 6669 6e69 7469 6f6e  ction definition
+0001d6d0: 2c20 7468 6520 7479 7065 2070 6172 616d  , the type param
+0001d6e0: 6574 6572 7320 616c 7761 7973 2063 6f6d  eters always com
+0001d6f0: 6520 696e 2062 7261 636b 6574 7320 7269  e in brackets ri
+0001d700: 6768 7420 6166 7465 7220 7468 6520 6675  ght after the fu
+0001d710: 6e63 7469 6f6e 206e 616d 652e 2043 6f63  nction name. Coc
+0001d720: 6f6e 7574 2773 205b 656e 6861 6e63 6564  onut's [enhanced
+0001d730: 2074 7970 6520 616e 6e6f 7461 7469 6f6e   type annotation
+0001d740: 2073 796e 7461 785d 2823 656e 6861 6e63   syntax](#enhanc
+0001d750: 6564 2d74 7970 652d 616e 6e6f 7461 7469  ed-type-annotati
+0001d760: 6f6e 2920 6973 2073 7570 706f 7274 6564  on) is supported
+0001d770: 2066 6f72 2061 6c6c 2074 7970 6520 7061   for all type pa
+0001d780: 7261 6d65 7465 7220 626f 756e 6473 2e0a  rameter bounds..
+0001d790: 0a5f 5761 726e 696e 673a 2075 6e74 696c  ._Warning: until
+0001d7a0: 2060 6d79 7079 6020 6164 6473 2073 7570   `mypy` adds sup
+0001d7b0: 706f 7274 2066 6f72 2060 696e 6665 725f  port for `infer_
+0001d7c0: 7661 7269 616e 6365 3d54 7275 6560 2069  variance=True` i
+0001d7d0: 6e20 6054 7970 6556 6172 602c 2060 5479  n `TypeVar`, `Ty
+0001d7e0: 7065 5661 7260 7320 6372 6561 7465 6420  peVar`s created 
+0001d7f0: 7468 6973 2077 6179 2077 696c 6c20 616c  this way will al
+0001d800: 7761 7973 2062 6520 696e 7661 7269 616e  ways be invarian
+0001d810: 742e 5f0a 0a41 6464 6974 696f 6e61 6c6c  t._..Additionall
+0001d820: 792c 2043 6f63 6f6e 7574 2073 7570 706f  y, Coconut suppo
+0001d830: 7274 7320 7468 6520 616c 7465 726e 6174  rts the alternat
+0001d840: 6976 6520 626f 756e 6473 2073 796e 7461  ive bounds synta
+0001d850: 7820 6f66 2060 7479 7065 204e 6577 5479  x of `type NewTy
+0001d860: 7065 5b54 203c 3a20 626f 756e 645d 203d  pe[T <: bound] =
+0001d870: 202e 2e2e 6020 7261 7468 6572 2074 6861   ...` rather tha
+0001d880: 6e20 6074 7970 6520 4e65 7754 7970 655b  n `type NewType[
+0001d890: 543a 2062 6f75 6e64 5d20 3d20 2e2e 2e60  T: bound] = ...`
+0001d8a0: 2c20 746f 206d 616b 6520 6974 206d 6f72  , to make it mor
+0001d8b0: 6520 636c 6561 7220 7468 6174 2069 7420  e clear that it 
+0001d8c0: 6973 2061 6e20 7570 7065 7220 626f 756e  is an upper boun
+0001d8d0: 6420 7261 7468 6572 2074 6861 6e20 6120  d rather than a 
+0001d8e0: 7479 7065 2e20 496e 2060 2d2d 7374 7269  type. In `--stri
+0001d8f0: 6374 6020 6d6f 6465 2c20 603c 3a60 2069  ct` mode, `<:` i
+0001d900: 7320 7265 7175 6972 6564 206f 7665 7220  s required over 
+0001d910: 603a 6020 666f 7220 616c 6c20 7479 7065  `:` for all type
+0001d920: 2070 6172 616d 6574 6572 2062 6f75 6e64   parameter bound
+0001d930: 732e 205f 4445 5052 4543 4154 4544 3a20  s. _DEPRECATED: 
+0001d940: 603c 3d60 2063 616e 2061 6c73 6f20 6265  `<=` can also be
+0001d950: 2075 7365 6420 6173 2061 6e20 616c 7465   used as an alte
+0001d960: 726e 6174 6976 6520 746f 2060 3c3a 602e  rnative to `<:`.
+0001d970: 5f0a 0a5f 4e6f 7465 2074 6861 742c 2062  _.._Note that, b
+0001d980: 7920 6465 6661 756c 742c 2061 6c6c 2074  y default, all t
+0001d990: 7970 6520 6465 636c 6172 6174 696f 6e73  ype declarations
+0001d9a0: 2061 7265 2077 7261 7070 6564 2069 6e20   are wrapped in 
+0001d9b0: 7374 7269 6e67 7320 746f 2065 6e61 626c  strings to enabl
+0001d9c0: 6520 666f 7277 6172 6420 7265 6665 7265  e forward refere
+0001d9d0: 6e63 6573 2061 6e64 2069 6d70 726f 7665  nces and improve
+0001d9e0: 2072 756e 7469 6d65 2070 6572 666f 726d   runtime perform
+0001d9f0: 616e 6365 2e20 4966 2079 6f75 2064 6f6e  ance. If you don
+0001da00: 2774 2077 616e 7420 7468 6174 e280 9465  't want that...e
+0001da10: 2e67 2e20 6265 6361 7573 6520 796f 7520  .g. because you 
+0001da20: 7761 6e74 2074 6f20 7573 6520 7479 7065  want to use type
+0001da30: 2061 6e6e 6f74 6174 696f 6e73 2061 7420   annotations at 
+0001da40: 7275 6e74 696d 65e2 8094 7369 6d70 6c79  runtime...simply
+0001da50: 2070 6173 7320 7468 6520 602d 2d6e 6f2d   pass the `--no-
+0001da60: 7772 6170 2d74 7970 6573 6020 666c 6167  wrap-types` flag
+0001da70: 2e5f 0a0a 2323 2323 2320 5045 5020 3639  ._..##### PEP 69
+0001da80: 3520 446f 6373 0a0a 4465 6669 6e69 6e67  5 Docs..Defining
+0001da90: 2061 2067 656e 6572 6963 2063 6c61 7373   a generic class
+0001daa0: 2070 7269 6f72 2074 6f20 7468 6973 2050   prior to this P
+0001dab0: 4550 206c 6f6f 6b73 2073 6f6d 6574 6869  EP looks somethi
+0001dac0: 6e67 206c 696b 6520 7468 6973 2e0a 0a60  ng like this...`
+0001dad0: 6060 636f 636f 6e75 745f 7079 7468 6f6e  ``coconut_python
+0001dae0: 0a66 726f 6d20 7479 7069 6e67 2069 6d70  .from typing imp
+0001daf0: 6f72 7420 4765 6e65 7269 632c 2054 7970  ort Generic, Typ
+0001db00: 6556 6172 0a0a 5f54 5f63 6f20 3d20 5479  eVar.._T_co = Ty
+0001db10: 7065 5661 7228 225f 545f 636f 222c 2063  peVar("_T_co", c
+0001db20: 6f76 6172 6961 6e74 3d54 7275 652c 2062  ovariant=True, b
+0001db30: 6f75 6e64 3d73 7472 290a 0a63 6c61 7373  ound=str)..class
+0001db40: 2043 6c61 7373 4128 4765 6e65 7269 635b   ClassA(Generic[
+0001db50: 5f54 5f63 6f5d 293a 0a20 2020 2064 6566  _T_co]):.    def
+0001db60: 206d 6574 686f 6431 2873 656c 6629 202d   method1(self) -
+0001db70: 3e20 5f54 5f63 6f3a 0a20 2020 2020 2020  > _T_co:.       
+0001db80: 202e 2e2e 0a60 6060 0a0a 5769 7468 2074   ....```..With t
+0001db90: 6865 206e 6577 2073 796e 7461 782c 2069  he new syntax, i
+0001dba0: 7420 6c6f 6f6b 7320 6c69 6b65 2074 6869  t looks like thi
+0001dbb0: 732e 0a0a 6060 6063 6f63 6f6e 7574 0a63  s...```coconut.c
+0001dbc0: 6c61 7373 2043 6c61 7373 415b 543a 2073  lass ClassA[T: s
+0001dbd0: 7472 5d3a 0a20 2020 2064 6566 206d 6574  tr]:.    def met
+0001dbe0: 686f 6431 2873 656c 6629 202d 3e20 543a  hod1(self) -> T:
+0001dbf0: 0a20 2020 2020 2020 202e 2e2e 0a60 6060  .        ....```
+0001dc00: 0a0a 4865 7265 2069 7320 616e 2065 7861  ..Here is an exa
+0001dc10: 6d70 6c65 206f 6620 6120 6765 6e65 7269  mple of a generi
+0001dc20: 6320 6675 6e63 7469 6f6e 2074 6f64 6179  c function today
+0001dc30: 2e0a 0a60 6060 636f 636f 6e75 745f 7079  ...```coconut_py
+0001dc40: 7468 6f6e 0a66 726f 6d20 7479 7069 6e67  thon.from typing
+0001dc50: 2069 6d70 6f72 7420 5479 7065 5661 720a   import TypeVar.
+0001dc60: 0a5f 5420 3d20 5479 7065 5661 7228 225f  ._T = TypeVar("_
+0001dc70: 5422 290a 0a64 6566 2066 756e 6328 613a  T")..def func(a:
+0001dc80: 205f 542c 2062 3a20 5f54 2920 2d3e 205f   _T, b: _T) -> _
+0001dc90: 543a 0a20 2020 202e 2e2e 0a60 6060 0a0a  T:.    ....```..
+0001dca0: 416e 6420 7468 6520 6e65 7720 7379 6e74  And the new synt
+0001dcb0: 6178 2e0a 0a60 6060 636f 636f 6e75 740a  ax...```coconut.
+0001dcc0: 6465 6620 6675 6e63 5b54 5d28 613a 2054  def func[T](a: T
+0001dcd0: 2c20 623a 2054 2920 2d3e 2054 3a0a 2020  , b: T) -> T:.  
+0001dce0: 2020 2e2e 2e0a 6060 600a 0a48 6572 6520    ....```..Here 
+0001dcf0: 6973 2061 6e20 6578 616d 706c 6520 6f66  is an example of
+0001dd00: 2061 2067 656e 6572 6963 2074 7970 6520   a generic type 
+0001dd10: 616c 6961 7320 746f 6461 792e 0a0a 6060  alias today...``
+0001dd20: 6063 6f63 6f6e 7574 5f70 7974 686f 6e0a  `coconut_python.
+0001dd30: 6672 6f6d 2074 7970 696e 6720 696d 706f  from typing impo
+0001dd40: 7274 2054 7970 6541 6c69 6173 0a0a 5f54  rt TypeAlias.._T
+0001dd50: 203d 2054 7970 6556 6172 2822 5f54 2229   = TypeVar("_T")
+0001dd60: 0a0a 4c69 7374 4f72 5365 743a 2054 7970  ..ListOrSet: Typ
+0001dd70: 6541 6c69 6173 203d 206c 6973 745b 5f54  eAlias = list[_T
+0001dd80: 5d20 7c20 7365 745b 5f54 5d0a 6060 600a  ] | set[_T].```.
+0001dd90: 0a41 6e64 2077 6974 6820 7468 6520 6e65  .And with the ne
+0001dda0: 7720 7379 6e74 6178 2e0a 0a60 6060 636f  w syntax...```co
+0001ddb0: 636f 6e75 740a 7479 7065 204c 6973 744f  conut.type ListO
+0001ddc0: 7253 6574 5b54 5d20 3d20 6c69 7374 5b54  rSet[T] = list[T
+0001ddd0: 5d20 7c20 7365 745b 545d 0a60 6060 0a0a  ] | set[T].```..
+0001dde0: 0a23 2323 2323 2045 7861 6d70 6c65 0a0a  .##### Example..
+0001ddf0: 2a2a 436f 636f 6e75 743a 2a2a 0a60 6060  **Coconut:**.```
+0001de00: 636f 636f 6e75 740a 6461 7461 2044 5b54  coconut.data D[T
+0001de10: 5d28 783a 2054 2c20 793a 2054 290a 0a64  ](x: T, y: T)..d
+0001de20: 6566 206d 795f 6964 656e 745b 545d 2878  ef my_ident[T](x
+0001de30: 3a20 5429 202d 3e20 5420 3d20 780a 6060  : T) -> T = x.``
+0001de40: 600a 0a2a 2a50 7974 686f 6e3a 2a2a 0a5f  `..**Python:**._
+0001de50: 4361 6e27 7420 6265 2064 6f6e 6520 7769  Can't be done wi
+0001de60: 7468 6f75 7420 6120 636f 6d70 6c65 7820  thout a complex 
+0001de70: 6465 6669 6e69 7469 6f6e 2066 6f72 2074  definition for t
+0001de80: 6865 2064 6174 6120 7479 7065 2e20 5365  he data type. Se
+0001de90: 6520 7468 6520 636f 6d70 696c 6564 2063  e the compiled c
+0001dea0: 6f64 6520 666f 7220 7468 6520 5079 7468  ode for the Pyth
+0001deb0: 6f6e 2073 796e 7461 782e 5f0a 0a23 2323  on syntax._..###
+0001dec0: 2049 6d70 6c69 6369 7420 6070 6173 7360   Implicit `pass`
+0001ded0: 0a0a 436f 636f 6e75 7420 7375 7070 6f72  ..Coconut suppor
+0001dee0: 7473 2074 6865 2073 696d 706c 6520 6063  ts the simple `c
+0001def0: 6c61 7373 206e 616d 6528 6261 7365 2960  lass name(base)`
+0001df00: 2061 6e64 2060 6461 7461 206e 616d 6528   and `data name(
+0001df10: 6172 6773 2960 2061 7320 616c 6961 7365  args)` as aliase
+0001df20: 7320 666f 7220 6063 6c61 7373 206e 616d  s for `class nam
+0001df30: 6528 6261 7365 293a 2070 6173 7360 2061  e(base): pass` a
+0001df40: 6e64 2060 6461 7461 206e 616d 6528 6172  nd `data name(ar
+0001df50: 6773 293a 2070 6173 7360 2e0a 0a23 2323  gs): pass`...###
+0001df60: 2323 2045 7861 6d70 6c65 0a0a 2a2a 436f  ## Example..**Co
+0001df70: 636f 6e75 743a 2a2a 0a60 6060 636f 636f  conut:**.```coco
+0001df80: 6e75 740a 636c 6173 7320 5472 6565 0a64  nut.class Tree.d
+0001df90: 6174 6120 456d 7074 7920 6672 6f6d 2054  ata Empty from T
+0001dfa0: 7265 650a 6461 7461 204c 6561 6628 6974  ree.data Leaf(it
+0001dfb0: 656d 2920 6672 6f6d 2054 7265 650a 6461  em) from Tree.da
+0001dfc0: 7461 204e 6f64 6528 6c65 6674 2c20 7269  ta Node(left, ri
+0001dfd0: 6768 7429 2066 726f 6d20 5472 6565 0a60  ght) from Tree.`
+0001dfe0: 6060 0a0a 2a2a 5079 7468 6f6e 3a2a 2a0a  ``..**Python:**.
+0001dff0: 5f43 616e 2774 2062 6520 646f 6e65 2077  _Can't be done w
+0001e000: 6974 686f 7574 2061 2073 6572 6965 7320  ithout a series 
+0001e010: 6f66 206d 6574 686f 6420 6465 6669 6e69  of method defini
+0001e020: 7469 6f6e 7320 666f 7220 6561 6368 2064  tions for each d
+0001e030: 6174 6120 7479 7065 2e20 5365 6520 7468  ata type. See th
+0001e040: 6520 636f 6d70 696c 6564 2063 6f64 6520  e compiled code 
+0001e050: 666f 7220 7468 6520 5079 7468 6f6e 2073  for the Python s
+0001e060: 796e 7461 782e 5f0a 0a23 2323 2044 6563  yntax._..### Dec
+0001e070: 6f72 6174 6f72 730a 0a55 6e6c 696b 6520  orators..Unlike 
+0001e080: 5079 7468 6f6e 2c20 7768 6963 6820 6f6e  Python, which on
+0001e090: 6c79 2073 7570 706f 7274 7320 6120 7369  ly supports a si
+0001e0a0: 6e67 6c65 2076 6172 6961 626c 6520 6f72  ngle variable or
+0001e0b0: 2066 756e 6374 696f 6e20 6361 6c6c 2069   function call i
+0001e0c0: 6e20 6120 6465 636f 7261 746f 722c 2043  n a decorator, C
+0001e0d0: 6f63 6f6e 7574 2073 7570 706f 7274 7320  oconut supports 
+0001e0e0: 616e 7920 6578 7072 6573 7369 6f6e 2061  any expression a
+0001e0f0: 7320 696e 205b 5045 5020 3631 345d 2868  s in [PEP 614](h
+0001e100: 7474 7073 3a2f 2f77 7777 2e70 7974 686f  ttps://www.pytho
+0001e110: 6e2e 6f72 672f 6465 762f 7065 7073 2f70  n.org/dev/peps/p
+0001e120: 6570 2d30 3631 342f 292e 0a0a 2323 2323  ep-0614/)...####
+0001e130: 2320 4578 616d 706c 650a 0a2a 2a43 6f63  # Example..**Coc
+0001e140: 6f6e 7574 3a2a 2a0a 6060 6063 6f63 6f6e  onut:**.```cocon
+0001e150: 7574 0a40 2077 7261 7070 6572 3120 2e2e  ut.@ wrapper1 ..
+0001e160: 2077 7261 7070 6572 3224 2861 7267 290a   wrapper2$(arg).
+0001e170: 6465 6620 6675 6e63 2878 2920 3d20 782a  def func(x) = x*
+0001e180: 2a32 0a60 6060 0a0a 2a2a 5079 7468 6f6e  *2.```..**Python
+0001e190: 3a2a 2a0a 6060 6063 6f63 6f6e 7574 5f70  :**.```coconut_p
+0001e1a0: 7974 686f 6e0a 6465 6620 7772 6170 7065  ython.def wrappe
+0001e1b0: 7228 6675 6e63 293a 0a20 2020 2072 6574  r(func):.    ret
+0001e1c0: 7572 6e20 7772 6170 7065 7231 2877 7261  urn wrapper1(wra
+0001e1d0: 7070 6572 3228 6172 672c 2066 756e 6329  pper2(arg, func)
+0001e1e0: 290a 4077 7261 7070 6572 0a64 6566 2066  ).@wrapper.def f
+0001e1f0: 756e 6328 7829 3a0a 2020 2020 7265 7475  unc(x):.    retu
+0001e200: 726e 2078 2a2a 320a 6060 600a 0a23 2323  rn x**2.```..###
+0001e210: 2053 7461 7465 6d65 6e74 204e 6573 7469   Statement Nesti
+0001e220: 6e67 0a0a 436f 636f 6e75 7420 7375 7070  ng..Coconut supp
+0001e230: 6f72 7473 2074 6865 206e 6573 7469 6e67  orts the nesting
+0001e240: 206f 6620 636f 6d70 6f75 6e64 2073 7461   of compound sta
+0001e250: 7465 6d65 6e74 7320 6f6e 2074 6865 2073  tements on the s
+0001e260: 616d 6520 6c69 6e65 2e20 5468 6973 2061  ame line. This a
+0001e270: 6c6c 6f77 7320 7468 6520 6d69 7869 6e67  llows the mixing
+0001e280: 206f 6620 606d 6174 6368 6020 616e 6420   of `match` and 
+0001e290: 6069 6660 2073 7461 7465 6d65 6e74 7320  `if` statements 
+0001e2a0: 746f 6765 7468 6572 2c20 6173 2077 656c  together, as wel
+0001e2b0: 6c20 6173 2063 6f6d 706f 756e 6420 6074  l as compound `t
+0001e2c0: 7279 6020 7374 6174 656d 656e 7473 2e0a  ry` statements..
+0001e2d0: 0a23 2323 2323 2045 7861 6d70 6c65 0a0a  .##### Example..
+0001e2e0: 2a2a 436f 636f 6e75 743a 2a2a 0a60 6060  **Coconut:**.```
+0001e2f0: 636f 636f 6e75 740a 6966 2069 6e76 616c  coconut.if inval
+0001e300: 6964 2869 6e70 7574 5f6c 6973 7429 3a0a  id(input_list):.
+0001e310: 2020 2020 7261 6973 6520 4578 6365 7074      raise Except
+0001e320: 696f 6e28 290a 656c 7365 3a20 6d61 7463  ion().else: matc
+0001e330: 6820 5b68 6561 645d 202b 2074 6169 6c20  h [head] + tail 
+0001e340: 696e 2069 6e70 7574 5f6c 6973 743a 0a20  in input_list:. 
+0001e350: 2020 2070 7269 6e74 2868 6561 642c 2074     print(head, t
+0001e360: 6169 6c29 0a65 6c73 653a 0a20 2020 2070  ail).else:.    p
+0001e370: 7269 6e74 2869 6e70 7574 5f6c 6973 7429  rint(input_list)
+0001e380: 0a60 6060 0a0a 2a2a 5079 7468 6f6e 3a2a  .```..**Python:*
+0001e390: 2a0a 6060 6063 6f63 6f6e 7574 5f70 7974  *.```coconut_pyt
+0001e3a0: 686f 6e0a 6672 6f6d 2063 6f6c 6c65 6374  hon.from collect
+0001e3b0: 696f 6e73 2e61 6263 2069 6d70 6f72 7420  ions.abc import 
+0001e3c0: 5365 7175 656e 6365 0a69 6620 696e 7661  Sequence.if inva
+0001e3d0: 6c69 6428 696e 7075 745f 6c69 7374 293a  lid(input_list):
+0001e3e0: 0a20 2020 2072 6169 7365 2045 7863 6570  .    raise Excep
+0001e3f0: 7469 6f6e 2829 0a65 6c69 6620 6973 696e  tion().elif isin
+0001e400: 7374 616e 6365 2869 6e70 7574 5f6c 6973  stance(input_lis
+0001e410: 742c 2053 6571 7565 6e63 6529 2061 6e64  t, Sequence) and
+0001e420: 206c 656e 2869 6e70 7574 5f6c 6973 7429   len(input_list)
+0001e430: 203e 3d20 313a 0a20 2020 2068 6561 642c   >= 1:.    head,
+0001e440: 2074 6169 6c20 3d20 696e 7075 746c 6973   tail = inputlis
+0001e450: 745b 305d 2c20 696e 7075 746c 6973 745b  t[0], inputlist[
+0001e460: 313a 5d0a 2020 2020 7072 696e 7428 6865  1:].    print(he
+0001e470: 6164 2c20 7461 696c 290a 656c 7365 3a0a  ad, tail).else:.
+0001e480: 2020 2020 7072 696e 7428 696e 7075 745f      print(input_
+0001e490: 6c69 7374 290a 6060 600a 0a23 2323 2060  list).```..### `
+0001e4a0: 6578 6365 7074 6020 5374 6174 656d 656e  except` Statemen
+0001e4b0: 7473 0a0a 5079 7468 6f6e 2033 2072 6571  ts..Python 3 req
+0001e4c0: 7569 7265 7320 7468 6174 2069 6620 6d75  uires that if mu
+0001e4d0: 6c74 6970 6c65 2065 7863 6570 7469 6f6e  ltiple exception
+0001e4e0: 7320 6172 6520 746f 2062 6520 6361 7567  s are to be caug
+0001e4f0: 6874 2c20 7468 6579 206d 7573 7420 6265  ht, they must be
+0001e500: 2070 6c61 6365 6420 696e 7369 6465 206f   placed inside o
+0001e510: 6620 7061 7265 6e74 6865 7365 732c 2073  f parentheses, s
+0001e520: 6f20 6173 2074 6f20 6469 7361 6c6c 6f77  o as to disallow
+0001e530: 2050 7974 686f 6e20 3227 7320 7573 6520   Python 2's use 
+0001e540: 6f66 2061 2063 6f6d 6d61 2069 6e73 7465  of a comma inste
+0001e550: 6164 206f 6620 6061 7360 2e20 436f 636f  ad of `as`. Coco
+0001e560: 6e75 7420 616c 6c6f 7773 2063 6f6d 6d61  nut allows comma
+0001e570: 7320 696e 2065 7863 6570 7420 7374 6174  s in except stat
+0001e580: 656d 656e 7473 2074 6f20 7472 616e 736c  ements to transl
+0001e590: 6174 6520 746f 2063 6174 6368 696e 6720  ate to catching 
+0001e5a0: 6d75 6c74 6970 6c65 2065 7863 6570 7469  multiple excepti
+0001e5b0: 6f6e 7320 7769 7468 6f75 7420 7468 6520  ons without the 
+0001e5c0: 6e65 6564 2066 6f72 2070 6172 656e 7468  need for parenth
+0001e5d0: 6573 6573 2c20 7369 6e63 652c 2061 7320  eses, since, as 
+0001e5e0: 696e 2050 7974 686f 6e20 332c 2060 6173  in Python 3, `as
+0001e5f0: 6020 6973 2061 6c77 6179 7320 7265 7175  ` is always requ
+0001e600: 6972 6564 2074 6f20 6269 6e64 2074 6865  ired to bind the
+0001e610: 2065 7863 6570 7469 6f6e 2074 6f20 6120   exception to a 
+0001e620: 6e61 6d65 2e0a 0a23 2323 2323 2045 7861  name...##### Exa
+0001e630: 6d70 6c65 0a0a 2a2a 436f 636f 6e75 743a  mple..**Coconut:
+0001e640: 2a2a 0a60 6060 636f 636f 6e75 740a 7472  **.```coconut.tr
+0001e650: 793a 0a20 2020 2075 6e73 6166 655f 6675  y:.    unsafe_fu
+0001e660: 6e63 2861 7267 290a 6578 6365 7074 2053  nc(arg).except S
+0001e670: 796e 7461 7845 7272 6f72 2c20 5661 6c75  yntaxError, Valu
+0001e680: 6545 7272 6f72 2061 7320 6572 723a 0a20  eError as err:. 
+0001e690: 2020 2068 616e 646c 6528 6572 7229 0a60     handle(err).`
+0001e6a0: 6060 0a0a 2a2a 5079 7468 6f6e 3a2a 2a0a  ``..**Python:**.
+0001e6b0: 6060 6063 6f63 6f6e 7574 5f70 7974 686f  ```coconut_pytho
+0001e6c0: 6e0a 7472 793a 0a20 2020 2075 6e73 6166  n.try:.    unsaf
+0001e6d0: 655f 6675 6e63 2861 7267 290a 6578 6365  e_func(arg).exce
+0001e6e0: 7074 2028 5379 6e74 6178 4572 726f 722c  pt (SyntaxError,
+0001e6f0: 2056 616c 7565 4572 726f 7229 2061 7320   ValueError) as 
+0001e700: 6572 723a 0a20 2020 2068 616e 646c 6528  err:.    handle(
+0001e710: 6572 7229 0a60 6060 0a0a 2323 2320 496e  err).```..### In
+0001e720: 2d6c 696e 6520 6067 6c6f 6261 6c60 2041  -line `global` A
+0001e730: 6e64 2060 6e6f 6e6c 6f63 616c 6020 4173  nd `nonlocal` As
+0001e740: 7369 676e 6d65 6e74 0a0a 436f 636f 6e75  signment..Coconu
+0001e750: 7420 616c 6c6f 7773 2066 6f72 2060 676c  t allows for `gl
+0001e760: 6f62 616c 6020 6f72 2060 6e6f 6e6c 6f63  obal` or `nonloc
+0001e770: 616c 6020 746f 2070 7265 6365 6465 2061  al` to precede a
+0001e780: 7373 6967 6e6d 656e 7420 746f 2061 206c  ssignment to a l
+0001e790: 6973 7420 6f66 2076 6172 6961 626c 6573  ist of variables
+0001e7a0: 206f 7220 2861 7567 6d65 6e74 6564 2920   or (augmented) 
+0001e7b0: 6173 7369 676e 6d65 6e74 2074 6f20 6120  assignment to a 
+0001e7c0: 7661 7269 6162 6c65 2074 6f20 6d61 6b65  variable to make
+0001e7d0: 2074 6861 7420 6173 7369 676e 6d65 6e74   that assignment
+0001e7e0: 2060 676c 6f62 616c 6020 6f72 2060 6e6f   `global` or `no
+0001e7f0: 6e6c 6f63 616c 602c 2072 6573 7065 6374  nlocal`, respect
+0001e800: 6976 656c 792e 0a0a 2323 2323 2320 4578  ively...##### Ex
+0001e810: 616d 706c 650a 0a2a 2a43 6f63 6f6e 7574  ample..**Coconut
+0001e820: 3a2a 2a0a 6060 6063 6f63 6f6e 7574 0a67  :**.```coconut.g
+0001e830: 6c6f 6261 6c20 7374 6174 655f 612c 2073  lobal state_a, s
+0001e840: 7461 7465 5f62 203d 2031 302c 2031 3030  tate_b = 10, 100
+0001e850: 0a67 6c6f 6261 6c20 7374 6174 655f 6320  .global state_c 
+0001e860: 2b3d 2031 0a60 6060 0a0a 2a2a 5079 7468  += 1.```..**Pyth
+0001e870: 6f6e 3a2a 2a0a 6060 6063 6f63 6f6e 7574  on:**.```coconut
+0001e880: 5f70 7974 686f 6e0a 676c 6f62 616c 2073  _python.global s
+0001e890: 7461 7465 5f61 2c20 7374 6174 655f 623b  tate_a, state_b;
+0001e8a0: 2073 7461 7465 5f61 2c20 7374 6174 655f   state_a, state_
+0001e8b0: 6220 3d20 3130 2c20 3130 300a 676c 6f62  b = 10, 100.glob
+0001e8c0: 616c 2073 7461 7465 5f63 3b20 7374 6174  al state_c; stat
+0001e8d0: 655f 6320 2b3d 2031 0a60 6060 0a0a 2323  e_c += 1.```..##
+0001e8e0: 2320 436f 6465 2050 6173 7374 6872 6f75  # Code Passthrou
+0001e8f0: 6768 0a0a 436f 636f 6e75 7420 7375 7070  gh..Coconut supp
+0001e900: 6f72 7473 2074 6865 2061 6269 6c69 7479  orts the ability
+0001e910: 2074 6f20 7061 7373 2061 7262 6974 7261   to pass arbitra
+0001e920: 7279 2063 6f64 6520 7468 726f 7567 6820  ry code through 
+0001e930: 7468 6520 636f 6d70 696c 6572 2077 6974  the compiler wit
+0001e940: 686f 7574 2062 6569 6e67 2074 6f75 6368  hout being touch
+0001e950: 6564 2c20 666f 7220 636f 6d70 6174 6962  ed, for compatib
+0001e960: 696c 6974 7920 7769 7468 206f 7468 6572  ility with other
+0001e970: 2076 6172 6961 6e74 7320 6f66 2050 7974   variants of Pyt
+0001e980: 686f 6e2c 2073 7563 6820 6173 205b 4379  hon, such as [Cy
+0001e990: 7468 6f6e 5d28 6874 7470 3a2f 2f63 7974  thon](http://cyt
+0001e9a0: 686f 6e2e 6f72 672f 2920 6f72 205b 4d79  hon.org/) or [My
+0001e9b0: 7468 6f6e 5d28 6874 7470 3a2f 2f6d 7974  thon](http://myt
+0001e9c0: 686f 6e2e 6f72 672f 292e 2041 6e79 7468  hon.org/). Anyth
+0001e9d0: 696e 6720 706c 6163 6564 2062 6574 7765  ing placed betwe
+0001e9e0: 656e 2060 5c28 6020 616e 6420 7468 6520  en `\(` and the 
+0001e9f0: 636f 7272 6573 706f 6e64 696e 6720 636c  corresponding cl
+0001ea00: 6f73 6520 7061 7265 6e74 6865 7369 7320  ose parenthesis 
+0001ea10: 7769 6c6c 2062 6520 7061 7373 6564 2074  will be passed t
+0001ea20: 6872 6f75 6768 2c20 6173 2077 656c 6c20  hrough, as well 
+0001ea30: 6173 2061 6e79 206c 696e 6520 7374 6172  as any line star
+0001ea40: 7469 6e67 2077 6974 6820 605c 5c60 2c20  ting with `\\`, 
+0001ea50: 7768 6963 6820 7769 6c6c 2068 6176 6520  which will have 
+0001ea60: 7468 6520 6164 6469 7469 6f6e 616c 2065  the additional e
+0001ea70: 6666 6563 7420 6f66 2061 6c6c 6f77 696e  ffect of allowin
+0001ea80: 6720 696e 6465 6e74 6174 696f 6e20 756e  g indentation un
+0001ea90: 6465 7220 6974 2e0a 0a23 2323 2323 2045  der it...##### E
+0001eaa0: 7861 6d70 6c65 0a0a 2a2a 436f 636f 6e75  xample..**Coconu
+0001eab0: 743a 2a2a 0a60 6060 636f 636f 6e75 740a  t:**.```coconut.
+0001eac0: 5c5c 6364 6566 2066 2878 293a 0a20 2020  \\cdef f(x):.   
+0001ead0: 2072 6574 7572 6e20 7820 7c3e 2067 0a60   return x |> g.`
+0001eae0: 6060 0a0a 2a2a 5079 7468 6f6e 3a2a 2a0a  ``..**Python:**.
+0001eaf0: 6060 6063 6f63 6f6e 7574 5f70 7974 686f  ```coconut_pytho
+0001eb00: 6e0a 6364 6566 2066 2878 293a 0a20 2020  n.cdef f(x):.   
+0001eb10: 2072 6574 7572 6e20 6728 7829 0a60 6060   return g(x).```
+0001eb20: 0a0a 2323 2320 456e 6861 6e63 6564 2050  ..### Enhanced P
+0001eb30: 6172 656e 7468 6574 6963 616c 2043 6f6e  arenthetical Con
+0001eb40: 7469 6e75 6174 696f 6e0a 0a53 696e 6365  tinuation..Since
+0001eb50: 2043 6f63 6f6e 7574 2073 796e 7461 7820   Coconut syntax 
+0001eb60: 6973 2061 2073 7570 6572 7365 7420 6f66  is a superset of
+0001eb70: 2050 7974 686f 6e20 3320 7379 6e74 6178   Python 3 syntax
+0001eb80: 2c20 436f 636f 6e75 7420 7375 7070 6f72  , Coconut suppor
+0001eb90: 7473 2074 6865 2073 616d 6520 6c69 6e65  ts the same line
+0001eba0: 2063 6f6e 7469 6e75 6174 696f 6e20 7379   continuation sy
+0001ebb0: 6e74 6178 2061 7320 5079 7468 6f6e 2e20  ntax as Python. 
+0001ebc0: 5468 6174 206d 6561 6e73 2062 6f74 6820  That means both 
+0001ebd0: 6261 636b 736c 6173 6820 6c69 6e65 2063  backslash line c
+0001ebe0: 6f6e 7469 6e75 6174 696f 6e20 616e 6420  ontinuation and 
+0001ebf0: 696d 706c 6965 6420 6c69 6e65 2063 6f6e  implied line con
+0001ec00: 7469 6e75 6174 696f 6e20 696e 7369 6465  tinuation inside
+0001ec10: 206f 6620 7061 7265 6e74 6865 7365 732c   of parentheses,
+0001ec20: 2062 7261 636b 6574 732c 206f 7220 6272   brackets, or br
+0001ec30: 6163 6573 2077 696c 6c20 616c 6c20 776f  aces will all wo
+0001ec40: 726b 2e0a 0a49 6e20 5079 7468 6f6e 2c20  rk...In Python, 
+0001ec50: 686f 7765 7665 722c 2074 6865 7265 2061  however, there a
+0001ec60: 7265 2073 6f6d 6520 6361 7365 7320 2873  re some cases (s
+0001ec70: 7563 6820 6173 206d 756c 7469 706c 6520  uch as multiple 
+0001ec80: 6077 6974 6860 2073 7461 7465 6d65 6e74  `with` statement
+0001ec90: 7329 2077 6865 7265 206f 6e6c 7920 6261  s) where only ba
+0001eca0: 636b 736c 6173 6820 636f 6e74 696e 7561  ckslash continua
+0001ecb0: 7469 6f6e 2c20 616e 6420 6e6f 7420 7061  tion, and not pa
+0001ecc0: 7265 6e74 6865 7469 6361 6c20 636f 6e74  renthetical cont
+0001ecd0: 696e 7561 7469 6f6e 2c20 6973 2073 7570  inuation, is sup
+0001ece0: 706f 7274 6564 2e20 436f 636f 6e75 7420  ported. Coconut 
+0001ecf0: 6164 6473 2073 7570 706f 7274 2066 6f72  adds support for
+0001ed00: 2070 6172 656e 7468 6574 6963 616c 2063   parenthetical c
+0001ed10: 6f6e 7469 6e75 6174 696f 6e20 696e 2061  ontinuation in a
+0001ed20: 6c6c 2074 6865 7365 2063 6173 6573 2e20  ll these cases. 
+0001ed30: 5468 6973 2061 6c73 6f20 696e 636c 7564  This also includ
+0001ed40: 6573 2073 7570 706f 7274 2061 7320 7065  es support as pe
+0001ed50: 7220 5b50 4550 2036 3739 5d28 6874 7470  r [PEP 679](http
+0001ed60: 733a 2f2f 7065 7073 2e70 7974 686f 6e2e  s://peps.python.
+0001ed70: 6f72 672f 7065 702d 3036 3739 2920 666f  org/pep-0679) fo
+0001ed80: 7220 7061 7265 6e74 6865 7369 7a65 6420  r parenthesized 
+0001ed90: 6061 7373 6572 7460 2073 7461 7465 6d65  `assert` stateme
+0001eda0: 6e74 732e 0a0a 5375 7070 6f72 7469 6e67  nts...Supporting
+0001edb0: 2070 6172 656e 7468 6574 6963 616c 2063   parenthetical c
+0001edc0: 6f6e 7469 6e75 6174 696f 6e20 6576 6572  ontinuation ever
+0001edd0: 7977 6865 7265 2061 6c6c 6f77 7320 7468  ywhere allows th
+0001ede0: 6520 5b50 4550 2038 5d28 6874 7470 733a  e [PEP 8](https:
+0001edf0: 2f2f 7777 772e 7079 7468 6f6e 2e6f 7267  //www.python.org
+0001ee00: 2f64 6576 2f70 6570 732f 7065 702d 3030  /dev/peps/pep-00
+0001ee10: 3038 2f29 2063 6f6e 7665 6e74 696f 6e2c  08/) convention,
+0001ee20: 2077 6869 6368 2061 766f 6964 7320 6261   which avoids ba
+0001ee30: 636b 736c 6173 6820 636f 6e74 696e 7561  ckslash continua
+0001ee40: 7469 6f6e 2069 6e20 6661 766f 7220 6f66  tion in favor of
+0001ee50: 2069 6d70 6c69 6564 2070 6172 656e 7468   implied parenth
+0001ee60: 6574 6963 616c 2063 6f6e 7469 6e75 6174  etical continuat
+0001ee70: 696f 6e2c 2074 6f20 616c 7761 7973 2062  ion, to always b
+0001ee80: 6520 706f 7373 6962 6c65 2074 6f20 666f  e possible to fo
+0001ee90: 6c6c 6f77 2e20 4672 6f6d 2050 4550 2038  llow. From PEP 8
+0001eea0: 3a0a 0a3e 2054 6865 2070 7265 6665 7272  :..> The preferr
+0001eeb0: 6564 2077 6179 206f 6620 7772 6170 7069  ed way of wrappi
+0001eec0: 6e67 206c 6f6e 6720 6c69 6e65 7320 6973  ng long lines is
+0001eed0: 2062 7920 7573 696e 6720 5079 7468 6f6e   by using Python
+0001eee0: 2773 2069 6d70 6c69 6564 206c 696e 6520  's implied line 
+0001eef0: 636f 6e74 696e 7561 7469 6f6e 2069 6e73  continuation ins
+0001ef00: 6964 6520 7061 7265 6e74 6865 7365 732c  ide parentheses,
+0001ef10: 2062 7261 636b 6574 7320 616e 6420 6272   brackets and br
+0001ef20: 6163 6573 2e20 4c6f 6e67 206c 696e 6573  aces. Long lines
+0001ef30: 2063 616e 2062 6520 6272 6f6b 656e 206f   can be broken o
+0001ef40: 7665 7220 6d75 6c74 6970 6c65 206c 696e  ver multiple lin
+0001ef50: 6573 2062 7920 7772 6170 7069 6e67 2065  es by wrapping e
+0001ef60: 7870 7265 7373 696f 6e73 2069 6e20 7061  xpressions in pa
+0001ef70: 7265 6e74 6865 7365 732e 2054 6865 7365  rentheses. These
+0001ef80: 2073 686f 756c 6420 6265 2075 7365 6420   should be used 
+0001ef90: 696e 2070 7265 6665 7265 6e63 6520 746f  in preference to
+0001efa0: 2075 7369 6e67 2061 2062 6163 6b73 6c61   using a backsla
+0001efb0: 7368 2066 6f72 206c 696e 6520 636f 6e74  sh for line cont
+0001efc0: 696e 7561 7469 6f6e 2e0a 0a5f 4e6f 7465  inuation..._Note
+0001efd0: 3a20 5061 7373 696e 6720 602d 2d73 7472  : Passing `--str
+0001efe0: 6963 7460 2077 696c 6c20 656e 666f 7263  ict` will enforc
+0001eff0: 6520 7468 6520 5045 5020 3820 636f 6e76  e the PEP 8 conv
+0001f000: 656e 7469 6f6e 2062 7920 6469 7361 6c6c  ention by disall
+0001f010: 6f77 696e 6720 6261 636b 736c 6173 6820  owing backslash 
+0001f020: 636f 6e74 696e 7561 7469 6f6e 732e 5f0a  continuations._.
+0001f030: 0a23 2323 2323 2045 7861 6d70 6c65 0a0a  .##### Example..
+0001f040: 2a2a 436f 636f 6e75 743a 2a2a 0a60 6060  **Coconut:**.```
+0001f050: 636f 636f 6e75 740a 7769 7468 2028 6f70  coconut.with (op
+0001f060: 656e 2827 2f70 6174 682f 746f 2f73 6f6d  en('/path/to/som
+0001f070: 652f 6669 6c65 2f79 6f75 2f77 616e 742f  e/file/you/want/
+0001f080: 746f 2f72 6561 6427 2920 6173 2066 696c  to/read') as fil
+0001f090: 655f 312c 0a20 2020 2020 206f 7065 6e28  e_1,.      open(
+0001f0a0: 272f 7061 7468 2f74 6f2f 736f 6d65 2f66  '/path/to/some/f
+0001f0b0: 696c 652f 6265 696e 672f 7772 6974 7465  ile/being/writte
+0001f0c0: 6e27 2c20 2777 2729 2061 7320 6669 6c65  n', 'w') as file
+0001f0d0: 5f32 293a 0a20 2020 2066 696c 655f 322e  _2):.    file_2.
+0001f0e0: 7772 6974 6528 6669 6c65 5f31 2e72 6561  write(file_1.rea
+0001f0f0: 6428 2929 0a60 6060 0a0a 2a2a 5079 7468  d()).```..**Pyth
+0001f100: 6f6e 3a2a 2a0a 6060 6063 6f63 6f6e 7574  on:**.```coconut
+0001f110: 5f70 7974 686f 6e0a 2320 7370 6c69 7420  _python.# split 
+0001f120: 696e 746f 2074 776f 2077 6974 6820 7374  into two with st
+0001f130: 6174 656d 656e 7473 2066 6f72 2050 7974  atements for Pyt
+0001f140: 686f 6e20 322e 3620 636f 6d70 6174 6962  hon 2.6 compatib
+0001f150: 696c 6974 790a 7769 7468 206f 7065 6e28  ility.with open(
+0001f160: 272f 7061 7468 2f74 6f2f 736f 6d65 2f66  '/path/to/some/f
+0001f170: 696c 652f 796f 752f 7761 6e74 2f74 6f2f  ile/you/want/to/
+0001f180: 7265 6164 2729 2061 7320 6669 6c65 5f31  read') as file_1
+0001f190: 3a0a 2020 2020 7769 7468 206f 7065 6e28  :.    with open(
+0001f1a0: 272f 7061 7468 2f74 6f2f 736f 6d65 2f66  '/path/to/some/f
+0001f1b0: 696c 652f 6265 696e 672f 7772 6974 7465  ile/being/writte
+0001f1c0: 6e27 2c20 2777 2729 2061 7320 6669 6c65  n', 'w') as file
+0001f1d0: 5f32 3a0a 2020 2020 2020 2020 6669 6c65  _2:.        file
+0001f1e0: 5f32 2e77 7269 7465 2866 696c 655f 312e  _2.write(file_1.
+0001f1f0: 7265 6164 2829 290a 6060 600a 0a23 2323  read()).```..###
+0001f200: 2041 7373 6967 6e6d 656e 7420 4578 7072   Assignment Expr
+0001f210: 6573 7369 6f6e 2043 6861 696e 696e 670a  ession Chaining.
+0001f220: 0a55 6e6c 696b 6520 5079 7468 6f6e 2c20  .Unlike Python, 
+0001f230: 436f 636f 6e75 7420 616c 6c6f 7773 2061  Coconut allows a
+0001f240: 7373 6967 6e6d 656e 7420 6578 7072 6573  ssignment expres
+0001f250: 7369 6f6e 7320 746f 2062 6520 6368 6169  sions to be chai
+0001f260: 6e65 642c 2061 7320 696e 2060 6120 3a3d  ned, as in `a :=
+0001f270: 2062 203a 3d20 6360 2e20 4e6f 7465 2c20   b := c`. Note, 
+0001f280: 686f 7765 7665 722c 2074 6861 7420 6173  however, that as
+0001f290: 7369 676e 6d65 6e74 2065 7870 7265 7373  signment express
+0001f2a0: 696f 6e73 2069 6e20 6765 6e65 7261 6c20  ions in general 
+0001f2b0: 6172 6520 6375 7272 656e 746c 7920 6f6e  are currently on
+0001f2c0: 6c79 2073 7570 706f 7274 6564 206f 6e20  ly supported on 
+0001f2d0: 602d 2d74 6172 6765 7420 332e 3860 206f  `--target 3.8` o
+0001f2e0: 7220 6869 6768 6572 2e0a 0a23 2323 2323  r higher...#####
+0001f2f0: 2045 7861 6d70 6c65 0a0a 2a2a 436f 636f   Example..**Coco
+0001f300: 6e75 743a 2a2a 0a60 6060 636f 636f 6e75  nut:**.```coconu
+0001f310: 740a 2861 203a 3d20 6220 3a3d 2031 290a  t.(a := b := 1).
+0001f320: 6060 600a 0a2a 2a50 7974 686f 6e3a 2a2a  ```..**Python:**
+0001f330: 0a60 6060 636f 636f 6e75 745f 7079 7468  .```coconut_pyth
+0001f340: 6f6e 0a28 6120 3a3d 2028 6220 3a3d 2031  on.(a := (b := 1
+0001f350: 2929 0a60 6060 0a0a 2323 2042 7569 6c74  )).```..## Built
+0001f360: 2d49 6e73 0a0a 6060 607b 636f 6e74 656e  -Ins..```{conten
+0001f370: 7473 7d0a 2d2d 2d0a 6c6f 6361 6c3a 0a64  ts}.---.local:.d
+0001f380: 6570 7468 3a20 320a 2d2d 2d0a 6060 600a  epth: 2.---.```.
+0001f390: 0a23 2323 2042 7569 6c74 2d49 6e20 4675  .### Built-In Fu
+0001f3a0: 6e63 7469 6f6e 2044 6563 6f72 6174 6f72  nction Decorator
+0001f3b0: 730a 0a60 6060 7b63 6f6e 7465 6e74 737d  s..```{contents}
+0001f3c0: 0a2d 2d2d 0a6c 6f63 616c 3a0a 6465 7074  .---.local:.dept
+0001f3d0: 683a 2031 0a2d 2d2d 0a60 6060 0a0a 2323  h: 1.---.```..##
+0001f3e0: 2323 2060 6164 6470 6174 7465 726e 600a  ## `addpattern`.
+0001f3f0: 0a2a 2a61 6464 7061 7474 6572 6e2a 2a28  .**addpattern**(
+0001f400: 5f62 6173 655c 5f66 756e 635f 2c20 2a5f  _base\_func_, *_
+0001f410: 6164 645c 5f66 756e 6373 5f2c 205f 616c  add\_funcs_, _al
+0001f420: 6c6f 775c 5f61 6e79 5c5f 6675 6e63 5f3d  low\_any\_func_=
+0001f430: 6046 616c 7365 6029 0a0a 5461 6b65 7320  `False`)..Takes 
+0001f440: 6f6e 6520 6172 6775 6d65 6e74 2074 6861  one argument tha
+0001f450: 7420 6973 2061 205b 7061 7474 6572 6e2d  t is a [pattern-
+0001f460: 6d61 7463 6869 6e67 2066 756e 6374 696f  matching functio
+0001f470: 6e5d 2823 7061 7474 6572 6e2d 6d61 7463  n](#pattern-matc
+0001f480: 6869 6e67 2d66 756e 6374 696f 6e73 292c  hing-functions),
+0001f490: 2061 6e64 2072 6574 7572 6e73 2061 2064   and returns a d
+0001f4a0: 6563 6f72 6174 6f72 2074 6861 7420 6164  ecorator that ad
+0001f4b0: 6473 2074 6865 2070 6174 7465 726e 7320  ds the patterns 
+0001f4c0: 696e 2074 6865 2065 7869 7374 696e 6720  in the existing 
+0001f4d0: 6675 6e63 7469 6f6e 2074 6f20 7468 6520  function to the 
+0001f4e0: 6e65 7720 6675 6e63 7469 6f6e 2062 6569  new function bei
+0001f4f0: 6e67 2064 6563 6f72 6174 6564 2c20 7768  ng decorated, wh
+0001f500: 6572 6520 7468 6520 6578 6973 7469 6e67  ere the existing
+0001f510: 2070 6174 7465 726e 7320 6172 6520 6368   patterns are ch
+0001f520: 6563 6b65 6420 6669 7273 742c 2074 6865  ecked first, the
+0001f530: 6e20 7468 6520 6e65 772e 2060 6164 6470  n the new. `addp
+0001f540: 6174 7465 726e 6020 616c 736f 2073 7570  attern` also sup
+0001f550: 706f 7274 7320 6120 7368 6f72 7463 7574  ports a shortcut
+0001f560: 2073 796e 7461 7820 7768 6572 6520 7468   syntax where th
+0001f570: 6520 6e65 7720 7061 7474 6572 6e73 2063  e new patterns c
+0001f580: 616e 2062 6520 7061 7373 6564 2069 6e20  an be passed in 
+0001f590: 6469 7265 6374 6c79 2e0a 0a52 6f75 6768  directly...Rough
+0001f5a0: 6c79 2065 7175 6976 616c 656e 7420 746f  ly equivalent to
+0001f5b0: 3a0a 6060 600a 6465 6620 5f70 6174 7465  :.```.def _patte
+0001f5c0: 726e 5f61 6464 6572 2862 6173 655f 6675  rn_adder(base_fu
+0001f5d0: 6e63 2c20 6164 645f 6675 6e63 293a 0a20  nc, add_func):. 
+0001f5e0: 2020 2064 6566 2061 6464 5f70 6174 7465     def add_patte
+0001f5f0: 726e 5f66 756e 6328 2a61 7267 732c 202a  rn_func(*args, *
+0001f600: 2a6b 7761 7267 7329 3a0a 2020 2020 2020  *kwargs):.      
+0001f610: 2020 7472 793a 0a20 2020 2020 2020 2020    try:.         
+0001f620: 2020 2072 6574 7572 6e20 6261 7365 5f66     return base_f
+0001f630: 756e 6328 2a61 7267 732c 202a 2a6b 7761  unc(*args, **kwa
+0001f640: 7267 7329 0a20 2020 2020 2020 2065 7863  rgs).        exc
+0001f650: 6570 7420 4d61 7463 6845 7272 6f72 3a0a  ept MatchError:.
+0001f660: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+0001f670: 726e 2061 6464 5f66 756e 6328 2a61 7267  rn add_func(*arg
+0001f680: 732c 202a 2a6b 7761 7267 7329 0a20 2020  s, **kwargs).   
+0001f690: 2072 6574 7572 6e20 6164 645f 7061 7474   return add_patt
+0001f6a0: 6572 6e5f 6675 6e63 0a64 6566 2061 6464  ern_func.def add
+0001f6b0: 7061 7474 6572 6e28 6261 7365 5f66 756e  pattern(base_fun
+0001f6c0: 632c 202a 6164 645f 6675 6e63 732c 2061  c, *add_funcs, a
+0001f6d0: 6c6c 6f77 5f61 6e79 5f66 756e 633d 4661  llow_any_func=Fa
+0001f6e0: 6c73 6529 3a0a 2020 2020 2222 2244 6563  lse):.    """Dec
+0001f6f0: 6f72 6174 6f72 2074 6f20 6164 6420 6120  orator to add a 
+0001f700: 6e65 7720 6361 7365 2074 6f20 6120 7061  new case to a pa
+0001f710: 7474 6572 6e2d 6d61 7463 6869 6e67 2066  ttern-matching f
+0001f720: 756e 6374 696f 6e20 2877 6865 7265 2074  unction (where t
+0001f730: 6865 206e 6577 2063 6173 6520 6973 2063  he new case is c
+0001f740: 6865 636b 6564 206c 6173 7429 2e0a 0a20  hecked last)... 
+0001f750: 2020 2050 6173 7320 616c 6c6f 775f 616e     Pass allow_an
+0001f760: 795f 6675 6e63 3d54 7275 6520 746f 2061  y_func=True to a
+0001f770: 6c6c 6f77 2061 6e79 206f 626a 6563 7420  llow any object 
+0001f780: 6173 2074 6865 2062 6173 655f 6675 6e63  as the base_func
+0001f790: 2072 6174 6865 7220 7468 616e 206a 7573   rather than jus
+0001f7a0: 7420 7061 7474 6572 6e2d 6d61 7463 6869  t pattern-matchi
+0001f7b0: 6e67 2066 756e 6374 696f 6e73 2e0a 2020  ng functions..  
+0001f7c0: 2020 4966 2061 6464 5f66 756e 6320 6973    If add_func is
+0001f7d0: 2070 6173 7365 642c 2061 6464 7061 7474   passed, addpatt
+0001f7e0: 6572 6e28 6261 7365 5f66 756e 632c 2061  ern(base_func, a
+0001f7f0: 6464 5f66 756e 6329 2069 7320 6571 7569  dd_func) is equi
+0001f800: 7661 6c65 6e74 2074 6f20 6164 6470 6174  valent to addpat
+0001f810: 7465 726e 2862 6173 655f 6675 6e63 2928  tern(base_func)(
+0001f820: 6164 645f 6675 6e63 292e 0a20 2020 2022  add_func)..    "
+0001f830: 2222 0a20 2020 2069 6620 6e6f 7420 6164  "".    if not ad
+0001f840: 645f 6675 6e63 733a 0a20 2020 2020 2020  d_funcs:.       
+0001f850: 2072 6574 7572 6e20 6164 6470 6174 7465   return addpatte
+0001f860: 726e 2428 6261 7365 5f66 756e 6329 0a20  rn$(base_func). 
+0001f870: 2020 2066 6f72 2061 6464 5f66 756e 6320     for add_func 
+0001f880: 696e 2061 6464 5f66 756e 6373 3a0a 2020  in add_funcs:.  
+0001f890: 2020 2020 2020 6261 7365 5f66 756e 6320        base_func 
+0001f8a0: 3d20 7061 7474 6572 6e5f 6164 6465 7228  = pattern_adder(
+0001f8b0: 6261 7365 5f66 756e 632c 2061 6464 5f66  base_func, add_f
+0001f8c0: 756e 6329 0a20 2020 2072 6574 7572 6e20  unc).    return 
+0001f8d0: 6261 7365 5f66 756e 630a 6060 600a 0a49  base_func.```..I
+0001f8e0: 6620 796f 7520 7761 6e74 2074 6f20 6769  f you want to gi
+0001f8f0: 7665 2061 6e20 6061 6464 7061 7474 6572  ve an `addpatter
+0001f900: 6e60 2066 756e 6374 696f 6e20 6120 646f  n` function a do
+0001f910: 6373 7472 696e 672c 206d 616b 6520 7375  cstring, make su
+0001f920: 7265 2074 6f20 7075 7420 6974 206f 6e20  re to put it on 
+0001f930: 7468 6520 5f6c 6173 745f 2066 756e 6374  the _last_ funct
+0001f940: 696f 6e2e 0a0a 4e6f 7465 2074 6861 7420  ion...Note that 
+0001f950: 7468 6520 6675 6e63 7469 6f6e 2074 616b  the function tak
+0001f960: 656e 2062 7920 6061 6464 7061 7474 6572  en by `addpatter
+0001f970: 6e60 206d 7573 7420 6265 2061 2070 6174  n` must be a pat
+0001f980: 7465 726e 2d6d 6174 6368 696e 6720 6675  tern-matching fu
+0001f990: 6e63 7469 6f6e 2e20 4966 2060 6164 6470  nction. If `addp
+0001f9a0: 6174 7465 726e 6020 7265 6365 6976 6573  attern` receives
+0001f9b0: 2061 206e 6f6e 2070 6174 7465 726e 2d6d   a non pattern-m
+0001f9c0: 6174 6368 696e 6720 6675 6e63 7469 6f6e  atching function
+0001f9d0: 2c20 7468 6520 6675 6e63 7469 6f6e 2077  , the function w
+0001f9e0: 6974 6820 6e6f 7420 7261 6973 6520 604d  ith not raise `M
+0001f9f0: 6174 6368 4572 726f 7260 2c20 616e 6420  atchError`, and 
+0001fa00: 6061 6464 7061 7474 6572 6e60 2077 6f6e  `addpattern` won
+0001fa10: 2774 2062 6520 6162 6c65 2074 6f20 6465  't be able to de
+0001fa20: 7465 6374 2074 6865 2066 6169 6c65 6420  tect the failed 
+0001fa30: 6d61 7463 682e 2054 6875 732c 2069 6620  match. Thus, if 
+0001fa40: 6120 6c61 7465 7220 6675 6e63 7469 6f6e  a later function
+0001fa50: 2077 6173 206d 6561 6e74 2074 6f20 6265   was meant to be
+0001fa60: 2063 616c 6c65 642c 2060 6164 6470 6174   called, `addpat
+0001fa70: 7465 726e 6020 7769 6c6c 206e 6f74 206b  tern` will not k
+0001fa80: 6e6f 7720 7468 6174 2074 6865 2066 6972  now that the fir
+0001fa90: 7374 206d 6174 6368 2066 6169 6c65 6420  st match failed 
+0001faa0: 616e 6420 7468 6520 636f 7272 6563 7420  and the correct 
+0001fab0: 7061 7468 2077 696c 6c20 6e65 7665 7220  path will never 
+0001fac0: 6265 2072 6561 6368 6564 2e0a 0a46 6f72  be reached...For
+0001fad0: 2065 7861 6d70 6c65 2c20 7468 6520 666f   example, the fo
+0001fae0: 6c6c 6f77 696e 6720 636f 6465 2072 6169  llowing code rai
+0001faf0: 7365 7320 6120 6054 7970 6545 7272 6f72  ses a `TypeError
+0001fb00: 603a 0a60 6060 636f 636f 6e75 740a 6465  `:.```coconut.de
+0001fb10: 6620 7072 696e 745f 7479 7065 2829 3a0a  f print_type():.
+0001fb20: 2020 2020 7072 696e 7428 2252 6563 6569      print("Recei
+0001fb30: 7665 6420 6e6f 2061 7267 756d 656e 7473  ved no arguments
+0001fb40: 2e22 290a 0a40 6164 6470 6174 7465 726e  .")..@addpattern
+0001fb50: 2870 7269 6e74 5f74 7970 6529 0a64 6566  (print_type).def
+0001fb60: 2070 7269 6e74 5f74 7970 6528 696e 7428   print_type(int(
+0001fb70: 2929 3a0a 2020 2020 7072 696e 7428 2252  )):.    print("R
+0001fb80: 6563 6569 7665 6420 616e 2069 6e74 2e22  eceived an int."
+0001fb90: 290a 0a70 7269 6e74 5f74 7970 6528 2920  )..print_type() 
+0001fba0: 2023 2061 7070 6561 7273 2074 6f20 776f   # appears to wo
+0001fbb0: 726b 0a70 7269 6e74 5f74 7970 6528 3129  rk.print_type(1)
+0001fbc0: 2023 2054 7970 6545 7272 6f72 3a20 7072   # TypeError: pr
+0001fbd0: 696e 745f 7479 7065 2829 2074 616b 6573  int_type() takes
+0001fbe0: 2030 2070 6f73 6974 696f 6e61 6c20 6172   0 positional ar
+0001fbf0: 6775 6d65 6e74 7320 6275 7420 3120 7761  guments but 1 wa
+0001fc00: 7320 6769 7665 6e0a 6060 600a 0a54 6869  s given.```..Thi
+0001fc10: 7320 6361 6e20 6265 2066 6978 6564 2062  s can be fixed b
+0001fc20: 7920 7573 696e 6720 6569 7468 6572 2074  y using either t
+0001fc30: 6865 2060 6d61 7463 6860 206f 7220 6061  he `match` or `a
+0001fc40: 6464 7061 7474 6572 6e60 206b 6579 776f  ddpattern` keywo
+0001fc50: 7264 2e20 466f 7220 6578 616d 706c 653a  rd. For example:
+0001fc60: 0a60 6060 636f 636f 6e75 740a 6d61 7463  .```coconut.matc
+0001fc70: 6820 6465 6620 7072 696e 745f 7479 7065  h def print_type
+0001fc80: 2829 3a0a 2020 2020 7072 696e 7428 2252  ():.    print("R
+0001fc90: 6563 6569 7665 6420 6e6f 2061 7267 756d  eceived no argum
+0001fca0: 656e 7473 2e22 290a 0a61 6464 7061 7474  ents.")..addpatt
+0001fcb0: 6572 6e20 6465 6620 7072 696e 745f 7479  ern def print_ty
+0001fcc0: 7065 2869 6e74 2829 293a 0a20 2020 2070  pe(int()):.    p
+0001fcd0: 7269 6e74 2822 5265 6365 6976 6564 2061  rint("Received a
+0001fce0: 6e20 696e 742e 2229 0a0a 7072 696e 745f  n int.")..print_
+0001fcf0: 7479 7065 2831 2920 2023 2057 6f72 6b73  type(1)  # Works
+0001fd00: 2061 7320 6578 7065 6374 6564 0a70 7269   as expected.pri
+0001fd10: 6e74 5f74 7970 6528 2254 6869 7320 6973  nt_type("This is
+0001fd20: 2061 2073 7472 696e 672e 2229 2023 2052   a string.") # R
+0001fd30: 6169 7365 7320 4d61 7463 6845 7272 6f72  aises MatchError
+0001fd40: 0a60 6060 0a0a 5468 6520 6c61 7374 2063  .```..The last c
+0001fd50: 6173 6520 696e 2061 6e20 6061 6464 7061  ase in an `addpa
+0001fd60: 7474 6572 6e60 2066 756e 6374 696f 6e2c  ttern` function,
+0001fd70: 2068 6f77 6576 6572 2c20 646f 6573 6e27   however, doesn'
+0001fd80: 7420 6861 7665 2074 6f20 6265 2061 2070  t have to be a p
+0001fd90: 6174 7465 726e 2d6d 6174 6368 696e 6720  attern-matching 
+0001fda0: 6675 6e63 7469 6f6e 2069 6620 6974 2069  function if it i
+0001fdb0: 7320 696e 7465 6e64 6564 2074 6f20 6361  s intended to ca
+0001fdc0: 7463 6820 616c 6c20 7265 6d61 696e 696e  tch all remainin
+0001fdd0: 6720 6361 7365 732e 0a0a 546f 2063 6174  g cases...To cat
+0001fde0: 6368 2074 6869 7320 6d69 7374 616b 652c  ch this mistake,
+0001fdf0: 2060 6164 6470 6174 7465 726e 6020 7769   `addpattern` wi
+0001fe00: 6c6c 2065 6d69 7420 6120 7761 726e 696e  ll emit a warnin
+0001fe10: 6720 6966 2070 6173 7365 6420 7768 6174  g if passed what
+0001fe20: 2069 7420 6265 6c69 6576 6573 2074 6f20   it believes to 
+0001fe30: 6265 2061 206e 6f6e 2d70 6174 7465 726e  be a non-pattern
+0001fe40: 2d6d 6174 6368 696e 6720 6675 6e63 7469  -matching functi
+0001fe50: 6f6e 2e20 486f 7765 7665 722c 2074 6869  on. However, thi
+0001fe60: 7320 7761 726e 696e 6720 6361 6e20 736f  s warning can so
+0001fe70: 6d65 7469 6d65 7320 6265 2065 7272 6f6e  metimes be erron
+0001fe80: 656f 7573 2069 6620 7468 6520 6f72 6967  eous if the orig
+0001fe90: 696e 616c 2070 6174 7465 726e 2d6d 6174  inal pattern-mat
+0001fea0: 6368 696e 6720 6675 6e63 7469 6f6e 2068  ching function h
+0001feb0: 6173 2062 6565 6e20 7772 6170 7065 6420  as been wrapped 
+0001fec0: 696e 2073 6f6d 6520 7761 792c 2069 6e20  in some way, in 
+0001fed0: 7768 6963 6820 6361 7365 2079 6f75 2063  which case you c
+0001fee0: 616e 2070 6173 7320 6061 6c6c 6f77 5f61  an pass `allow_a
+0001fef0: 6e79 5f66 756e 633d 5472 7565 6020 746f  ny_func=True` to
+0001ff00: 2064 6973 6d69 7373 2074 6865 2077 6172   dismiss the war
+0001ff10: 6e69 6e67 2e0a 0a23 2323 2323 2045 7861  ning...##### Exa
+0001ff20: 6d70 6c65 0a0a 2a2a 436f 636f 6e75 743a  mple..**Coconut:
+0001ff30: 2a2a 0a60 6060 636f 636f 6e75 740a 6465  **.```coconut.de
+0001ff40: 6620 6661 6374 6f72 6961 6c28 3029 203d  f factorial(0) =
+0001ff50: 2031 0a0a 4061 6464 7061 7474 6572 6e28   1..@addpattern(
+0001ff60: 6661 6374 6f72 6961 6c29 0a64 6566 2066  factorial).def f
+0001ff70: 6163 746f 7269 616c 286e 2920 3d20 6e20  actorial(n) = n 
+0001ff80: 2a20 6661 6374 6f72 6961 6c28 6e20 2d20  * factorial(n - 
+0001ff90: 3129 0a60 6060 0a5f 5369 6d70 6c65 2065  1).```._Simple e
+0001ffa0: 7861 6d70 6c65 206f 6620 6164 6469 6e67  xample of adding
+0001ffb0: 2061 206e 6577 2070 6174 7465 726e 2074   a new pattern t
+0001ffc0: 6f20 6120 7061 7474 6572 6e2d 6d61 7463  o a pattern-matc
+0001ffd0: 6869 6e67 2066 756e 6374 696f 6e2e 5f0a  hing function._.
+0001ffe0: 0a60 6060 636f 636f 6e75 740a 225b 415d  .```coconut."[A]
+0001fff0: 2c20 5b42 5d22 207c 3e20 7769 6e64 6f77  , [B]" |> window
+00020000: 736f 6624 2833 2920 7c3e 206d 6170 2428  sof$(3) |> map$(
+00020010: 6164 6470 6174 7465 726e 280a 2020 2020  addpattern(.    
+00020020: 2864 6566 2028 2822 5b22 2c22 4122 2c22  (def (("[","A","
+00020030: 5d22 2929 202d 3e20 2241 2229 2c0a 2020  ]")) -> "A"),.  
+00020040: 2020 2864 6566 2028 2822 5b22 2c22 4222    (def (("[","B"
+00020050: 2c22 5d22 2929 202d 3e20 2242 2229 2c0a  ,"]")) -> "B"),.
+00020060: 2020 2020 2864 6566 2028 285f 2c5f 2c5f      (def ((_,_,_
+00020070: 2929 202d 3e20 4e6f 6e65 292c 0a29 2920  )) -> None),.)) 
+00020080: 7c3e 2066 696c 7465 7224 2828 2e69 7320  |> filter$((.is 
+00020090: 4e6f 6e65 2920 2e2e 3e20 286e 6f74 2929  None) ..> (not))
+000200a0: 207c 3e20 6c69 7374 207c 3e20 7072 696e   |> list |> prin
+000200b0: 740a 6060 600a 5f41 6e20 6578 616d 706c  t.```._An exampl
+000200c0: 6520 6f66 2061 2063 6173 6520 7768 6572  e of a case wher
+000200d0: 6520 7573 696e 6720 7468 6520 6061 6464  e using the `add
+000200e0: 7061 7474 6572 6e60 2066 756e 6374 696f  pattern` functio
+000200f0: 6e20 6973 206e 6563 6573 7361 7279 206f  n is necessary o
+00020100: 7665 7220 7468 6520 5b60 6164 6470 6174  ver the [`addpat
+00020110: 7465 726e 6020 6b65 7977 6f72 645d 2823  tern` keyword](#
+00020120: 6164 6470 6174 7465 726e 2d66 756e 6374  addpattern-funct
+00020130: 696f 6e73 2920 6475 6520 746f 2074 6865  ions) due to the
+00020140: 2075 7365 206f 6620 696e 2d6c 696e 6520   use of in-line 
+00020150: 7061 7474 6572 6e2d 6d61 7463 6869 6e67  pattern-matching
+00020160: 205b 7374 6174 656d 656e 7420 6c61 6d62   [statement lamb
+00020170: 6461 735d 2823 7374 6174 656d 656e 742d  das](#statement-
+00020180: 6c61 6d62 6461 7329 2e5f 0a0a 2a2a 5079  lambdas)._..**Py
+00020190: 7468 6f6e 3a2a 2a0a 5f43 616e 2774 2062  thon:**._Can't b
+000201a0: 6520 646f 6e65 2077 6974 686f 7574 2061  e done without a
+000201b0: 2063 6f6d 706c 6963 6174 6564 2064 6563   complicated dec
+000201c0: 6f72 6174 6f72 2064 6566 696e 6974 696f  orator definitio
+000201d0: 6e20 616e 6420 6120 6c6f 6e67 2073 6572  n and a long ser
+000201e0: 6965 7320 6f66 2063 6865 636b 7320 666f  ies of checks fo
+000201f0: 7220 6561 6368 2070 6174 7465 726e 2d6d  r each pattern-m
+00020200: 6174 6368 696e 672e 2053 6565 2074 6865  atching. See the
+00020210: 2063 6f6d 7069 6c65 6420 636f 6465 2066   compiled code f
+00020220: 6f72 2074 6865 2050 7974 686f 6e20 7379  or the Python sy
+00020230: 6e74 6178 2e5f 0a0a 2323 2323 2320 6070  ntax._..##### `p
+00020240: 7265 7061 7474 6572 6e60 0a0a 2a2a 4445  repattern`..**DE
+00020250: 5052 4543 4154 4544 3a2a 2a20 436f 636f  PRECATED:** Coco
+00020260: 6e75 7420 616c 736f 2068 6173 2061 2060  nut also has a `
+00020270: 7072 6570 6174 7465 726e 6020 6275 696c  prepattern` buil
+00020280: 742d 696e 2c20 7768 6963 6820 6164 6473  t-in, which adds
+00020290: 2070 6174 7465 726e 7320 696e 2074 6865   patterns in the
+000202a0: 206f 7070 6f73 6974 6520 6f72 6465 7220   opposite order 
+000202b0: 6f66 2060 6164 6470 6174 7465 726e 603b  of `addpattern`;
+000202c0: 2060 7072 6570 6174 7465 726e 6020 6973   `prepattern` is
+000202d0: 2064 6566 696e 6564 2061 733a 0a0a 6060   defined as:..``
+000202e0: 6063 6f63 6f6e 7574 5f70 7974 686f 6e0a  `coconut_python.
+000202f0: 6465 6620 7072 6570 6174 7465 726e 2862  def prepattern(b
+00020300: 6173 655f 6675 6e63 293a 0a20 2020 2022  ase_func):.    "
+00020310: 2222 4465 636f 7261 746f 7220 746f 2061  ""Decorator to a
+00020320: 6464 2061 206e 6577 2063 6173 6520 746f  dd a new case to
+00020330: 2061 2070 6174 7465 726e 2d6d 6174 6368   a pattern-match
+00020340: 696e 6720 6675 6e63 7469 6f6e 2c0a 2020  ing function,.  
+00020350: 2020 7768 6572 6520 7468 6520 6e65 7720    where the new 
+00020360: 6361 7365 2069 7320 6368 6563 6b65 6420  case is checked 
+00020370: 6669 7273 742e 2222 220a 2020 2020 6465  first.""".    de
+00020380: 6620 7061 7474 6572 6e5f 7072 6570 656e  f pattern_prepen
+00020390: 6465 7228 6675 6e63 293a 0a20 2020 2020  der(func):.     
+000203a0: 2020 2072 6574 7572 6e20 6164 6470 6174     return addpat
+000203b0: 7465 726e 2866 756e 6329 2862 6173 655f  tern(func)(base_
+000203c0: 6675 6e63 290a 2020 2020 7265 7475 726e  func).    return
+000203d0: 2070 6174 7465 726e 5f70 7265 7065 6e64   pattern_prepend
+000203e0: 6572 0a60 6060 0a5f 4e6f 7465 3a20 5061  er.```._Note: Pa
+000203f0: 7373 696e 6720 602d 2d73 7472 6963 7460  ssing `--strict`
+00020400: 2064 6973 6162 6c65 7320 6465 7072 6563   disables deprec
+00020410: 6174 6564 2066 6561 7475 7265 732e 5f0a  ated features._.
+00020420: 0a23 2323 2320 606d 656d 6f69 7a65 600a  .#### `memoize`.
+00020430: 0a2a 2a6d 656d 6f69 7a65 2a2a 285f 6d61  .**memoize**(_ma
+00020440: 7873 697a 655f 3d60 4e6f 6e65 602c 205f  xsize_=`None`, _
+00020450: 7479 7065 645f 3d60 4661 6c73 6560 290a  typed_=`False`).
+00020460: 0a2a 2a6d 656d 6f69 7a65 2a2a 285f 7573  .**memoize**(_us
+00020470: 6572 5c5f 6675 6e63 7469 6f6e 5f29 0a0a  er\_function_)..
+00020480: 436f 636f 6e75 7420 7072 6f76 6964 6573  Coconut provides
+00020490: 2060 6675 6e63 746f 6f6c 732e 6c72 755f   `functools.lru_
+000204a0: 6361 6368 6560 2061 7320 6120 6275 696c  cache` as a buil
+000204b0: 742d 696e 2075 6e64 6572 2074 6865 206e  t-in under the n
+000204c0: 616d 6520 606d 656d 6f69 7a65 6020 7769  ame `memoize` wi
+000204d0: 7468 2074 6865 206d 6f64 6966 6963 6174  th the modificat
+000204e0: 696f 6e20 7468 6174 2074 6865 205f 6d61  ion that the _ma
+000204f0: 7873 697a 655f 2070 6172 616d 6574 6572  xsize_ parameter
+00020500: 2069 7320 7365 7420 746f 2060 4e6f 6e65   is set to `None
+00020510: 6020 6279 2064 6566 6175 6c74 2e20 606d  ` by default. `m
+00020520: 656d 6f69 7a65 6020 6d61 6b65 7320 7468  emoize` makes th
+00020530: 6520 7573 6520 6361 7365 206f 6620 6f70  e use case of op
+00020540: 7469 6d69 7a69 6e67 2072 6563 7572 7369  timizing recursi
+00020550: 7665 2066 756e 6374 696f 6e73 2065 6173  ve functions eas
+00020560: 6965 722c 2061 7320 6120 5f6d 6178 7369  ier, as a _maxsi
+00020570: 7a65 5f20 6f66 2060 4e6f 6e65 6020 6973  ze_ of `None` is
+00020580: 2075 7375 616c 6c79 2077 6861 7420 6973   usually what is
+00020590: 2064 6573 6972 6564 2069 6e20 7468 6174   desired in that
+000205a0: 2063 6173 652e 0a0a 5573 6520 6f66 2060   case...Use of `
+000205b0: 6d65 6d6f 697a 6560 2072 6571 7569 7265  memoize` require
+000205c0: 7320 6066 756e 6374 6f6f 6c73 2e6c 7275  s `functools.lru
+000205d0: 5f63 6163 6865 602c 2077 6869 6368 2065  _cache`, which e
+000205e0: 7869 7374 7320 696e 2074 6865 2050 7974  xists in the Pyt
+000205f0: 686f 6e20 3320 7374 616e 6461 7264 206c  hon 3 standard l
+00020600: 6962 7261 7279 2c20 6275 7420 756e 6465  ibrary, but unde
+00020610: 7220 5079 7468 6f6e 2032 2077 696c 6c20  r Python 2 will 
+00020620: 7265 7175 6972 6520 6070 6970 2069 6e73  require `pip ins
+00020630: 7461 6c6c 2062 6163 6b70 6f72 7473 2e66  tall backports.f
+00020640: 756e 6374 6f6f 6c73 5f6c 7275 5f63 6163  unctools_lru_cac
+00020650: 6865 6020 746f 2066 756e 6374 696f 6e2e  he` to function.
+00020660: 2041 6464 6974 696f 6e61 6c6c 792c 2069   Additionally, i
+00020670: 6620 6f6e 2050 7974 686f 6e20 3220 616e  f on Python 2 an
+00020680: 6420 6062 6163 6b70 6f72 7473 2e66 756e  d `backports.fun
+00020690: 6374 6f6f 6c73 5f6c 7275 5f63 6163 6865  ctools_lru_cache
+000206a0: 6020 6973 2070 7265 7365 6e74 2c20 436f  ` is present, Co
+000206b0: 636f 6e75 7420 7769 6c6c 2070 6174 6368  conut will patch
+000206c0: 2060 6675 6e63 746f 6f6c 7360 2073 7563   `functools` suc
+000206d0: 6820 7468 6174 2060 6675 6e63 746f 6f6c  h that `functool
+000206e0: 732e 6c72 755f 6361 6368 6520 3d20 6261  s.lru_cache = ba
+000206f0: 636b 706f 7274 732e 6675 6e63 746f 6f6c  ckports.functool
+00020700: 735f 6c72 755f 6361 6368 652e 6c72 755f  s_lru_cache.lru_
+00020710: 6361 6368 6560 2e0a 0a23 2323 2323 2050  cache`...##### P
+00020720: 7974 686f 6e20 446f 6373 0a0a 402a 2a6d  ython Docs..@**m
+00020730: 656d 6f69 7a65 2a2a 285f 7573 6572 5c5f  emoize**(_user\_
+00020740: 6675 6e63 7469 6f6e 5f29 0a0a 402a 2a6d  function_)..@**m
+00020750: 656d 6f69 7a65 2a2a 285f 6d61 7873 697a  emoize**(_maxsiz
+00020760: 653d 4e6f 6e65 2c20 7479 7065 643d 4661  e=None, typed=Fa
+00020770: 6c73 655f 290a 0a44 6563 6f72 6174 6f72  lse_)..Decorator
+00020780: 2074 6f20 7772 6170 2061 2066 756e 6374   to wrap a funct
+00020790: 696f 6e20 7769 7468 2061 206d 656d 6f69  ion with a memoi
+000207a0: 7a69 6e67 2063 616c 6c61 626c 6520 7468  zing callable th
+000207b0: 6174 2073 6176 6573 2075 7020 746f 2074  at saves up to t
+000207c0: 6865 205f 6d61 7873 697a 655f 206d 6f73  he _maxsize_ mos
+000207d0: 7420 7265 6365 6e74 2063 616c 6c73 2e20  t recent calls. 
+000207e0: 4974 2063 616e 2073 6176 6520 7469 6d65  It can save time
+000207f0: 2077 6865 6e20 616e 2065 7870 656e 7369   when an expensi
+00020800: 7665 206f 7220 492f 4f20 626f 756e 6420  ve or I/O bound 
+00020810: 6675 6e63 7469 6f6e 2069 7320 7065 7269  function is peri
+00020820: 6f64 6963 616c 6c79 2063 616c 6c65 6420  odically called 
+00020830: 7769 7468 2074 6865 2073 616d 6520 6172  with the same ar
+00020840: 6775 6d65 6e74 732e 0a0a 5369 6e63 6520  guments...Since 
+00020850: 6120 6469 6374 696f 6e61 7279 2069 7320  a dictionary is 
+00020860: 7573 6564 2074 6f20 6361 6368 6520 7265  used to cache re
+00020870: 7375 6c74 732c 2074 6865 2070 6f73 6974  sults, the posit
+00020880: 696f 6e61 6c20 616e 6420 6b65 7977 6f72  ional and keywor
+00020890: 6420 6172 6775 6d65 6e74 7320 746f 2074  d arguments to t
+000208a0: 6865 2066 756e 6374 696f 6e20 6d75 7374  he function must
+000208b0: 2062 6520 6861 7368 6162 6c65 2e0a 0a44   be hashable...D
+000208c0: 6973 7469 6e63 7420 6172 6775 6d65 6e74  istinct argument
+000208d0: 2070 6174 7465 726e 7320 6d61 7920 6265   patterns may be
+000208e0: 2063 6f6e 7369 6465 7265 6420 746f 2062   considered to b
+000208f0: 6520 6469 7374 696e 6374 2063 616c 6c73  e distinct calls
+00020900: 2077 6974 6820 7365 7061 7261 7465 2063   with separate c
+00020910: 6163 6865 2065 6e74 7269 6573 2e20 466f  ache entries. Fo
+00020920: 7220 6578 616d 706c 652c 2060 6628 613d  r example, `f(a=
+00020930: 312c 2062 3d32 2960 2061 6e64 2060 6628  1, b=2)` and `f(
+00020940: 623d 322c 2061 3d31 2960 2064 6966 6665  b=2, a=1)` diffe
+00020950: 7220 696e 2074 6865 6972 206b 6579 776f  r in their keywo
+00020960: 7264 2061 7267 756d 656e 7420 6f72 6465  rd argument orde
+00020970: 7220 616e 6420 6d61 7920 6861 7665 2074  r and may have t
+00020980: 776f 2073 6570 6172 6174 6520 6361 6368  wo separate cach
+00020990: 6520 656e 7472 6965 732e 0a0a 4966 205f  e entries...If _
+000209a0: 7573 6572 5c5f 6675 6e63 7469 6f6e 5f20  user\_function_ 
+000209b0: 6973 2073 7065 6369 6669 6564 2c20 6974  is specified, it
+000209c0: 206d 7573 7420 6265 2061 2063 616c 6c61   must be a calla
+000209d0: 626c 652e 2054 6869 7320 616c 6c6f 7773  ble. This allows
+000209e0: 2074 6865 205f 6d65 6d6f 697a 655f 2064   the _memoize_ d
+000209f0: 6563 6f72 6174 6f72 2074 6f20 6265 2061  ecorator to be a
+00020a00: 7070 6c69 6564 2064 6972 6563 746c 7920  pplied directly 
+00020a10: 746f 2061 2075 7365 7220 6675 6e63 7469  to a user functi
+00020a20: 6f6e 2c20 6c65 6176 696e 6720 7468 6520  on, leaving the 
+00020a30: 6d61 7873 697a 6520 6174 2069 7473 2064  maxsize at its d
+00020a40: 6566 6175 6c74 2076 616c 7565 206f 6620  efault value of 
+00020a50: 604e 6f6e 6560 3a0a 6060 6063 6f63 6f6e  `None`:.```cocon
+00020a60: 7574 5f70 7974 686f 6e0a 406d 656d 6f69  ut_python.@memoi
+00020a70: 7a65 0a64 6566 2063 6f75 6e74 5f76 6f77  ze.def count_vow
+00020a80: 656c 7328 7365 6e74 656e 6365 293a 0a20  els(sentence):. 
+00020a90: 2020 2072 6574 7572 6e20 7375 6d28 7365     return sum(se
+00020aa0: 6e74 656e 6365 2e63 6f75 6e74 2876 6f77  ntence.count(vow
+00020ab0: 656c 2920 666f 7220 766f 7765 6c20 696e  el) for vowel in
+00020ac0: 2027 4145 494f 5561 6569 6f75 2729 0a60   'AEIOUaeiou').`
+00020ad0: 6060 0a0a 4966 205f 6d61 7873 697a 655f  ``..If _maxsize_
+00020ae0: 2069 7320 7365 7420 746f 2060 4e6f 6e65   is set to `None
+00020af0: 602c 2074 6865 204c 5255 2066 6561 7475  `, the LRU featu
+00020b00: 7265 2069 7320 6469 7361 626c 6564 2061  re is disabled a
+00020b10: 6e64 2074 6865 2063 6163 6865 2063 616e  nd the cache can
+00020b20: 2067 726f 7720 7769 7468 6f75 7420 626f   grow without bo
+00020b30: 756e 642e 0a0a 4966 205f 7479 7065 645f  und...If _typed_
+00020b40: 2069 7320 7365 7420 746f 2074 7275 652c   is set to true,
+00020b50: 2066 756e 6374 696f 6e20 6172 6775 6d65   function argume
+00020b60: 6e74 7320 6f66 2064 6966 6665 7265 6e74  nts of different
+00020b70: 2074 7970 6573 2077 696c 6c20 6265 2063   types will be c
+00020b80: 6163 6865 6420 7365 7061 7261 7465 6c79  ached separately
+00020b90: 2e20 4966 2074 7970 6564 2069 7320 6661  . If typed is fa
+00020ba0: 6c73 652c 2074 6865 2069 6d70 6c65 6d65  lse, the impleme
+00020bb0: 6e74 6174 696f 6e20 7769 6c6c 2075 7375  ntation will usu
+00020bc0: 616c 6c79 2072 6567 6172 6420 7468 656d  ally regard them
+00020bd0: 2061 7320 6571 7569 7661 6c65 6e74 2063   as equivalent c
+00020be0: 616c 6c73 2061 6e64 206f 6e6c 7920 6361  alls and only ca
+00020bf0: 6368 6520 6120 7369 6e67 6c65 2072 6573  che a single res
+00020c00: 756c 742e 2028 536f 6d65 2074 7970 6573  ult. (Some types
+00020c10: 2073 7563 6820 6173 2073 7472 2061 6e64   such as str and
+00020c20: 2069 6e74 206d 6179 2062 6520 6361 6368   int may be cach
+00020c30: 6564 2073 6570 6172 6174 656c 7920 6576  ed separately ev
+00020c40: 656e 2077 6865 6e20 7479 7065 6420 6973  en when typed is
+00020c50: 2066 616c 7365 2e29 0a0a 4e6f 7465 2c20   false.)..Note, 
+00020c60: 7479 7065 2073 7065 6369 6669 6369 7479  type specificity
+00020c70: 2061 7070 6c69 6573 206f 6e6c 7920 746f   applies only to
+00020c80: 2074 6865 2066 756e 6374 696f 6ee2 8099   the function...
+00020c90: 7320 696d 6d65 6469 6174 6520 6172 6775  s immediate argu
+00020ca0: 6d65 6e74 7320 7261 7468 6572 2074 6861  ments rather tha
+00020cb0: 6e20 7468 6569 7220 636f 6e74 656e 7473  n their contents
+00020cc0: 2e20 5468 6520 7363 616c 6172 2061 7267  . The scalar arg
+00020cd0: 756d 656e 7473 2c20 6044 6563 696d 616c  uments, `Decimal
+00020ce0: 2834 3229 6020 616e 6420 6046 7261 6374  (42)` and `Fract
+00020cf0: 696f 6e28 3432 2960 2061 7265 2062 6520  ion(42)` are be 
+00020d00: 7472 6561 7465 6420 6173 2064 6973 7469  treated as disti
+00020d10: 6e63 7420 6361 6c6c 7320 7769 7468 2064  nct calls with d
+00020d20: 6973 7469 6e63 7420 7265 7375 6c74 732e  istinct results.
+00020d30: 2049 6e20 636f 6e74 7261 7374 2c20 7468   In contrast, th
+00020d40: 6520 7475 706c 6520 6172 6775 6d65 6e74  e tuple argument
+00020d50: 7320 6028 2761 6e73 7765 7227 2c20 4465  s `('answer', De
+00020d60: 6369 6d61 6c28 3432 2929 6020 616e 6420  cimal(42))` and 
+00020d70: 6028 2761 6e73 7765 7227 2c20 4672 6163  `('answer', Frac
+00020d80: 7469 6f6e 2834 3229 2960 2061 7265 2074  tion(42))` are t
+00020d90: 7265 6174 6564 2061 7320 6571 7569 7661  reated as equiva
+00020da0: 6c65 6e74 2e0a 0a54 6865 2064 6563 6f72  lent...The decor
+00020db0: 6174 6f72 2061 6c73 6f20 7072 6f76 6964  ator also provid
+00020dc0: 6573 2061 2060 6361 6368 655f 636c 6561  es a `cache_clea
+00020dd0: 7228 2960 2066 756e 6374 696f 6e20 666f  r()` function fo
+00020de0: 7220 636c 6561 7269 6e67 206f 7220 696e  r clearing or in
+00020df0: 7661 6c69 6461 7469 6e67 2074 6865 2063  validating the c
+00020e00: 6163 6865 2e0a 0a54 6865 206f 7269 6769  ache...The origi
+00020e10: 6e61 6c20 756e 6465 726c 7969 6e67 2066  nal underlying f
+00020e20: 756e 6374 696f 6e20 6973 2061 6363 6573  unction is acces
+00020e30: 7369 626c 6520 7468 726f 7567 6820 7468  sible through th
+00020e40: 6520 605f 5f77 7261 7070 6564 5f5f 6020  e `__wrapped__` 
+00020e50: 6174 7472 6962 7574 652e 2054 6869 7320  attribute. This 
+00020e60: 6973 2075 7365 6675 6c20 666f 7220 696e  is useful for in
+00020e70: 7472 6f73 7065 6374 696f 6e2c 2066 6f72  trospection, for
+00020e80: 2062 7970 6173 7369 6e67 2074 6865 2063   bypassing the c
+00020e90: 6163 6865 2c20 6f72 2066 6f72 2072 6577  ache, or for rew
+00020ea0: 7261 7070 696e 6720 7468 6520 6675 6e63  rapping the func
+00020eb0: 7469 6f6e 2077 6974 6820 6120 6469 6666  tion with a diff
+00020ec0: 6572 656e 7420 6361 6368 652e 0a0a 5468  erent cache...Th
+00020ed0: 6520 6361 6368 6520 6b65 6570 7320 7265  e cache keeps re
+00020ee0: 6665 7265 6e63 6573 2074 6f20 7468 6520  ferences to the 
+00020ef0: 6172 6775 6d65 6e74 7320 616e 6420 7265  arguments and re
+00020f00: 7475 726e 2076 616c 7565 7320 756e 7469  turn values unti
+00020f10: 6c20 7468 6579 2061 6765 206f 7574 206f  l they age out o
+00020f20: 6620 7468 6520 6361 6368 6520 6f72 2075  f the cache or u
+00020f30: 6e74 696c 2074 6865 2063 6163 6865 2069  ntil the cache i
+00020f40: 7320 636c 6561 7265 642e 0a0a 4966 2061  s cleared...If a
+00020f50: 206d 6574 686f 6420 6973 2063 6163 6865   method is cache
+00020f60: 642c 2074 6865 2060 7365 6c66 6020 696e  d, the `self` in
+00020f70: 7374 616e 6365 2061 7267 756d 656e 7420  stance argument 
+00020f80: 6973 2069 6e63 6c75 6465 6420 696e 2074  is included in t
+00020f90: 6865 2063 6163 6865 2e20 5365 6520 5b48  he cache. See [H
+00020fa0: 6f77 2064 6f20 4920 6361 6368 6520 6d65  ow do I cache me
+00020fb0: 7468 6f64 2063 616c 6c73 3f5d 2868 7474  thod calls?](htt
+00020fc0: 7073 3a2f 2f64 6f63 732e 7079 7468 6f6e  ps://docs.python
+00020fd0: 2e6f 7267 2f33 2f66 6171 2f70 726f 6772  .org/3/faq/progr
+00020fe0: 616d 6d69 6e67 2e68 746d 6c23 6661 712d  amming.html#faq-
+00020ff0: 6361 6368 652d 6d65 7468 6f64 2d63 616c  cache-method-cal
+00021000: 6c73 290a 0a41 6e20 5b4c 5255 2028 6c65  ls)..An [LRU (le
+00021010: 6173 7420 7265 6365 6e74 6c79 2075 7365  ast recently use
+00021020: 6429 2063 6163 6865 5d28 6874 7470 733a  d) cache](https:
+00021030: 2f2f 656e 2e77 696b 6970 6564 6961 2e6f  //en.wikipedia.o
+00021040: 7267 2f77 696b 692f 4361 6368 655f 7265  rg/wiki/Cache_re
+00021050: 706c 6163 656d 656e 745f 706f 6c69 6369  placement_polici
+00021060: 6573 234c 6561 7374 5f72 6563 656e 746c  es#Least_recentl
+00021070: 795f 7573 6564 5f28 4c52 5529 2920 776f  y_used_(LRU)) wo
+00021080: 726b 7320 6265 7374 2077 6865 6e20 7468  rks best when th
+00021090: 6520 6d6f 7374 2072 6563 656e 7420 6361  e most recent ca
+000210a0: 6c6c 7320 6172 6520 7468 6520 6265 7374  lls are the best
+000210b0: 2070 7265 6469 6374 6f72 7320 6f66 2075   predictors of u
+000210c0: 7063 6f6d 696e 6720 6361 6c6c 7320 2866  pcoming calls (f
+000210d0: 6f72 2065 7861 6d70 6c65 2c20 7468 6520  or example, the 
+000210e0: 6d6f 7374 2070 6f70 756c 6172 2061 7274  most popular art
+000210f0: 6963 6c65 7320 6f6e 2061 206e 6577 7320  icles on a news 
+00021100: 7365 7276 6572 2074 656e 6420 746f 2063  server tend to c
+00021110: 6861 6e67 6520 6561 6368 2064 6179 292e  hange each day).
+00021120: 2054 6865 2063 6163 6865 e280 9973 2073   The cache...s s
+00021130: 697a 6520 6c69 6d69 7420 6173 7375 7265  ize limit assure
+00021140: 7320 7468 6174 2074 6865 2063 6163 6865  s that the cache
+00021150: 2064 6f65 7320 6e6f 7420 6772 6f77 2077   does not grow w
+00021160: 6974 686f 7574 2062 6f75 6e64 206f 6e20  ithout bound on 
+00021170: 6c6f 6e67 2d72 756e 6e69 6e67 2070 726f  long-running pro
+00021180: 6365 7373 6573 2073 7563 6820 6173 2077  cesses such as w
+00021190: 6562 2073 6572 7665 7273 2e0a 0a49 6e20  eb servers...In 
+000211a0: 6765 6e65 7261 6c2c 2074 6865 204c 5255  general, the LRU
+000211b0: 2063 6163 6865 2073 686f 756c 6420 6f6e   cache should on
+000211c0: 6c79 2062 6520 7573 6564 2077 6865 6e20  ly be used when 
+000211d0: 796f 7520 7761 6e74 2074 6f20 7265 7573  you want to reus
+000211e0: 6520 7072 6576 696f 7573 6c79 2063 6f6d  e previously com
+000211f0: 7075 7465 6420 7661 6c75 6573 2e20 4163  puted values. Ac
+00021200: 636f 7264 696e 676c 792c 2069 7420 646f  cordingly, it do
+00021210: 6573 6ee2 8099 7420 6d61 6b65 2073 656e  esn...t make sen
+00021220: 7365 2074 6f20 6361 6368 6520 6675 6e63  se to cache func
+00021230: 7469 6f6e 7320 7769 7468 2073 6964 652d  tions with side-
+00021240: 6566 6665 6374 732c 2066 756e 6374 696f  effects, functio
+00021250: 6e73 2074 6861 7420 6e65 6564 2074 6f20  ns that need to 
+00021260: 6372 6561 7465 2064 6973 7469 6e63 7420  create distinct 
+00021270: 6d75 7461 626c 6520 6f62 6a65 6374 7320  mutable objects 
+00021280: 6f6e 2065 6163 6820 6361 6c6c 2c20 6f72  on each call, or
+00021290: 2069 6d70 7572 6520 6675 6e63 7469 6f6e   impure function
+000212a0: 7320 7375 6368 2061 7320 7469 6d65 2829  s such as time()
+000212b0: 206f 7220 7261 6e64 6f6d 2829 2e0a 0a45   or random()...E
+000212c0: 7861 6d70 6c65 206f 6620 6566 6669 6369  xample of effici
+000212d0: 656e 746c 7920 636f 6d70 7574 696e 6720  ently computing 
+000212e0: 4669 626f 6e61 6363 6920 6e75 6d62 6572  Fibonacci number
+000212f0: 7320 7573 696e 6720 6120 6361 6368 6520  s using a cache 
+00021300: 746f 2069 6d70 6c65 6d65 6e74 2061 2064  to implement a d
+00021310: 796e 616d 6963 2070 726f 6772 616d 6d69  ynamic programmi
+00021320: 6e67 2074 6563 686e 6971 7565 3a0a 6060  ng technique:.``
+00021330: 6063 6f63 6f6e 7574 5f70 7963 6f6e 0a40  `coconut_pycon.@
+00021340: 6d65 6d6f 697a 650a 6465 6620 6669 6228  memoize.def fib(
+00021350: 6e29 3a0a 2020 2020 6966 206e 203c 2032  n):.    if n < 2
+00021360: 3a0a 2020 2020 2020 2020 7265 7475 726e  :.        return
+00021370: 206e 0a20 2020 2072 6574 7572 6e20 6669   n.    return fi
+00021380: 6228 6e2d 3129 202b 2066 6962 286e 2d32  b(n-1) + fib(n-2
+00021390: 290a 0a3e 3e3e 205b 6669 6228 6e29 2066  )..>>> [fib(n) f
+000213a0: 6f72 206e 2069 6e20 7261 6e67 6528 3136  or n in range(16
+000213b0: 295d 0a5b 302c 2031 2c20 312c 2032 2c20  )].[0, 1, 1, 2, 
+000213c0: 332c 2035 2c20 382c 2031 332c 2032 312c  3, 5, 8, 13, 21,
+000213d0: 2033 342c 2035 352c 2038 392c 2031 3434   34, 55, 89, 144
+000213e0: 2c20 3233 332c 2033 3737 2c20 3631 305d  , 233, 377, 610]
+000213f0: 0a0a 3e3e 3e20 6669 622e 6361 6368 655f  ..>>> fib.cache_
+00021400: 696e 666f 2829 0a43 6163 6865 496e 666f  info().CacheInfo
+00021410: 2868 6974 733d 3238 2c20 6d69 7373 6573  (hits=28, misses
+00021420: 3d31 362c 206d 6178 7369 7a65 3d4e 6f6e  =16, maxsize=Non
+00021430: 652c 2063 7572 7273 697a 653d 3136 290a  e, currsize=16).
+00021440: 6060 600a 0a23 2323 2323 2045 7861 6d70  ```..##### Examp
+00021450: 6c65 0a0a 2a2a 436f 636f 6e75 743a 2a2a  le..**Coconut:**
+00021460: 0a60 6060 636f 636f 6e75 740a 6465 6620  .```coconut.def 
+00021470: 6669 6228 6e20 6966 206e 203c 2032 2920  fib(n if n < 2) 
+00021480: 3d20 6e0a 0a40 6d65 6d6f 697a 650a 4061  = n..@memoize.@a
+00021490: 6464 7061 7474 6572 6e28 6669 6229 0a64  ddpattern(fib).d
+000214a0: 6566 2066 6962 286e 2920 3d20 6669 6228  ef fib(n) = fib(
+000214b0: 6e2d 3129 202b 2066 6962 286e 2d32 290a  n-1) + fib(n-2).
+000214c0: 6060 600a 0a2a 2a50 7974 686f 6e3a 2a2a  ```..**Python:**
+000214d0: 0a60 6060 636f 636f 6e75 745f 7079 7468  .```coconut_pyth
+000214e0: 6f6e 0a74 7279 3a0a 2020 2020 6672 6f6d  on.try:.    from
+000214f0: 2066 756e 6374 6f6f 6c73 2069 6d70 6f72   functools impor
+00021500: 7420 6c72 755f 6361 6368 650a 6578 6365  t lru_cache.exce
+00021510: 7074 2049 6d70 6f72 7445 7272 6f72 3a0a  pt ImportError:.
+00021520: 2020 2020 6672 6f6d 2062 6163 6b70 6f72      from backpor
+00021530: 7473 2e66 756e 6374 6f6f 6c73 5f6c 7275  ts.functools_lru
+00021540: 5f63 6163 6865 2069 6d70 6f72 7420 6c72  _cache import lr
+00021550: 755f 6361 6368 650a 406c 7275 5f63 6163  u_cache.@lru_cac
+00021560: 6865 286d 6178 7369 7a65 3d4e 6f6e 6529  he(maxsize=None)
+00021570: 0a64 6566 2066 6962 286e 293a 0a20 2020  .def fib(n):.   
+00021580: 2069 6620 6e20 3c20 323a 0a20 2020 2020   if n < 2:.     
+00021590: 2020 2072 6574 7572 6e20 6e0a 2020 2020     return n.    
+000215a0: 7265 7475 726e 2066 6962 286e 2d31 2920  return fib(n-1) 
+000215b0: 2b20 6669 6228 6e2d 3229 0a60 6060 0a0a  + fib(n-2).```..
+000215c0: 2323 2323 2060 6f76 6572 7269 6465 600a  #### `override`.
+000215d0: 0a2a 2a6f 7665 7272 6964 652a 2a28 5f66  .**override**(_f
+000215e0: 756e 635f 290a 0a43 6f63 6f6e 7574 2070  unc_)..Coconut p
+000215f0: 726f 7669 6465 7320 7468 6520 6040 6f76  rovides the `@ov
+00021600: 6572 7269 6465 6020 6465 636f 7261 746f  erride` decorato
+00021610: 7220 746f 2061 6c6c 6f77 2064 6563 6c61  r to allow decla
+00021620: 7269 6e67 2061 206d 6574 686f 6420 6465  ring a method de
+00021630: 6669 6e69 7469 6f6e 2069 6e20 6120 7375  finition in a su
+00021640: 6263 6c61 7373 2061 7320 616e 206f 7665  bclass as an ove
+00021650: 7272 6964 6520 6f66 2073 6f6d 6520 7061  rride of some pa
+00021660: 7265 6e74 2063 6c61 7373 206d 6574 686f  rent class metho
+00021670: 642e 2057 6865 6e20 6040 6f76 6572 7269  d. When `@overri
+00021680: 6465 6020 6973 2075 7365 6420 6f6e 2061  de` is used on a
+00021690: 206d 6574 686f 642c 2069 6620 6120 6d65   method, if a me
+000216a0: 7468 6f64 206f 6620 7468 6520 7361 6d65  thod of the same
+000216b0: 206e 616d 6520 646f 6573 206e 6f74 2065   name does not e
+000216c0: 7869 7374 206f 6e20 736f 6d65 2070 6172  xist on some par
+000216d0: 656e 7420 636c 6173 732c 2074 6865 2063  ent class, the c
+000216e0: 6c61 7373 2064 6566 696e 6974 696f 6e20  lass definition 
+000216f0: 7769 6c6c 2072 6169 7365 2061 2060 5275  will raise a `Ru
+00021700: 6e74 696d 6545 7272 6f72 602e 0a0a 4164  ntimeError`...Ad
+00021710: 6469 7469 6f6e 616c 6c79 2c20 606f 7665  ditionally, `ove
+00021720: 7272 6964 6560 2077 696c 6c20 7072 6573  rride` will pres
+00021730: 656e 7420 746f 2074 7970 6520 6368 6563  ent to type chec
+00021740: 6b65 7273 2061 7320 5b60 7479 7069 6e67  kers as [`typing
+00021750: 5f65 7874 656e 7369 6f6e 732e 6f76 6572  _extensions.over
+00021760: 7269 6465 605d 2868 7474 7073 3a2f 2f70  ride`](https://p
+00021770: 7970 692e 6f72 672f 7072 6f6a 6563 742f  ypi.org/project/
+00021780: 7479 7069 6e67 2d65 7874 656e 7369 6f6e  typing-extension
+00021790: 732f 292e 0a0a 2323 2323 2320 4578 616d  s/)...##### Exam
+000217a0: 706c 650a 0a2a 2a43 6f63 6f6e 7574 3a2a  ple..**Coconut:*
+000217b0: 2a0a 6060 6063 6f63 6f6e 7574 0a63 6c61  *.```coconut.cla
+000217c0: 7373 2041 3a0a 2020 2020 7820 3d20 310a  ss A:.    x = 1.
+000217d0: 2020 2020 6465 6620 6628 7365 6c66 2c20      def f(self, 
+000217e0: 7929 203d 2073 656c 662e 7820 2b20 790a  y) = self.x + y.
+000217f0: 0a63 6c61 7373 2042 3a0a 2020 2020 406f  .class B:.    @o
+00021800: 7665 7272 6964 650a 2020 2020 6465 6620  verride.    def 
+00021810: 6628 7365 6c66 2c20 7929 203d 2073 656c  f(self, y) = sel
+00021820: 662e 7820 2b20 7920 2b20 310a 6060 600a  f.x + y + 1.```.
+00021830: 0a2a 2a50 7974 686f 6e3a 2a2a 0a5f 4361  .**Python:**._Ca
+00021840: 6e27 7420 6265 2064 6f6e 6520 7769 7468  n't be done with
+00021850: 6f75 7420 6120 6c6f 6e67 2064 6563 6f72  out a long decor
+00021860: 6174 6f72 2064 6566 696e 6974 696f 6e2e  ator definition.
+00021870: 2054 6865 2066 756c 6c20 6465 6669 6e69   The full defini
+00021880: 7469 6f6e 206f 6620 7468 6520 6465 636f  tion of the deco
+00021890: 7261 746f 7220 696e 2050 7974 686f 6e20  rator in Python 
+000218a0: 6361 6e20 6265 2066 6f75 6e64 2069 6e20  can be found in 
+000218b0: 7468 6520 436f 636f 6e75 7420 6865 6164  the Coconut head
+000218c0: 6572 2e5f 0a0a 2323 2323 2060 7265 6375  er._..#### `recu
+000218d0: 7273 6976 655f 6974 6572 6174 6f72 600a  rsive_iterator`.
+000218e0: 0a2a 2a72 6563 7572 7369 7665 5c5f 6974  .**recursive\_it
+000218f0: 6572 6174 6f72 2a2a 285f 6675 6e63 5f29  erator**(_func_)
+00021900: 0a0a 436f 636f 6e75 7420 7072 6f76 6964  ..Coconut provid
+00021910: 6573 2061 2060 7265 6375 7273 6976 655f  es a `recursive_
+00021920: 6974 6572 6174 6f72 6020 6465 636f 7261  iterator` decora
+00021930: 746f 7220 7468 6174 206d 656d 6f69 7a65  tor that memoize
+00021940: 7320 616e 7920 7374 6174 656c 6573 732c  s any stateless,
+00021950: 2072 6563 7572 7369 7665 2066 756e 6374   recursive funct
+00021960: 696f 6e20 7468 6174 2072 6574 7572 6e73  ion that returns
+00021970: 2061 6e20 6974 6572 6174 6f72 2e20 546f   an iterator. To
+00021980: 2075 7365 2060 7265 6375 7273 6976 655f   use `recursive_
+00021990: 6974 6572 6174 6f72 6020 6f6e 2061 2066  iterator` on a f
+000219a0: 756e 6374 696f 6e2c 2069 7420 6d75 7374  unction, it must
+000219b0: 206d 6565 7420 7468 6520 666f 6c6c 6f77   meet the follow
+000219c0: 696e 6720 6372 6974 6572 6961 3a0a 0a31  ing criteria:..1
+000219d0: 2e20 796f 7572 2066 756e 6374 696f 6e20  . your function 
+000219e0: 6569 7468 6572 2061 6c77 6179 7320 6072  either always `r
+000219f0: 6574 7572 6e60 7320 616e 2069 7465 7261  eturn`s an itera
+00021a00: 746f 7220 6f72 2067 656e 6572 6174 6573  tor or generates
+00021a10: 2061 6e20 6974 6572 6174 6f72 2075 7369   an iterator usi
+00021a20: 6e67 2060 7969 656c 6460 2c0a 322e 2077  ng `yield`,.2. w
+00021a30: 6865 6e20 6361 6c6c 6564 206d 756c 7469  hen called multi
+00021a40: 706c 6520 7469 6d65 7320 7769 7468 2061  ple times with a
+00021a50: 7267 756d 656e 7473 2074 6861 7420 6172  rguments that ar
+00021a60: 6520 6571 7561 6c2c 2079 6f75 7220 6675  e equal, your fu
+00021a70: 6e63 7469 6f6e 2070 726f 6475 6365 7320  nction produces 
+00021a80: 7468 6520 7361 6d65 2069 7465 7261 746f  the same iterato
+00021a90: 7220 2879 6f75 7220 6675 6e63 7469 6f6e  r (your function
+00021aa0: 2069 7320 7374 6174 656c 6573 7329 2c20   is stateless), 
+00021ab0: 616e 640a 332e 2079 6f75 7220 6675 6e63  and.3. your func
+00021ac0: 7469 6f6e 2067 6574 7320 6361 6c6c 6564  tion gets called
+00021ad0: 2028 7573 7561 6c6c 7920 6361 6c6c 7320   (usually calls 
+00021ae0: 6974 7365 6c66 2920 6d75 6c74 6970 6c65  itself) multiple
+00021af0: 2074 696d 6573 2077 6974 6820 7468 6520   times with the 
+00021b00: 7361 6d65 2061 7267 756d 656e 7473 2e0a  same arguments..
+00021b10: 0a49 6620 796f 7520 6172 6520 656e 636f  .If you are enco
+00021b20: 756e 7465 7269 6e67 2061 2060 5275 6e74  untering a `Runt
+00021b30: 696d 6545 7272 6f72 6020 6475 6520 746f  imeError` due to
+00021b40: 206d 6178 696d 756d 2072 6563 7572 7369   maximum recursi
+00021b50: 6f6e 2064 6570 7468 2c20 6974 2069 7320  on depth, it is 
+00021b60: 6869 6768 6c79 2072 6563 6f6d 6d65 6e64  highly recommend
+00021b70: 6564 2074 6861 7420 796f 7520 7265 7772  ed that you rewr
+00021b80: 6974 6520 796f 7572 2066 756e 6374 696f  ite your functio
+00021b90: 6e20 746f 206d 6565 7420 6569 7468 6572  n to meet either
+00021ba0: 2074 6865 2063 7269 7465 7269 6120 6162   the criteria ab
+00021bb0: 6f76 6520 666f 7220 6072 6563 7572 7369  ove for `recursi
+00021bc0: 7665 5f69 7465 7261 746f 7260 2c20 6f72  ve_iterator`, or
+00021bd0: 2074 6865 2063 6f72 7265 7370 6f6e 6469   the correspondi
+00021be0: 6e67 2063 7269 7465 7269 6120 666f 7220  ng criteria for 
+00021bf0: 436f 636f 6e75 7427 7320 5b74 6169 6c20  Coconut's [tail 
+00021c00: 6361 6c6c 206f 7074 696d 697a 6174 696f  call optimizatio
+00021c10: 6e5d 2823 7461 696c 2d63 616c 6c2d 6f70  n](#tail-call-op
+00021c20: 7469 6d69 7a61 7469 6f6e 292c 2065 6974  timization), eit
+00021c30: 6865 7220 6f66 2077 6869 6368 2073 686f  her of which sho
+00021c40: 756c 6420 7072 6576 656e 7420 7375 6368  uld prevent such
+00021c50: 2065 7272 6f72 732e 0a0a 4675 7274 6865   errors...Furthe
+00021c60: 726d 6f72 652c 2060 7265 6375 7273 6976  rmore, `recursiv
+00021c70: 655f 6974 6572 6174 6f72 6020 616c 736f  e_iterator` also
+00021c80: 2061 6c6c 6f77 7320 7468 6520 7265 736f   allows the reso
+00021c90: 6c75 7469 6f6e 206f 6620 6120 5b6e 6173  lution of a [nas
+00021ca0: 7479 2073 6567 6d65 6e74 6174 696f 6e20  ty segmentation 
+00021cb0: 6661 756c 7420 696e 2050 7974 686f 6e27  fault in Python'
+00021cc0: 7320 6974 6572 6174 6f72 206c 6f67 6963  s iterator logic
+00021cd0: 2074 6861 7420 6861 7320 6e65 7665 7220   that has never 
+00021ce0: 6265 656e 2066 6978 6564 5d28 6874 7470  been fixed](http
+00021cf0: 3a2f 2f62 7567 732e 7079 7468 6f6e 2e6f  ://bugs.python.o
+00021d00: 7267 2f69 7373 7565 3134 3031 3029 2e20  rg/issue14010). 
+00021d10: 5370 6563 6966 6963 616c 6c79 2c20 696e  Specifically, in
+00021d20: 7374 6561 6420 6f66 2077 7269 7469 6e67  stead of writing
+00021d30: 0a60 6060 636f 636f 6e75 740a 7365 7120  .```coconut.seq 
+00021d40: 3d20 6765 745f 656c 656d 2829 203a 3a20  = get_elem() :: 
+00021d50: 7365 710a 6060 600a 7768 6963 6820 7769  seq.```.which wi
+00021d60: 6c6c 2063 7261 7368 2064 7565 2074 6f20  ll crash due to 
+00021d70: 7468 6520 6166 6f72 656d 656e 7469 6f6e  the aforemention
+00021d80: 6564 2050 7974 686f 6e20 6973 7375 652c  ed Python issue,
+00021d90: 2077 7269 7465 0a60 6060 636f 636f 6e75   write.```coconu
+00021da0: 740a 4072 6563 7572 7369 7665 5f69 7465  t.@recursive_ite
+00021db0: 7261 746f 720a 6465 6620 7365 7128 2920  rator.def seq() 
+00021dc0: 3d20 6765 745f 656c 656d 2829 203a 3a20  = get_elem() :: 
+00021dd0: 7365 7128 290a 6060 600a 7768 6963 6820  seq().```.which 
+00021de0: 7769 6c6c 2077 6f72 6b20 6a75 7374 2066  will work just f
+00021df0: 696e 652e 0a0a 4f6e 6520 7069 7466 616c  ine...One pitfal
+00021e00: 6c20 746f 206b 6565 7020 696e 206d 696e  l to keep in min
+00021e10: 6420 776f 726b 696e 6720 7769 7468 2060  d working with `
+00021e20: 7265 6375 7273 6976 655f 6974 6572 6174  recursive_iterat
+00021e30: 6f72 6020 6973 2074 6861 7420 6974 2073  or` is that it s
+00021e40: 686f 756c 646e 2774 2062 6520 7573 6564  houldn't be used
+00021e50: 2069 6e20 636f 6e74 6578 7473 2077 6865   in contexts whe
+00021e60: 7265 2074 6865 2066 756e 6374 696f 6e20  re the function 
+00021e70: 6361 6e20 706f 7465 6e74 6961 6c6c 7920  can potentially 
+00021e80: 6265 2063 616c 6c65 6420 6d75 6c74 6970  be called multip
+00021e90: 6c65 2074 696d 6573 2077 6974 6820 7468  le times with th
+00021ea0: 6520 7361 6d65 2069 7465 7261 746f 7220  e same iterator 
+00021eb0: 6f62 6a65 6374 2061 7320 616e 2069 6e70  object as an inp
+00021ec0: 7574 2c20 6275 7420 7769 7468 2074 6861  ut, but with tha
+00021ed0: 7420 6f62 6a65 6374 206e 6f74 2061 6374  t object not act
+00021ee0: 7561 6c6c 7920 636f 7272 6573 706f 6e64  ually correspond
+00021ef0: 696e 6720 746f 2074 6865 2073 616d 6520  ing to the same 
+00021f00: 6974 656d 7320 2865 2e67 2e20 6265 6361  items (e.g. beca
+00021f10: 7573 6520 7468 6520 6669 7273 7420 7469  use the first ti
+00021f20: 6d65 2074 6865 206f 626a 6563 7420 6861  me the object ha
+00021f30: 736e 2774 2062 6565 6e20 6974 6572 6174  sn't been iterat
+00021f40: 6564 206f 7665 7220 7965 7420 616e 6420  ed over yet and 
+00021f50: 7468 6520 7365 636f 6e64 2074 696d 6520  the second time 
+00021f60: 6974 2068 6173 2062 6565 6e29 2e0a 0a23  it has been)...#
+00021f70: 2323 2323 2045 7861 6d70 6c65 0a0a 2a2a  #### Example..**
+00021f80: 436f 636f 6e75 743a 2a2a 0a60 6060 636f  Coconut:**.```co
+00021f90: 636f 6e75 740a 4072 6563 7572 7369 7665  conut.@recursive
+00021fa0: 5f69 7465 7261 746f 720a 6465 6620 6669  _iterator.def fi
+00021fb0: 6228 2920 3d20 2831 2c20 3129 203a 3a20  b() = (1, 1) :: 
+00021fc0: 6d61 7028 282b 292c 2066 6962 2829 2c20  map((+), fib(), 
+00021fd0: 6669 6228 2924 5b31 3a5d 290a 6060 600a  fib()$[1:]).```.
+00021fe0: 0a2a 2a50 7974 686f 6e3a 2a2a 0a5f 4361  .**Python:**._Ca
+00021ff0: 6e27 7420 6265 2064 6f6e 6520 7769 7468  n't be done with
+00022000: 6f75 7420 6120 6c6f 6e67 2064 6563 6f72  out a long decor
+00022010: 6174 6f72 2064 6566 696e 6974 696f 6e2e  ator definition.
+00022020: 2054 6865 2066 756c 6c20 6465 6669 6e69   The full defini
+00022030: 7469 6f6e 206f 6620 7468 6520 6465 636f  tion of the deco
+00022040: 7261 746f 7220 696e 2050 7974 686f 6e20  rator in Python 
+00022050: 6361 6e20 6265 2066 6f75 6e64 2069 6e20  can be found in 
+00022060: 7468 6520 436f 636f 6e75 7420 6865 6164  the Coconut head
+00022070: 6572 2e5f 0a0a 2323 2320 4275 696c 742d  er._..### Built-
+00022080: 496e 2054 7970 6573 0a0a 6060 607b 636f  In Types..```{co
+00022090: 6e74 656e 7473 7d0a 2d2d 2d0a 6c6f 6361  ntents}.---.loca
+000220a0: 6c3a 0a64 6570 7468 3a20 310a 2d2d 2d0a  l:.depth: 1.---.
+000220b0: 6060 600a 0a23 2323 2320 606d 756c 7469  ```..#### `multi
+000220c0: 7365 7460 0a0a 2a2a 6d75 6c74 6973 6574  set`..**multiset
+000220d0: 2a2a 285f 6974 6572 6162 6c65 5f3d 604e  **(_iterable_=`N
+000220e0: 6f6e 6560 2c20 2f2c 202a 2a6b 7764 7329  one`, /, **kwds)
+000220f0: 0a0a 436f 636f 6e75 7420 7072 6f76 6964  ..Coconut provid
+00022100: 6573 2060 6d75 6c74 6973 6574 6020 6173  es `multiset` as
+00022110: 2061 2062 7569 6c74 2d69 6e20 7375 6263   a built-in subc
+00022120: 6c61 7373 206f 6620 5b60 636f 6c6c 6563  lass of [`collec
+00022130: 7469 6f6e 732e 436f 756e 7465 7260 5d28  tions.Counter`](
+00022140: 6874 7470 733a 2f2f 646f 6373 2e70 7974  https://docs.pyt
+00022150: 686f 6e2e 6f72 672f 332f 6c69 6272 6172  hon.org/3/librar
+00022160: 792f 636f 6c6c 6563 7469 6f6e 732e 6874  y/collections.ht
+00022170: 6d6c 2363 6f6c 6c65 6374 696f 6e73 2e43  ml#collections.C
+00022180: 6f75 6e74 6572 2920 7468 6174 2061 6464  ounter) that add
+00022190: 6974 696f 6e61 6c6c 7920 696d 706c 656d  itionally implem
+000221a0: 656e 7473 2074 6865 2066 756c 6c20 5b53  ents the full [S
+000221b0: 6574 2061 6e64 204d 7574 6162 6c65 5365  et and MutableSe
+000221c0: 7420 696e 7465 7266 6163 6573 5d28 6874  t interfaces](ht
+000221d0: 7470 733a 2f2f 646f 6373 2e70 7974 686f  tps://docs.pytho
+000221e0: 6e2e 6f72 672f 332f 6c69 6272 6172 792f  n.org/3/library/
+000221f0: 636f 6c6c 6563 7469 6f6e 732e 6162 632e  collections.abc.
+00022200: 6874 6d6c 292e 0a0a 466f 7220 6561 7369  html)...For easi
+00022210: 6c79 2063 6f6e 7374 7275 6374 696e 6720  ly constructing 
+00022220: 6d75 6c74 6973 6574 732c 2043 6f63 6f6e  multisets, Cocon
+00022230: 7574 2061 6c73 6f20 7072 6f76 6964 6573  ut also provides
+00022240: 205b 6d75 6c74 6973 6574 206c 6974 6572   [multiset liter
+00022250: 616c 735d 2823 7365 742d 6c69 7465 7261  als](#set-litera
+00022260: 6c73 292e 0a0a 5468 6520 6e65 7720 6d65  ls)...The new me
+00022270: 7468 6f64 7320 7072 6f76 6964 6564 2062  thods provided b
+00022280: 7920 606d 756c 7469 7365 7460 206f 6e20  y `multiset` on 
+00022290: 746f 7020 6f66 2060 636f 6c6c 6563 7469  top of `collecti
+000222a0: 6f6e 732e 436f 756e 7465 7260 2061 7265  ons.Counter` are
+000222b0: 3a0a 2d20 6d75 6c74 6973 6574 2e2a 2a61  :.- multiset.**a
+000222c0: 6464 2a2a 285f 6974 656d 5f29 3a20 4164  dd**(_item_): Ad
+000222d0: 6420 616e 2065 6c65 6d65 6e74 2074 6f20  d an element to 
+000222e0: 6120 6d75 6c74 6973 6574 2e0a 2d20 6d75  a multiset..- mu
+000222f0: 6c74 6973 6574 2e2a 2a64 6973 6361 7264  ltiset.**discard
+00022300: 2a2a 285f 6974 656d 5f29 3a20 5265 6d6f  **(_item_): Remo
+00022310: 7665 2061 6e20 656c 656d 656e 7420 6672  ve an element fr
+00022320: 6f6d 2061 206d 756c 7469 7365 7420 6966  om a multiset if
+00022330: 2069 7420 6973 2061 206d 656d 6265 722e   it is a member.
+00022340: 0a2d 206d 756c 7469 7365 742e 2a2a 7265  .- multiset.**re
+00022350: 6d6f 7665 2a2a 285f 6974 656d 5f29 3a20  move**(_item_): 
+00022360: 5265 6d6f 7665 2061 6e20 656c 656d 656e  Remove an elemen
+00022370: 7420 6672 6f6d 2061 206d 756c 7469 7365  t from a multise
+00022380: 743b 2069 7420 6d75 7374 2062 6520 6120  t; it must be a 
+00022390: 6d65 6d62 6572 2e0a 2d20 6d75 6c74 6973  member..- multis
+000223a0: 6574 2e2a 2a69 7364 6973 6a6f 696e 742a  et.**isdisjoint*
+000223b0: 2a28 5f6f 7468 6572 5f29 3a20 5265 7475  *(_other_): Retu
+000223c0: 726e 2054 7275 6520 6966 2074 776f 206d  rn True if two m
+000223d0: 756c 7469 7365 7473 2068 6176 6520 6120  ultisets have a 
+000223e0: 6e75 6c6c 2069 6e74 6572 7365 6374 696f  null intersectio
+000223f0: 6e2e 0a2d 206d 756c 7469 7365 742e 2a2a  n..- multiset.**
+00022400: 5c5f 5c5f 786f 725c 5f5c 5f2a 2a28 5f6f  \_\_xor\_\_**(_o
+00022410: 7468 6572 5f29 3a20 5265 7475 726e 2074  ther_): Return t
+00022420: 6865 2073 796d 6d65 7472 6963 2064 6966  he symmetric dif
+00022430: 6665 7265 6e63 6520 6f66 2074 776f 206d  ference of two m
+00022440: 756c 7469 7365 7473 2061 7320 6120 6e65  ultisets as a ne
+00022450: 7720 6d75 6c74 6973 6574 2e20 5370 6563  w multiset. Spec
+00022460: 6966 6963 616c 6c79 3a20 6061 205e 2062  ifically: `a ^ b
+00022470: 203d 2028 6120 2d20 6229 207c 2028 6220   = (a - b) | (b 
+00022480: 2d20 6129 600a 2d20 6d75 6c74 6973 6574  - a)`.- multiset
+00022490: 2e2a 2a63 6f75 6e74 2a2a 285f 6974 656d  .**count**(_item
+000224a0: 5f29 3a20 5265 7475 726e 2074 6865 206e  _): Return the n
+000224b0: 756d 6265 7220 6f66 2074 696d 6573 2061  umber of times a
+000224c0: 6e20 656c 656d 656e 7420 6f63 6375 7273  n element occurs
+000224d0: 2069 6e20 6120 6d75 6c74 6973 6574 2e20   in a multiset. 
+000224e0: 4571 7569 7661 6c65 6e74 2074 6f20 606d  Equivalent to `m
+000224f0: 756c 7469 7365 745b 6974 656d 5d60 2c20  ultiset[item]`, 
+00022500: 6275 7420 6164 6469 7469 6f6e 616c 6c79  but additionally
+00022510: 2076 6572 6966 6965 7320 7468 6520 636f   verifies the co
+00022520: 756e 7420 6973 206e 6f6e 2d6e 6567 6174  unt is non-negat
+00022530: 6976 652e 0a2d 206d 756c 7469 7365 742e  ive..- multiset.
+00022540: 2a2a 5c5f 5c5f 666d 6170 5c5f 5c5f 2a2a  **\_\_fmap\_\_**
+00022550: 285f 6675 6e63 5f29 3a20 4170 706c 7920  (_func_): Apply 
+00022560: 6120 6675 6e63 7469 6f6e 2074 6f20 7468  a function to th
+00022570: 6520 636f 6e74 656e 7473 206f 6620 7468  e contents of th
+00022580: 6520 6d75 6c74 6973 6574 2c20 7072 6573  e multiset, pres
+00022590: 6572 7669 6e67 2063 6f75 6e74 733b 206d  erving counts; m
+000225a0: 6167 6963 206d 6574 686f 6420 666f 7220  agic method for 
+000225b0: 5b60 666d 6170 605d 2823 666d 6170 292e  [`fmap`](#fmap).
+000225c0: 0a0a 436f 636f 6e75 7420 616c 736f 2065  ..Coconut also e
+000225d0: 6e73 7572 6573 2074 6861 7420 606d 756c  nsures that `mul
+000225e0: 7469 7365 7460 2073 7570 706f 7274 7320  tiset` supports 
+000225f0: 5b72 6963 6820 636f 6d70 6172 6973 6f6e  [rich comparison
+00022600: 7320 616e 6420 6043 6f75 6e74 6572 2e74  s and `Counter.t
+00022610: 6f74 616c 2829 605d 2868 7474 7073 3a2f  otal()`](https:/
+00022620: 2f64 6f63 732e 7079 7468 6f6e 2e6f 7267  /docs.python.org
+00022630: 2f33 2f6c 6962 7261 7279 2f63 6f6c 6c65  /3/library/colle
+00022640: 6374 696f 6e73 2e68 746d 6c23 636f 6c6c  ctions.html#coll
+00022650: 6563 7469 6f6e 732e 436f 756e 7465 7229  ections.Counter)
+00022660: 206f 6e20 616c 6c20 5079 7468 6f6e 2076   on all Python v
+00022670: 6572 7369 6f6e 732e 0a0a 2323 2323 2320  ersions...##### 
+00022680: 4578 616d 706c 650a 0a2a 2a43 6f63 6f6e  Example..**Cocon
+00022690: 7574 3a2a 2a0a 6060 6063 6f63 6f6e 7574  ut:**.```coconut
+000226a0: 0a6d 795f 6d75 6c74 6973 6574 203d 206d  .my_multiset = m
+000226b0: 7b31 2c20 312c 2032 7d0a 6d79 5f6d 756c  {1, 1, 2}.my_mul
+000226c0: 7469 7365 742e 6164 6428 3329 0a6d 795f  tiset.add(3).my_
+000226d0: 6d75 6c74 6973 6574 2e72 656d 6f76 6528  multiset.remove(
+000226e0: 3229 0a70 7269 6e74 286d 795f 6d75 6c74  2).print(my_mult
+000226f0: 6973 6574 290a 6060 600a 0a2a 2a50 7974  iset).```..**Pyt
+00022700: 686f 6e3a 2a2a 0a60 6060 636f 636f 6e75  hon:**.```coconu
+00022710: 745f 7079 7468 6f6e 0a66 726f 6d20 636f  t_python.from co
+00022720: 6c6c 6563 7469 6f6e 7320 696d 706f 7274  llections import
+00022730: 2043 6f75 6e74 6572 0a6d 795f 636f 756e   Counter.my_coun
+00022740: 7465 7220 3d20 436f 756e 7465 7228 2831  ter = Counter((1
+00022750: 2c20 312c 2032 2929 0a6d 795f 636f 756e  , 1, 2)).my_coun
+00022760: 7465 725b 335d 202b 3d20 310a 6d79 5f63  ter[3] += 1.my_c
+00022770: 6f75 6e74 6572 5b32 5d20 2d3d 2031 0a69  ounter[2] -= 1.i
+00022780: 6620 6d79 5f63 6f75 6e74 6572 5b32 5d20  f my_counter[2] 
+00022790: 3c3d 2030 3a0a 2020 2020 6465 6c20 6d79  <= 0:.    del my
+000227a0: 5f63 6f75 6e74 6572 5b32 5d0a 7072 696e  _counter[2].prin
+000227b0: 7428 6d79 5f63 6f75 6e74 6572 290a 6060  t(my_counter).``
+000227c0: 600a 0a23 2323 2320 6045 7870 6563 7465  `..#### `Expecte
+000227d0: 6460 0a0a 2a2a 4578 7065 6374 6564 2a2a  d`..**Expected**
+000227e0: 285f 7265 7375 6c74 5f3d 604e 6f6e 6560  (_result_=`None`
+000227f0: 2c20 5f65 7272 6f72 5f3d 604e 6f6e 6560  , _error_=`None`
+00022800: 290a 0a43 6f63 6f6e 7574 2773 2060 4578  )..Coconut's `Ex
+00022810: 7065 6374 6564 6020 6275 696c 742d 696e  pected` built-in
+00022820: 2069 7320 6120 436f 636f 6e75 7420 5b60   is a Coconut [`
+00022830: 6461 7461 6020 7479 7065 5d28 2364 6174  data` type](#dat
+00022840: 6129 2074 6861 7420 7265 7072 6573 656e  a) that represen
+00022850: 7473 2061 2076 616c 7565 2074 6861 7420  ts a value that 
+00022860: 6d61 7920 6f72 206d 6179 206e 6f74 2062  may or may not b
+00022870: 6520 616e 2065 7272 6f72 2c20 7369 6d69  e an error, simi
+00022880: 6c61 7220 746f 2048 6173 6b65 6c6c 2773  lar to Haskell's
+00022890: 205b 6045 6974 6865 7260 5d28 6874 7470   [`Either`](http
+000228a0: 733a 2f2f 6861 636b 6167 652e 6861 736b  s://hackage.hask
+000228b0: 656c 6c2e 6f72 672f 7061 636b 6167 652f  ell.org/package/
+000228c0: 6261 7365 2d34 2e31 372e 302e 302f 646f  base-4.17.0.0/do
+000228d0: 6373 2f44 6174 612d 4569 7468 6572 2e68  cs/Data-Either.h
+000228e0: 746d 6c29 2e0a 0a60 4578 7065 6374 6564  tml)...`Expected
+000228f0: 6020 6973 2065 6666 6563 7469 7665 6c79  ` is effectively
+00022900: 2065 7175 6976 616c 656e 7420 746f 2074   equivalent to t
+00022910: 6865 2066 6f6c 6c6f 7769 6e67 3a0a 6060  he following:.``
+00022920: 6063 6f63 6f6e 7574 0a64 6174 6120 4578  `coconut.data Ex
+00022930: 7065 6374 6564 5b54 5d28 7265 7375 6c74  pected[T](result
+00022940: 3a20 543f 203d 204e 6f6e 652c 2065 7272  : T? = None, err
+00022950: 6f72 3a20 4261 7365 4578 6365 7074 696f  or: BaseExceptio
+00022960: 6e3f 203d 204e 6f6e 6529 3a0a 2020 2020  n? = None):.    
+00022970: 6465 6620 5f5f 626f 6f6c 5f5f 2873 656c  def __bool__(sel
+00022980: 6629 202d 3e20 626f 6f6c 3a0a 2020 2020  f) -> bool:.    
+00022990: 2020 2020 7265 7475 726e 2073 656c 662e      return self.
+000229a0: 6572 726f 7220 6973 204e 6f6e 650a 2020  error is None.  
+000229b0: 2020 6465 6620 5f5f 666d 6170 5f5f 5b55    def __fmap__[U
+000229c0: 5d28 7365 6c66 2c20 6675 6e63 3a20 5420  ](self, func: T 
+000229d0: 2d3e 2055 2920 2d3e 2045 7870 6563 7465  -> U) -> Expecte
+000229e0: 645b 555d 3a0a 2020 2020 2020 2020 7265  d[U]:.        re
+000229f0: 7475 726e 2073 656c 662e 5f5f 636c 6173  turn self.__clas
+00022a00: 735f 5f28 6675 6e63 2873 656c 662e 7265  s__(func(self.re
+00022a10: 7375 6c74 2929 2069 6620 7365 6c66 2065  sult)) if self e
+00022a20: 6c73 6520 7365 6c66 0a20 2020 2064 6566  lse self.    def
+00022a30: 2061 6e64 5f74 6865 6e5b 555d 2873 656c   and_then[U](sel
+00022a40: 662c 2066 756e 633a 2054 202d 3e20 4578  f, func: T -> Ex
+00022a50: 7065 6374 6564 5b55 5d29 202d 3e20 4578  pected[U]) -> Ex
+00022a60: 7065 6374 6564 5b55 5d3a 0a20 2020 2020  pected[U]:.     
+00022a70: 2020 2022 2222 4d61 7073 2061 2054 202d     """Maps a T -
+00022a80: 3e20 4578 7065 6374 6564 5b55 5d20 6f76  > Expected[U] ov
+00022a90: 6572 2061 6e20 4578 7065 6374 6564 5b54  er an Expected[T
+00022aa0: 5d20 746f 2070 726f 6475 6365 2061 6e20  ] to produce an 
+00022ab0: 4578 7065 6374 6564 5b55 5d2e 0a20 2020  Expected[U]..   
+00022ac0: 2020 2020 2049 6d70 6c65 6d65 6e74 7320       Implements 
+00022ad0: 6120 6d6f 6e61 6469 6320 6269 6e64 2e20  a monadic bind. 
+00022ae0: 4571 7569 7661 6c65 6e74 2074 6f20 666d  Equivalent to fm
+00022af0: 6170 202e 2e3e 202e 6a6f 696e 2829 2e22  ap ..> .join()."
+00022b00: 2222 0a20 2020 2020 2020 2072 6574 7572  "".        retur
+00022b10: 6e20 7365 6c66 207c 3e20 666d 6170 2428  n self |> fmap$(
+00022b20: 6675 6e63 2920 7c3e 202e 6a6f 696e 2829  func) |> .join()
+00022b30: 0a20 2020 2064 6566 206a 6f69 6e28 7365  .    def join(se
+00022b40: 6c66 3a20 4578 7065 6374 6564 5b45 7870  lf: Expected[Exp
+00022b50: 6563 7465 645b 545d 5d29 202d 3e20 4578  ected[T]]) -> Ex
+00022b60: 7065 6374 6564 5b54 5d3a 0a20 2020 2020  pected[T]:.     
+00022b70: 2020 2022 2222 4d6f 6e61 6469 6320 6a6f     """Monadic jo
+00022b80: 696e 2e20 436f 6e76 6572 7473 2045 7870  in. Converts Exp
+00022b90: 6563 7465 645b 4578 7065 6374 6564 5b54  ected[Expected[T
+00022ba0: 5d5d 2074 6f20 4578 7065 6374 6564 5b54  ]] to Expected[T
+00022bb0: 5d2e 2222 220a 2020 2020 2020 2020 6966  ].""".        if
+00022bc0: 206e 6f74 2073 656c 663a 0a20 2020 2020   not self:.     
+00022bd0: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
+00022be0: 6c66 0a20 2020 2020 2020 2069 6620 6e6f  lf.        if no
+00022bf0: 7420 7365 6c66 2e72 6573 756c 7420 6069  t self.result `i
+00022c00: 7369 6e73 7461 6e63 6560 2045 7870 6563  sinstance` Expec
+00022c10: 7465 643a 0a20 2020 2020 2020 2020 2020  ted:.           
+00022c20: 2072 6169 7365 2054 7970 6545 7272 6f72   raise TypeError
+00022c30: 2822 4578 7065 6374 6564 2e6a 6f69 6e28  ("Expected.join(
+00022c40: 2920 7265 7175 6972 6573 2061 6e20 4578  ) requires an Ex
+00022c50: 7065 6374 6564 5b45 7870 6563 7465 645b  pected[Expected[
+00022c60: 5f5d 5d22 290a 2020 2020 2020 2020 7265  _]]").        re
+00022c70: 7475 726e 2073 656c 662e 7265 7375 6c74  turn self.result
+00022c80: 0a20 2020 2064 6566 206d 6170 5f65 7272  .    def map_err
+00022c90: 6f72 2873 656c 662c 2066 756e 633a 2042  or(self, func: B
+00022ca0: 6173 6545 7863 6570 7469 6f6e 202d 3e20  aseException -> 
+00022cb0: 4261 7365 4578 6365 7074 696f 6e29 202d  BaseException) -
+00022cc0: 3e20 4578 7065 6374 6564 5b54 5d3a 0a20  > Expected[T]:. 
+00022cd0: 2020 2020 2020 2022 2222 4d61 7073 2066         """Maps f
+00022ce0: 756e 6320 6f76 6572 2074 6865 2065 7272  unc over the err
+00022cf0: 6f72 2069 6620 6974 2065 7869 7374 732e  or if it exists.
+00022d00: 2222 220a 2020 2020 2020 2020 7265 7475  """.        retu
+00022d10: 726e 2073 656c 6620 6966 2073 656c 6620  rn self if self 
+00022d20: 656c 7365 2073 656c 662e 5f5f 636c 6173  else self.__clas
+00022d30: 735f 5f28 6572 726f 723d 6675 6e63 2873  s__(error=func(s
+00022d40: 656c 662e 6572 726f 7229 290a 2020 2020  elf.error)).    
+00022d50: 6465 6620 6f72 5f65 6c73 655b 555d 2873  def or_else[U](s
+00022d60: 656c 662c 2066 756e 633a 2042 6173 6545  elf, func: BaseE
+00022d70: 7863 6570 7469 6f6e 202d 3e20 4578 7065  xception -> Expe
+00022d80: 6374 6564 5b55 5d29 202d 3e20 4578 7065  cted[U]) -> Expe
+00022d90: 6374 6564 5b54 207c 2055 5d3a 0a20 2020  cted[T | U]:.   
+00022da0: 2020 2020 2022 2222 5265 7475 726e 2073       """Return s
+00022db0: 656c 6620 6966 206e 6f20 6572 726f 722c  elf if no error,
+00022dc0: 206f 7468 6572 7769 7365 2072 6574 7572   otherwise retur
+00022dd0: 6e20 7468 6520 7265 7375 6c74 206f 6620  n the result of 
+00022de0: 6576 616c 7561 7469 6e67 2066 756e 6320  evaluating func 
+00022df0: 6f6e 2074 6865 2065 7272 6f72 2e22 2222  on the error."""
+00022e00: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00022e10: 7365 6c66 2069 6620 7365 6c66 2065 6c73  self if self els
+00022e20: 6520 6675 6e63 2873 656c 662e 6572 726f  e func(self.erro
+00022e30: 7229 0a20 2020 2064 6566 2072 6573 756c  r).    def resul
+00022e40: 745f 6f72 5b55 5d28 7365 6c66 2c20 6465  t_or[U](self, de
+00022e50: 6661 756c 743a 2055 2920 2d3e 2054 207c  fault: U) -> T |
+00022e60: 2055 3a0a 2020 2020 2020 2020 2222 2252   U:.        """R
+00022e70: 6574 7572 6e20 7468 6520 7265 7375 6c74  eturn the result
+00022e80: 2069 6620 6974 2065 7869 7374 732c 206f   if it exists, o
+00022e90: 7468 6572 7769 7365 2072 6574 7572 6e20  therwise return 
+00022ea0: 7468 6520 6465 6661 756c 742e 2222 220a  the default.""".
+00022eb0: 2020 2020 2020 2020 7265 7475 726e 2073          return s
+00022ec0: 656c 662e 7265 7375 6c74 2069 6620 7365  elf.result if se
+00022ed0: 6c66 2065 6c73 6520 6465 6661 756c 740a  lf else default.
+00022ee0: 2020 2020 6465 6620 7265 7375 6c74 5f6f      def result_o
+00022ef0: 725f 656c 7365 5b55 5d28 7365 6c66 2c20  r_else[U](self, 
+00022f00: 6675 6e63 3a20 4261 7365 4578 6365 7074  func: BaseExcept
+00022f10: 696f 6e20 2d3e 2055 2920 2d3e 2054 207c  ion -> U) -> T |
+00022f20: 2055 3a0a 2020 2020 2020 2020 2222 2252   U:.        """R
+00022f30: 6574 7572 6e20 7468 6520 7265 7375 6c74  eturn the result
+00022f40: 2069 6620 6974 2065 7869 7374 732c 206f   if it exists, o
+00022f50: 7468 6572 7769 7365 2072 6574 7572 6e20  therwise return 
+00022f60: 7468 6520 7265 7375 6c74 206f 6620 6576  the result of ev
+00022f70: 616c 7561 7469 6e67 2066 756e 6320 6f6e  aluating func on
+00022f80: 2074 6865 2065 7272 6f72 2e22 2222 0a20   the error.""". 
+00022f90: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
+00022fa0: 6c66 2e72 6573 756c 7420 6966 2073 656c  lf.result if sel
+00022fb0: 6620 656c 7365 2066 756e 6328 7365 6c66  f else func(self
+00022fc0: 2e65 7272 6f72 290a 2020 2020 6465 6620  .error).    def 
+00022fd0: 756e 7772 6170 2873 656c 6629 202d 3e20  unwrap(self) -> 
+00022fe0: 543a 0a20 2020 2020 2020 2022 2222 556e  T:.        """Un
+00022ff0: 7772 6170 2074 6865 2072 6573 756c 7420  wrap the result 
+00023000: 6f72 2072 6169 7365 2074 6865 2065 7272  or raise the err
+00023010: 6f72 2e22 2222 0a20 2020 2020 2020 2069  or.""".        i
+00023020: 6620 6e6f 7420 7365 6c66 3a0a 2020 2020  f not self:.    
+00023030: 2020 2020 2020 2020 7261 6973 6520 7365          raise se
+00023040: 6c66 2e65 7272 6f72 0a20 2020 2020 2020  lf.error.       
+00023050: 2072 6574 7572 6e20 7365 6c66 2e72 6573   return self.res
+00023060: 756c 740a 6060 600a 0a60 4578 7065 6374  ult.```..`Expect
+00023070: 6564 6020 6973 2070 7269 6d61 7269 6c79  ed` is primarily
+00023080: 2075 7365 6420 6173 2074 6865 2072 6574   used as the ret
+00023090: 7572 6e20 7479 7065 2066 6f72 205b 6073  urn type for [`s
+000230a0: 6166 655f 6361 6c6c 605d 2823 7361 6665  afe_call`](#safe
+000230b0: 5f63 616c 6c29 2e20 4765 6e65 7261 6c6c  _call). Generall
+000230c0: 792c 2074 6865 2062 6573 7420 7761 7920  y, the best way 
+000230d0: 746f 2075 7365 2060 4578 7065 6374 6564  to use `Expected
+000230e0: 6020 6973 2077 6974 6820 5b60 666d 6170  ` is with [`fmap
+000230f0: 605d 2823 666d 6170 292c 2077 6869 6368  `](#fmap), which
+00023100: 2077 696c 6c20 6170 706c 7920 6120 6675   will apply a fu
+00023110: 6e63 7469 6f6e 2074 6f20 7468 6520 7265  nction to the re
+00023120: 7375 6c74 2069 6620 6974 2065 7869 7374  sult if it exist
+00023130: 732c 206f 7220 6f74 6865 7277 6973 6520  s, or otherwise 
+00023140: 7265 7461 696e 2074 6865 2065 7272 6f72  retain the error
+00023150: 2e20 4966 2079 6f75 2077 616e 7420 746f  . If you want to
+00023160: 2073 6571 7565 6e63 6520 6d75 6c74 6970   sequence multip
+00023170: 6c65 2060 4578 7065 6374 6564 602d 7265  le `Expected`-re
+00023180: 7475 726e 696e 6720 6f70 6572 6174 696f  turning operatio
+00023190: 6e73 2c20 602e 616e 645f 7468 656e 6020  ns, `.and_then` 
+000231a0: 7368 6f75 6c64 2062 6520 7573 6564 2069  should be used i
+000231b0: 6e73 7465 6164 206f 6620 6066 6d61 7060  nstead of `fmap`
+000231c0: 2e0a 0a54 6f20 6d61 7463 6820 6167 6169  ...To match agai
+000231d0: 6e73 7420 616e 2060 4578 7065 6374 6564  nst an `Expected
+000231e0: 602c 206a 7573 743a 0a60 6060 0a45 7870  `, just:.```.Exp
+000231f0: 6563 7465 6428 7265 7329 203d 2045 7870  ected(res) = Exp
+00023200: 6563 7465 6428 2272 6573 756c 7422 290a  ected("result").
+00023210: 4578 7065 6374 6564 2865 7272 6f72 3d65  Expected(error=e
+00023220: 7272 2920 3d20 4578 7065 6374 6564 2865  rr) = Expected(e
+00023230: 7272 6f72 3d54 7970 6545 7272 6f72 2829  rror=TypeError()
+00023240: 290a 6060 600a 0a23 2323 2323 2045 7861  ).```..##### Exa
+00023250: 6d70 6c65 0a0a 2a2a 436f 636f 6e75 743a  mple..**Coconut:
+00023260: 2a2a 0a60 6060 636f 636f 6e75 740a 6465  **.```coconut.de
+00023270: 6620 7472 795f 6469 7669 6465 2878 3a20  f try_divide(x: 
+00023280: 666c 6f61 742c 2079 3a20 666c 6f61 7429  float, y: float)
+00023290: 202d 3e20 4578 7065 6374 6564 5b66 6c6f   -> Expected[flo
+000232a0: 6174 5d3a 0a20 2020 2074 7279 3a0a 2020  at]:.    try:.  
+000232b0: 2020 2020 2020 7265 7475 726e 2045 7870        return Exp
+000232c0: 6563 7465 6428 7820 2f20 7929 0a20 2020  ected(x / y).   
+000232d0: 2065 7863 6570 7420 4578 6365 7074 696f   except Exceptio
+000232e0: 6e20 6173 2065 7272 3a0a 2020 2020 2020  n as err:.      
+000232f0: 2020 7265 7475 726e 2045 7870 6563 7465    return Expecte
+00023300: 6428 6572 726f 723d 6572 7229 0a0a 7472  d(error=err)..tr
+00023310: 795f 6469 7669 6465 2831 2c20 3229 207c  y_divide(1, 2) |
+00023320: 3e20 666d 6170 2428 2e2b 3129 207c 3e20  > fmap$(.+1) |> 
+00023330: 7072 696e 740a 7472 795f 6469 7669 6465  print.try_divide
+00023340: 2831 2c20 3029 207c 3e20 666d 6170 2428  (1, 0) |> fmap$(
+00023350: 2e2b 3129 207c 3e20 7072 696e 740a 6060  .+1) |> print.``
+00023360: 600a 0a2a 2a50 7974 686f 6e3a 2a2a 0a5f  `..**Python:**._
+00023370: 4361 6e27 7420 6265 2064 6f6e 6520 7769  Can't be done wi
+00023380: 7468 6f75 7420 6120 636f 6d70 6c65 7820  thout a complex 
+00023390: 6045 7870 6563 7465 6460 2064 6566 696e  `Expected` defin
+000233a0: 6974 696f 6e2e 2053 6565 2074 6865 2063  ition. See the c
+000233b0: 6f6d 7069 6c65 6420 636f 6465 2066 6f72  ompiled code for
+000233c0: 2074 6865 2050 7974 686f 6e20 7379 6e74   the Python synt
+000233d0: 6178 2e5f 0a0a 2323 2323 2060 4d61 7463  ax._..#### `Matc
+000233e0: 6845 7272 6f72 600a 0a41 2060 4d61 7463  hError`..A `Matc
+000233f0: 6845 7272 6f72 6020 6973 2072 6169 7365  hError` is raise
+00023400: 6420 7768 656e 2061 205b 6465 7374 7275  d when a [destru
+00023410: 6374 7572 696e 6720 6173 7369 676e 6d65  cturing assignme
+00023420: 6e74 5d28 2364 6573 7472 7563 7475 7269  nt](#destructuri
+00023430: 6e67 2d61 7373 6967 6e6d 656e 7429 206f  ng-assignment) o
+00023440: 7220 5b70 6174 7465 726e 2d6d 6174 6368  r [pattern-match
+00023450: 696e 6720 6675 6e63 7469 6f6e 5d28 2370  ing function](#p
+00023460: 6174 7465 726e 2d6d 6174 6368 696e 672d  attern-matching-
+00023470: 6675 6e63 7469 6f6e 7329 2066 6169 6c73  functions) fails
+00023480: 2c20 616e 6420 7468 7573 2060 4d61 7463  , and thus `Matc
+00023490: 6845 7272 6f72 6020 6973 2070 726f 7669  hError` is provi
+000234a0: 6465 6420 6173 2061 2062 7569 6c74 2d69  ded as a built-i
+000234b0: 6e20 666f 7220 6361 7463 6869 6e67 2074  n for catching t
+000234c0: 686f 7365 2065 7272 6f72 732e 2060 4d61  hose errors. `Ma
+000234d0: 7463 6845 7272 6f72 6020 6f62 6a65 6374  tchError` object
+000234e0: 7320 7375 7070 6f72 7420 7468 7265 6520  s support three 
+000234f0: 6174 7472 6962 7574 6573 3a20 6070 6174  attributes: `pat
+00023500: 7465 726e 602c 2077 6869 6368 2069 7320  tern`, which is 
+00023510: 6120 7374 7269 6e67 2064 6573 6372 6962  a string describ
+00023520: 696e 6720 7468 6520 6661 696c 6564 2070  ing the failed p
+00023530: 6174 7465 726e 3b20 6076 616c 7565 602c  attern; `value`,
+00023540: 2077 6869 6368 2069 7320 7468 6520 6f62   which is the ob
+00023550: 6a65 6374 2074 6861 7420 6661 696c 6564  ject that failed
+00023560: 2074 6f20 6d61 7463 6820 7468 6174 2070   to match that p
+00023570: 6174 7465 726e 3b20 616e 6420 606d 6573  attern; and `mes
+00023580: 7361 6765 6020 7768 6963 6820 6973 2074  sage` which is t
+00023590: 6865 2066 756c 6c20 6572 726f 7220 6d65  he full error me
+000235a0: 7373 6167 652e 2054 6f20 6176 6f69 6420  ssage. To avoid 
+000235b0: 756e 6e65 6365 7373 6172 7920 6072 6570  unnecessary `rep
+000235c0: 7260 2063 616c 6c73 2c20 604d 6174 6368  r` calls, `Match
+000235d0: 4572 726f 7260 206f 6e6c 7920 636f 6d70  Error` only comp
+000235e0: 7574 6573 2074 6865 2060 6d65 7373 6167  utes the `messag
+000235f0: 6560 206f 6e63 6520 6974 2069 7320 6163  e` once it is ac
+00023600: 7475 616c 6c79 2072 6571 7565 7374 6564  tually requested
+00023610: 2e0a 0a41 6464 6974 696f 6e61 6c6c 792c  ...Additionally,
+00023620: 2069 6620 796f 7520 6172 6520 7573 696e   if you are usin
+00023630: 6720 5b76 6965 7720 7061 7474 6572 6e73  g [view patterns
+00023640: 5d28 236d 6174 6368 292c 2079 6f75 206d  ](#match), you m
+00023650: 6967 6874 206e 6565 6420 746f 2072 6169  ight need to rai
+00023660: 7365 2079 6f75 7220 6f77 6e20 604d 6174  se your own `Mat
+00023670: 6368 4572 726f 7260 2028 7468 6f75 6768  chError` (though
+00023680: 2079 6f75 2063 616e 2061 6c73 6f20 6a75   you can also ju
+00023690: 7374 2075 7365 2061 2064 6573 7472 7563  st use a destruc
+000236a0: 7475 7269 6e67 2061 7373 6967 6e6d 656e  turing assignmen
+000236b0: 7420 6f72 2070 6174 7465 726e 2d6d 6174  t or pattern-mat
+000236c0: 6368 696e 6720 6675 6e63 7469 6f6e 2064  ching function d
+000236d0: 6566 696e 6974 696f 6e20 746f 2064 6f20  efinition to do 
+000236e0: 736f 292e 2054 6f20 7261 6973 6520 796f  so). To raise yo
+000236f0: 7572 206f 776e 2060 4d61 7463 6845 7272  ur own `MatchErr
+00023700: 6f72 602c 206a 7573 7420 6072 6169 7365  or`, just `raise
+00023710: 204d 6174 6368 4572 726f 7228 7061 7474   MatchError(patt
+00023720: 6572 6e2c 2076 616c 7565 2960 2028 626f  ern, value)` (bo
+00023730: 7468 2061 7267 756d 656e 7473 2061 7265  th arguments are
+00023740: 206f 7074 696f 6e61 6c29 2e0a 0a49 6e20   optional)...In 
+00023750: 736f 6d65 2063 6173 6573 2077 6865 7265  some cases where
+00023760: 2074 6865 7265 2061 7265 206d 756c 7469   there are multi
+00023770: 706c 6520 436f 636f 6e75 7420 7061 636b  ple Coconut pack
+00023780: 6167 6573 2069 6e73 7461 6c6c 6564 2061  ages installed a
+00023790: 7420 7468 6520 7361 6d65 2074 696d 652c  t the same time,
+000237a0: 2074 6865 7265 206d 6179 2062 6520 6d75   there may be mu
+000237b0: 6c74 6970 6c65 2060 4d61 7463 6845 7272  ltiple `MatchErr
+000237c0: 6f72 6073 2064 6566 696e 6564 2069 6e20  or`s defined in 
+000237d0: 6469 6666 6572 656e 7420 7061 636b 6167  different packag
+000237e0: 6573 2e20 436f 636f 6e75 7420 6361 6e20  es. Coconut can 
+000237f0: 7065 7266 6f72 6d20 736f 6d65 206d 6167  perform some mag
+00023800: 6963 2075 6e64 6572 2074 6865 2068 6f6f  ic under the hoo
+00023810: 6420 746f 206d 616b 6520 7375 7265 2074  d to make sure t
+00023820: 6861 7420 616c 6c20 7468 6573 6520 604d  hat all these `M
+00023830: 6174 6368 4572 726f 7260 7320 7769 6c6c  atchError`s will
+00023840: 2073 6561 6d6c 6573 736c 7920 696e 7465   seamlessly inte
+00023850: 726f 7065 7261 7465 2c20 6275 7420 6f6e  roperate, but on
+00023860: 6c79 2069 6620 616c 6c20 7375 6368 2070  ly if all such p
+00023870: 6163 6b61 6765 7320 6172 6520 636f 6d70  ackages are comp
+00023880: 696c 6564 2069 6e20 5b60 2d2d 7061 636b  iled in [`--pack
+00023890: 6167 6560 206d 6f64 6520 7261 7468 6572  age` mode rather
+000238a0: 2074 6861 6e20 602d 2d73 7461 6e64 616c   than `--standal
+000238b0: 6f6e 6560 206d 6f64 655d 2823 636f 6d70  one` mode](#comp
+000238c0: 696c 6174 696f 6e2d 6d6f 6465 7329 2e0a  ilation-modes)..
+000238d0: 0a23 2323 2047 656e 6572 6963 2042 7569  .### Generic Bui
+000238e0: 6c74 2d49 6e20 4675 6e63 7469 6f6e 730a  lt-In Functions.
+000238f0: 0a60 6060 7b63 6f6e 7465 6e74 737d 0a2d  .```{contents}.-
+00023900: 2d2d 0a6c 6f63 616c 3a0a 6465 7074 683a  --.local:.depth:
+00023910: 2031 0a2d 2d2d 0a60 6060 0a0a 2323 2323   1.---.```..####
+00023920: 2060 6d61 6b65 6461 7461 600a 0a2a 2a6d   `makedata`..**m
+00023930: 616b 6564 6174 612a 2a28 5f64 6174 615c  akedata**(_data\
+00023940: 5f74 7970 655f 2c20 2a5f 6172 6773 5f29  _type_, *_args_)
+00023950: 0a0a 436f 636f 6e75 7420 7072 6f76 6964  ..Coconut provid
+00023960: 6573 2074 6865 2060 6d61 6b65 6461 7461  es the `makedata
+00023970: 6020 6675 6e63 7469 6f6e 2074 6f20 636f  ` function to co
+00023980: 6e73 7472 7563 7420 6120 636f 6e74 6169  nstruct a contai
+00023990: 6e65 7220 6769 7665 6e20 7468 6520 6465  ner given the de
+000239a0: 7369 7265 6420 7479 7065 2061 6e64 2063  sired type and c
+000239b0: 6f6e 7465 6e74 732e 2054 6869 7320 6973  ontents. This is
+000239c0: 2070 6172 7469 6375 6c61 726c 7920 7573   particularly us
+000239d0: 6566 756c 2077 6865 6e20 7772 6974 696e  eful when writin
+000239e0: 6720 616c 7465 726e 6174 6976 6520 636f  g alternative co
+000239f0: 6e73 7472 7563 746f 7273 2066 6f72 205b  nstructors for [
+00023a00: 6064 6174 6160 5d28 2364 6174 6129 2074  `data`](#data) t
+00023a10: 7970 6573 2062 7920 6f76 6572 7772 6974  ypes by overwrit
+00023a20: 696e 6720 605f 5f6e 6577 5f5f 602c 2073  ing `__new__`, s
+00023a30: 696e 6365 2069 7420 616c 6c6f 7773 2064  ince it allows d
+00023a40: 6972 6563 7420 6163 6365 7373 2074 6f20  irect access to 
+00023a50: 7468 6520 6261 7365 2063 6f6e 7374 7275  the base constru
+00023a60: 6374 6f72 206f 6620 7468 6520 6461 7461  ctor of the data
+00023a70: 2074 7970 6520 6372 6561 7465 6420 7769   type created wi
+00023a80: 7468 2074 6865 2043 6f63 6f6e 7574 2060  th the Coconut `
+00023a90: 6461 7461 6020 7374 6174 656d 656e 742e  data` statement.
+00023aa0: 0a0a 606d 616b 6564 6174 6160 2074 616b  ..`makedata` tak
+00023ab0: 6573 2074 6865 2064 6174 6120 7479 7065  es the data type
+00023ac0: 2074 6f20 636f 6e73 7472 7563 7420 6173   to construct as
+00023ad0: 2074 6865 2066 6972 7374 2061 7267 756d   the first argum
+00023ae0: 656e 742c 2061 6e64 2074 6865 206f 626a  ent, and the obj
+00023af0: 6563 7473 2074 6f20 7075 7420 696e 2074  ects to put in t
+00023b00: 6861 7420 636f 6e74 6169 6e65 7220 6173  hat container as
+00023b10: 2074 6865 2072 6573 7420 6f66 2074 6865   the rest of the
+00023b20: 2061 7267 756d 656e 7473 2e0a 0a60 6d61   arguments...`ma
+00023b30: 6b65 6461 7461 6020 6361 6e20 616c 736f  kedata` can also
+00023b40: 2062 6520 7573 6564 2074 6f20 6578 7472   be used to extr
+00023b50: 6163 7420 7468 6520 756e 6465 726c 7969  act the underlyi
+00023b60: 6e67 2063 6f6e 7374 7275 6374 6f72 2066  ng constructor f
+00023b70: 6f72 205b 606d 6174 6368 2064 6174 6160  or [`match data`
+00023b80: 5d28 236d 6174 6368 2d64 6174 6129 2074  ](#match-data) t
+00023b90: 7970 6573 2074 6861 7420 6279 7061 7373  ypes that bypass
+00023ba0: 6573 2074 6865 206e 6f72 6d61 6c20 7061  es the normal pa
+00023bb0: 7474 6572 6e2d 6d61 7463 6869 6e67 2063  ttern-matching c
+00023bc0: 6f6e 7374 7275 6374 6f72 2e0a 0a41 6464  onstructor...Add
+00023bd0: 6974 696f 6e61 6c6c 792c 2060 6d61 6b65  itionally, `make
+00023be0: 6461 7461 6020 6361 6e20 616c 736f 2062  data` can also b
+00023bf0: 6520 6361 6c6c 6564 2077 6974 6820 6e6f  e called with no
+00023c00: 6e2d 6064 6174 6160 2074 7970 6520 6173  n-`data` type as
+00023c10: 2074 6865 2066 6972 7374 2061 7267 756d   the first argum
+00023c20: 656e 742c 2069 6e20 7768 6963 6820 6361  ent, in which ca
+00023c30: 7365 2069 7420 7769 6c6c 2064 6f20 6974  se it will do it
+00023c40: 7320 6265 7374 2074 6f20 636f 6e73 7472  s best to constr
+00023c50: 7563 7420 7468 6520 6769 7665 6e20 7479  uct the given ty
+00023c60: 7065 206f 6620 6f62 6a65 6374 2077 6974  pe of object wit
+00023c70: 6820 7468 6520 6769 7665 6e20 6172 6775  h the given argu
+00023c80: 6d65 6e74 732e 2054 6869 7320 6675 6e63  ments. This func
+00023c90: 7469 6f6e 616c 6974 7920 6973 2075 7365  tionality is use
+00023ca0: 6420 696e 7465 726e 616c 6c79 2062 7920  d internally by 
+00023cb0: 6066 6d61 7060 2e0a 0a23 2323 2323 2060  `fmap`...##### `
+00023cc0: 6461 7461 6d61 6b65 7260 0a0a 2a2a 4445  datamaker`..**DE
+00023cd0: 5052 4543 4154 4544 3a2a 2a20 436f 636f  PRECATED:** Coco
+00023ce0: 6e75 7420 616c 736f 2068 6173 2061 2060  nut also has a `
+00023cf0: 6461 7461 6d61 6b65 7260 2062 7569 6c74  datamaker` built
+00023d00: 2d69 6e2c 2077 6869 6368 2070 6172 7469  -in, which parti
+00023d10: 616c 6c79 2061 7070 6c69 6573 2060 6d61  ally applies `ma
+00023d20: 6b65 6461 7461 603b 2060 6461 7461 6d61  kedata`; `datama
+00023d30: 6b65 7260 2069 7320 6465 6669 6e65 6420  ker` is defined 
+00023d40: 6173 3a0a 6060 6063 6f63 6f6e 7574 0a64  as:.```coconut.d
+00023d50: 6566 2064 6174 616d 616b 6572 2864 6174  ef datamaker(dat
+00023d60: 615f 7479 7065 293a 0a20 2020 2022 2222  a_type):.    """
+00023d70: 4765 7420 7468 6520 6f72 6967 696e 616c  Get the original
+00023d80: 2063 6f6e 7374 7275 6374 6f72 206f 6620   constructor of 
+00023d90: 7468 6520 6769 7665 6e20 6461 7461 2074  the given data t
+00023da0: 7970 6520 6f72 2063 6c61 7373 2e22 2222  ype or class."""
+00023db0: 0a20 2020 2072 6574 7572 6e20 6d61 6b65  .    return make
+00023dc0: 6461 7461 2428 6461 7461 5f74 7970 6529  data$(data_type)
+00023dd0: 0a60 6060 0a5f 4e6f 7465 3a20 5061 7373  .```._Note: Pass
+00023de0: 696e 6720 602d 2d73 7472 6963 7460 2064  ing `--strict` d
+00023df0: 6973 6162 6c65 7320 6465 7072 6563 6174  isables deprecat
+00023e00: 6564 2066 6561 7475 7265 732e 5f0a 0a23  ed features._..#
+00023e10: 2323 2323 2045 7861 6d70 6c65 0a0a 2a2a  #### Example..**
+00023e20: 436f 636f 6e75 743a 2a2a 0a60 6060 636f  Coconut:**.```co
+00023e30: 636f 6e75 740a 6461 7461 2054 7570 6c65  conut.data Tuple
+00023e40: 2865 6c65 6d73 293a 0a20 2020 2064 6566  (elems):.    def
+00023e50: 205f 5f6e 6577 5f5f 2863 6c73 2c20 2a65   __new__(cls, *e
+00023e60: 6c65 6d73 293a 0a20 2020 2020 2020 2072  lems):.        r
+00023e70: 6574 7572 6e20 656c 656d 7320 7c3e 206d  eturn elems |> m
+00023e80: 616b 6564 6174 6124 2863 6c73 290a 6060  akedata$(cls).``
+00023e90: 600a 0a2a 2a50 7974 686f 6e3a 2a2a 0a5f  `..**Python:**._
+00023ea0: 4361 6e27 7420 6265 2064 6f6e 6520 7769  Can't be done wi
+00023eb0: 7468 6f75 7420 6120 7365 7269 6573 206f  thout a series o
+00023ec0: 6620 6d65 7468 6f64 2064 6566 696e 6974  f method definit
+00023ed0: 696f 6e73 2066 6f72 2065 6163 6820 6461  ions for each da
+00023ee0: 7461 2074 7970 652e 2053 6565 2074 6865  ta type. See the
+00023ef0: 2063 6f6d 7069 6c65 6420 636f 6465 2066   compiled code f
+00023f00: 6f72 2074 6865 2050 7974 686f 6e20 7379  or the Python sy
+00023f10: 6e74 6178 2e5f 0a0a 2323 2323 2060 666d  ntax._..#### `fm
+00023f20: 6170 600a 0a2a 2a66 6d61 702a 2a28 5f66  ap`..**fmap**(_f
+00023f30: 756e 635f 2c20 5f6f 626a 5f29 0a0a 496e  unc_, _obj_)..In
+00023f40: 2048 6173 6b65 6c6c 2c20 6066 6d61 7028   Haskell, `fmap(
+00023f50: 6675 6e63 2c20 6f62 6a29 6020 7461 6b65  func, obj)` take
+00023f60: 7320 6120 6461 7461 2074 7970 6520 606f  s a data type `o
+00023f70: 626a 6020 616e 6420 7265 7475 726e 7320  bj` and returns 
+00023f80: 6120 6e65 7720 6461 7461 2074 7970 6520  a new data type 
+00023f90: 7769 7468 2060 6675 6e63 6020 6d61 7070  with `func` mapp
+00023fa0: 6564 206f 7665 7220 7468 6520 636f 6e74  ed over the cont
+00023fb0: 656e 7473 2e20 436f 636f 6e75 7427 7320  ents. Coconut's 
+00023fc0: 6066 6d61 7060 2066 756e 6374 696f 6e20  `fmap` function 
+00023fd0: 646f 6573 2074 6865 2065 7861 6374 2073  does the exact s
+00023fe0: 616d 6520 7468 696e 6720 666f 7220 436f  ame thing for Co
+00023ff0: 636f 6e75 7427 7320 5b64 6174 6120 7479  conut's [data ty
+00024000: 7065 735d 2823 6461 7461 292e 0a0a 6066  pes](#data)...`f
+00024010: 6d61 7060 2063 616e 2061 6c73 6f20 6265  map` can also be
+00024020: 2075 7365 6420 6f6e 2062 7569 6c74 2d69   used on built-i
+00024030: 6e73 2073 7563 6820 6173 2060 7374 7260  ns such as `str`
+00024040: 2c20 606c 6973 7460 2c20 6073 6574 602c  , `list`, `set`,
+00024050: 2061 6e64 2060 6469 6374 6020 6173 2061   and `dict` as a
+00024060: 2076 6172 6961 6e74 206f 6620 606d 6170   variant of `map
+00024070: 6020 7468 6174 2072 6574 7572 6e73 2062  ` that returns b
+00024080: 6163 6b20 616e 206f 626a 6563 7420 6f66  ack an object of
+00024090: 2074 6865 2073 616d 6520 7479 7065 2e20   the same type. 
+000240a0: 5468 6520 6265 6861 7669 6f72 206f 6620  The behavior of 
+000240b0: 6066 6d61 7060 2066 6f72 2061 2067 6976  `fmap` for a giv
+000240c0: 656e 206f 626a 6563 7420 6361 6e20 6265  en object can be
+000240d0: 206f 7665 7272 6964 6465 6e20 6279 2064   overridden by d
+000240e0: 6566 696e 696e 6720 616e 2060 5f5f 666d  efining an `__fm
+000240f0: 6170 5f5f 2873 656c 662c 2066 756e 6329  ap__(self, func)
+00024100: 6020 6d61 6769 6320 6d65 7468 6f64 2074  ` magic method t
+00024110: 6861 7420 7769 6c6c 2062 6520 6361 6c6c  hat will be call
+00024120: 6564 2077 6865 6e65 7665 7220 6066 6d61  ed whenever `fma
+00024130: 7060 2069 7320 696e 766f 6b65 6420 6f6e  p` is invoked on
+00024140: 2074 6861 7420 6f62 6a65 6374 2e20 4e6f   that object. No
+00024150: 7465 2074 6861 7420 605f 5f66 6d61 705f  te that `__fmap_
+00024160: 5f60 2069 6d70 6c65 6d65 6e74 6174 696f  _` implementatio
+00024170: 6e73 2073 686f 756c 6420 616c 7761 7973  ns should always
+00024180: 2073 6174 6973 6679 2074 6865 205b 4675   satisfy the [Fu
+00024190: 6e63 746f 7220 4c61 7773 5d28 6874 7470  nctor Laws](http
+000241a0: 733a 2f2f 7769 6b69 2e68 6173 6b65 6c6c  s://wiki.haskell
+000241b0: 2e6f 7267 2f46 756e 6374 6f72 292e 0a0a  .org/Functor)...
+000241c0: 466f 7220 6064 6963 7460 2c20 6f72 2061  For `dict`, or a
+000241d0: 6e79 206f 7468 6572 2060 636f 6c6c 6563  ny other `collec
+000241e0: 7469 6f6e 732e 6162 632e 4d61 7070 696e  tions.abc.Mappin
+000241f0: 6760 2c20 6066 6d61 7060 2077 696c 6c20  g`, `fmap` will 
+00024200: 6d61 7020 6f76 6572 2074 6865 206d 6170  map over the map
+00024210: 7069 6e67 2773 2060 2e69 7465 6d73 2829  ping's `.items()
+00024220: 6020 696e 7374 6561 6420 6f66 2074 6865  ` instead of the
+00024230: 2064 6566 6175 6c74 2069 7465 7261 7469   default iterati
+00024240: 6f6e 2074 6872 6f75 6768 2069 7473 2060  on through its `
+00024250: 2e6b 6579 7328 2960 2c20 7769 7468 2074  .keys()`, with t
+00024260: 6865 206e 6577 206d 6170 7069 6e67 2072  he new mapping r
+00024270: 6563 6f6e 7374 7275 6374 6564 2066 726f  econstructed fro
+00024280: 6d20 7468 6520 6d61 7070 6564 206f 7665  m the mapped ove
+00024290: 7220 6974 656d 732e 205f 4445 5052 4543  r items. _DEPREC
+000242a0: 4154 4544 3a20 6066 6d61 7024 2873 7461  ATED: `fmap$(sta
+000242b0: 726d 6170 5f6f 7665 725f 6d61 7070 696e  rmap_over_mappin
+000242c0: 6773 3d54 7275 6529 6020 7769 6c6c 2060  gs=True)` will `
+000242d0: 7374 6172 6d61 7060 206f 7665 7220 7468  starmap` over th
+000242e0: 6520 602e 6974 656d 7328 2960 2069 6e73  e `.items()` ins
+000242f0: 7465 6164 206f 6620 606d 6170 6020 6f76  tead of `map` ov
+00024300: 6572 2074 6865 6d2e 5f0a 0a46 6f72 205b  er them._..For [
+00024310: 606e 756d 7079 605d 2823 6e75 6d70 792d  `numpy`](#numpy-
+00024320: 696e 7465 6772 6174 696f 6e29 206f 626a  integration) obj
+00024330: 6563 7473 2c20 6066 6d61 7060 2077 696c  ects, `fmap` wil
+00024340: 6c20 7573 6520 5b60 6e70 2e76 6563 746f  l use [`np.vecto
+00024350: 7269 7a65 605d 2868 7474 7073 3a2f 2f64  rize`](https://d
+00024360: 6f63 732e 7363 6970 792e 6f72 672f 646f  ocs.scipy.org/do
+00024370: 632f 6e75 6d70 792f 7265 6665 7265 6e63  c/numpy/referenc
+00024380: 652f 6765 6e65 7261 7465 642f 6e75 6d70  e/generated/nump
+00024390: 792e 7665 6374 6f72 697a 652e 6874 6d6c  y.vectorize.html
+000243a0: 2920 746f 2070 726f 6475 6365 2074 6865  ) to produce the
+000243b0: 2072 6573 756c 742e 0a0a 466f 7220 5b60   result...For [`
+000243c0: 7061 6e64 6173 605d 2868 7474 7073 3a2f  pandas`](https:/
+000243d0: 2f70 616e 6461 732e 7079 6461 7461 2e6f  /pandas.pydata.o
+000243e0: 7267 2f29 206f 626a 6563 7473 2c20 6066  rg/) objects, `f
+000243f0: 6d61 7060 2077 696c 6c20 7573 6520 5b60  map` will use [`
+00024400: 2e61 7070 6c79 605d 2868 7474 7073 3a2f  .apply`](https:/
+00024410: 2f70 616e 6461 732e 7079 6461 7461 2e6f  /pandas.pydata.o
+00024420: 7267 2f64 6f63 732f 7265 6665 7265 6e63  rg/docs/referenc
+00024430: 652f 6170 692f 7061 6e64 6173 2e44 6174  e/api/pandas.Dat
+00024440: 6146 7261 6d65 2e61 7070 6c79 2e68 746d  aFrame.apply.htm
+00024450: 6c29 2061 6c6f 6e67 2074 6865 206c 6173  l) along the las
+00024460: 7420 6178 6973 2028 736f 2072 6f77 2d77  t axis (so row-w
+00024470: 6973 6520 666f 7220 6044 6174 6146 7261  ise for `DataFra
+00024480: 6d65 6027 732c 2065 6c65 6d65 6e74 2d77  me`'s, element-w
+00024490: 6973 6520 666f 7220 6053 6572 6965 7360  ise for `Series`
+000244a0: 2773 292e 0a0a 466f 7220 6173 796e 6368  's)...For asynch
+000244b0: 726f 6e6f 7573 2069 7465 7261 626c 6573  ronous iterables
+000244c0: 2c20 6066 6d61 7060 2077 696c 6c20 6d61  , `fmap` will ma
+000244d0: 7020 6173 796e 6368 726f 6e6f 7573 6c79  p asynchronously
+000244e0: 2c20 6d61 6b69 6e67 2060 666d 6170 6020  , making `fmap` 
+000244f0: 6571 7569 7661 6c65 6e74 2069 6e20 7468  equivalent in th
+00024500: 6174 2063 6173 6520 746f 0a60 6060 636f  at case to.```co
+00024510: 636f 6e75 745f 7079 7468 6f6e 0a61 7379  conut_python.asy
+00024520: 6e63 2064 6566 2066 6d61 705f 6f76 6572  nc def fmap_over
+00024530: 5f61 7379 6e63 5f69 7465 7273 2866 756e  _async_iters(fun
+00024540: 632c 2061 7379 6e63 5f69 7465 7229 3a0a  c, async_iter):.
+00024550: 2020 2020 6173 796e 6320 666f 7220 6974      async for it
+00024560: 656d 2069 6e20 6173 796e 635f 6974 6572  em in async_iter
+00024570: 3a0a 2020 2020 2020 2020 7969 656c 6420  :.        yield 
+00024580: 6675 6e63 2869 7465 6d29 0a60 6060 0a73  func(item).```.s
+00024590: 7563 6820 7468 6174 2060 666d 6170 6020  uch that `fmap` 
+000245a0: 6361 6e20 6566 6665 6374 6976 656c 7920  can effectively 
+000245b0: 6265 2075 7365 6420 6173 2061 6e20 6173  be used as an as
+000245c0: 796e 6320 6d61 702e 0a0a 5f44 4550 5245  ync map..._DEPRE
+000245d0: 4341 5445 443a 2060 666d 6170 2866 756e  CATED: `fmap(fun
+000245e0: 632c 206f 626a 2c20 6661 6c6c 6261 636b  c, obj, fallback
+000245f0: 5f74 6f5f 696e 6974 3d54 7275 6529 6020  _to_init=True)` 
+00024600: 7769 6c6c 2066 616c 6c20 6261 636b 2074  will fall back t
+00024610: 6f20 606f 626a 2e5f 5f63 6c61 7373 5f5f  o `obj.__class__
+00024620: 286d 6170 2866 756e 632c 206f 626a 2929  (map(func, obj))
+00024630: 6020 6966 206e 6f20 6066 6d61 7060 2069  ` if no `fmap` i
+00024640: 6d70 6c65 6d65 6e74 6174 696f 6e20 6973  mplementation is
+00024650: 2061 7661 696c 6162 6c65 2072 6174 6865   available rathe
+00024660: 7220 7468 616e 2072 6169 7365 2060 5479  r than raise `Ty
+00024670: 7065 4572 726f 7260 2e5f 0a0a 2323 2323  peError`._..####
+00024680: 2320 4578 616d 706c 650a 0a2a 2a43 6f63  # Example..**Coc
+00024690: 6f6e 7574 3a2a 2a0a 6060 6063 6f63 6f6e  onut:**.```cocon
+000246a0: 7574 0a5b 312c 2032 2c20 335d 207c 3e20  ut.[1, 2, 3] |> 
+000246b0: 666d 6170 2428 7820 2d3e 2078 2b31 2920  fmap$(x -> x+1) 
+000246c0: 3d3d 205b 322c 2033 2c20 345d 0a0a 636c  == [2, 3, 4]..cl
+000246d0: 6173 7320 4d61 7962 650a 6461 7461 204e  ass Maybe.data N
+000246e0: 6f74 6869 6e67 2829 2066 726f 6d20 4d61  othing() from Ma
+000246f0: 7962 650a 6461 7461 204a 7573 7428 6e29  ybe.data Just(n)
+00024700: 2066 726f 6d20 4d61 7962 650a 0a4a 7573   from Maybe..Jus
+00024710: 7428 3329 207c 3e20 666d 6170 2428 7820  t(3) |> fmap$(x 
+00024720: 2d3e 2078 2a32 2920 3d3d 204a 7573 7428  -> x*2) == Just(
+00024730: 3629 0a4e 6f74 6869 6e67 2829 207c 3e20  6).Nothing() |> 
+00024740: 666d 6170 2428 7820 2d3e 2078 2a32 2920  fmap$(x -> x*2) 
+00024750: 3d3d 204e 6f74 6869 6e67 2829 0a60 6060  == Nothing().```
+00024760: 0a0a 2a2a 5079 7468 6f6e 3a2a 2a0a 5f43  ..**Python:**._C
+00024770: 616e 2774 2062 6520 646f 6e65 2077 6974  an't be done wit
+00024780: 686f 7574 2061 2073 6572 6965 7320 6f66  hout a series of
+00024790: 206d 6574 686f 6420 6465 6669 6e69 7469   method definiti
+000247a0: 6f6e 7320 666f 7220 6561 6368 2064 6174  ons for each dat
+000247b0: 6120 7479 7065 2e20 5365 6520 7468 6520  a type. See the 
+000247c0: 636f 6d70 696c 6564 2063 6f64 6520 666f  compiled code fo
+000247d0: 7220 7468 6520 5079 7468 6f6e 2073 796e  r the Python syn
+000247e0: 7461 782e 5f0a 0a0a 2323 2323 2060 6361  tax._...#### `ca
+000247f0: 6c6c 600a 0a2a 2a63 616c 6c2a 2a28 5f66  ll`..**call**(_f
+00024800: 756e 635f 2c20 2f2c 202a 5f61 7267 735f  unc_, /, *_args_
+00024810: 2c20 5c2a 5c2a 5f6b 7761 7267 735f 290a  , \*\*_kwargs_).
+00024820: 0a43 6f63 6f6e 7574 2773 2060 6361 6c6c  .Coconut's `call
+00024830: 6020 7369 6d70 6c79 2069 6d70 6c65 6d65  ` simply impleme
+00024840: 6e74 7320 6675 6e63 7469 6f6e 2061 7070  nts function app
+00024850: 6c69 6361 7469 6f6e 2e20 5468 7573 2c20  lication. Thus, 
+00024860: 6063 616c 6c60 2069 7320 6566 6665 6374  `call` is effect
+00024870: 6976 656c 7920 6571 7569 7661 6c65 6e74  ively equivalent
+00024880: 2074 6f0a 6060 6063 6f63 6f6e 7574 0a64   to.```coconut.d
+00024890: 6566 2063 616c 6c28 662c 202f 2c20 2a61  ef call(f, /, *a
+000248a0: 7267 732c 202a 2a6b 7761 7267 7329 203d  rgs, **kwargs) =
+000248b0: 2066 282a 6172 6773 2c20 2a2a 6b77 6172   f(*args, **kwar
+000248c0: 6773 290a 6060 600a 0a60 6361 6c6c 6020  gs).```..`call` 
+000248d0: 6973 2070 7269 6d61 7269 6c79 2075 7365  is primarily use
+000248e0: 6675 6c20 6173 2061 6e20 5b6f 7065 7261  ful as an [opera
+000248f0: 746f 7220 6675 6e63 7469 6f6e 5d28 236f  tor function](#o
+00024900: 7065 7261 746f 722d 6675 6e63 7469 6f6e  perator-function
+00024910: 7329 2066 6f72 2066 756e 6374 696f 6e20  s) for function 
+00024920: 6170 706c 6963 6174 696f 6e20 7768 656e  application when
+00024930: 2077 7269 7469 6e67 2069 6e20 6120 706f   writing in a po
+00024940: 696e 742d 6672 6565 2073 7479 6c65 2e0a  int-free style..
+00024950: 0a5f 4445 5052 4543 4154 4544 3a20 606f  ._DEPRECATED: `o
+00024960: 6660 2069 7320 6176 6169 6c61 626c 6520  f` is available 
+00024970: 6173 2061 2064 6570 7265 6361 7465 6420  as a deprecated 
+00024980: 616c 6961 7320 666f 7220 6063 616c 6c60  alias for `call`
+00024990: 2e20 4e6f 7465 2074 6861 7420 6465 7072  . Note that depr
+000249a0: 6563 6174 6564 2066 6561 7475 7265 7320  ecated features 
+000249b0: 6172 6520 6469 7361 626c 6564 2069 6e20  are disabled in 
+000249c0: 602d 2d73 7472 6963 7460 206d 6f64 652e  `--strict` mode.
+000249d0: 5f0a 0a23 2323 2320 6073 6166 655f 6361  _..#### `safe_ca
+000249e0: 6c6c 600a 0a2a 2a73 6166 655f 6361 6c6c  ll`..**safe_call
+000249f0: 2a2a 285f 6675 6e63 5f2c 202f 2c20 2a5f  **(_func_, /, *_
+00024a00: 6172 6773 5f2c 205c 2a5c 2a5f 6b77 6172  args_, \*\*_kwar
+00024a10: 6773 5f29 0a0a 436f 636f 6e75 7427 7320  gs_)..Coconut's 
+00024a20: 6073 6166 655f 6361 6c6c 6020 6973 2061  `safe_call` is a
+00024a30: 2076 6572 7369 6f6e 206f 6620 5b60 6361   version of [`ca
+00024a40: 6c6c 605d 2823 6361 6c6c 2920 7468 6174  ll`](#call) that
+00024a50: 2063 6174 6368 6573 2061 6e79 2060 4578   catches any `Ex
+00024a60: 6365 7074 696f 6e60 7320 616e 6420 7265  ception`s and re
+00024a70: 7475 726e 7320 616e 205b 6045 7870 6563  turns an [`Expec
+00024a80: 7465 6460 5d28 2365 7870 6563 7465 6429  ted`](#expected)
+00024a90: 2063 6f6e 7461 696e 696e 6720 6569 7468   containing eith
+00024aa0: 6572 2074 6865 2072 6573 756c 7420 6f72  er the result or
+00024ab0: 2074 6865 2065 7272 6f72 2e0a 0a60 7361   the error...`sa
+00024ac0: 6665 5f63 616c 6c60 2069 7320 6566 6665  fe_call` is effe
+00024ad0: 6374 6976 656c 7920 6571 7569 7661 6c65  ctively equivale
+00024ae0: 6e74 2074 6f3a 0a60 6060 636f 636f 6e75  nt to:.```coconu
+00024af0: 740a 6465 6620 7361 6665 5f63 616c 6c28  t.def safe_call(
+00024b00: 662c 202f 2c20 2a61 7267 732c 202a 2a6b  f, /, *args, **k
+00024b10: 7761 7267 7329 3a0a 2020 2020 7472 793a  wargs):.    try:
+00024b20: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00024b30: 4578 7065 6374 6564 2866 282a 6172 6773  Expected(f(*args
+00024b40: 2c20 2a2a 6b77 6172 6773 2929 0a20 2020  , **kwargs)).   
+00024b50: 2065 7863 6570 7420 4578 6365 7074 696f   except Exceptio
+00024b60: 6e20 6173 2065 7272 3a0a 2020 2020 2020  n as err:.      
+00024b70: 2020 7265 7475 726e 2045 7870 6563 7465    return Expecte
+00024b80: 6428 6572 726f 723d 6572 7229 0a60 6060  d(error=err).```
+00024b90: 0a0a 2323 2323 2320 4578 616d 706c 650a  ..##### Example.
+00024ba0: 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0a 6060  .**Coconut:**.``
+00024bb0: 6063 6f63 6f6e 7574 0a72 6573 2c20 6572  `coconut.res, er
+00024bc0: 7220 3d20 7361 6665 5f63 616c 6c28 2d3e  r = safe_call(->
+00024bd0: 2031 202f 2030 2920 7c3e 2066 6d61 7024   1 / 0) |> fmap$
+00024be0: 282e 2b31 290a 6060 600a 0a2a 2a50 7974  (.+1).```..**Pyt
+00024bf0: 686f 6e3a 2a2a 0a5f 4361 6e27 7420 6265  hon:**._Can't be
+00024c00: 2064 6f6e 6520 7769 7468 6f75 7420 6120   done without a 
+00024c10: 636f 6d70 6c65 7820 6045 7870 6563 7465  complex `Expecte
+00024c20: 6460 2064 6566 696e 6974 696f 6e2e 2053  d` definition. S
+00024c30: 6565 2074 6865 2063 6f6d 7069 6c65 6420  ee the compiled 
+00024c40: 636f 6465 2066 6f72 2074 6865 2050 7974  code for the Pyt
+00024c50: 686f 6e20 7379 6e74 6178 2e5f 0a0a 2323  hon syntax._..##
+00024c60: 2323 2060 6c69 6674 600a 0a2a 2a6c 6966  ## `lift`..**lif
+00024c70: 742a 2a28 5f66 756e 635f 290a 0a2a 2a6c  t**(_func_)..**l
+00024c80: 6966 742a 2a28 5f66 756e 635f 2c20 2a5f  ift**(_func_, *_
+00024c90: 6675 6e63 5c5f 6172 6773 5f2c 202a 2a5f  func\_args_, **_
+00024ca0: 6675 6e63 5c5f 6b77 6172 6773 5f29 0a0a  func\_kwargs_)..
+00024cb0: 436f 636f 6e75 7427 7320 606c 6966 7460  Coconut's `lift`
+00024cc0: 2062 7569 6c74 2d69 6e20 6973 2061 2068   built-in is a h
+00024cd0: 6967 6865 722d 6f72 6465 7220 6675 6e63  igher-order func
+00024ce0: 7469 6f6e 2074 6861 7420 7461 6b65 7320  tion that takes 
+00024cf0: 696e 2061 2066 756e 6374 696f 6e20 616e  in a function an
+00024d00: 6420 e280 9c6c 6966 7473 e280 9d20 6974  d ...lifts... it
+00024d10: 2075 7020 736f 2074 6861 7420 616c 6c20   up so that all 
+00024d20: 6f66 2069 7473 2061 7267 756d 656e 7473  of its arguments
+00024d30: 2061 7265 2066 756e 6374 696f 6e73 2e0a   are functions..
+00024d40: 0a41 7320 6120 7369 6d70 6c65 2065 7861  .As a simple exa
+00024d50: 6d70 6c65 2c20 666f 7220 6120 6269 6e61  mple, for a bina
+00024d60: 7279 2066 756e 6374 696f 6e20 6066 2878  ry function `f(x
+00024d70: 2c20 7929 6020 616e 6420 7477 6f20 756e  , y)` and two un
+00024d80: 6172 7920 6675 6e63 7469 6f6e 7320 6067  ary functions `g
+00024d90: 287a 2960 2061 6e64 2060 6828 7a29 602c  (z)` and `h(z)`,
+00024da0: 2060 6c69 6674 6020 776f 726b 7320 6173   `lift` works as
+00024db0: 0a60 6060 636f 636f 6e75 740a 6c69 6674  .```coconut.lift
+00024dc0: 2866 2928 672c 2068 2928 7a29 203d 3d20  (f)(g, h)(z) == 
+00024dd0: 6628 6728 7a29 2c20 6828 7a29 290a 6060  f(g(z), h(z)).``
+00024de0: 600a 7375 6368 2074 6861 7420 696e 2074  `.such that in t
+00024df0: 6869 7320 6361 7365 2060 6c69 6674 6020  his case `lift` 
+00024e00: 696d 706c 656d 656e 7473 2074 6865 2060  implements the `
+00024e10: 5327 6020 636f 6d62 696e 6174 6f72 2028  S'` combinator (
+00024e20: 606c 6966 7441 3260 206f 7220 606c 6966  `liftA2` or `lif
+00024e30: 744d 3260 2069 6e20 4861 736b 656c 6c29  tM2` in Haskell)
+00024e40: 2e0a 0a49 6e20 7468 6520 6765 6e65 7261  ...In the genera
+00024e50: 6c20 6361 7365 2c20 606c 6966 7460 2069  l case, `lift` i
+00024e60: 7320 6571 7569 7661 6c65 6e74 2074 6f20  s equivalent to 
+00024e70: 6120 7069 636b 6c65 6162 6c65 2076 6572  a pickleable ver
+00024e80: 7369 6f6e 206f 660a 6060 6063 6f63 6f6e  sion of.```cocon
+00024e90: 7574 0a64 6566 206c 6966 7428 6629 203d  ut.def lift(f) =
+00024ea0: 2028 0a20 2020 2028 2a66 756e 635f 6172   (.    (*func_ar
+00024eb0: 6773 2c20 2a2a 6675 6e63 5f6b 7761 7267  gs, **func_kwarg
+00024ec0: 7329 202d 3e0a 2020 2020 2020 2020 282a  s) ->.        (*
+00024ed0: 6172 6773 2c20 2a2a 6b77 6172 6773 2920  args, **kwargs) 
+00024ee0: 2d3e 0a20 2020 2020 2020 2020 2020 2066  ->.            f
+00024ef0: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+00024f00: 2020 2a28 6728 2a61 7267 732c 202a 2a6b    *(g(*args, **k
+00024f10: 7761 7267 7329 2066 6f72 2067 2069 6e20  wargs) for g in 
+00024f20: 6675 6e63 5f61 7267 7329 2c0a 2020 2020  func_args),.    
+00024f30: 2020 2020 2020 2020 2020 2020 2a2a 7b6b              **{k
+00024f40: 3a20 6828 2a61 7267 732c 202a 2a6b 7761  : h(*args, **kwa
+00024f50: 7267 7329 2066 6f72 206b 2c20 6820 696e  rgs) for k, h in
+00024f60: 2066 756e 635f 6b77 6172 6773 2e69 7465   func_kwargs.ite
+00024f70: 6d73 2829 7d0a 2020 2020 2020 2020 2020  ms()}.          
+00024f80: 2020 290a 290a 6060 600a 0a60 6c69 6674    ).).```..`lift
+00024f90: 6020 616c 736f 2073 7570 706f 7274 7320  ` also supports 
+00024fa0: 6120 7368 6f72 7463 7574 2066 6f72 6d20  a shortcut form 
+00024fb0: 7375 6368 2074 6861 7420 606c 6966 7428  such that `lift(
+00024fc0: 662c 202a 6675 6e63 5f61 7267 732c 202a  f, *func_args, *
+00024fd0: 2a66 756e 635f 6b77 6172 6773 2960 2069  *func_kwargs)` i
+00024fe0: 7320 6571 7569 7661 6c65 6e74 2074 6f20  s equivalent to 
+00024ff0: 606c 6966 7428 6629 282a 6675 6e63 5f61  `lift(f)(*func_a
+00025000: 7267 732c 202a 2a66 756e 635f 6b77 6172  rgs, **func_kwar
+00025010: 6773 2960 2e0a 0a23 2323 2323 2045 7861  gs)`...##### Exa
+00025020: 6d70 6c65 0a0a 2a2a 436f 636f 6e75 743a  mple..**Coconut:
+00025030: 2a2a 0a60 6060 636f 636f 6e75 740a 7873  **.```coconut.xs
+00025040: 5f61 6e64 5f78 7370 3120 3d20 6964 656e  _and_xsp1 = iden
+00025050: 7420 606c 6966 7428 7a69 7029 6020 6d61  t `lift(zip)` ma
+00025060: 7024 282d 3e5f 2b31 290a 6d69 6e5f 616e  p$(->_+1).min_an
+00025070: 645f 6d61 7820 3d20 6c69 6674 282c 2928  d_max = lift(,)(
+00025080: 6d69 6e2c 206d 6178 290a 706c 7573 5f61  min, max).plus_a
+00025090: 6e64 5f74 696d 6573 203d 2028 2b29 2060  nd_times = (+) `
+000250a0: 6c69 6674 282c 2960 2028 2a29 0a60 6060  lift(,)` (*).```
+000250b0: 0a0a 2a2a 5079 7468 6f6e 3a2a 2a0a 6060  ..**Python:**.``
+000250c0: 6063 6f63 6f6e 7574 5f70 7974 686f 6e0a  `coconut_python.
+000250d0: 6465 6620 7873 5f61 6e64 5f78 7370 3128  def xs_and_xsp1(
+000250e0: 7873 293a 0a20 2020 2072 6574 7572 6e20  xs):.    return 
+000250f0: 7a69 7028 7873 2c20 6d61 7028 6c61 6d62  zip(xs, map(lamb
+00025100: 6461 2078 3a20 7820 2b20 312c 2078 7329  da x: x + 1, xs)
+00025110: 290a 6465 6620 6d69 6e5f 616e 645f 6d61  ).def min_and_ma
+00025120: 7828 7873 293a 0a20 2020 2072 6574 7572  x(xs):.    retur
+00025130: 6e20 6d69 6e28 7873 292c 206d 6178 2878  n min(xs), max(x
+00025140: 7329 0a64 6566 2070 6c75 735f 616e 645f  s).def plus_and_
+00025150: 7469 6d65 7328 782c 2079 293a 0a20 2020  times(x, y):.   
+00025160: 2072 6574 7572 6e20 7820 2b20 792c 2078   return x + y, x
+00025170: 202a 2079 0a60 6060 0a0a 2323 2323 2060   * y.```..#### `
+00025180: 666c 6970 600a 0a2a 2a66 6c69 702a 2a28  flip`..**flip**(
+00025190: 5f66 756e 635f 2c20 5f6e 6172 6773 5f3d  _func_, _nargs_=
+000251a0: 604e 6f6e 6560 290a 0a43 6f63 6f6e 7574  `None`)..Coconut
+000251b0: 2773 2060 666c 6970 2866 2c20 6e61 7267  's `flip(f, narg
+000251c0: 733d 4e6f 6e65 2960 2069 7320 6120 6869  s=None)` is a hi
+000251d0: 6768 6572 2d6f 7264 6572 2066 756e 6374  gher-order funct
+000251e0: 696f 6e20 7468 6174 2c20 6769 7665 6e20  ion that, given 
+000251f0: 6120 6675 6e63 7469 6f6e 2060 6660 2c20  a function `f`, 
+00025200: 7265 7475 726e 7320 6120 6e65 7720 6675  returns a new fu
+00025210: 6e63 7469 6f6e 2077 6974 6820 7265 7665  nction with reve
+00025220: 7273 6564 2061 7267 756d 656e 7420 6f72  rsed argument or
+00025230: 6465 722e 2049 6620 606e 6172 6773 6020  der. If `nargs` 
+00025240: 6973 2070 6173 7365 642c 206f 6e6c 7920  is passed, only 
+00025250: 7468 6520 6669 7273 7420 606e 6172 6773  the first `nargs
+00025260: 6020 6172 6775 6d65 6e74 7320 6172 6520  ` arguments are 
+00025270: 7265 7665 7273 6564 2e0a 0a46 6f72 2074  reversed...For t
+00025280: 6865 2062 696e 6172 7920 6361 7365 2c20  he binary case, 
+00025290: 6066 6c69 7060 2077 6f72 6b73 2061 730a  `flip` works as.
+000252a0: 6060 6063 6f63 6f6e 7574 0a66 6c69 7028  ```coconut.flip(
+000252b0: 662c 2032 2928 782c 2079 2920 3d3d 2066  f, 2)(x, y) == f
+000252c0: 2879 2c20 7829 0a60 6060 0a73 7563 6820  (y, x).```.such 
+000252d0: 7468 6174 2060 666c 6970 2428 3f2c 2032  that `flip$(?, 2
+000252e0: 2960 2069 6d70 6c65 6d65 6e74 7320 7468  )` implements th
+000252f0: 6520 6043 6020 636f 6d62 696e 6174 6f72  e `C` combinator
+00025300: 2028 6066 6c69 7060 2069 6e20 4861 736b   (`flip` in Hask
+00025310: 656c 6c29 2e0a 0a49 6e20 7468 6520 6765  ell)...In the ge
+00025320: 6e65 7261 6c20 6361 7365 2c20 6066 6c69  neral case, `fli
+00025330: 7060 2069 7320 6571 7569 7661 6c65 6e74  p` is equivalent
+00025340: 2074 6f20 6120 7069 636b 6c65 6162 6c65   to a pickleable
+00025350: 2076 6572 7369 6f6e 206f 660a 6060 6063   version of.```c
+00025360: 6f63 6f6e 7574 0a64 6566 2066 6c69 7028  oconut.def flip(
+00025370: 662c 206e 6172 6773 3d4e 6f6e 6529 203d  f, nargs=None) =
+00025380: 0a20 2020 2028 2a61 7267 732c 202a 2a6b  .    (*args, **k
+00025390: 7761 7267 7329 202d 3e20 280a 2020 2020  wargs) -> (.    
+000253a0: 2020 2020 6628 2a61 7267 735b 3a3a 2d31      f(*args[::-1
+000253b0: 5d2c 202a 2a6b 7761 7267 7329 2069 6620  ], **kwargs) if 
+000253c0: 6e61 7267 7320 6973 204e 6f6e 650a 2020  nargs is None.  
+000253d0: 2020 2020 2020 656c 7365 2066 282a 2861        else f(*(a
+000253e0: 7267 735b 6e61 7267 732d 313a 3a2d 315d  rgs[nargs-1::-1]
+000253f0: 202b 2061 7267 735b 6e61 7267 733a 5d29   + args[nargs:])
+00025400: 2c20 2a2a 6b77 6172 6773 290a 2020 2020  , **kwargs).    
+00025410: 290a 6060 600a 0a23 2323 2320 6063 6f6e  ).```..#### `con
+00025420: 7374 600a 0a2a 2a63 6f6e 7374 2a2a 285f  st`..**const**(_
+00025430: 7661 6c75 655f 290a 0a43 6f63 6f6e 7574  value_)..Coconut
+00025440: 2773 2060 636f 6e73 7460 2073 696d 706c  's `const` simpl
+00025450: 7920 636f 6e73 7472 7563 7473 2061 2066  y constructs a f
+00025460: 756e 6374 696f 6e20 7468 6174 2c20 7768  unction that, wh
+00025470: 6174 6576 6572 2069 7473 2061 7267 756d  atever its argum
+00025480: 656e 7473 2c20 6a75 7374 2072 6574 7572  ents, just retur
+00025490: 6e73 2074 6865 2067 6976 656e 2076 616c  ns the given val
+000254a0: 7565 2e20 5468 7573 2c20 6063 6f6e 7374  ue. Thus, `const
+000254b0: 6020 6973 2065 7175 6976 616c 656e 7420  ` is equivalent 
+000254c0: 746f 2061 2070 6963 6b6c 6561 626c 6520  to a pickleable 
+000254d0: 7665 7273 696f 6e20 6f66 0a60 6060 636f  version of.```co
+000254e0: 636f 6e75 740a 6465 6620 636f 6e73 7428  conut.def const(
+000254f0: 7661 6c75 6529 203d 2028 2a61 7267 732c  value) = (*args,
+00025500: 202a 2a6b 7761 7267 7329 202d 3e20 7661   **kwargs) -> va
+00025510: 6c75 650a 6060 600a 0a60 636f 6e73 7460  lue.```..`const`
+00025520: 2069 7320 7072 696d 6172 696c 7920 7573   is primarily us
+00025530: 6566 756c 2077 6865 6e20 7772 6974 696e  eful when writin
+00025540: 6720 696e 2061 2070 6f69 6e74 2d66 7265  g in a point-fre
+00025550: 6520 7374 796c 6520 2865 2e67 2e20 696e  e style (e.g. in
+00025560: 2063 6f6d 6269 6e61 7469 6f6e 2077 6974   combination wit
+00025570: 6820 5b60 6c69 6674 605d 2823 6c69 6674  h [`lift`](#lift
+00025580: 2929 2e0a 0a23 2323 2320 6069 6465 6e74  ))...#### `ident
+00025590: 600a 0a2a 2a69 6465 6e74 2a2a 285f 785f  `..**ident**(_x_
+000255a0: 2c20 2a2c 205f 7369 6465 5c5f 6566 6665  , *, _side\_effe
+000255b0: 6374 5f3d 604e 6f6e 6560 290a 0a43 6f63  ct_=`None`)..Coc
+000255c0: 6f6e 7574 2773 2060 6964 656e 7460 2069  onut's `ident` i
+000255d0: 7320 7468 6520 6964 656e 7469 7479 2066  s the identity f
+000255e0: 756e 6374 696f 6e2c 2067 656e 6572 616c  unction, general
+000255f0: 6c79 2065 7175 6976 616c 656e 7420 746f  ly equivalent to
+00025600: 2060 7820 2d3e 2078 602e 0a0a 6069 6465   `x -> x`...`ide
+00025610: 6e74 6020 616c 736f 2061 6363 6570 7473  nt` also accepts
+00025620: 206f 6e65 206b 6579 776f 7264 2d6f 6e6c   one keyword-onl
+00025630: 7920 6172 6775 6d65 6e74 2c20 6073 6964  y argument, `sid
+00025640: 655f 6566 6665 6374 602c 2077 6869 6368  e_effect`, which
+00025650: 2073 7065 6369 6669 6573 2061 2066 756e   specifies a fun
+00025660: 6374 696f 6e20 746f 2063 616c 6c20 6f6e  ction to call on
+00025670: 2074 6865 2061 7267 756d 656e 7420 6265   the argument be
+00025680: 666f 7265 2069 7420 6973 2072 6574 7572  fore it is retur
+00025690: 6e65 642e 2054 6875 732c 2060 6964 656e  ned. Thus, `iden
+000256a0: 7460 2069 7320 6566 6665 6374 6976 656c  t` is effectivel
+000256b0: 7920 6571 7569 7661 6c65 6e74 2074 6f3a  y equivalent to:
+000256c0: 0a60 6060 636f 636f 6e75 740a 6465 6620  .```coconut.def 
+000256d0: 6964 656e 7428 782c 202a 2c20 7369 6465  ident(x, *, side
+000256e0: 5f65 6666 6563 743d 4e6f 6e65 293a 0a20  _effect=None):. 
+000256f0: 2020 2069 6620 7369 6465 5f65 6666 6563     if side_effec
+00025700: 7420 6973 206e 6f74 204e 6f6e 653a 0a20  t is not None:. 
+00025710: 2020 2020 2020 2073 6964 655f 6566 6665         side_effe
+00025720: 6374 2878 290a 2020 2020 7265 7475 726e  ct(x).    return
+00025730: 2078 0a60 6060 0a0a 6069 6465 6e74 6020   x.```..`ident` 
+00025740: 6973 2070 7269 6d61 7269 6c79 2075 7365  is primarily use
+00025750: 6675 6c20 7768 656e 2077 7269 7469 6e67  ful when writing
+00025760: 2069 6e20 6120 706f 696e 742d 6672 6565   in a point-free
+00025770: 2073 7479 6c65 2028 652e 672e 2069 6e20   style (e.g. in 
+00025780: 636f 6d62 696e 6174 696f 6e20 7769 7468  combination with
+00025790: 205b 606c 6966 7460 5d28 236c 6966 7429   [`lift`](#lift)
+000257a0: 2920 6f72 2066 6f72 2064 6562 7567 6769  ) or for debuggi
+000257b0: 6e67 205b 7069 7065 735d 2823 7069 7065  ng [pipes](#pipe
+000257c0: 7329 2077 6865 7265 2060 6964 656e 7424  s) where `ident$
+000257d0: 2873 6964 655f 6566 6665 6374 3d70 7269  (side_effect=pri
+000257e0: 6e74 2960 2063 616e 206c 6574 2079 6f75  nt)` can let you
+000257f0: 2073 6565 2077 6861 7420 6973 2062 6569   see what is bei
+00025800: 6e67 2070 6970 6564 2e0a 0a23 2323 2042  ng piped...### B
+00025810: 7569 6c74 2d49 6e73 2066 6f72 2057 6f72  uilt-Ins for Wor
+00025820: 6b69 6e67 2077 6974 6820 4974 6572 6174  king with Iterat
+00025830: 6f72 730a 0a60 6060 7b63 6f6e 7465 6e74  ors..```{content
+00025840: 737d 0a2d 2d2d 0a6c 6f63 616c 3a0a 6465  s}.---.local:.de
+00025850: 7074 683a 2031 0a2d 2d2d 0a60 6060 0a0a  pth: 1.---.```..
+00025860: 2323 2323 2045 6e68 616e 6365 6420 4275  #### Enhanced Bu
+00025870: 696c 742d 496e 730a 0a43 6f63 6f6e 7574  ilt-Ins..Coconut
+00025880: 2773 2060 6d61 7060 2c20 607a 6970 602c  's `map`, `zip`,
+00025890: 2060 6669 6c74 6572 602c 2060 7265 7665   `filter`, `reve
+000258a0: 7273 6564 602c 2061 6e64 2060 656e 756d  rsed`, and `enum
+000258b0: 6572 6174 6560 206f 626a 6563 7473 2061  erate` objects a
+000258c0: 7265 2065 6e68 616e 6365 6420 7665 7273  re enhanced vers
+000258d0: 696f 6e73 206f 6620 7468 6569 7220 5079  ions of their Py
+000258e0: 7468 6f6e 2065 7175 6976 616c 656e 7473  thon equivalents
+000258f0: 2074 6861 7420 7375 7070 6f72 743a 0a0a   that support:..
+00025900: 2d20 6072 6576 6572 7365 6460 0a2d 2060  - `reversed`.- `
+00025910: 7265 7072 600a 2d20 4f70 7469 6d69 7a65  repr`.- Optimize
+00025920: 6420 6e6f 726d 616c 2028 616e 6420 6974  d normal (and it
+00025930: 6572 6174 6f72 2920 696e 6465 7869 6e67  erator) indexing
+00025940: 2f73 6c69 6369 6e67 2028 606d 6170 602c  /slicing (`map`,
+00025950: 2060 7a69 7060 2c20 6072 6576 6572 7365   `zip`, `reverse
+00025960: 6460 2c20 616e 6420 6065 6e75 6d65 7261  d`, and `enumera
+00025970: 7465 6020 6275 7420 6e6f 7420 6066 696c  te` but not `fil
+00025980: 7465 7260 292e 0a2d 2060 6c65 6e60 2028  ter`)..- `len` (
+00025990: 616c 6c20 6275 7420 6066 696c 7465 7260  all but `filter`
+000259a0: 2920 2874 686f 7567 6820 6062 6f6f 6c60  ) (though `bool`
+000259b0: 2077 696c 6c20 7374 696c 6c20 616c 7761   will still alwa
+000259c0: 7973 2079 6965 6c64 2060 5472 7565 6029  ys yield `True`)
+000259d0: 2e0a 2d20 5468 6520 6162 696c 6974 7920  ..- The ability 
+000259e0: 746f 2062 6520 6974 6572 6174 6564 206f  to be iterated o
+000259f0: 7665 7220 6d75 6c74 6970 6c65 2074 696d  ver multiple tim
+00025a00: 6573 2069 6620 7468 6520 756e 6465 726c  es if the underl
+00025a10: 7969 6e67 2069 7465 7261 746f 7273 2063  ying iterators c
+00025a20: 616e 2062 6520 6974 6572 6174 6564 206f  an be iterated o
+00025a30: 7665 7220 6d75 6c74 6970 6c65 2074 696d  ver multiple tim
+00025a40: 6573 2e0a 2d20 5b50 4550 2036 3138 5d28  es..- [PEP 618](
+00025a50: 6874 7470 733a 2f2f 7777 772e 7079 7468  https://www.pyth
+00025a60: 6f6e 2e6f 7267 2f64 6576 2f70 6570 732f  on.org/dev/peps/
+00025a70: 7065 702d 3036 3138 2920 607a 6970 282e  pep-0618) `zip(.
+00025a80: 2e2e 2c20 7374 7269 6374 3d54 7275 6529  .., strict=True)
+00025a90: 6020 7375 7070 6f72 7420 6f6e 2061 6c6c  ` support on all
+00025aa0: 2050 7974 686f 6e20 7665 7273 696f 6e73   Python versions
+00025ab0: 2e0a 2d20 4164 6465 6420 6073 7472 6963  ..- Added `stric
+00025ac0: 743d 5472 7565 6020 7375 7070 6f72 7420  t=True` support 
+00025ad0: 746f 2060 6d61 7060 2061 7320 7765 6c6c  to `map` as well
+00025ae0: 2028 656e 666f 7263 6573 2074 6861 7420   (enforces that 
+00025af0: 6974 6572 6162 6c65 7320 6172 6520 7468  iterables are th
+00025b00: 6520 7361 6d65 206c 656e 6774 6820 696e  e same length in
+00025b10: 2074 6865 206d 756c 7469 2d69 7465 7261   the multi-itera
+00025b20: 626c 6520 6361 7365 3b20 7573 6573 2060  ble case; uses `
+00025b30: 7a69 7060 2075 6e64 6572 2074 6865 2068  zip` under the h
+00025b40: 6f6f 6420 7375 6368 2074 6861 7420 6572  ood such that er
+00025b50: 726f 7273 2077 696c 6c20 7368 6f77 2075  rors will show u
+00025b60: 7020 6173 2060 7a69 7028 2e2e 2e2c 2073  p as `zip(..., s
+00025b70: 7472 6963 743d 5472 7565 2960 2065 7272  trict=True)` err
+00025b80: 6f72 7329 2e0a 2d20 4164 6465 6420 6174  ors)..- Added at
+00025b90: 7472 6962 7574 6573 2077 6869 6368 2073  tributes which s
+00025ba0: 7562 636c 6173 7365 7320 6361 6e20 6d61  ubclasses can ma
+00025bb0: 6b65 2075 7365 206f 6620 746f 2067 6574  ke use of to get
+00025bc0: 2061 7420 7468 6520 6f72 6967 696e 616c   at the original
+00025bd0: 2061 7267 756d 656e 7473 2074 6f20 7468   arguments to th
+00025be0: 6520 6f62 6a65 6374 3a0a 2020 2a20 606d  e object:.  * `m
+00025bf0: 6170 603a 2060 6675 6e63 602c 2060 6974  ap`: `func`, `it
+00025c00: 6572 7360 0a20 202a 2060 7a69 7060 3a20  ers`.  * `zip`: 
+00025c10: 6069 7465 7273 600a 2020 2a20 6066 696c  `iters`.  * `fil
+00025c20: 7465 7260 3a20 6066 756e 6360 2c20 6069  ter`: `func`, `i
+00025c30: 7465 7260 0a20 202a 2060 7265 7665 7273  ter`.  * `revers
+00025c40: 6564 603a 2060 6974 6572 600a 2020 2a20  ed`: `iter`.  * 
+00025c50: 6065 6e75 6d65 7261 7465 603a 2060 6974  `enumerate`: `it
+00025c60: 6572 602c 2060 7374 6172 7460 0a0a 2323  er`, `start`..##
+00025c70: 2323 2320 496e 6465 7869 6e67 2069 6e74  ### Indexing int
+00025c80: 6f20 6f74 6865 7220 6275 696c 742d 696e  o other built-in
+00025c90: 730a 0a54 686f 7567 6820 436f 636f 6e75  s..Though Coconu
+00025ca0: 7420 7072 6f76 6964 6573 2072 616e 646f  t provides rando
+00025cb0: 6d20 6163 6365 7373 2069 6e64 6578 696e  m access indexin
+00025cc0: 672f 736c 6963 696e 6720 746f 2060 7261  g/slicing to `ra
+00025cd0: 6e67 6560 2c20 606d 6170 602c 2060 7a69  nge`, `map`, `zi
+00025ce0: 7060 2c20 6072 6576 6572 7365 6460 2c20  p`, `reversed`, 
+00025cf0: 616e 6420 6065 6e75 6d65 7261 7465 602c  and `enumerate`,
+00025d00: 2043 6f63 6f6e 7574 2063 616e 6e6f 7420   Coconut cannot 
+00025d10: 696e 6465 7820 696e 746f 2062 7569 6c74  index into built
+00025d20: 2d69 6e73 206c 696b 6520 6066 696c 7465  -ins like `filte
+00025d30: 7260 2c20 6074 616b 6577 6869 6c65 602c  r`, `takewhile`,
+00025d40: 206f 7220 6064 726f 7077 6869 6c65 6020   or `dropwhile` 
+00025d50: 6469 7265 6374 6c79 2c20 6173 2074 6865  directly, as the
+00025d60: 7265 2069 7320 6e6f 2065 6666 6963 6965  re is no efficie
+00025d70: 6e74 2077 6179 2074 6f20 646f 2073 6f2e  nt way to do so.
+00025d80: 0a0a 6060 6063 6f63 6f6e 7574 0a72 616e  ..```coconut.ran
+00025d90: 6765 2831 3029 207c 3e20 6669 6c74 6572  ge(10) |> filter
+00025da0: 2428 692d 3e69 3e33 2920 7c3e 202e 5b30  $(i->i>3) |> .[0
+00025db0: 5d20 2023 2064 6f65 736e 2774 2077 6f72  ]  # doesn't wor
+00025dc0: 6b0a 6060 600a 0a49 6e20 6f72 6465 7220  k.```..In order 
+00025dd0: 746f 206d 616b 6520 7468 6973 2077 6f72  to make this wor
+00025de0: 6b2c 2079 6f75 2063 616e 2065 7870 6c69  k, you can expli
+00025df0: 6369 746c 7920 7573 6520 6974 6572 6174  citly use iterat
+00025e00: 6f72 2073 6c69 6369 6e67 2c20 7768 6963  or slicing, whic
+00025e10: 6820 6973 206c 6573 7320 6566 6669 6369  h is less effici
+00025e20: 656e 7420 696e 2074 6865 2067 656e 6572  ent in the gener
+00025e30: 616c 2063 6173 653a 0a0a 6060 6063 6f63  al case:..```coc
+00025e40: 6f6e 7574 0a72 616e 6765 2831 3029 207c  onut.range(10) |
+00025e50: 3e20 6669 6c74 6572 2428 692d 3e69 3e33  > filter$(i->i>3
+00025e60: 2920 7c3e 202e 245b 305d 2020 2320 776f  ) |> .$[0]  # wo
+00025e70: 726b 730a 6060 600a 0a46 6f72 206d 6f72  rks.```..For mor
+00025e80: 6520 696e 666f 726d 6174 696f 6e20 6f6e  e information on
+00025e90: 2043 6f63 6f6e 7574 2773 2069 7465 7261   Coconut's itera
+00025ea0: 746f 7220 736c 6963 696e 672c 2073 6565  tor slicing, see
+00025eb0: 205b 6865 7265 5d28 2369 7465 7261 746f   [here](#iterato
+00025ec0: 722d 736c 6963 696e 6729 2e0a 0a23 2323  r-slicing)...###
+00025ed0: 2323 2045 7861 6d70 6c65 730a 0a2a 2a43  ## Examples..**C
+00025ee0: 6f63 6f6e 7574 3a2a 2a0a 6060 6063 6f63  oconut:**.```coc
+00025ef0: 6f6e 7574 0a6d 6170 2828 2b29 2c20 7261  onut.map((+), ra
+00025f00: 6e67 6528 3529 2c20 7261 6e67 6528 3629  nge(5), range(6)
+00025f10: 2920 7c3e 206c 656e 207c 3e20 7072 696e  ) |> len |> prin
+00025f20: 740a 7261 6e67 6528 3130 2920 7c3e 2066  t.range(10) |> f
+00025f30: 696c 7465 7224 2828 7829 202d 3e20 7820  ilter$((x) -> x 
+00025f40: 3c20 3529 207c 3e20 7265 7665 7273 6564  < 5) |> reversed
+00025f50: 207c 3e20 7475 706c 6520 7c3e 2070 7269   |> tuple |> pri
+00025f60: 6e74 0a60 6060 0a0a 2a2a 5079 7468 6f6e  nt.```..**Python
+00025f70: 3a2a 2a0a 5f43 616e 2774 2062 6520 646f  :**._Can't be do
+00025f80: 6e65 2077 6974 686f 7574 2064 6566 696e  ne without defin
+00025f90: 696e 6720 6120 6375 7374 6f6d 2060 6d61  ing a custom `ma
+00025fa0: 7060 2074 7970 652e 2054 6865 2066 756c  p` type. The ful
+00025fb0: 6c20 6465 6669 6e69 7469 6f6e 206f 6620  l definition of 
+00025fc0: 606d 6170 6020 6361 6e20 6265 2066 6f75  `map` can be fou
+00025fd0: 6e64 2069 6e20 7468 6520 436f 636f 6e75  nd in the Coconu
+00025fe0: 7420 6865 6164 6572 2e5f 0a0a 2a2a 436f  t header._..**Co
+00025ff0: 636f 6e75 743a 2a2a 0a60 6060 636f 636f  conut:**.```coco
+00026000: 6e75 740a 7261 6e67 6528 302c 2031 322c  nut.range(0, 12,
+00026010: 2032 295b 345d 2020 2320 380a 0a6d 6170   2)[4]  # 8..map
+00026020: 2828 692d 3e69 2a32 292c 2072 616e 6765  ((i->i*2), range
+00026030: 2831 3029 295b 325d 2020 2320 340a 6060  (10))[2]  # 4.``
+00026040: 600a 0a2a 2a50 7974 686f 6e3a 2a2a 0a5f  `..**Python:**._
+00026050: 4361 6ee2 8099 7420 6265 2064 6f6e 6520  Can...t be done 
+00026060: 7175 6963 6b6c 7920 7769 7468 6f75 7420  quickly without 
+00026070: 436f 636f 6e75 74e2 8099 7320 6974 6572  Coconut...s iter
+00026080: 6162 6c65 2069 6e64 6578 696e 672c 2077  able indexing, w
+00026090: 6869 6368 2072 6571 7569 7265 7320 6d61  hich requires ma
+000260a0: 6e79 2063 6f6d 706c 6963 6174 6564 2070  ny complicated p
+000260b0: 6965 6365 732e 2054 6865 206e 6563 6573  ieces. The neces
+000260c0: 7361 7279 2064 6566 696e 6974 696f 6e73  sary definitions
+000260d0: 2069 6e20 5079 7468 6f6e 2063 616e 2062   in Python can b
+000260e0: 6520 666f 756e 6420 696e 2074 6865 2043  e found in the C
+000260f0: 6f63 6f6e 7574 2068 6561 6465 722e 5f0a  oconut header._.
+00026100: 0a23 2323 2320 6072 6564 7563 6560 0a0a  .#### `reduce`..
+00026110: 2a2a 7265 6475 6365 2a2a 285f 6675 6e63  **reduce**(_func
+00026120: 7469 6f6e 5f2c 205f 6974 6572 6162 6c65  tion_, _iterable
+00026130: 5f5b 2c20 5f69 6e69 7469 616c 5f5d 2c20  _[, _initial_], 
+00026140: 2f29 0a0a 436f 636f 6e75 7420 7265 2d69  /)..Coconut re-i
+00026150: 6e74 726f 6475 6365 7320 5079 7468 6f6e  ntroduces Python
+00026160: 2032 2773 2060 7265 6475 6365 6020 6275   2's `reduce` bu
+00026170: 696c 742d 696e 2c20 7573 696e 6720 7468  ilt-in, using th
+00026180: 6520 6066 756e 6374 6f6f 6c73 2e72 6564  e `functools.red
+00026190: 7563 6560 2076 6572 7369 6f6e 2e0a 0a23  uce` version...#
+000261a0: 2323 2323 2050 7974 686f 6e20 446f 6373  #### Python Docs
+000261b0: 0a0a 2a2a 7265 6475 6365 2a2a 285f 6675  ..**reduce**(_fu
+000261c0: 6e63 7469 6f6e 2c20 6974 6572 6162 6c65  nction, iterable
+000261d0: 5f2a 2a5b 2a2a 5f2c 2069 6e69 7469 616c  _**[**_, initial
+000261e0: 5f2a 2a5d 2a2a 290a 0a41 7070 6c79 205f  _**]**)..Apply _
+000261f0: 6675 6e63 7469 6f6e 5f20 6f66 2074 776f  function_ of two
+00026200: 2061 7267 756d 656e 7473 2063 756d 756c   arguments cumul
+00026210: 6174 6976 656c 7920 746f 2074 6865 2069  atively to the i
+00026220: 7465 6d73 206f 6620 5f73 6571 7565 6e63  tems of _sequenc
+00026230: 655f 2c20 6672 6f6d 206c 6566 7420 746f  e_, from left to
+00026240: 2072 6967 6874 2c20 736f 2061 7320 746f   right, so as to
+00026250: 2072 6564 7563 6520 7468 6520 7365 7175   reduce the sequ
+00026260: 656e 6365 2074 6f20 6120 7369 6e67 6c65  ence to a single
+00026270: 2076 616c 7565 2e20 466f 7220 6578 616d   value. For exam
+00026280: 706c 652c 2060 7265 6475 6365 2828 782c  ple, `reduce((x,
+00026290: 2079 2920 2d3e 2078 2b79 2c20 5b31 2c20   y) -> x+y, [1, 
+000262a0: 322c 2033 2c20 342c 2035 5d29 6020 6361  2, 3, 4, 5])` ca
+000262b0: 6c63 756c 6174 6573 2060 2828 2828 312b  lculates `((((1+
+000262c0: 3229 2b33 292b 3429 2b35 2960 2e20 5468  2)+3)+4)+5)`. Th
+000262d0: 6520 6c65 6674 2061 7267 756d 656e 742c  e left argument,
+000262e0: 205f 785f 2c20 6973 2074 6865 2061 6363   _x_, is the acc
+000262f0: 756d 756c 6174 6564 2076 616c 7565 2061  umulated value a
+00026300: 6e64 2074 6865 2072 6967 6874 2061 7267  nd the right arg
+00026310: 756d 656e 742c 205f 795f 2c20 6973 2074  ument, _y_, is t
+00026320: 6865 2075 7064 6174 6520 7661 6c75 6520  he update value 
+00026330: 6672 6f6d 2074 6865 205f 7365 7175 656e  from the _sequen
+00026340: 6365 5f2e 2049 6620 7468 6520 6f70 7469  ce_. If the opti
+00026350: 6f6e 616c 205f 696e 6974 6961 6c5f 2069  onal _initial_ i
+00026360: 7320 7072 6573 656e 742c 2069 7420 6973  s present, it is
+00026370: 2070 6c61 6365 6420 6265 666f 7265 2074   placed before t
+00026380: 6865 2069 7465 6d73 206f 6620 7468 6520  he items of the 
+00026390: 7365 7175 656e 6365 2069 6e20 7468 6520  sequence in the 
+000263a0: 6361 6c63 756c 6174 696f 6e2c 2061 6e64  calculation, and
+000263b0: 2073 6572 7665 7320 6173 2061 2064 6566   serves as a def
+000263c0: 6175 6c74 2077 6865 6e20 7468 6520 7365  ault when the se
+000263d0: 7175 656e 6365 2069 7320 656d 7074 792e  quence is empty.
+000263e0: 2049 6620 5f69 6e69 7469 616c 5f20 6973   If _initial_ is
+000263f0: 206e 6f74 2067 6976 656e 2061 6e64 205f   not given and _
+00026400: 7365 7175 656e 6365 5f20 636f 6e74 6169  sequence_ contai
+00026410: 6e73 206f 6e6c 7920 6f6e 6520 6974 656d  ns only one item
+00026420: 2c20 7468 6520 6669 7273 7420 6974 656d  , the first item
+00026430: 2069 7320 7265 7475 726e 6564 2e0a 0a23   is returned...#
+00026440: 2323 2323 2045 7861 6d70 6c65 0a0a 2a2a  #### Example..**
+00026450: 436f 636f 6e75 743a 2a2a 0a60 6060 636f  Coconut:**.```co
+00026460: 636f 6e75 740a 7072 6f64 7563 7420 3d20  conut.product = 
+00026470: 7265 6475 6365 2428 2a29 0a72 616e 6765  reduce$(*).range
+00026480: 2831 2c20 3130 2920 7c3e 2070 726f 6475  (1, 10) |> produ
+00026490: 6374 207c 3e20 7072 696e 740a 6060 600a  ct |> print.```.
+000264a0: 0a2a 2a50 7974 686f 6e3a 2a2a 0a60 6060  .**Python:**.```
+000264b0: 636f 636f 6e75 745f 7079 7468 6f6e 0a69  coconut_python.i
+000264c0: 6d70 6f72 7420 6f70 6572 6174 6f72 0a69  mport operator.i
+000264d0: 6d70 6f72 7420 6675 6e63 746f 6f6c 730a  mport functools.
+000264e0: 7072 6f64 7563 7420 3d20 6675 6e63 746f  product = functo
+000264f0: 6f6c 732e 7061 7274 6961 6c28 6675 6e63  ols.partial(func
+00026500: 746f 6f6c 732e 7265 6475 6365 2c20 6f70  tools.reduce, op
+00026510: 6572 6174 6f72 2e6d 756c 290a 7072 696e  erator.mul).prin
+00026520: 7428 7072 6f64 7563 7428 7261 6e67 6528  t(product(range(
+00026530: 312c 2031 3029 2929 0a60 6060 0a0a 2323  1, 10))).```..##
+00026540: 2323 2060 7265 6974 6572 6162 6c65 600a  ## `reiterable`.
+00026550: 0a2a 2a72 6569 7465 7261 626c 652a 2a28  .**reiterable**(
+00026560: 5f69 7465 7261 626c 655f 290a 0a60 7265  _iterable_)..`re
+00026570: 6974 6572 6162 6c65 6020 7772 6170 7320  iterable` wraps 
+00026580: 7468 6520 6769 7665 6e20 6974 6572 6162  the given iterab
+00026590: 6c65 2074 6f20 656e 7375 7265 2074 6861  le to ensure tha
+000265a0: 7420 6576 6572 7920 7469 6d65 2074 6865  t every time the
+000265b0: 2060 7265 6974 6572 6162 6c65 6020 6973   `reiterable` is
+000265c0: 2069 7465 7261 7465 6420 6f76 6572 2c20   iterated over, 
+000265d0: 6974 2070 726f 6475 6365 7320 7468 6520  it produces the 
+000265e0: 7361 6d65 2072 6573 756c 7473 2e20 4e6f  same results. No
+000265f0: 7465 2074 6861 7420 7468 6520 7265 7375  te that the resu
+00026600: 6c74 206e 6565 6420 6e6f 7420 6265 2061  lt need not be a
+00026610: 2060 7265 6974 6572 6162 6c65 6020 6f62   `reiterable` ob
+00026620: 6a65 6374 2069 6620 7468 6520 6769 7665  ject if the give
+00026630: 6e20 6974 6572 6162 6c65 2069 7320 616c  n iterable is al
+00026640: 7265 6164 7920 7265 6974 6572 6162 6c65  ready reiterable
+00026650: 2e20 6072 6569 7465 7261 626c 6560 2075  . `reiterable` u
+00026660: 7365 7320 5b60 7465 6560 5d28 2374 6565  ses [`tee`](#tee
+00026670: 2920 756e 6465 7220 7468 6520 686f 6f64  ) under the hood
+00026680: 2061 6e64 2060 7465 6560 2063 616e 2062   and `tee` can b
+00026690: 6520 7573 6564 2069 6e20 6974 7320 706c  e used in its pl
+000266a0: 6163 652c 2074 686f 7567 6820 6072 6569  ace, though `rei
+000266b0: 7465 7261 626c 6560 2069 7320 6765 6e65  terable` is gene
+000266c0: 7261 6c6c 7920 7265 636f 6d6d 656e 6465  rally recommende
+000266d0: 6420 6f76 6572 2060 7465 6560 2e0a 0a23  d over `tee`...#
+000266e0: 2323 2323 2045 7861 6d70 6c65 0a0a 2a2a  #### Example..**
+000266f0: 436f 636f 6e75 743a 2a2a 0a60 6060 636f  Coconut:**.```co
+00026700: 636f 6e75 740a 6465 6620 6c69 7374 5f74  conut.def list_t
+00026710: 7970 6528 7873 293a 0a20 2020 206d 6174  ype(xs):.    mat
+00026720: 6368 2072 6569 7465 7261 626c 6528 7873  ch reiterable(xs
+00026730: 293a 0a20 2020 2020 2020 2063 6173 6520  ):.        case 
+00026740: 5b66 7374 2c20 736e 645d 203a 3a20 7461  [fst, snd] :: ta
+00026750: 696c 3a0a 2020 2020 2020 2020 2020 2020  il:.            
+00026760: 7265 7475 726e 2022 6174 206c 6561 7374  return "at least
+00026770: 2032 220a 2020 2020 2020 2020 6361 7365   2".        case
+00026780: 205b 6673 745d 203a 3a20 7461 696c 3a0a   [fst] :: tail:.
+00026790: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+000267a0: 726e 2022 6174 206c 6561 7374 2031 220a  rn "at least 1".
+000267b0: 2020 2020 2020 2020 6361 7365 2028 7c20          case (| 
+000267c0: 7c29 3a0a 2020 2020 2020 2020 2020 2020  |):.            
+000267d0: 7265 7475 726e 2022 656d 7074 7922 0a60  return "empty".`
+000267e0: 6060 0a0a 2a2a 5079 7468 6f6e 3a2a 2a0a  ``..**Python:**.
+000267f0: 5f43 616e 2774 2062 6520 646f 6e65 2077  _Can't be done w
+00026800: 6974 686f 7574 2061 206c 6f6e 6720 7365  ithout a long se
+00026810: 7269 6573 206f 6620 6368 6563 6b73 2066  ries of checks f
+00026820: 6f72 2065 6163 6820 606d 6174 6368 6020  or each `match` 
+00026830: 7374 6174 656d 656e 742e 2053 6565 2074  statement. See t
+00026840: 6865 2063 6f6d 7069 6c65 6420 636f 6465  he compiled code
+00026850: 2066 6f72 2074 6865 2050 7974 686f 6e20   for the Python 
+00026860: 7379 6e74 6178 2e5f 0a0a 2323 2323 2060  syntax._..#### `
+00026870: 7374 6172 6d61 7060 0a0a 2a2a 7374 6172  starmap`..**star
+00026880: 6d61 702a 2a28 5f66 756e 6374 696f 6e5f  map**(_function_
+00026890: 2c20 5f69 7465 7261 626c 655f 290a 0a43  , _iterable_)..C
+000268a0: 6f63 6f6e 7574 2070 726f 7669 6465 7320  oconut provides 
+000268b0: 6120 6d6f 6469 6669 6564 2076 6572 7369  a modified versi
+000268c0: 6f6e 206f 6620 6069 7465 7274 6f6f 6c73  on of `itertools
+000268d0: 2e73 7461 726d 6170 6020 7468 6174 2073  .starmap` that s
+000268e0: 7570 706f 7274 7320 6072 6576 6572 7365  upports `reverse
+000268f0: 6460 2c20 6072 6570 7260 2c20 6f70 7469  d`, `repr`, opti
+00026900: 6d69 7a65 6420 6e6f 726d 616c 2028 616e  mized normal (an
+00026910: 6420 6974 6572 6174 6f72 2920 736c 6963  d iterator) slic
+00026920: 696e 672c 2060 6c65 6e60 2c20 616e 6420  ing, `len`, and 
+00026930: 6066 756e 6360 2f60 6974 6572 6020 6174  `func`/`iter` at
+00026940: 7472 6962 7574 6573 2e0a 0a23 2323 2323  tributes...#####
+00026950: 2050 7974 686f 6e20 446f 6373 0a0a 2a2a   Python Docs..**
+00026960: 7374 6172 6d61 702a 2a28 5f66 756e 6374  starmap**(_funct
+00026970: 696f 6e2c 2069 7465 7261 626c 655f 290a  ion, iterable_).
+00026980: 0a4d 616b 6520 616e 2069 7465 7261 746f  .Make an iterato
+00026990: 7220 7468 6174 2063 6f6d 7075 7465 7320  r that computes 
+000269a0: 7468 6520 6675 6e63 7469 6f6e 2075 7369  the function usi
+000269b0: 6e67 2061 7267 756d 656e 7473 206f 6274  ng arguments obt
+000269c0: 6169 6e65 6420 6672 6f6d 2074 6865 2069  ained from the i
+000269d0: 7465 7261 626c 652e 2055 7365 6420 696e  terable. Used in
+000269e0: 7374 6561 6420 6f66 2060 6d61 7028 2960  stead of `map()`
+000269f0: 2077 6865 6e20 6172 6775 6d65 6e74 2070   when argument p
+00026a00: 6172 616d 6574 6572 7320 6172 6520 616c  arameters are al
+00026a10: 7265 6164 7920 6772 6f75 7065 6420 696e  ready grouped in
+00026a20: 2074 7570 6c65 7320 6672 6f6d 2061 2073   tuples from a s
+00026a30: 696e 676c 6520 6974 6572 6162 6c65 2028  ingle iterable (
+00026a40: 7468 6520 6461 7461 2068 6173 2062 6565  the data has bee
+00026a50: 6e20 2270 7265 2d7a 6970 7065 6422 292e  n "pre-zipped").
+00026a60: 2054 6865 2064 6966 6665 7265 6e63 6520   The difference 
+00026a70: 6265 7477 6565 6e20 606d 6170 2829 6020  between `map()` 
+00026a80: 616e 6420 6073 7461 726d 6170 2829 6020  and `starmap()` 
+00026a90: 7061 7261 6c6c 656c 7320 7468 6520 6469  parallels the di
+00026aa0: 7374 696e 6374 696f 6e20 6265 7477 6565  stinction betwee
+00026ab0: 6e20 6066 756e 6374 696f 6e28 612c 6229  n `function(a,b)
+00026ac0: 6020 616e 6420 6066 756e 6374 696f 6e28  ` and `function(
+00026ad0: 2a63 2960 2e20 526f 7567 686c 7920 6571  *c)`. Roughly eq
+00026ae0: 7569 7661 6c65 6e74 2074 6f3a 0a0a 6060  uivalent to:..``
+00026af0: 6063 6f63 6f6e 7574 5f70 7974 686f 6e0a  `coconut_python.
+00026b00: 6465 6620 7374 6172 6d61 7028 6675 6e63  def starmap(func
+00026b10: 7469 6f6e 2c20 6974 6572 6162 6c65 293a  tion, iterable):
+00026b20: 0a20 2020 2023 2073 7461 726d 6170 2870  .    # starmap(p
+00026b30: 6f77 2c20 5b28 322c 3529 2c20 2833 2c32  ow, [(2,5), (3,2
+00026b40: 292c 2028 3130 2c33 295d 2920 2d2d 3e20  ), (10,3)]) --> 
+00026b50: 3332 2039 2031 3030 300a 2020 2020 666f  32 9 1000.    fo
+00026b60: 7220 6172 6773 2069 6e20 6974 6572 6162  r args in iterab
+00026b70: 6c65 3a0a 2020 2020 2020 2020 7969 656c  le:.        yiel
+00026b80: 6420 6675 6e63 7469 6f6e 282a 6172 6773  d function(*args
+00026b90: 290a 6060 600a 0a23 2323 2323 2045 7861  ).```..##### Exa
+00026ba0: 6d70 6c65 0a0a 2a2a 436f 636f 6e75 743a  mple..**Coconut:
+00026bb0: 2a2a 0a60 6060 636f 636f 6e75 740a 7261  **.```coconut.ra
+00026bc0: 6e67 6528 312c 2035 2920 7c3e 206d 6170  nge(1, 5) |> map
+00026bd0: 2428 7261 6e67 6529 207c 3e20 7374 6172  $(range) |> star
+00026be0: 6d61 7024 2870 7269 6e74 2920 7c3e 2063  map$(print) |> c
+00026bf0: 6f6e 7375 6d65 0a60 6060 0a0a 2a2a 5079  onsume.```..**Py
+00026c00: 7468 6f6e 3a2a 2a0a 6060 6063 6f63 6f6e  thon:**.```cocon
+00026c10: 7574 5f70 7974 686f 6e0a 696d 706f 7274  ut_python.import
+00026c20: 2069 7465 7274 6f6f 6c73 2c20 636f 6c6c   itertools, coll
+00026c30: 6563 7469 6f6e 730a 636f 6c6c 6563 7469  ections.collecti
+00026c40: 6f6e 732e 6465 7175 6528 6974 6572 746f  ons.deque(iterto
+00026c50: 6f6c 732e 7374 6172 6d61 7028 7072 696e  ols.starmap(prin
+00026c60: 742c 206d 6170 2872 616e 6765 2c20 7261  t, map(range, ra
+00026c70: 6e67 6528 312c 2035 2929 292c 206d 6178  nge(1, 5))), max
+00026c80: 6c65 6e3d 3029 0a60 6060 0a0a 2323 2323  len=0).```..####
+00026c90: 2060 7a69 705f 6c6f 6e67 6573 7460 0a0a   `zip_longest`..
+00026ca0: 2a2a 7a69 705c 5f6c 6f6e 6765 7374 2a2a  **zip\_longest**
+00026cb0: 282a 5f69 7465 7261 626c 6573 5f2c 205f  (*_iterables_, _
+00026cc0: 6669 6c6c 7661 6c75 655f 3d60 4e6f 6e65  fillvalue_=`None
+00026cd0: 6029 0a0a 436f 636f 6e75 7420 7072 6f76  `)..Coconut prov
+00026ce0: 6964 6573 2061 6e20 656e 6861 6e63 6564  ides an enhanced
+00026cf0: 2076 6572 7369 6f6e 206f 6620 6069 7465   version of `ite
+00026d00: 7274 6f6f 6c73 2e7a 6970 5f6c 6f6e 6765  rtools.zip_longe
+00026d10: 7374 6020 6173 2061 2062 7569 6c74 2d69  st` as a built-i
+00026d20: 6e20 756e 6465 7220 7468 6520 6e61 6d65  n under the name
+00026d30: 2060 7a69 705f 6c6f 6e67 6573 7460 2e20   `zip_longest`. 
+00026d40: 607a 6970 5f6c 6f6e 6765 7374 6020 7375  `zip_longest` su
+00026d50: 7070 6f72 7473 2061 6c6c 2074 6865 2073  pports all the s
+00026d60: 616d 6520 6665 6174 7572 6573 2061 7320  ame features as 
+00026d70: 436f 636f 6e75 7427 7320 5b65 6e68 616e  Coconut's [enhan
+00026d80: 6365 6420 7a69 705d 2823 656e 6861 6e63  ced zip](#enhanc
+00026d90: 6564 2d62 7569 6c74 2d69 6e73 2920 6173  ed-built-ins) as
+00026da0: 2077 656c 6c20 6173 2074 6865 2061 6464   well as the add
+00026db0: 6974 696f 6e61 6c20 6174 7472 6962 7574  itional attribut
+00026dc0: 6520 6066 696c 6c76 616c 7565 602e 0a0a  e `fillvalue`...
+00026dd0: 2323 2323 2320 5079 7468 6f6e 2044 6f63  ##### Python Doc
+00026de0: 730a 0a2a 2a7a 6970 5c5f 6c6f 6e67 6573  s..**zip\_longes
+00026df0: 742a 2a28 5f5c 2a69 7465 7261 626c 6573  t**(_\*iterables
+00026e00: 2c20 6669 6c6c 7661 6c75 653d 4e6f 6e65  , fillvalue=None
+00026e10: 5f29 0a0a 4d61 6b65 2061 6e20 6974 6572  _)..Make an iter
+00026e20: 6174 6f72 2074 6861 7420 6167 6772 6567  ator that aggreg
+00026e30: 6174 6573 2065 6c65 6d65 6e74 7320 6672  ates elements fr
+00026e40: 6f6d 2065 6163 6820 6f66 2074 6865 2069  om each of the i
+00026e50: 7465 7261 626c 6573 2e20 4966 2074 6865  terables. If the
+00026e60: 2069 7465 7261 626c 6573 2061 7265 206f   iterables are o
+00026e70: 6620 756e 6576 656e 206c 656e 6774 682c  f uneven length,
+00026e80: 206d 6973 7369 6e67 2076 616c 7565 7320   missing values 
+00026e90: 6172 6520 6669 6c6c 6564 2d69 6e20 7769  are filled-in wi
+00026ea0: 7468 205f 6669 6c6c 7661 6c75 655f 2e20  th _fillvalue_. 
+00026eb0: 4974 6572 6174 696f 6e20 636f 6e74 696e  Iteration contin
+00026ec0: 7565 7320 756e 7469 6c20 7468 6520 6c6f  ues until the lo
+00026ed0: 6e67 6573 7420 6974 6572 6162 6c65 2069  ngest iterable i
+00026ee0: 7320 6578 6861 7573 7465 642e 2052 6f75  s exhausted. Rou
+00026ef0: 6768 6c79 2065 7175 6976 616c 656e 7420  ghly equivalent 
+00026f00: 746f 3a0a 0a60 6060 636f 636f 6e75 745f  to:..```coconut_
+00026f10: 7079 7468 6f6e 0a64 6566 207a 6970 5f6c  python.def zip_l
+00026f20: 6f6e 6765 7374 282a 6172 6773 2c20 6669  ongest(*args, fi
+00026f30: 6c6c 7661 6c75 653d 4e6f 6e65 293a 0a20  llvalue=None):. 
+00026f40: 2020 2023 207a 6970 5f6c 6f6e 6765 7374     # zip_longest
+00026f50: 2827 4142 4344 272c 2027 7879 272c 2066  ('ABCD', 'xy', f
+00026f60: 696c 6c76 616c 7565 3d27 2d27 2920 2d2d  illvalue='-') --
+00026f70: 3e20 4178 2042 7920 432d 2044 2d0a 2020  > Ax By C- D-.  
+00026f80: 2020 6974 6572 6174 6f72 7320 3d20 5b69    iterators = [i
+00026f90: 7465 7228 6974 2920 666f 7220 6974 2069  ter(it) for it i
+00026fa0: 6e20 6172 6773 5d0a 2020 2020 6e75 6d5f  n args].    num_
+00026fb0: 6163 7469 7665 203d 206c 656e 2869 7465  active = len(ite
+00026fc0: 7261 746f 7273 290a 2020 2020 6966 206e  rators).    if n
+00026fd0: 6f74 206e 756d 5f61 6374 6976 653a 0a20  ot num_active:. 
+00026fe0: 2020 2020 2020 2072 6574 7572 6e0a 2020         return.  
+00026ff0: 2020 7768 696c 6520 5472 7565 3a0a 2020    while True:.  
+00027000: 2020 2020 2020 7661 6c75 6573 203d 205b        values = [
+00027010: 5d0a 2020 2020 2020 2020 666f 7220 692c  ].        for i,
+00027020: 2069 7420 696e 2065 6e75 6d65 7261 7465   it in enumerate
+00027030: 2869 7465 7261 746f 7273 293a 0a20 2020  (iterators):.   
+00027040: 2020 2020 2020 2020 2074 7279 3a0a 2020           try:.  
+00027050: 2020 2020 2020 2020 2020 2020 2020 7661                va
+00027060: 6c75 6520 3d20 6e65 7874 2869 7429 0a20  lue = next(it). 
+00027070: 2020 2020 2020 2020 2020 2065 7863 6570             excep
+00027080: 7420 5374 6f70 4974 6572 6174 696f 6e3a  t StopIteration:
+00027090: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000270a0: 206e 756d 5f61 6374 6976 6520 2d3d 2031   num_active -= 1
+000270b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000270c0: 2069 6620 6e6f 7420 6e75 6d5f 6163 7469   if not num_acti
+000270d0: 7665 3a0a 2020 2020 2020 2020 2020 2020  ve:.            
+000270e0: 2020 2020 2020 2020 7265 7475 726e 0a20          return. 
+000270f0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00027100: 7465 7261 746f 7273 5b69 5d20 3d20 7265  terators[i] = re
+00027110: 7065 6174 2866 696c 6c76 616c 7565 290a  peat(fillvalue).
+00027120: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027130: 7661 6c75 6520 3d20 6669 6c6c 7661 6c75  value = fillvalu
+00027140: 650a 2020 2020 2020 2020 2020 2020 7661  e.            va
+00027150: 6c75 6573 2e61 7070 656e 6428 7661 6c75  lues.append(valu
+00027160: 6529 0a20 2020 2020 2020 2079 6965 6c64  e).        yield
+00027170: 2074 7570 6c65 2876 616c 7565 7329 0a60   tuple(values).`
+00027180: 6060 0a0a 4966 206f 6e65 206f 6620 7468  ``..If one of th
+00027190: 6520 6974 6572 6162 6c65 7320 6973 2070  e iterables is p
+000271a0: 6f74 656e 7469 616c 6c79 2069 6e66 696e  otentially infin
+000271b0: 6974 652c 2074 6865 6e20 7468 6520 607a  ite, then the `z
+000271c0: 6970 5f6c 6f6e 6765 7374 2829 6020 6675  ip_longest()` fu
+000271d0: 6e63 7469 6f6e 2073 686f 756c 6420 6265  nction should be
+000271e0: 2077 7261 7070 6564 2077 6974 6820 736f   wrapped with so
+000271f0: 6d65 7468 696e 6720 7468 6174 206c 696d  mething that lim
+00027200: 6974 7320 7468 6520 6e75 6d62 6572 206f  its the number o
+00027210: 6620 6361 6c6c 7320 2866 6f72 2065 7861  f calls (for exa
+00027220: 6d70 6c65 2069 7465 7261 746f 7220 736c  mple iterator sl
+00027230: 6963 696e 6720 6f72 2060 7461 6b65 7768  icing or `takewh
+00027240: 696c 6560 292e 2049 6620 6e6f 7420 7370  ile`). If not sp
+00027250: 6563 6966 6965 642c 205f 6669 6c6c 7661  ecified, _fillva
+00027260: 6c75 655f 2064 6566 6175 6c74 7320 746f  lue_ defaults to
+00027270: 2060 4e6f 6e65 602e 0a0a 2323 2323 2320   `None`...##### 
+00027280: 4578 616d 706c 650a 0a2a 2a43 6f63 6f6e  Example..**Cocon
+00027290: 7574 3a2a 2a0a 6060 6063 6f63 6f6e 7574  ut:**.```coconut
+000272a0: 0a72 6573 756c 7420 3d20 7a69 705f 6c6f  .result = zip_lo
+000272b0: 6e67 6573 7428 7261 6e67 6528 3529 2c20  ngest(range(5), 
+000272c0: 7261 6e67 6528 3130 2929 0a60 6060 0a0a  range(10)).```..
+000272d0: 2a2a 5079 7468 6f6e 3a2a 2a0a 6060 6063  **Python:**.```c
+000272e0: 6f63 6f6e 7574 5f70 7974 686f 6e0a 696d  oconut_python.im
+000272f0: 706f 7274 2069 7465 7274 6f6f 6c73 0a72  port itertools.r
+00027300: 6573 756c 7420 3d20 6974 6572 746f 6f6c  esult = itertool
+00027310: 732e 7a69 705f 6c6f 6e67 6573 7428 7261  s.zip_longest(ra
+00027320: 6e67 6528 3529 2c20 7261 6e67 6528 3130  nge(5), range(10
+00027330: 2929 0a60 6060 0a0a 2323 2323 2060 7461  )).```..#### `ta
+00027340: 6b65 7768 696c 6560 0a0a 2a2a 7461 6b65  kewhile`..**take
+00027350: 7768 696c 652a 2a28 5f70 7265 6469 6361  while**(_predica
+00027360: 7465 5f2c 205f 6974 6572 6162 6c65 5f2c  te_, _iterable_,
+00027370: 202f 290a 0a43 6f63 6f6e 7574 2070 726f   /)..Coconut pro
+00027380: 7669 6465 7320 6069 7465 7274 6f6f 6c73  vides `itertools
+00027390: 2e74 616b 6577 6869 6c65 6020 6173 2061  .takewhile` as a
+000273a0: 2062 7569 6c74 2d69 6e20 756e 6465 7220   built-in under 
+000273b0: 7468 6520 6e61 6d65 2060 7461 6b65 7768  the name `takewh
+000273c0: 696c 6560 2e0a 0a23 2323 2323 2050 7974  ile`...##### Pyt
+000273d0: 686f 6e20 446f 6373 0a0a 2a2a 7461 6b65  hon Docs..**take
+000273e0: 7768 696c 652a 2a28 5f70 7265 6469 6361  while**(_predica
+000273f0: 7465 2c20 6974 6572 6162 6c65 5f29 0a0a  te, iterable_)..
+00027400: 4d61 6b65 2061 6e20 6974 6572 6174 6f72  Make an iterator
+00027410: 2074 6861 7420 7265 7475 726e 7320 656c   that returns el
+00027420: 656d 656e 7473 2066 726f 6d20 7468 6520  ements from the 
+00027430: 5f69 7465 7261 626c 655f 2061 7320 6c6f  _iterable_ as lo
+00027440: 6e67 2061 7320 7468 6520 5f70 7265 6469  ng as the _predi
+00027450: 6361 7465 5f20 6973 2074 7275 652e 2045  cate_ is true. E
+00027460: 7175 6976 616c 656e 7420 746f 3a0a 6060  quivalent to:.``
+00027470: 6063 6f63 6f6e 7574 5f70 7974 686f 6e0a  `coconut_python.
+00027480: 6465 6620 7461 6b65 7768 696c 6528 7072  def takewhile(pr
+00027490: 6564 6963 6174 652c 2069 7465 7261 626c  edicate, iterabl
+000274a0: 6529 3a0a 2020 2020 2320 7461 6b65 7768  e):.    # takewh
+000274b0: 696c 6528 6c61 6d62 6461 2078 3a20 783c  ile(lambda x: x<
+000274c0: 352c 205b 312c 342c 362c 342c 315d 2920  5, [1,4,6,4,1]) 
+000274d0: 2d2d 3e20 3120 340a 2020 2020 666f 7220  --> 1 4.    for 
+000274e0: 7820 696e 2069 7465 7261 626c 653a 0a20  x in iterable:. 
+000274f0: 2020 2020 2020 2069 6620 7072 6564 6963         if predic
+00027500: 6174 6528 7829 3a0a 2020 2020 2020 2020  ate(x):.        
+00027510: 2020 2020 7969 656c 6420 780a 2020 2020      yield x.    
+00027520: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+00027530: 2020 2020 2020 6272 6561 6b0a 6060 600a        break.```.
+00027540: 0a23 2323 2323 2045 7861 6d70 6c65 0a0a  .##### Example..
+00027550: 2a2a 436f 636f 6e75 743a 2a2a 0a60 6060  **Coconut:**.```
+00027560: 636f 636f 6e75 740a 6e65 6761 7469 7665  coconut.negative
+00027570: 7320 3d20 6e75 6d69 7465 7220 7c3e 2074  s = numiter |> t
+00027580: 616b 6577 6869 6c65 2428 7820 2d3e 2078  akewhile$(x -> x
+00027590: 203c 2030 290a 6060 600a 0a2a 2a50 7974   < 0).```..**Pyt
+000275a0: 686f 6e3a 2a2a 0a60 6060 636f 636f 6e75  hon:**.```coconu
+000275b0: 745f 7079 7468 6f6e 0a69 6d70 6f72 7420  t_python.import 
+000275c0: 6974 6572 746f 6f6c 730a 6e65 6761 7469  itertools.negati
+000275d0: 7665 7320 3d20 6974 6572 746f 6f6c 732e  ves = itertools.
+000275e0: 7461 6b65 7768 696c 6528 6c61 6d62 6461  takewhile(lambda
+000275f0: 2078 3a20 7820 3c20 302c 206e 756d 6974   x: x < 0, numit
+00027600: 6572 290a 6060 600a 0a23 2323 2320 6064  er).```..#### `d
+00027610: 726f 7077 6869 6c65 600a 0a2a 2a64 726f  ropwhile`..**dro
+00027620: 7077 6869 6c65 2a2a 285f 7072 6564 6963  pwhile**(_predic
+00027630: 6174 655f 2c20 5f69 7465 7261 626c 655f  ate_, _iterable_
+00027640: 2c20 2f29 0a0a 436f 636f 6e75 7420 7072  , /)..Coconut pr
+00027650: 6f76 6964 6573 2060 6974 6572 746f 6f6c  ovides `itertool
+00027660: 732e 6472 6f70 7768 696c 6560 2061 7320  s.dropwhile` as 
+00027670: 6120 6275 696c 742d 696e 2075 6e64 6572  a built-in under
+00027680: 2074 6865 206e 616d 6520 6064 726f 7077   the name `dropw
+00027690: 6869 6c65 602e 0a0a 2323 2323 2320 5079  hile`...##### Py
+000276a0: 7468 6f6e 2044 6f63 730a 0a2a 2a64 726f  thon Docs..**dro
+000276b0: 7077 6869 6c65 2a2a 285f 7072 6564 6963  pwhile**(_predic
+000276c0: 6174 652c 2069 7465 7261 626c 655f 290a  ate, iterable_).
+000276d0: 0a4d 616b 6520 616e 2069 7465 7261 746f  .Make an iterato
+000276e0: 7220 7468 6174 2064 726f 7073 2065 6c65  r that drops ele
+000276f0: 6d65 6e74 7320 6672 6f6d 2074 6865 205f  ments from the _
+00027700: 6974 6572 6162 6c65 5f20 6173 206c 6f6e  iterable_ as lon
+00027710: 6720 6173 2074 6865 205f 7072 6564 6963  g as the _predic
+00027720: 6174 655f 2069 7320 7472 7565 3b20 6166  ate_ is true; af
+00027730: 7465 7277 6172 6473 2c20 7265 7475 726e  terwards, return
+00027740: 7320 6576 6572 7920 656c 656d 656e 742e  s every element.
+00027750: 204e 6f74 653a 2074 6865 2069 7465 7261   Note: the itera
+00027760: 746f 7220 646f 6573 206e 6f74 2070 726f  tor does not pro
+00027770: 6475 6365 2061 6e79 206f 7574 7075 7420  duce any output 
+00027780: 756e 7469 6c20 7468 6520 7072 6564 6963  until the predic
+00027790: 6174 6520 6669 7273 7420 6265 636f 6d65  ate first become
+000277a0: 7320 6661 6c73 652c 2073 6f20 6974 206d  s false, so it m
+000277b0: 6179 2068 6176 6520 6120 6c65 6e67 7468  ay have a length
+000277c0: 7920 7374 6172 742d 7570 2074 696d 652e  y start-up time.
+000277d0: 2045 7175 6976 616c 656e 7420 746f 3a0a   Equivalent to:.
+000277e0: 6060 6063 6f63 6f6e 7574 5f70 7974 686f  ```coconut_pytho
+000277f0: 6e0a 6465 6620 6472 6f70 7768 696c 6528  n.def dropwhile(
+00027800: 7072 6564 6963 6174 652c 2069 7465 7261  predicate, itera
+00027810: 626c 6529 3a0a 2020 2020 2320 6472 6f70  ble):.    # drop
+00027820: 7768 696c 6528 6c61 6d62 6461 2078 3a20  while(lambda x: 
+00027830: 783c 352c 205b 312c 342c 362c 342c 315d  x<5, [1,4,6,4,1]
+00027840: 2920 2d2d 3e20 3620 3420 310a 2020 2020  ) --> 6 4 1.    
+00027850: 6974 6572 6162 6c65 203d 2069 7465 7228  iterable = iter(
+00027860: 6974 6572 6162 6c65 290a 2020 2020 666f  iterable).    fo
+00027870: 7220 7820 696e 2069 7465 7261 626c 653a  r x in iterable:
+00027880: 0a20 2020 2020 2020 2069 6620 6e6f 7420  .        if not 
+00027890: 7072 6564 6963 6174 6528 7829 3a0a 2020  predicate(x):.  
+000278a0: 2020 2020 2020 2020 2020 7969 656c 6420            yield 
+000278b0: 780a 2020 2020 2020 2020 2020 2020 6272  x.            br
+000278c0: 6561 6b0a 2020 2020 666f 7220 7820 696e  eak.    for x in
+000278d0: 2069 7465 7261 626c 653a 0a20 2020 2020   iterable:.     
+000278e0: 2020 2079 6965 6c64 2078 0a60 6060 0a0a     yield x.```..
+000278f0: 2323 2323 2320 4578 616d 706c 650a 0a2a  ##### Example..*
+00027900: 2a43 6f63 6f6e 7574 3a2a 2a0a 6060 6063  *Coconut:**.```c
+00027910: 6f63 6f6e 7574 0a70 6f73 6974 6976 6573  oconut.positives
+00027920: 203d 206e 756d 6974 6572 207c 3e20 6472   = numiter |> dr
+00027930: 6f70 7768 696c 6524 2878 202d 3e20 7820  opwhile$(x -> x 
+00027940: 3c20 3029 0a60 6060 0a0a 2a2a 5079 7468  < 0).```..**Pyth
+00027950: 6f6e 3a2a 2a0a 6060 6063 6f63 6f6e 7574  on:**.```coconut
+00027960: 5f70 7974 686f 6e0a 696d 706f 7274 2069  _python.import i
+00027970: 7465 7274 6f6f 6c73 0a70 6f73 6974 6976  tertools.positiv
+00027980: 6573 203d 2069 7465 7274 6f6f 6c73 2e64  es = itertools.d
+00027990: 726f 7077 6869 6c65 286c 616d 6264 6120  ropwhile(lambda 
+000279a0: 783a 2078 203c 2030 2c20 6e75 6d69 7465  x: x < 0, numite
+000279b0: 7229 0a60 6060 0a0a 2323 2323 2060 666c  r).```..#### `fl
+000279c0: 6174 7465 6e60 0a0a 2a2a 666c 6174 7465  atten`..**flatte
+000279d0: 6e2a 2a28 5f69 7465 7261 626c 655f 2c20  n**(_iterable_, 
+000279e0: 5f6c 6576 656c 735f 3d60 3160 290a 0a43  _levels_=`1`)..C
+000279f0: 6f63 6f6e 7574 2070 726f 7669 6465 7320  oconut provides 
+00027a00: 616e 2065 6e68 616e 6365 6420 7665 7273  an enhanced vers
+00027a10: 696f 6e20 6f66 2060 6974 6572 746f 6f6c  ion of `itertool
+00027a20: 732e 6368 6169 6e2e 6672 6f6d 5f69 7465  s.chain.from_ite
+00027a30: 7261 626c 6560 2061 7320 6120 6275 696c  rable` as a buil
+00027a40: 742d 696e 2075 6e64 6572 2074 6865 206e  t-in under the n
+00027a50: 616d 6520 6066 6c61 7474 656e 6020 7769  ame `flatten` wi
+00027a60: 7468 2061 6464 6564 2073 7570 706f 7274  th added support
+00027a70: 2066 6f72 2060 7265 7665 7273 6564 602c   for `reversed`,
+00027a80: 2060 7265 7072 602c 2060 696e 602c 2060   `repr`, `in`, `
+00027a90: 2e63 6f75 6e74 2829 602c 2060 2e69 6e64  .count()`, `.ind
+00027aa0: 6578 2829 602c 2061 6e64 2060 666d 6170  ex()`, and `fmap
+00027ab0: 602e 0a0a 4279 2064 6566 6175 6c74 2c20  `...By default, 
+00027ac0: 6066 6c61 7474 656e 6020 6f6e 6c79 2066  `flatten` only f
+00027ad0: 6c61 7474 656e 7320 7468 6520 746f 7020  lattens the top 
+00027ae0: 6c65 7665 6c20 6f66 2074 6865 2067 6976  level of the giv
+00027af0: 656e 2069 7465 7261 626c 652f 6172 7261  en iterable/arra
+00027b00: 792e 2049 6620 5f6c 6576 656c 735f 2069  y. If _levels_ i
+00027b10: 7320 7061 7373 6564 2c20 686f 7765 7665  s passed, howeve
+00027b20: 722c 2069 7420 6361 6e20 6265 2075 7365  r, it can be use
+00027b30: 6420 746f 2063 6f6e 7472 6f6c 2074 6865  d to control the
+00027b40: 206e 756d 6265 7220 6f66 206c 6576 656c   number of level
+00027b50: 7320 666c 6174 7465 6e65 642c 2077 6974  s flattened, wit
+00027b60: 6820 6030 6020 6d65 616e 696e 6720 6e6f  h `0` meaning no
+00027b70: 2066 6c61 7474 656e 696e 6720 616e 6420   flattening and 
+00027b80: 604e 6f6e 6560 2066 6c61 7474 656e 696e  `None` flattenin
+00027b90: 6720 6173 206d 616e 7920 6974 6572 6162  g as many iterab
+00027ba0: 6c65 7320 6173 2061 7265 2066 6f75 6e64  les as are found
+00027bb0: 2e20 4e6f 7465 2074 6861 7420 6966 205f  . Note that if _
+00027bc0: 6c65 7665 6c73 5f20 6973 2073 6574 2074  levels_ is set t
+00027bd0: 6f20 616e 7920 6e6f 6e2d 604e 6f6e 6560  o any non-`None`
+00027be0: 2076 616c 7565 2c20 7468 6520 6669 7273   value, the firs
+00027bf0: 7420 5f6c 6576 656c 735f 206c 6576 656c  t _levels_ level
+00027c00: 7320 6d75 7374 2062 6520 6974 6572 6162  s must be iterab
+00027c10: 6c65 732c 206f 7220 656c 7365 2061 6e20  les, or else an 
+00027c20: 6572 726f 7220 7769 6c6c 2062 6520 7261  error will be ra
+00027c30: 6973 6564 2e0a 0a23 2323 2323 2050 7974  ised...##### Pyt
+00027c40: 686f 6e20 446f 6373 0a0a 6368 6169 6e2e  hon Docs..chain.
+00027c50: 2a2a 6672 6f6d 5f69 7465 7261 626c 652a  **from_iterable*
+00027c60: 2a28 5f69 7465 7261 626c 655f 290a 0a41  *(_iterable_)..A
+00027c70: 6c74 6572 6e61 7465 2063 6f6e 7374 7275  lternate constru
+00027c80: 6374 6f72 2066 6f72 2060 6368 6169 6e28  ctor for `chain(
+00027c90: 2960 2e20 4765 7473 2063 6861 696e 6564  )`. Gets chained
+00027ca0: 2069 6e70 7574 7320 6672 6f6d 2061 2073   inputs from a s
+00027cb0: 696e 676c 6520 6974 6572 6162 6c65 2061  ingle iterable a
+00027cc0: 7267 756d 656e 7420 7468 6174 2069 7320  rgument that is 
+00027cd0: 6576 616c 7561 7465 6420 6c61 7a69 6c79  evaluated lazily
+00027ce0: 2e20 526f 7567 686c 7920 6571 7569 7661  . Roughly equiva
+00027cf0: 6c65 6e74 2074 6f3a 0a0a 6060 6063 6f63  lent to:..```coc
+00027d00: 6f6e 7574 5f70 7974 686f 6e0a 6465 6620  onut_python.def 
+00027d10: 666c 6174 7465 6e28 6974 6572 6162 6c65  flatten(iterable
+00027d20: 7329 3a0a 2020 2020 2320 666c 6174 7465  s):.    # flatte
+00027d30: 6e28 5b27 4142 4327 2c20 2744 4546 275d  n(['ABC', 'DEF']
+00027d40: 2920 2d2d 3e20 4120 4220 4320 4420 4520  ) --> A B C D E 
+00027d50: 460a 2020 2020 666f 7220 6974 2069 6e20  F.    for it in 
+00027d60: 6974 6572 6162 6c65 733a 0a20 2020 2020  iterables:.     
+00027d70: 2020 2066 6f72 2065 6c65 6d65 6e74 2069     for element i
+00027d80: 6e20 6974 3a0a 2020 2020 2020 2020 2020  n it:.          
+00027d90: 2020 7969 656c 6420 656c 656d 656e 740a    yield element.
+00027da0: 6060 600a 0a23 2323 2323 2045 7861 6d70  ```..##### Examp
+00027db0: 6c65 0a0a 2a2a 436f 636f 6e75 743a 2a2a  le..**Coconut:**
+00027dc0: 0a60 6060 636f 636f 6e75 740a 6974 6572  .```coconut.iter
+00027dd0: 5f6f 665f 6974 6572 7320 3d20 5b5b 312c  _of_iters = [[1,
+00027de0: 2032 5d2c 205b 332c 2034 5d5d 0a66 6c61   2], [3, 4]].fla
+00027df0: 745f 6974 203d 2069 7465 725f 6f66 5f69  t_it = iter_of_i
+00027e00: 7465 7273 207c 3e20 666c 6174 7465 6e20  ters |> flatten 
+00027e10: 7c3e 206c 6973 740a 6060 600a 0a2a 2a50  |> list.```..**P
+00027e20: 7974 686f 6e3a 2a2a 0a60 6060 636f 636f  ython:**.```coco
+00027e30: 6e75 745f 7079 7468 6f6e 0a66 726f 6d20  nut_python.from 
+00027e40: 6974 6572 746f 6f6c 7320 696d 706f 7274  itertools import
+00027e50: 2063 6861 696e 0a69 7465 725f 6f66 5f69   chain.iter_of_i
+00027e60: 7465 7273 203d 205b 5b31 2c20 325d 2c20  ters = [[1, 2], 
+00027e70: 5b33 2c20 345d 5d0a 666c 6174 5f69 7420  [3, 4]].flat_it 
+00027e80: 3d20 6974 6572 5f6f 665f 6974 6572 7320  = iter_of_iters 
+00027e90: 7c3e 2063 6861 696e 2e66 726f 6d5f 6974  |> chain.from_it
+00027ea0: 6572 6162 6c65 207c 3e20 6c69 7374 0a60  erable |> list.`
+00027eb0: 6060 0a0a 2323 2323 2060 7363 616e 600a  ``..#### `scan`.
+00027ec0: 0a2a 2a73 6361 6e2a 2a28 5f66 756e 6374  .**scan**(_funct
+00027ed0: 696f 6e5f 2c20 5f69 7465 7261 626c 655f  ion_, _iterable_
+00027ee0: 5b2c 205f 696e 6974 6961 6c5f 5d29 0a0a  [, _initial_])..
+00027ef0: 436f 636f 6e75 7420 7072 6f76 6964 6573  Coconut provides
+00027f00: 2061 206d 6f64 6966 6965 6420 7665 7273   a modified vers
+00027f10: 696f 6e20 6f66 2060 6974 6572 746f 6f6c  ion of `itertool
+00027f20: 732e 6163 6375 6d75 6c61 7465 6020 7769  s.accumulate` wi
+00027f30: 7468 206f 7070 6f73 6974 6520 6172 6775  th opposite argu
+00027f40: 6d65 6e74 206f 7264 6572 2061 7320 6073  ment order as `s
+00027f50: 6361 6e60 2074 6861 7420 616c 736f 2073  can` that also s
+00027f60: 7570 706f 7274 7320 6072 6570 7260 2c20  upports `repr`, 
+00027f70: 606c 656e 602c 2061 6e64 2060 6675 6e63  `len`, and `func
+00027f80: 602f 6069 7465 7260 2f60 696e 6974 6961  `/`iter`/`initia
+00027f90: 6c60 2061 7474 7269 6275 7465 732e 2060  l` attributes. `
+00027fa0: 7363 616e 6020 776f 726b 7320 6578 6163  scan` works exac
+00027fb0: 746c 7920 6c69 6b65 205b 6072 6564 7563  tly like [`reduc
+00027fc0: 6560 5d28 2372 6564 7563 6529 2c20 6578  e`](#reduce), ex
+00027fd0: 6365 7074 2074 6861 7420 696e 7374 6561  cept that instea
+00027fe0: 6420 6f66 206f 6e6c 7920 7265 7475 726e  d of only return
+00027ff0: 696e 6720 7468 6520 6c61 7374 2061 6363  ing the last acc
+00028000: 756d 756c 6174 6564 2076 616c 7565 2c20  umulated value, 
+00028010: 6974 2072 6574 7572 6e73 2061 6e20 6974  it returns an it
+00028020: 6572 6174 6f72 206f 6620 616c 6c20 7468  erator of all th
+00028030: 6520 696e 7465 726d 6564 6961 7465 2076  e intermediate v
+00028040: 616c 7565 732e 0a0a 2323 2323 2320 5079  alues...##### Py
+00028050: 7468 6f6e 2044 6f63 730a 0a2a 2a73 6361  thon Docs..**sca
+00028060: 6e2a 2a28 5f66 756e 6374 696f 6e2c 2069  n**(_function, i
+00028070: 7465 7261 626c 655f 2a2a 5b2a 2a5f 2c20  terable_**[**_, 
+00028080: 696e 6974 6961 6c5f 2a2a 5d2a 2a29 0a0a  initial_**]**)..
+00028090: 4d61 6b65 2061 6e20 6974 6572 6174 6f72  Make an iterator
+000280a0: 2074 6861 7420 7265 7475 726e 7320 6163   that returns ac
+000280b0: 6375 6d75 6c61 7465 6420 7265 7375 6c74  cumulated result
+000280c0: 7320 6f66 2073 6f6d 6520 6675 6e63 7469  s of some functi
+000280d0: 6f6e 206f 6620 7477 6f20 6172 6775 6d65  on of two argume
+000280e0: 6e74 732e 2045 6c65 6d65 6e74 7320 6f66  nts. Elements of
+000280f0: 2074 6865 2069 6e70 7574 2069 7465 7261   the input itera
+00028100: 626c 6520 6d61 7920 6265 2061 6e79 2074  ble may be any t
+00028110: 7970 6520 7468 6174 2063 616e 2062 6520  ype that can be 
+00028120: 6163 6365 7074 6564 2061 7320 6172 6775  accepted as argu
+00028130: 6d65 6e74 7320 746f 205f 6675 6e63 7469  ments to _functi
+00028140: 6f6e 5f2e 2028 466f 7220 6578 616d 706c  on_. (For exampl
+00028150: 652c 2077 6974 6820 7468 6520 6f70 6572  e, with the oper
+00028160: 6174 696f 6e20 6f66 2061 6464 6974 696f  ation of additio
+00028170: 6e2c 2065 6c65 6d65 6e74 7320 6d61 7920  n, elements may 
+00028180: 6265 2061 6e79 2061 6464 6162 6c65 2074  be any addable t
+00028190: 7970 6520 696e 636c 7564 696e 6720 4465  ype including De
+000281a0: 6369 6d61 6c20 6f72 2046 7261 6374 696f  cimal or Fractio
+000281b0: 6e2e 2920 4966 2074 6865 2069 6e70 7574  n.) If the input
+000281c0: 2069 7465 7261 626c 6520 6973 2065 6d70   iterable is emp
+000281d0: 7479 2c20 7468 6520 6f75 7470 7574 2069  ty, the output i
+000281e0: 7465 7261 626c 6520 7769 6c6c 2061 6c73  terable will als
+000281f0: 6f20 6265 2065 6d70 7479 2e0a 0a49 6620  o be empty...If 
+00028200: 6e6f 205f 696e 6974 6961 6c5f 2069 7320  no _initial_ is 
+00028210: 6769 7665 6e2c 2072 6f75 6768 6c79 2065  given, roughly e
+00028220: 7175 6976 616c 656e 7420 746f 3a0a 6060  quivalent to:.``
+00028230: 6063 6f63 6f6e 7574 5f70 7974 686f 6e0a  `coconut_python.
+00028240: 6465 6620 7363 616e 2866 756e 6374 696f  def scan(functio
+00028250: 6e2c 2069 7465 7261 626c 6529 3a0a 2020  n, iterable):.  
+00028260: 2020 2752 6574 7572 6e20 7275 6e6e 696e    'Return runnin
+00028270: 6720 746f 7461 6c73 270a 2020 2020 2320  g totals'.    # 
+00028280: 7363 616e 286f 7065 7261 746f 722e 6164  scan(operator.ad
+00028290: 642c 205b 312c 322c 332c 342c 355d 2920  d, [1,2,3,4,5]) 
+000282a0: 2d2d 3e20 3120 3320 3620 3130 2031 350a  --> 1 3 6 10 15.
+000282b0: 2020 2020 2320 7363 616e 286f 7065 7261      # scan(opera
+000282c0: 746f 722e 6d75 6c2c 205b 312c 322c 332c  tor.mul, [1,2,3,
+000282d0: 342c 355d 2920 2d2d 3e20 3120 3220 3620  4,5]) --> 1 2 6 
+000282e0: 3234 2031 3230 0a20 2020 2069 7420 3d20  24 120.    it = 
+000282f0: 6974 6572 2869 7465 7261 626c 6529 0a20  iter(iterable). 
+00028300: 2020 2074 7279 3a0a 2020 2020 2020 2020     try:.        
+00028310: 746f 7461 6c20 3d20 6e65 7874 2869 7429  total = next(it)
+00028320: 0a20 2020 2065 7863 6570 7420 5374 6f70  .    except Stop
+00028330: 4974 6572 6174 696f 6e3a 0a20 2020 2020  Iteration:.     
+00028340: 2020 2072 6574 7572 6e0a 2020 2020 7969     return.    yi
+00028350: 656c 6420 746f 7461 6c0a 2020 2020 666f  eld total.    fo
+00028360: 7220 656c 656d 656e 7420 696e 2069 743a  r element in it:
+00028370: 0a20 2020 2020 2020 2074 6f74 616c 203d  .        total =
+00028380: 2066 756e 6374 696f 6e28 746f 7461 6c2c   function(total,
+00028390: 2065 6c65 6d65 6e74 290a 2020 2020 2020   element).      
+000283a0: 2020 7969 656c 6420 746f 7461 6c0a 6060    yield total.``
+000283b0: 600a 0a23 2323 2323 2045 7861 6d70 6c65  `..##### Example
+000283c0: 0a0a 2a2a 436f 636f 6e75 743a 2a2a 0a60  ..**Coconut:**.`
+000283d0: 6060 636f 636f 6e75 740a 696e 7075 745f  ``coconut.input_
+000283e0: 6461 7461 203d 205b 332c 2034 2c20 362c  data = [3, 4, 6,
+000283f0: 2032 2c20 312c 2039 2c20 302c 2037 2c20   2, 1, 9, 0, 7, 
+00028400: 352c 2038 5d0a 7275 6e6e 696e 675f 6d61  5, 8].running_ma
+00028410: 7820 3d20 696e 7075 745f 6461 7461 207c  x = input_data |
+00028420: 3e20 7363 616e 2428 6d61 7829 207c 3e20  > scan$(max) |> 
+00028430: 6c69 7374 0a60 6060 0a0a 2a2a 5079 7468  list.```..**Pyth
+00028440: 6f6e 3a2a 2a0a 6060 6063 6f63 6f6e 7574  on:**.```coconut
+00028450: 5f70 7974 686f 6e0a 696e 7075 745f 6461  _python.input_da
+00028460: 7461 203d 205b 332c 2034 2c20 362c 2032  ta = [3, 4, 6, 2
+00028470: 2c20 312c 2039 2c20 302c 2037 2c20 352c  , 1, 9, 0, 7, 5,
+00028480: 2038 5d0a 7275 6e6e 696e 675f 6d61 7820   8].running_max 
+00028490: 3d20 5b5d 0a6d 6178 5f73 6f5f 6661 7220  = [].max_so_far 
+000284a0: 3d20 696e 7075 745f 6461 7461 5b30 5d0a  = input_data[0].
+000284b0: 666f 7220 7820 696e 2069 6e70 7574 5f64  for x in input_d
+000284c0: 6174 613a 0a20 2020 2069 6620 7820 3e20  ata:.    if x > 
+000284d0: 6d61 785f 736f 5f66 6172 3a0a 2020 2020  max_so_far:.    
+000284e0: 2020 2020 6d61 785f 736f 5f66 6172 203d      max_so_far =
+000284f0: 2078 0a20 2020 2072 756e 6e69 6e67 5f6d   x.    running_m
+00028500: 6178 2e61 7070 656e 6428 7829 0a60 6060  ax.append(x).```
+00028510: 0a0a 2323 2323 2060 636f 756e 7460 0a0a  ..#### `count`..
+00028520: 2a2a 636f 756e 742a 2a28 5f73 7461 7274  **count**(_start
+00028530: 5f3d 6030 602c 205f 7374 6570 5f3d 6031  _=`0`, _step_=`1
+00028540: 6029 0a0a 436f 636f 6e75 7420 7072 6f76  `)..Coconut prov
+00028550: 6964 6573 2061 206d 6f64 6966 6965 6420  ides a modified 
+00028560: 7665 7273 696f 6e20 6f66 2060 6974 6572  version of `iter
+00028570: 746f 6f6c 732e 636f 756e 7460 2074 6861  tools.count` tha
+00028580: 7420 7375 7070 6f72 7473 2060 696e 602c  t supports `in`,
+00028590: 206e 6f72 6d61 6c20 736c 6963 696e 672c   normal slicing,
+000285a0: 206f 7074 696d 697a 6564 2069 7465 7261   optimized itera
+000285b0: 746f 7220 736c 6963 696e 672c 2074 6865  tor slicing, the
+000285c0: 2073 7461 6e64 6172 6420 6063 6f75 6e74   standard `count
+000285d0: 6020 616e 6420 6069 6e64 6578 6020 7365  ` and `index` se
+000285e0: 7175 656e 6365 206d 6574 686f 6473 2c20  quence methods, 
+000285f0: 6072 6570 7260 2c20 616e 6420 6073 7461  `repr`, and `sta
+00028600: 7274 602f 6073 7465 7060 2061 7474 7269  rt`/`step` attri
+00028610: 6275 7465 7320 6173 2061 2062 7569 6c74  butes as a built
+00028620: 2d69 6e20 756e 6465 7220 7468 6520 6e61  -in under the na
+00028630: 6d65 2060 636f 756e 7460 2e0a 0a41 6464  me `count`...Add
+00028640: 6974 696f 6e61 6c6c 792c 2069 6620 7468  itionally, if th
+00028650: 6520 5f73 7465 705f 2070 6172 616d 6574  e _step_ paramet
+00028660: 6572 2069 7320 7365 7420 746f 2060 4e6f  er is set to `No
+00028670: 6e65 602c 2060 636f 756e 7460 2077 696c  ne`, `count` wil
+00028680: 6c20 6265 6861 7665 206c 696b 6520 6069  l behave like `i
+00028690: 7465 7274 6f6f 6c73 2e72 6570 6561 7460  tertools.repeat`
+000286a0: 2069 6e73 7465 6164 2e0a 0a23 2323 2323   instead...#####
+000286b0: 2050 7974 686f 6e20 446f 6373 0a0a 2a2a   Python Docs..**
+000286c0: 636f 756e 742a 2a28 5f73 7461 7274 3d30  count**(_start=0
+000286d0: 2c20 7374 6570 3d31 5f29 0a0a 4d61 6b65  , step=1_)..Make
+000286e0: 2061 6e20 6974 6572 6174 6f72 2074 6861   an iterator tha
+000286f0: 7420 7265 7475 726e 7320 6576 656e 6c79  t returns evenly
+00028700: 2073 7061 6365 6420 7661 6c75 6573 2073   spaced values s
+00028710: 7461 7274 696e 6720 7769 7468 206e 756d  tarting with num
+00028720: 6265 7220 5f73 7461 7274 5f2e 204f 6674  ber _start_. Oft
+00028730: 656e 2075 7365 6420 6173 2061 6e20 6172  en used as an ar
+00028740: 6775 6d65 6e74 2074 6f20 606d 6170 2829  gument to `map()
+00028750: 6020 746f 2067 656e 6572 6174 6520 636f  ` to generate co
+00028760: 6e73 6563 7574 6976 6520 6461 7461 2070  nsecutive data p
+00028770: 6f69 6e74 732e 2041 6c73 6f2c 2075 7365  oints. Also, use
+00028780: 6420 7769 7468 2060 7a69 7028 2960 2074  d with `zip()` t
+00028790: 6f20 6164 6420 7365 7175 656e 6365 206e  o add sequence n
+000287a0: 756d 6265 7273 2e20 526f 7567 686c 7920  umbers. Roughly 
+000287b0: 6571 7569 7661 6c65 6e74 2074 6f3a 0a60  equivalent to:.`
+000287c0: 6060 636f 636f 6e75 745f 7079 7468 6f6e  ``coconut_python
+000287d0: 0a64 6566 2063 6f75 6e74 2873 7461 7274  .def count(start
+000287e0: 3d30 2c20 7374 6570 3d31 293a 0a20 2020  =0, step=1):.   
+000287f0: 2023 2063 6f75 6e74 2831 3029 202d 2d3e   # count(10) -->
+00028800: 2031 3020 3131 2031 3220 3133 2031 3420   10 11 12 13 14 
+00028810: 2e2e 2e0a 2020 2020 2320 636f 756e 7428  ....    # count(
+00028820: 322e 352c 2030 2e35 2920 2d3e 2032 2e35  2.5, 0.5) -> 2.5
+00028830: 2033 2e30 2033 2e35 202e 2e2e 0a20 2020   3.0 3.5 ....   
+00028840: 206e 203d 2073 7461 7274 0a20 2020 2077   n = start.    w
+00028850: 6869 6c65 2054 7275 653a 0a20 2020 2020  hile True:.     
+00028860: 2020 2079 6965 6c64 206e 0a20 2020 2020     yield n.     
+00028870: 2020 2069 6620 7374 6570 3a0a 2020 2020     if step:.    
+00028880: 2020 2020 2020 6e20 2b3d 2073 7465 700a        n += step.
+00028890: 6060 600a 0a23 2323 2323 2045 7861 6d70  ```..##### Examp
+000288a0: 6c65 0a0a 2a2a 436f 636f 6e75 743a 2a2a  le..**Coconut:**
+000288b0: 0a60 6060 636f 636f 6e75 740a 636f 756e  .```coconut.coun
+000288c0: 7428 2924 5b31 302a 2a31 3030 5d20 7c3e  t()$[10**100] |>
+000288d0: 2070 7269 6e74 0a60 6060 0a0a 2a2a 5079   print.```..**Py
+000288e0: 7468 6f6e 3a2a 2a0a 5f43 616e 2774 2062  thon:**._Can't b
+000288f0: 6520 646f 6e65 2071 7569 636b 6c79 2077  e done quickly w
+00028900: 6974 686f 7574 2043 6f63 6f6e 7574 2773  ithout Coconut's
+00028910: 2069 7465 7261 746f 7220 736c 6963 696e   iterator slicin
+00028920: 672c 2077 6869 6368 2072 6571 7569 7265  g, which require
+00028930: 7320 6d61 6e79 2063 6f6d 706c 6963 6174  s many complicat
+00028940: 6564 2070 6965 6365 732e 2054 6865 206e  ed pieces. The n
+00028950: 6563 6573 7361 7279 2064 6566 696e 6974  ecessary definit
+00028960: 696f 6e73 2069 6e20 5079 7468 6f6e 2063  ions in Python c
+00028970: 616e 2062 6520 666f 756e 6420 696e 2074  an be found in t
+00028980: 6865 2043 6f63 6f6e 7574 2068 6561 6465  he Coconut heade
+00028990: 722e 5f0a 0a23 2323 2320 6063 7963 6c65  r._..#### `cycle
+000289a0: 600a 0a2a 2a63 7963 6c65 2a2a 285f 6974  `..**cycle**(_it
+000289b0: 6572 6162 6c65 5f2c 205f 7469 6d65 735f  erable_, _times_
+000289c0: 3d60 4e6f 6e65 6029 0a0a 436f 636f 6e75  =`None`)..Coconu
+000289d0: 7427 7320 6063 7963 6c65 6020 6973 2061  t's `cycle` is a
+000289e0: 206d 6f64 6966 6965 6420 7665 7273 696f   modified versio
+000289f0: 6e20 6f66 2060 6974 6572 746f 6f6c 732e  n of `itertools.
+00028a00: 6379 636c 6560 2077 6974 6820 6120 6074  cycle` with a `t
+00028a10: 696d 6573 6020 7061 7261 6d65 7465 7220  imes` parameter 
+00028a20: 7468 6174 2063 6f6e 7472 6f6c 7320 7468  that controls th
+00028a30: 6520 6e75 6d62 6572 206f 6620 7469 6d65  e number of time
+00028a40: 7320 746f 2063 7963 6c65 2074 6872 6f75  s to cycle throu
+00028a50: 6768 205f 6974 6572 6162 6c65 5f20 6265  gh _iterable_ be
+00028a60: 666f 7265 2073 746f 7070 696e 672e 2060  fore stopping. `
+00028a70: 6379 636c 6560 2061 6c73 6f20 7375 7070  cycle` also supp
+00028a80: 6f72 7473 2060 696e 602c 2073 6c69 6369  orts `in`, slici
+00028a90: 6e67 2c20 606c 656e 602c 2060 7265 7665  ng, `len`, `reve
+00028aa0: 7273 6564 602c 2060 2e63 6f75 6e74 2829  rsed`, `.count()
+00028ab0: 602c 2060 2e69 6e64 6578 2829 602c 2061  `, `.index()`, a
+00028ac0: 6e64 2060 7265 7072 602e 0a0a 2323 2323  nd `repr`...####
+00028ad0: 2320 5079 7468 6f6e 2044 6f63 730a 0a2a  # Python Docs..*
+00028ae0: 2a63 7963 6c65 2a2a 285f 6974 6572 6162  *cycle**(_iterab
+00028af0: 6c65 5f29 0a0a 4d61 6b65 2061 6e20 6974  le_)..Make an it
+00028b00: 6572 6174 6f72 2072 6574 7572 6e69 6e67  erator returning
+00028b10: 2065 6c65 6d65 6e74 7320 6672 6f6d 2074   elements from t
+00028b20: 6865 2069 7465 7261 626c 6520 616e 6420  he iterable and 
+00028b30: 7361 7669 6e67 2061 2063 6f70 7920 6f66  saving a copy of
+00028b40: 2065 6163 682e 2057 6865 6e20 7468 6520   each. When the 
+00028b50: 6974 6572 6162 6c65 2069 7320 6578 6861  iterable is exha
+00028b60: 7573 7465 642c 2072 6574 7572 6e20 656c  usted, return el
+00028b70: 656d 656e 7473 2066 726f 6d20 7468 6520  ements from the 
+00028b80: 7361 7665 6420 636f 7079 2e20 5265 7065  saved copy. Repe
+00028b90: 6174 7320 696e 6465 6669 6e69 7465 6c79  ats indefinitely
+00028ba0: 2e20 526f 7567 686c 7920 6571 7569 7661  . Roughly equiva
+00028bb0: 6c65 6e74 2074 6f3a 0a0a 6060 6063 6f63  lent to:..```coc
+00028bc0: 6f6e 7574 5f70 7974 686f 6e0a 6465 6620  onut_python.def 
+00028bd0: 6379 636c 6528 6974 6572 6162 6c65 293a  cycle(iterable):
+00028be0: 0a20 2020 2023 2063 7963 6c65 2827 4142  .    # cycle('AB
+00028bf0: 4344 2729 202d 2d3e 2041 2042 2043 2044  CD') --> A B C D
+00028c00: 2041 2042 2043 2044 2041 2042 2043 2044   A B C D A B C D
+00028c10: 202e 2e2e 0a20 2020 2073 6176 6564 203d   ....    saved =
+00028c20: 205b 5d0a 2020 2020 666f 7220 656c 656d   [].    for elem
+00028c30: 656e 7420 696e 2069 7465 7261 626c 653a  ent in iterable:
+00028c40: 0a20 2020 2020 2020 2079 6965 6c64 2065  .        yield e
+00028c50: 6c65 6d65 6e74 0a20 2020 2020 2020 2073  lement.        s
+00028c60: 6176 6564 2e61 7070 656e 6428 656c 656d  aved.append(elem
+00028c70: 656e 7429 0a20 2020 2077 6869 6c65 2073  ent).    while s
+00028c80: 6176 6564 3a0a 2020 2020 2020 2020 666f  aved:.        fo
+00028c90: 7220 656c 656d 656e 7420 696e 2073 6176  r element in sav
+00028ca0: 6564 3a0a 2020 2020 2020 2020 2020 2020  ed:.            
+00028cb0: 2020 7969 656c 6420 656c 656d 656e 740a    yield element.
+00028cc0: 6060 600a 0a4e 6f74 652c 2074 6869 7320  ```..Note, this 
+00028cd0: 6d65 6d62 6572 206f 6620 7468 6520 746f  member of the to
+00028ce0: 6f6c 6b69 7420 6d61 7920 7265 7175 6972  olkit may requir
+00028cf0: 6520 7369 676e 6966 6963 616e 7420 6175  e significant au
+00028d00: 7869 6c69 6172 7920 7374 6f72 6167 6520  xiliary storage 
+00028d10: 2864 6570 656e 6469 6e67 206f 6e20 7468  (depending on th
+00028d20: 6520 6c65 6e67 7468 206f 6620 7468 6520  e length of the 
+00028d30: 6974 6572 6162 6c65 292e 0a0a 2323 2323  iterable)...####
+00028d40: 2320 4578 616d 706c 650a 0a2a 2a43 6f63  # Example..**Coc
+00028d50: 6f6e 7574 3a2a 2a0a 6060 6063 6f63 6f6e  onut:**.```cocon
+00028d60: 7574 0a63 7963 6c65 2872 616e 6765 2832  ut.cycle(range(2
+00028d70: 292c 2032 2920 7c3e 206c 6973 7420 7c3e  ), 2) |> list |>
+00028d80: 2070 7269 6e74 0a60 6060 0a0a 2a2a 5079   print.```..**Py
+00028d90: 7468 6f6e 3a2a 2a0a 6060 6063 6f63 6f6e  thon:**.```cocon
+00028da0: 7574 5f70 7974 686f 6e0a 6672 6f6d 2069  ut_python.from i
+00028db0: 7465 7274 6f6f 6c73 2069 6d70 6f72 7420  tertools import 
+00028dc0: 6379 636c 652c 2069 736c 6963 650a 7072  cycle, islice.pr
+00028dd0: 696e 7428 6c69 7374 2869 736c 6963 6528  int(list(islice(
+00028de0: 6379 636c 6528 7261 6e67 6528 3229 292c  cycle(range(2)),
+00028df0: 2034 2929 290a 6060 600a 0a23 2323 2320   4))).```..#### 
+00028e00: 6063 6172 7465 7369 616e 5f70 726f 6475  `cartesian_produ
+00028e10: 6374 600a 0a2a 2a63 6172 7465 7369 616e  ct`..**cartesian
+00028e20: 5c5f 7072 6f64 7563 742a 2a28 2a5f 6974  \_product**(*_it
+00028e30: 6572 6162 6c65 735f 2c20 5f72 6570 6561  erables_, _repea
+00028e40: 745f 3d60 3160 290a 0a43 6f63 6f6e 7574  t_=`1`)..Coconut
+00028e50: 2070 726f 7669 6465 7320 616e 2065 6e68   provides an enh
+00028e60: 616e 6365 6420 7665 7273 696f 6e20 6f66  anced version of
+00028e70: 2060 6974 6572 746f 6f6c 732e 7072 6f64   `itertools.prod
+00028e80: 7563 7460 2061 7320 6120 6275 696c 742d  uct` as a built-
+00028e90: 696e 2075 6e64 6572 2074 6865 206e 616d  in under the nam
+00028ea0: 6520 6063 6172 7465 7369 616e 5f70 726f  e `cartesian_pro
+00028eb0: 6475 6374 6020 7769 7468 2061 6464 6564  duct` with added
+00028ec0: 2073 7570 706f 7274 2066 6f72 2060 6c65   support for `le
+00028ed0: 6e60 2c20 6072 6570 7260 2c20 6069 6e60  n`, `repr`, `in`
+00028ee0: 2c20 602e 636f 756e 7428 2960 2c20 616e  , `.count()`, an
+00028ef0: 6420 6066 6d61 7060 2e0a 0a41 6464 6974  d `fmap`...Addit
+00028f00: 696f 6e61 6c6c 792c 2060 6361 7274 6573  ionally, `cartes
+00028f10: 6961 6e5f 7072 6f64 7563 7460 2069 6e63  ian_product` inc
+00028f20: 6c75 6465 7320 7370 6563 6961 6c20 7375  ludes special su
+00028f30: 7070 6f72 7420 666f 7220 5b60 6e75 6d70  pport for [`nump
+00028f40: 7960 5d28 236e 756d 7079 2d69 6e74 6567  y`](#numpy-integ
+00028f50: 7261 7469 6f6e 2920 6f62 6a65 6374 732c  ration) objects,
+00028f60: 2069 6e20 7768 6963 6820 6361 7365 2061   in which case a
+00028f70: 206d 756c 7469 6469 6d65 6e73 696f 6e61   multidimensiona
+00028f80: 6c20 6172 7261 7920 6973 2072 6574 7572  l array is retur
+00028f90: 6e65 6420 696e 7374 6561 6420 6f66 2061  ned instead of a
+00028fa0: 6e20 6974 6572 6174 6f72 2e0a 0a23 2323  n iterator...###
+00028fb0: 2323 2050 7974 686f 6e20 446f 6373 0a0a  ## Python Docs..
+00028fc0: 2a2a 6361 7274 6573 6961 6e5c 5f70 726f  **cartesian\_pro
+00028fd0: 6475 6374 2a2a 285f 5c2a 6974 6572 6162  duct**(_\*iterab
+00028fe0: 6c65 732c 2072 6570 6561 743d 315f 290a  les, repeat=1_).
+00028ff0: 0a43 6172 7465 7369 616e 2070 726f 6475  .Cartesian produ
+00029000: 6374 206f 6620 696e 7075 7420 6974 6572  ct of input iter
+00029010: 6162 6c65 732e 0a0a 526f 7567 686c 7920  ables...Roughly 
+00029020: 6571 7569 7661 6c65 6e74 2074 6f20 6e65  equivalent to ne
+00029030: 7374 6564 2066 6f72 2d6c 6f6f 7073 2069  sted for-loops i
+00029040: 6e20 6120 6765 6e65 7261 746f 7220 6578  n a generator ex
+00029050: 7072 6573 7369 6f6e 2e20 466f 7220 6578  pression. For ex
+00029060: 616d 706c 652c 2060 6361 7274 6573 6961  ample, `cartesia
+00029070: 6e5f 7072 6f64 7563 7428 412c 2042 2960  n_product(A, B)`
+00029080: 2072 6574 7572 6e73 2074 6865 2073 616d   returns the sam
+00029090: 6520 6173 2060 2828 782c 7929 2066 6f72  e as `((x,y) for
+000290a0: 2078 2069 6e20 4120 666f 7220 7920 696e   x in A for y in
+000290b0: 2042 2960 2e0a 0a54 6865 206e 6573 7465   B)`...The neste
+000290c0: 6420 6c6f 6f70 7320 6379 636c 6520 6c69  d loops cycle li
+000290d0: 6b65 2061 6e20 6f64 6f6d 6574 6572 2077  ke an odometer w
+000290e0: 6974 6820 7468 6520 7269 6768 746d 6f73  ith the rightmos
+000290f0: 7420 656c 656d 656e 7420 6164 7661 6e63  t element advanc
+00029100: 696e 6720 6f6e 2065 7665 7279 2069 7465  ing on every ite
+00029110: 7261 7469 6f6e 2e20 5468 6973 2070 6174  ration. This pat
+00029120: 7465 726e 2063 7265 6174 6573 2061 206c  tern creates a l
+00029130: 6578 6963 6f67 7261 7068 6963 206f 7264  exicographic ord
+00029140: 6572 696e 6720 736f 2074 6861 7420 6966  ering so that if
+00029150: 2074 6865 2069 6e70 7574 e280 9973 2069   the input...s i
+00029160: 7465 7261 626c 6573 2061 7265 2073 6f72  terables are sor
+00029170: 7465 642c 2074 6865 2070 726f 6475 6374  ted, the product
+00029180: 2074 7570 6c65 7320 6172 6520 656d 6974   tuples are emit
+00029190: 7465 6420 696e 2073 6f72 7465 6420 6f72  ted in sorted or
+000291a0: 6465 722e 0a0a 546f 2063 6f6d 7075 7465  der...To compute
+000291b0: 2074 6865 2070 726f 6475 6374 206f 6620   the product of 
+000291c0: 616e 2069 7465 7261 626c 6520 7769 7468  an iterable with
+000291d0: 2069 7473 656c 662c 2073 7065 6369 6679   itself, specify
+000291e0: 2074 6865 206e 756d 6265 7220 6f66 2072   the number of r
+000291f0: 6570 6574 6974 696f 6e73 2077 6974 6820  epetitions with 
+00029200: 7468 6520 6f70 7469 6f6e 616c 2072 6570  the optional rep
+00029210: 6561 7420 6b65 7977 6f72 6420 6172 6775  eat keyword argu
+00029220: 6d65 6e74 2e20 466f 7220 6578 616d 706c  ment. For exampl
+00029230: 652c 2060 7072 6f64 7563 7428 412c 2072  e, `product(A, r
+00029240: 6570 6561 743d 3429 6020 6d65 616e 7320  epeat=4)` means 
+00029250: 7468 6520 7361 6d65 2061 7320 6063 6172  the same as `car
+00029260: 7465 7369 616e 5f70 726f 6475 6374 2841  tesian_product(A
+00029270: 2c20 412c 2041 2c20 4129 602e 0a0a 5468  , A, A, A)`...Th
+00029280: 6973 2066 756e 6374 696f 6e20 6973 2072  is function is r
+00029290: 6f75 6768 6c79 2065 7175 6976 616c 656e  oughly equivalen
+000292a0: 7420 746f 2074 6865 2066 6f6c 6c6f 7769  t to the followi
+000292b0: 6e67 2063 6f64 652c 2065 7863 6570 7420  ng code, except 
+000292c0: 7468 6174 2074 6865 2061 6374 7561 6c20  that the actual 
+000292d0: 696d 706c 656d 656e 7461 7469 6f6e 2064  implementation d
+000292e0: 6f65 7320 6e6f 7420 6275 696c 6420 7570  oes not build up
+000292f0: 2069 6e74 6572 6d65 6469 6174 6520 7265   intermediate re
+00029300: 7375 6c74 7320 696e 206d 656d 6f72 793a  sults in memory:
+00029310: 0a0a 6060 6063 6f63 6f6e 7574 5f70 7974  ..```coconut_pyt
+00029320: 686f 6e0a 6465 6620 6361 7274 6573 6961  hon.def cartesia
+00029330: 6e5f 7072 6f64 7563 7428 2a61 7267 732c  n_product(*args,
+00029340: 2072 6570 6561 743d 3129 3a0a 2020 2020   repeat=1):.    
+00029350: 2320 7072 6f64 7563 7428 2741 4243 4427  # product('ABCD'
+00029360: 2c20 2778 7927 2920 2d2d 3e20 4178 2041  , 'xy') --> Ax A
+00029370: 7920 4278 2042 7920 4378 2043 7920 4478  y Bx By Cx Cy Dx
+00029380: 2044 790a 2020 2020 2320 7072 6f64 7563   Dy.    # produc
+00029390: 7428 7261 6e67 6528 3229 2c20 7265 7065  t(range(2), repe
+000293a0: 6174 3d33 2920 2d2d 3e20 3030 3020 3030  at=3) --> 000 00
+000293b0: 3120 3031 3020 3031 3120 3130 3020 3130  1 010 011 100 10
+000293c0: 3120 3131 3020 3131 310a 2020 2020 706f  1 110 111.    po
+000293d0: 6f6c 7320 3d20 5b74 7570 6c65 2870 6f6f  ols = [tuple(poo
+000293e0: 6c29 2066 6f72 2070 6f6f 6c20 696e 2061  l) for pool in a
+000293f0: 7267 735d 202a 2072 6570 6561 740a 2020  rgs] * repeat.  
+00029400: 2020 7265 7375 6c74 203d 205b 5b5d 5d0a    result = [[]].
+00029410: 2020 2020 666f 7220 706f 6f6c 2069 6e20      for pool in 
+00029420: 706f 6f6c 733a 0a20 2020 2020 2020 2072  pools:.        r
+00029430: 6573 756c 7420 3d20 5b78 2b5b 795d 2066  esult = [x+[y] f
+00029440: 6f72 2078 2069 6e20 7265 7375 6c74 2066  or x in result f
+00029450: 6f72 2079 2069 6e20 706f 6f6c 5d0a 2020  or y in pool].  
+00029460: 2020 666f 7220 7072 6f64 2069 6e20 7265    for prod in re
+00029470: 7375 6c74 3a0a 2020 2020 2020 2020 7969  sult:.        yi
+00029480: 656c 6420 7475 706c 6528 7072 6f64 290a  eld tuple(prod).
+00029490: 6060 600a 0a42 6566 6f72 6520 6063 6172  ```..Before `car
+000294a0: 7465 7369 616e 5f70 726f 6475 6374 2829  tesian_product()
+000294b0: 6020 7275 6e73 2c20 6974 2063 6f6d 706c  ` runs, it compl
+000294c0: 6574 656c 7920 636f 6e73 756d 6573 2074  etely consumes t
+000294d0: 6865 2069 6e70 7574 2069 7465 7261 626c  he input iterabl
+000294e0: 6573 2c20 6b65 6570 696e 6720 706f 6f6c  es, keeping pool
+000294f0: 7320 6f66 2076 616c 7565 7320 696e 206d  s of values in m
+00029500: 656d 6f72 7920 746f 2067 656e 6572 6174  emory to generat
+00029510: 6520 7468 6520 7072 6f64 7563 7473 2e20  e the products. 
+00029520: 4163 636f 7264 696e 676c 792c 2069 7420  Accordingly, it 
+00029530: 6973 206f 6e6c 7920 7573 6566 756c 2077  is only useful w
+00029540: 6974 6820 6669 6e69 7465 2069 6e70 7574  ith finite input
+00029550: 732e 0a0a 2323 2323 2320 4578 616d 706c  s...##### Exampl
+00029560: 650a 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0a  e..**Coconut:**.
+00029570: 6060 6063 6f63 6f6e 7574 0a76 203d 205b  ```coconut.v = [
+00029580: 312c 2032 5d0a 6173 7365 7274 2063 6172  1, 2].assert car
+00029590: 7465 7369 616e 5f70 726f 6475 6374 2876  tesian_product(v
+000295a0: 2c20 7629 207c 3e20 6c69 7374 203d 3d20  , v) |> list == 
+000295b0: 5b28 312c 2031 292c 2028 312c 2032 292c  [(1, 1), (1, 2),
+000295c0: 2028 322c 2031 292c 2028 322c 2032 295d   (2, 1), (2, 2)]
+000295d0: 0a60 6060 0a0a 2a2a 5079 7468 6f6e 3a2a  .```..**Python:*
+000295e0: 2a0a 6060 6063 6f63 6f6e 7574 5f70 7974  *.```coconut_pyt
+000295f0: 686f 6e0a 6672 6f6d 2069 7465 7274 6f6f  hon.from itertoo
+00029600: 6c73 2069 6d70 6f72 7420 7072 6f64 7563  ls import produc
+00029610: 740a 7620 3d20 5b31 2c20 325d 0a61 7373  t.v = [1, 2].ass
+00029620: 6572 7420 6c69 7374 2870 726f 6475 6374  ert list(product
+00029630: 2876 2c20 7629 2920 3d3d 205b 2831 2c20  (v, v)) == [(1, 
+00029640: 3129 2c20 2831 2c20 3229 2c20 2832 2c20  1), (1, 2), (2, 
+00029650: 3129 2c20 2832 2c20 3229 5d0a 6060 600a  1), (2, 2)].```.
+00029660: 0a23 2323 2320 606d 756c 7469 5f65 6e75  .#### `multi_enu
+00029670: 6d65 7261 7465 600a 0a2a 2a6d 756c 7469  merate`..**multi
+00029680: 5c5f 656e 756d 6572 6174 652a 2a28 5f69  \_enumerate**(_i
+00029690: 7465 7261 626c 655f 290a 0a43 6f63 6f6e  terable_)..Cocon
+000296a0: 7574 2773 2060 6d75 6c74 695f 656e 756d  ut's `multi_enum
+000296b0: 6572 6174 6560 2065 6e75 6d65 7261 7465  erate` enumerate
+000296c0: 7320 7468 726f 7567 6820 616e 2069 7465  s through an ite
+000296d0: 7261 626c 6520 6f66 2069 7465 7261 626c  rable of iterabl
+000296e0: 6573 2e20 606d 756c 7469 5f65 6e75 6d65  es. `multi_enume
+000296f0: 7261 7465 6020 776f 726b 7320 6c69 6b65  rate` works like
+00029700: 2065 6e75 6d65 7261 7465 2c20 6275 7420   enumerate, but 
+00029710: 696e 6465 7865 7320 7468 726f 7567 6820  indexes through 
+00029720: 696e 6e65 7220 6974 6572 6162 6c65 7320  inner iterables 
+00029730: 616e 6420 7072 6f64 7563 6573 2061 2074  and produces a t
+00029740: 7570 6c65 2069 6e64 6578 2072 6570 7265  uple index repre
+00029750: 7365 6e74 696e 6720 7468 6520 696e 6465  senting the inde
+00029760: 7820 696e 2065 6163 6820 696e 6e65 7220  x in each inner 
+00029770: 6974 6572 6162 6c65 2e20 5375 7070 6f72  iterable. Suppor
+00029780: 7473 2069 6e64 6578 696e 672e 0a0a 466f  ts indexing...Fo
+00029790: 7220 5b60 6e75 6d70 7960 5d28 236e 756d  r [`numpy`](#num
+000297a0: 7079 2d69 6e74 6567 7261 7469 6f6e 2920  py-integration) 
+000297b0: 6f62 6a65 6374 732c 2075 7365 7320 5b60  objects, uses [`
+000297c0: 6e70 2e6e 6469 7465 7260 5d28 6874 7470  np.nditer`](http
+000297d0: 733a 2f2f 6e75 6d70 792e 6f72 672f 646f  s://numpy.org/do
+000297e0: 632f 7374 6162 6c65 2f72 6566 6572 656e  c/stable/referen
+000297f0: 6365 2f67 656e 6572 6174 6564 2f6e 756d  ce/generated/num
+00029800: 7079 2e6e 6469 7465 722e 6874 6d6c 2920  py.nditer.html) 
+00029810: 756e 6465 7220 7468 6520 686f 6f64 2e20  under the hood. 
+00029820: 416c 736f 2073 7570 706f 7274 7320 606c  Also supports `l
+00029830: 656e 6020 666f 7220 5b60 6e75 6d70 7960  en` for [`numpy`
+00029840: 5d28 236e 756d 7079 2d69 6e74 6567 7261  ](#numpy-integra
+00029850: 7469 6f6e 2920 6172 7261 7973 2e0a 0a23  tion) arrays...#
+00029860: 2323 2323 2045 7861 6d70 6c65 0a0a 2a2a  #### Example..**
+00029870: 436f 636f 6e75 743a 2a2a 0a60 6060 636f  Coconut:**.```co
+00029880: 636f 6e75 745f 7079 636f 6e0a 3e3e 3e20  conut_pycon.>>> 
+00029890: 5b31 2c20 323b 3b20 332c 2034 5d20 7c3e  [1, 2;; 3, 4] |>
+000298a0: 206d 756c 7469 5f65 6e75 6d65 7261 7465   multi_enumerate
+000298b0: 207c 3e20 6c69 7374 0a5b 2828 302c 2030   |> list.[((0, 0
+000298c0: 292c 2031 292c 2028 2830 2c20 3129 2c20  ), 1), ((0, 1), 
+000298d0: 3229 2c20 2828 312c 2030 292c 2033 292c  2), ((1, 0), 3),
+000298e0: 2028 2831 2c20 3129 2c20 3429 5d0a 6060   ((1, 1), 4)].``
+000298f0: 600a 0a2a 2a50 7974 686f 6e3a 2a2a 0a60  `..**Python:**.`
+00029900: 6060 636f 636f 6e75 745f 7079 7468 6f6e  ``coconut_python
+00029910: 0a61 7272 6179 203d 205b 5b31 2c20 325d  .array = [[1, 2]
+00029920: 2c20 5b33 2c20 345d 5d0a 656e 756d 6572  , [3, 4]].enumer
+00029930: 6174 6564 5f61 7272 6179 203d 205b 5d0a  ated_array = [].
+00029940: 666f 7220 6920 696e 2072 616e 6765 286c  for i in range(l
+00029950: 656e 2861 7272 6179 2929 3a0a 2020 2020  en(array)):.    
+00029960: 666f 7220 6a20 696e 2072 616e 6765 286c  for j in range(l
+00029970: 656e 2861 7272 6179 5b69 5d29 293a 0a20  en(array[i])):. 
+00029980: 2020 2020 2020 2065 6e75 6d65 7261 7465         enumerate
+00029990: 645f 6172 7261 792e 6170 7065 6e64 2828  d_array.append((
+000299a0: 2869 2c20 6a29 2c20 6172 7261 795b 695d  (i, j), array[i]
+000299b0: 5b6a 5d29 290a 6060 600a 0a23 2323 2320  [j])).```..#### 
+000299c0: 6067 726f 7570 736f 6660 0a0a 2a2a 6772  `groupsof`..**gr
+000299d0: 6f75 7073 6f66 2a2a 285f 6e5f 2c20 5f69  oupsof**(_n_, _i
+000299e0: 7465 7261 626c 655f 2c20 5f66 696c 6c76  terable_, _fillv
+000299f0: 616c 7565 5f3d 602e 2e2e 6029 0a0a 436f  alue_=`...`)..Co
+00029a00: 636f 6e75 7420 7072 6f76 6964 6573 2074  conut provides t
+00029a10: 6865 2060 6772 6f75 7073 6f66 6020 6275  he `groupsof` bu
+00029a20: 696c 742d 696e 2074 6f20 7370 6c69 7420  ilt-in to split 
+00029a30: 616e 2069 7465 7261 626c 6520 696e 746f  an iterable into
+00029a40: 2067 726f 7570 7320 6f66 2061 2073 7065   groups of a spe
+00029a50: 6369 6669 6320 6c65 6e67 7468 2e20 5370  cific length. Sp
+00029a60: 6563 6966 6963 616c 6c79 2c20 6067 726f  ecifically, `gro
+00029a70: 7570 736f 6628 6e2c 2069 7465 7261 626c  upsof(n, iterabl
+00029a80: 6529 6020 7769 6c6c 2073 706c 6974 2060  e)` will split `
+00029a90: 6974 6572 6162 6c65 6020 696e 746f 2074  iterable` into t
+00029aa0: 7570 6c65 7320 6f66 206c 656e 6774 6820  uples of length 
+00029ab0: 606e 602c 2077 6974 6820 6f6e 6c79 2074  `n`, with only t
+00029ac0: 6865 206c 6173 7420 7475 706c 6520 706f  he last tuple po
+00029ad0: 7465 6e74 6961 6c6c 7920 6f66 2073 697a  tentially of siz
+00029ae0: 6520 603c 206e 6020 6966 2074 6865 206c  e `< n` if the l
+00029af0: 656e 6774 6820 6f66 2060 6974 6572 6162  ength of `iterab
+00029b00: 6c65 6020 6973 206e 6f74 2064 6976 6973  le` is not divis
+00029b10: 6962 6c65 2062 7920 606e 602e 2049 6620  ible by `n`. If 
+00029b20: 7468 6174 2069 7320 6e6f 7420 7468 6520  that is not the 
+00029b30: 6465 7369 7265 6420 6265 6861 7669 6f72  desired behavior
+00029b40: 2c20 5f66 696c 6c76 616c 7565 5f20 6361  , _fillvalue_ ca
+00029b50: 6e20 6265 2070 6173 7365 6420 616e 6420  n be passed and 
+00029b60: 7769 6c6c 2062 6520 7573 6564 2074 6f20  will be used to 
+00029b70: 7061 6420 7468 6520 656e 6420 6f66 2074  pad the end of t
+00029b80: 6865 206c 6173 7420 7475 706c 6520 746f  he last tuple to
+00029b90: 206c 656e 6774 6820 606e 602e 0a0a 4164   length `n`...Ad
+00029ba0: 6469 7469 6f6e 616c 6c79 2c20 6067 726f  ditionally, `gro
+00029bb0: 7570 736f 6660 2073 7570 706f 7274 7320  upsof` supports 
+00029bc0: 606c 656e 6020 7768 656e 2060 6974 6572  `len` when `iter
+00029bd0: 6162 6c65 6020 7375 7070 6f72 7473 2060  able` supports `
+00029be0: 6c65 6e60 2e0a 0a23 2323 2323 2045 7861  len`...##### Exa
+00029bf0: 6d70 6c65 0a0a 2a2a 436f 636f 6e75 743a  mple..**Coconut:
+00029c00: 2a2a 0a60 6060 636f 636f 6e75 740a 7061  **.```coconut.pa
+00029c10: 6972 7320 3d20 7261 6e67 6528 312c 2031  irs = range(1, 1
+00029c20: 3129 207c 3e20 6772 6f75 7073 6f66 2428  1) |> groupsof$(
+00029c30: 3229 0a60 6060 0a0a 2a2a 5079 7468 6f6e  2).```..**Python
+00029c40: 3a2a 2a0a 6060 6063 6f63 6f6e 7574 5f70  :**.```coconut_p
+00029c50: 7974 686f 6e0a 7061 6972 7320 3d20 5b5d  ython.pairs = []
+00029c60: 0a67 726f 7570 203d 205b 5d0a 666f 7220  .group = [].for 
+00029c70: 6974 656d 2069 6e20 7261 6e67 6528 312c  item in range(1,
+00029c80: 2031 3129 3a0a 2020 2020 6772 6f75 702e   11):.    group.
+00029c90: 6170 7065 6e64 2869 7465 6d29 0a20 2020  append(item).   
+00029ca0: 2069 6620 6c65 6e28 6772 6f75 7029 203d   if len(group) =
+00029cb0: 3d20 323a 0a20 2020 2020 2020 2070 6169  = 2:.        pai
+00029cc0: 7273 2e61 7070 656e 6428 7475 706c 6528  rs.append(tuple(
+00029cd0: 6772 6f75 7029 290a 2020 2020 2020 2020  group)).        
+00029ce0: 6772 6f75 7020 3d20 5b5d 0a69 6620 6772  group = [].if gr
+00029cf0: 6f75 703a 0a20 2020 2070 6169 7273 2e61  oup:.    pairs.a
+00029d00: 7070 656e 6428 7475 706c 6528 6772 6f75  ppend(tuple(grou
+00029d10: 7029 290a 6060 600a 0a23 2323 2320 6077  p)).```..#### `w
+00029d20: 696e 646f 7773 6f66 600a 0a2a 2a77 696e  indowsof`..**win
+00029d30: 646f 7773 6f66 2a2a 285f 7369 7a65 5f2c  dowsof**(_size_,
+00029d40: 205f 6974 6572 6162 6c65 5f2c 205f 6669   _iterable_, _fi
+00029d50: 6c6c 7661 6c75 655f 3d60 2e2e 2e60 2c20  llvalue_=`...`, 
+00029d60: 5f73 7465 705f 3d60 3160 290a 0a60 7769  _step_=`1`)..`wi
+00029d70: 6e64 6f77 736f 6660 2070 726f 6475 6365  ndowsof` produce
+00029d80: 7320 616e 2069 7465 7261 626c 6520 7468  s an iterable th
+00029d90: 6174 2065 6666 6563 7469 7665 6c79 206d  at effectively m
+00029da0: 696d 6963 7320 6120 736c 6964 696e 6720  imics a sliding 
+00029db0: 7769 6e64 6f77 206f 7665 7220 5f69 7465  window over _ite
+00029dc0: 7261 626c 655f 206f 6620 7369 7a65 205f  rable_ of size _
+00029dd0: 7369 7a65 5f2e 205f 7374 6570 5f20 6465  size_. _step_ de
+00029de0: 7465 726d 696e 6573 2074 6865 2073 7061  termines the spa
+00029df0: 6369 6e67 2062 6574 7765 656e 2077 696e  cing between win
+00029e00: 646f 7773 6f66 2e0a 0a49 6620 5f73 697a  dowsof...If _siz
+00029e10: 655f 2069 7320 6c61 7267 6572 2074 6861  e_ is larger tha
+00029e20: 6e20 5f69 7465 7261 626c 655f 2c20 6077  n _iterable_, `w
+00029e30: 696e 646f 7773 6f66 6020 7769 6c6c 2070  indowsof` will p
+00029e40: 726f 6475 6365 2061 6e20 656d 7074 7920  roduce an empty 
+00029e50: 6974 6572 6162 6c65 2e20 4966 2074 6861  iterable. If tha
+00029e60: 7420 6973 206e 6f74 2074 6865 2064 6573  t is not the des
+00029e70: 6972 6564 2062 6568 6176 696f 722c 205f  ired behavior, _
+00029e80: 6669 6c6c 7661 6c75 655f 2063 616e 2062  fillvalue_ can b
+00029e90: 6520 7061 7373 6564 2061 6e64 2077 696c  e passed and wil
+00029ea0: 6c20 6265 2075 7365 6420 696e 2070 6c61  l be used in pla
+00029eb0: 6365 206f 6620 6d69 7373 696e 6720 7661  ce of missing va
+00029ec0: 6c75 6573 2e20 416c 736f 2c20 6966 205f  lues. Also, if _
+00029ed0: 6669 6c6c 7661 6c75 655f 2069 7320 7061  fillvalue_ is pa
+00029ee0: 7373 6564 2061 6e64 2074 6865 206c 656e  ssed and the len
+00029ef0: 6774 6820 6f66 2074 6865 205f 6974 6572  gth of the _iter
+00029f00: 6162 6c65 5f20 6973 206e 6f74 2064 6976  able_ is not div
+00029f10: 6973 6962 6c65 2062 7920 5f73 7465 705f  isible by _step_
+00029f20: 2c20 5f66 696c 6c76 616c 7565 5f20 7769  , _fillvalue_ wi
+00029f30: 6c6c 2062 6520 7573 6564 2069 6e20 7468  ll be used in th
+00029f40: 6174 2063 6173 6520 746f 2070 6164 2074  at case to pad t
+00029f50: 6865 206c 6173 7420 7769 6e64 6f77 2061  he last window a
+00029f60: 7320 7765 6c6c 2e20 4e6f 7465 2074 6861  s well. Note tha
+00029f70: 7420 5f66 696c 6c76 616c 7565 5f20 7769  t _fillvalue_ wi
+00029f80: 6c6c 206f 6e6c 7920 6576 6572 2061 7070  ll only ever app
+00029f90: 6561 7220 696e 2074 6865 206c 6173 7420  ear in the last 
+00029fa0: 7769 6e64 6f77 2e0a 0a41 6464 6974 696f  window...Additio
+00029fb0: 6e61 6c6c 792c 2060 7769 6e64 6f77 736f  nally, `windowso
+00029fc0: 6660 2073 7570 706f 7274 7320 606c 656e  f` supports `len
+00029fd0: 6020 7768 656e 2060 6974 6572 6162 6c65  ` when `iterable
+00029fe0: 6020 7375 7070 6f72 7473 2060 6c65 6e60  ` supports `len`
+00029ff0: 2e0a 0a23 2323 2323 2045 7861 6d70 6c65  ...##### Example
+0002a000: 0a0a 2a2a 436f 636f 6e75 743a 2a2a 0a60  ..**Coconut:**.`
+0002a010: 6060 636f 636f 6e75 740a 6173 7365 7274  ``coconut.assert
+0002a020: 2022 3132 3334 3522 207c 3e20 7769 6e64   "12345" |> wind
+0002a030: 6f77 736f 6624 2833 2920 7c3e 206c 6973  owsof$(3) |> lis
+0002a040: 7420 3d3d 205b 2822 3122 2c20 2232 222c  t == [("1", "2",
+0002a050: 2022 3322 292c 2028 2232 222c 2022 3322   "3"), ("2", "3"
+0002a060: 2c20 2234 2229 2c20 2822 3322 2c20 2234  , "4"), ("3", "4
+0002a070: 222c 2022 3522 295d 0a60 6060 0a0a 2a2a  ", "5")].```..**
+0002a080: 5079 7468 6f6e 3a2a 2a0a 5f43 616e 2774  Python:**._Can't
+0002a090: 2062 6520 646f 6e65 2077 6974 686f 7574   be done without
+0002a0a0: 2074 6865 2064 6566 696e 6974 696f 6e20   the definition 
+0002a0b0: 6f66 2060 7769 6e64 6f77 736f 6660 3b20  of `windowsof`; 
+0002a0c0: 7365 6520 7468 6520 636f 6d70 696c 6564  see the compiled
+0002a0d0: 2068 6561 6465 7220 666f 7220 7468 6520   header for the 
+0002a0e0: 6675 6c6c 2064 6566 696e 6974 696f 6e2e  full definition.
+0002a0f0: 5f0a 0a23 2323 2320 6063 6f6c 6c65 6374  _..#### `collect
+0002a100: 6279 600a 0a2a 2a63 6f6c 6c65 6374 6279  by`..**collectby
+0002a110: 2a2a 285f 6b65 795c 5f66 756e 635f 2c20  **(_key\_func_, 
+0002a120: 5f69 7465 7261 626c 655f 2c20 5f76 616c  _iterable_, _val
+0002a130: 7565 5c5f 6675 6e63 5f3d 604e 6f6e 6560  ue\_func_=`None`
+0002a140: 2c20 5f72 6564 7563 655c 5f66 756e 635f  , _reduce\_func_
+0002a150: 3d60 4e6f 6e65 6029 0a0a 6063 6f6c 6c65  =`None`)..`colle
+0002a160: 6374 6279 286b 6579 5f66 756e 632c 2069  ctby(key_func, i
+0002a170: 7465 7261 626c 6529 6020 636f 6c6c 6563  terable)` collec
+0002a180: 7473 2074 6865 2069 7465 6d73 2069 6e20  ts the items in 
+0002a190: 6069 7465 7261 626c 6560 2069 6e74 6f20  `iterable` into 
+0002a1a0: 6120 6469 6374 696f 6e61 7279 206f 6620  a dictionary of 
+0002a1b0: 6c69 7374 7320 6b65 7965 6420 6279 2060  lists keyed by `
+0002a1c0: 6b65 795f 6675 6e63 2869 7465 6d29 602e  key_func(item)`.
+0002a1d0: 0a0a 4966 2060 7661 6c75 655f 6675 6e63  ..If `value_func
+0002a1e0: 6020 6973 2070 6173 7365 642c 2060 636f  ` is passed, `co
+0002a1f0: 6c6c 6563 7462 7928 6b65 795f 6675 6e63  llectby(key_func
+0002a200: 2c20 6974 6572 6162 6c65 2c20 7661 6c75  , iterable, valu
+0002a210: 655f 6675 6e63 3d76 616c 7565 5f66 756e  e_func=value_fun
+0002a220: 6329 6020 696e 7374 6561 6420 636f 6c6c  c)` instead coll
+0002a230: 6563 7473 2076 616c 7565 5f66 756e 6328  ects value_func(
+0002a240: 6974 656d 2920 696e 746f 2065 6163 6820  item) into each 
+0002a250: 6c69 7374 2069 6e73 7465 6164 206f 6620  list instead of 
+0002a260: 6974 656d 2e0a 0a49 6620 6072 6564 7563  item...If `reduc
+0002a270: 655f 6675 6e63 6020 6973 2070 6173 7365  e_func` is passe
+0002a280: 642c 2060 636f 6c6c 6563 7462 7928 6b65  d, `collectby(ke
+0002a290: 795f 6675 6e63 2c20 6974 6572 6162 6c65  y_func, iterable
+0002a2a0: 2c20 7265 6475 6365 5f66 756e 633d 7265  , reduce_func=re
+0002a2b0: 6475 6365 5f66 756e 6329 602c 2069 6e73  duce_func)`, ins
+0002a2c0: 7465 6164 206f 6620 636f 6c6c 6563 7469  tead of collecti
+0002a2d0: 6e67 2074 6865 2069 7465 6d73 2069 6e74  ng the items int
+0002a2e0: 6f20 6c69 7374 732c 2072 6564 7563 6573  o lists, reduces
+0002a2f0: 206f 7665 7220 7468 6520 6974 656d 7320   over the items 
+0002a300: 6f66 2065 6163 6820 6b65 7920 7769 7468  of each key with
+0002a310: 2072 6564 7563 655f 6675 6e63 2c20 6566   reduce_func, ef
+0002a320: 6665 6374 6976 656c 7920 696d 706c 656d  fectively implem
+0002a330: 656e 7469 6e67 2061 204d 6170 5265 6475  enting a MapRedu
+0002a340: 6365 206f 7065 7261 7469 6f6e 2e0a 0a60  ce operation...`
+0002a350: 636f 6c6c 6563 7462 7960 2069 7320 6566  collectby` is ef
+0002a360: 6665 6374 6976 656c 7920 6571 7569 7661  fectively equiva
+0002a370: 6c65 6e74 2074 6f3a 0a60 6060 636f 636f  lent to:.```coco
+0002a380: 6e75 745f 7079 7468 6f6e 0a66 726f 6d20  nut_python.from 
+0002a390: 636f 6c6c 6563 7469 6f6e 7320 696d 706f  collections impo
+0002a3a0: 7274 2064 6566 6175 6c74 6469 6374 0a0a  rt defaultdict..
+0002a3b0: 6465 6620 636f 6c6c 6563 7462 7928 6b65  def collectby(ke
+0002a3c0: 795f 6675 6e63 2c20 6974 6572 6162 6c65  y_func, iterable
+0002a3d0: 2c20 7661 6c75 655f 6675 6e63 3d69 6465  , value_func=ide
+0002a3e0: 6e74 2c20 7265 6475 6365 5f66 756e 633d  nt, reduce_func=
+0002a3f0: 4e6f 6e65 293a 0a20 2020 2063 6f6c 6c65  None):.    colle
+0002a400: 6374 696f 6e20 3d20 6465 6661 756c 7464  ction = defaultd
+0002a410: 6963 7428 6c69 7374 2920 6966 2072 6564  ict(list) if red
+0002a420: 7563 655f 6675 6e63 2069 7320 4e6f 6e65  uce_func is None
+0002a430: 2065 6c73 6520 7b7d 0a20 2020 2066 6f72   else {}.    for
+0002a440: 2069 7465 6d20 696e 2069 7465 7261 626c   item in iterabl
+0002a450: 653a 0a20 2020 2020 2020 206b 6579 203d  e:.        key =
+0002a460: 206b 6579 5f66 756e 6328 6974 656d 290a   key_func(item).
+0002a470: 2020 2020 2020 2020 7661 6c75 6520 3d20          value = 
+0002a480: 7661 6c75 655f 6675 6e63 2869 7465 6d29  value_func(item)
+0002a490: 0a20 2020 2020 2020 2069 6620 7265 6475  .        if redu
+0002a4a0: 6365 5f66 756e 6320 6973 204e 6f6e 653a  ce_func is None:
+0002a4b0: 0a20 2020 2020 2020 2020 2020 2063 6f6c  .            col
+0002a4c0: 6c65 6374 696f 6e5b 6b65 795d 2e61 7070  lection[key].app
+0002a4d0: 656e 6428 7661 6c75 6529 0a20 2020 2020  end(value).     
+0002a4e0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+0002a4f0: 2020 2020 206f 6c64 5f76 616c 7565 203d       old_value =
+0002a500: 2063 6f6c 6c65 6374 696f 6e2e 6765 7428   collection.get(
+0002a510: 6b65 792c 2073 656e 7469 6e65 6c29 0a20  key, sentinel). 
+0002a520: 2020 2020 2020 2020 2020 2069 6620 6f6c             if ol
+0002a530: 645f 7661 6c75 6520 6973 206e 6f74 2073  d_value is not s
+0002a540: 656e 7469 6e65 6c3a 0a20 2020 2020 2020  entinel:.       
+0002a550: 2020 2020 2020 2020 2076 616c 7565 203d           value =
+0002a560: 2072 6564 7563 655f 6675 6e63 286f 6c64   reduce_func(old
+0002a570: 5f76 616c 7565 2c20 7661 6c75 6529 0a20  _value, value). 
+0002a580: 2020 2020 2020 2020 2020 2063 6f6c 6c65             colle
+0002a590: 6374 696f 6e5b 6b65 795d 203d 2076 616c  ction[key] = val
+0002a5a0: 7565 0a20 2020 2072 6574 7572 6e20 636f  ue.    return co
+0002a5b0: 6c6c 6563 7469 6f6e 0a60 6060 0a0a 6063  llection.```..`c
+0002a5c0: 6f6c 6c65 6374 6279 6020 6973 2073 696d  ollectby` is sim
+0002a5d0: 696c 6172 2074 6f20 5b60 6974 6572 746f  ilar to [`iterto
+0002a5e0: 6f6c 732e 6772 6f75 7062 7960 5d28 6874  ols.groupby`](ht
+0002a5f0: 7470 733a 2f2f 646f 6373 2e70 7974 686f  tps://docs.pytho
+0002a600: 6e2e 6f72 672f 332f 6c69 6272 6172 792f  n.org/3/library/
+0002a610: 6974 6572 746f 6f6c 732e 6874 6d6c 2369  itertools.html#i
+0002a620: 7465 7274 6f6f 6c73 2e67 726f 7570 6279  tertools.groupby
+0002a630: 2920 6578 6365 7074 2074 6861 7420 6063  ) except that `c
+0002a640: 6f6c 6c65 6374 6279 6020 6167 6772 6567  ollectby` aggreg
+0002a650: 6174 6573 2063 6f6d 6d6f 6e20 656c 656d  ates common elem
+0002a660: 656e 7473 2072 6567 6172 646c 6573 7320  ents regardless 
+0002a670: 6f66 2074 6865 6972 206f 7264 6572 2069  of their order i
+0002a680: 6e20 7468 6520 696e 7075 7420 6974 6572  n the input iter
+0002a690: 6162 6c65 2c20 7768 6572 6561 7320 6067  able, whereas `g
+0002a6a0: 726f 7570 6279 6020 6f6e 6c79 2061 6767  roupby` only agg
+0002a6b0: 7265 6761 7465 7320 636f 6d6d 6f6e 2065  regates common e
+0002a6c0: 6c65 6d65 6e74 7320 7468 6174 2061 7265  lements that are
+0002a6d0: 2061 646a 6163 656e 7420 696e 2074 6865   adjacent in the
+0002a6e0: 2069 6e70 7574 2069 7465 7261 626c 652e   input iterable.
+0002a6f0: 0a0a 2323 2323 2320 4578 616d 706c 650a  ..##### Example.
+0002a700: 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0a 6060  .**Coconut:**.``
+0002a710: 6063 6f63 6f6e 7574 0a75 7365 725f 6261  `coconut.user_ba
+0002a720: 6c61 6e63 6573 203d 2028 0a20 2020 2062  lances = (.    b
+0002a730: 616c 616e 6365 5f64 6174 610a 2020 2020  alance_data.    
+0002a740: 7c3e 2063 6f6c 6c65 6374 6279 2428 2e75  |> collectby$(.u
+0002a750: 7365 722c 2076 616c 7565 5f66 756e 633d  ser, value_func=
+0002a760: 2e62 616c 616e 6365 2c20 7265 6475 6365  .balance, reduce
+0002a770: 5f66 756e 633d 282b 2929 0a29 0a60 6060  _func=(+)).).```
+0002a780: 0a0a 2a2a 5079 7468 6f6e 3a2a 2a0a 6060  ..**Python:**.``
+0002a790: 6063 6f63 6f6e 7574 5f70 7974 686f 6e0a  `coconut_python.
+0002a7a0: 6672 6f6d 2063 6f6c 6c65 6374 696f 6e73  from collections
+0002a7b0: 2069 6d70 6f72 7420 6465 6661 756c 7464   import defaultd
+0002a7c0: 6963 740a 0a75 7365 725f 6261 6c61 6e63  ict..user_balanc
+0002a7d0: 6573 203d 2064 6566 6175 6c74 6469 6374  es = defaultdict
+0002a7e0: 2869 6e74 290a 666f 7220 6974 656d 2069  (int).for item i
+0002a7f0: 6e20 6261 6c61 6e63 655f 6461 7461 3a0a  n balance_data:.
+0002a800: 2020 2020 7573 6572 5f62 616c 616e 6365      user_balance
+0002a810: 735b 6974 656d 2e75 7365 725d 202b 3d20  s[item.user] += 
+0002a820: 6974 656d 2e62 616c 616e 6365 0a60 6060  item.balance.```
+0002a830: 0a0a 2323 2323 2060 616c 6c5f 6571 7561  ..#### `all_equa
+0002a840: 6c60 0a0a 2a2a 616c 6c5c 5f65 7175 616c  l`..**all\_equal
+0002a850: 2a2a 285f 6974 6572 6162 6c65 5f29 0a0a  **(_iterable_)..
+0002a860: 436f 636f 6e75 7427 7320 6061 6c6c 5f65  Coconut's `all_e
+0002a870: 7175 616c 6020 6275 696c 742d 696e 2074  qual` built-in t
+0002a880: 616b 6573 2069 6e20 616e 2069 7465 7261  akes in an itera
+0002a890: 626c 6520 616e 6420 6465 7465 726d 696e  ble and determin
+0002a8a0: 6573 2077 6865 7468 6572 2061 6c6c 206f  es whether all o
+0002a8b0: 6620 6974 7320 656c 656d 656e 7473 2061  f its elements a
+0002a8c0: 7265 2065 7175 616c 2074 6f20 6561 6368  re equal to each
+0002a8d0: 206f 7468 6572 2e20 6061 6c6c 5f65 7175   other. `all_equ
+0002a8e0: 616c 6020 6173 7375 6d65 7320 7472 616e  al` assumes tran
+0002a8f0: 7369 7469 7669 7479 206f 6620 6571 7561  sitivity of equa
+0002a900: 6c69 7479 2061 6e64 2074 6861 7420 6021  lity and that `!
+0002a910: 3d60 2069 7320 7468 6520 6e65 6761 7469  =` is the negati
+0002a920: 6f6e 206f 6620 603d 3d60 2e20 5370 6563  on of `==`. Spec
+0002a930: 6961 6c20 7375 7070 6f72 7420 6973 2070  ial support is p
+0002a940: 726f 7669 6465 6420 666f 7220 5b60 6e75  rovided for [`nu
+0002a950: 6d70 7960 5d28 236e 756d 7079 2d69 6e74  mpy`](#numpy-int
+0002a960: 6567 7261 7469 6f6e 2920 6f62 6a65 6374  egration) object
+0002a970: 732e 0a0a 2323 2323 2320 4578 616d 706c  s...##### Exampl
+0002a980: 650a 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0a  e..**Coconut:**.
+0002a990: 6060 6063 6f63 6f6e 7574 0a61 6c6c 5f65  ```coconut.all_e
+0002a9a0: 7175 616c 285b 312c 2031 2c20 315d 290a  qual([1, 1, 1]).
+0002a9b0: 616c 6c5f 6571 7561 6c28 5b31 2c20 312c  all_equal([1, 1,
+0002a9c0: 2032 5d29 0a60 6060 0a0a 2a2a 5079 7468   2]).```..**Pyth
+0002a9d0: 6f6e 3a2a 2a0a 6060 6063 6f63 6f6e 7574  on:**.```coconut
+0002a9e0: 5f70 7974 686f 6e0a 7365 6e74 696e 656c  _python.sentinel
+0002a9f0: 203d 206f 626a 6563 7428 290a 6465 6620   = object().def 
+0002aa00: 616c 6c5f 6571 7561 6c28 6974 6572 6162  all_equal(iterab
+0002aa10: 6c65 293a 0a20 2020 2066 6972 7374 5f69  le):.    first_i
+0002aa20: 7465 6d20 3d20 7365 6e74 696e 656c 0a20  tem = sentinel. 
+0002aa30: 2020 2066 6f72 2069 7465 6d20 696e 2069     for item in i
+0002aa40: 7465 7261 626c 653a 0a20 2020 2020 2020  terable:.       
+0002aa50: 2069 6620 6669 7273 745f 6974 656d 2069   if first_item i
+0002aa60: 7320 7365 6e74 696e 656c 3a0a 2020 2020  s sentinel:.    
+0002aa70: 2020 2020 2020 2020 6669 7273 745f 6974          first_it
+0002aa80: 656d 203d 2069 7465 6d0a 2020 2020 2020  em = item.      
+0002aa90: 2020 656c 6966 2066 6972 7374 5f69 7465    elif first_ite
+0002aaa0: 6d20 213d 2069 7465 6d3a 0a20 2020 2020  m != item:.     
+0002aab0: 2020 2020 2020 2072 6574 7572 6e20 4661         return Fa
+0002aac0: 6c73 650a 2020 2020 7265 7475 726e 2054  lse.    return T
+0002aad0: 7275 650a 616c 6c5f 6571 7561 6c28 5b31  rue.all_equal([1
+0002aae0: 2c20 312c 2031 5d29 0a61 6c6c 5f65 7175  , 1, 1]).all_equ
+0002aaf0: 616c 285b 312c 2031 2c20 325d 290a 6060  al([1, 1, 2]).``
+0002ab00: 600a 0a23 2323 2320 6070 6172 616c 6c65  `..#### `paralle
+0002ab10: 6c5f 6d61 7060 0a0a 2a2a 7061 7261 6c6c  l_map`..**parall
+0002ab20: 656c 5c5f 6d61 702a 2a28 5f66 756e 6374  el\_map**(_funct
+0002ab30: 696f 6e5f 2c20 2a5f 6974 6572 6162 6c65  ion_, *_iterable
+0002ab40: 735f 2c20 2a2c 205f 6368 756e 6b73 697a  s_, *, _chunksiz
+0002ab50: 655f 3d60 3160 2c20 5f73 7472 6963 745f  e_=`1`, _strict_
+0002ab60: 3d60 4661 6c73 6560 290a 0a43 6f63 6f6e  =`False`)..Cocon
+0002ab70: 7574 2070 726f 7669 6465 7320 6120 7061  ut provides a pa
+0002ab80: 7261 6c6c 656c 2076 6572 7369 6f6e 206f  rallel version o
+0002ab90: 6620 606d 6170 6020 756e 6465 7220 7468  f `map` under th
+0002aba0: 6520 6e61 6d65 2060 7061 7261 6c6c 656c  e name `parallel
+0002abb0: 5f6d 6170 602e 2060 7061 7261 6c6c 656c  _map`. `parallel
+0002abc0: 5f6d 6170 6020 6d61 6b65 7320 7573 6520  _map` makes use 
+0002abd0: 6f66 206d 756c 7469 706c 6520 7072 6f63  of multiple proc
+0002abe0: 6573 7365 732c 2061 6e64 2069 7320 7468  esses, and is th
+0002abf0: 6572 6566 6f72 6520 6d75 6368 2066 6173  erefore much fas
+0002ac00: 7465 7220 7468 616e 2060 6d61 7060 2066  ter than `map` f
+0002ac10: 6f72 2043 5055 2d62 6f75 6e64 2074 6173  or CPU-bound tas
+0002ac20: 6b73 2e20 6070 6172 616c 6c65 6c5f 6d61  ks. `parallel_ma
+0002ac30: 7060 206e 6576 6572 206c 6f61 6473 2074  p` never loads t
+0002ac40: 6865 2065 6e74 6972 6520 696e 7075 7420  he entire input 
+0002ac50: 6974 6572 6174 6f72 2069 6e74 6f20 6d65  iterator into me
+0002ac60: 6d6f 7279 2c20 7468 6f75 6768 2069 7420  mory, though it 
+0002ac70: 646f 6573 2063 6f6e 7375 6d65 2074 6865  does consume the
+0002ac80: 2065 6e74 6972 6520 696e 7075 7420 6974   entire input it
+0002ac90: 6572 6174 6f72 2061 7320 736f 6f6e 2061  erator as soon a
+0002aca0: 7320 6120 7369 6e67 6c65 206f 7574 7075  s a single outpu
+0002acb0: 7420 6973 2072 6571 7565 7374 6564 2e20  t is requested. 
+0002acc0: 4966 2061 6e79 2065 7863 6570 7469 6f6e  If any exception
+0002acd0: 7320 6172 6520 7261 6973 6564 2069 6e73  s are raised ins
+0002ace0: 6964 6520 6f66 2060 7061 7261 6c6c 656c  ide of `parallel
+0002acf0: 5f6d 6170 602c 2061 2074 7261 6365 6261  _map`, a traceba
+0002ad00: 636b 2077 696c 6c20 6265 2070 7269 6e74  ck will be print
+0002ad10: 6564 2061 7320 736f 6f6e 2061 7320 7468  ed as soon as th
+0002ad20: 6579 2061 7265 2065 6e63 6f75 6e74 6572  ey are encounter
+0002ad30: 6564 2e0a 0a42 6563 6175 7365 2060 7061  ed...Because `pa
+0002ad40: 7261 6c6c 656c 5f6d 6170 6020 7573 6573  rallel_map` uses
+0002ad50: 206d 756c 7469 706c 6520 7072 6f63 6573   multiple proces
+0002ad60: 7365 7320 666f 7220 6974 7320 6578 6563  ses for its exec
+0002ad70: 7574 696f 6e2c 2069 7420 6973 206e 6563  ution, it is nec
+0002ad80: 6573 7361 7279 2074 6861 7420 616c 6c20  essary that all 
+0002ad90: 6f66 2069 7473 2061 7267 756d 656e 7473  of its arguments
+0002ada0: 2062 6520 7069 636b 6c65 6162 6c65 2e20   be pickleable. 
+0002adb0: 4f6e 6c79 206f 626a 6563 7473 2064 6566  Only objects def
+0002adc0: 696e 6564 2061 7420 7468 6520 6d6f 6475  ined at the modu
+0002add0: 6c65 206c 6576 656c 2c20 616e 6420 6e6f  le level, and no
+0002ade0: 7420 6c61 6d62 6461 732c 206f 626a 6563  t lambdas, objec
+0002adf0: 7473 2064 6566 696e 6564 2069 6e73 6964  ts defined insid
+0002ae00: 6520 6f66 2061 2066 756e 6374 696f 6e2c  e of a function,
+0002ae10: 206f 7220 6f62 6a65 6374 7320 6465 6669   or objects defi
+0002ae20: 6e65 6420 696e 7369 6465 206f 6620 7468  ned inside of th
+0002ae30: 6520 696e 7465 7270 7265 7465 722c 2061  e interpreter, a
+0002ae40: 7265 2070 6963 6b6c 6561 626c 652e 2046  re pickleable. F
+0002ae50: 7572 7468 6572 6d6f 7265 2c20 6f6e 2057  urthermore, on W
+0002ae60: 696e 646f 7773 2c20 6974 2069 7320 6e65  indows, it is ne
+0002ae70: 6365 7373 6172 7920 7468 6174 2061 6c6c  cessary that all
+0002ae80: 2063 616c 6c73 2074 6f20 6070 6172 616c   calls to `paral
+0002ae90: 6c65 6c5f 6d61 7060 206f 6363 7572 2069  lel_map` occur i
+0002aea0: 6e73 6964 6520 6f66 2061 6e20 6069 6620  nside of an `if 
+0002aeb0: 5f5f 6e61 6d65 5f5f 203d 3d20 225f 5f6d  __name__ == "__m
+0002aec0: 6169 6e5f 5f22 6020 6775 6172 642e 0a0a  ain__"` guard...
+0002aed0: 6070 6172 616c 6c65 6c5f 6d61 7060 2073  `parallel_map` s
+0002aee0: 7570 706f 7274 7320 6120 6063 6875 6e6b  upports a `chunk
+0002aef0: 7369 7a65 6020 6172 6775 6d65 6e74 2c20  size` argument, 
+0002af00: 7768 6963 6820 6465 7465 726d 696e 6573  which determines
+0002af10: 2068 6f77 206d 616e 7920 6974 656d 7320   how many items 
+0002af20: 6172 6520 7061 7373 6564 2074 6f20 6561  are passed to ea
+0002af30: 6368 2070 726f 6365 7373 2061 7420 6120  ch process at a 
+0002af40: 7469 6d65 2e20 4c61 7267 6572 2076 616c  time. Larger val
+0002af50: 7565 7320 6f66 205f 6368 756e 6b73 697a  ues of _chunksiz
+0002af60: 655f 2061 7265 2072 6563 6f6d 6d65 6e64  e_ are recommend
+0002af70: 6564 2077 6865 6e20 6465 616c 696e 6720  ed when dealing 
+0002af80: 7769 7468 2076 6572 7920 6c6f 6e67 2069  with very long i
+0002af90: 7465 7261 626c 6573 2e20 4164 6469 7469  terables. Additi
+0002afa0: 6f6e 616c 6c79 2c20 696e 2074 6865 206d  onally, in the m
+0002afb0: 756c 7469 2d69 7465 7261 626c 6520 6361  ulti-iterable ca
+0002afc0: 7365 2c20 5f73 7472 6963 745f 2063 616e  se, _strict_ can
+0002afd0: 2062 6520 7365 7420 746f 2060 5472 7565   be set to `True
+0002afe0: 6020 746f 2065 6e73 7572 6520 7468 6174  ` to ensure that
+0002aff0: 2061 6c6c 2069 7465 7261 626c 6573 2061   all iterables a
+0002b000: 7265 2074 6865 2073 616d 6520 6c65 6e67  re the same leng
+0002b010: 7468 2e0a 0a49 6620 6d75 6c74 6970 6c65  th...If multiple
+0002b020: 2073 6571 7565 6e74 6961 6c20 6361 6c6c   sequential call
+0002b030: 7320 746f 2060 7061 7261 6c6c 656c 5f6d  s to `parallel_m
+0002b040: 6170 6020 6e65 6564 2074 6f20 6265 206d  ap` need to be m
+0002b050: 6164 652c 2069 7420 6973 2068 6967 686c  ade, it is highl
+0002b060: 7920 7265 636f 6d6d 656e 6465 6420 7468  y recommended th
+0002b070: 6174 2074 6865 7920 6265 2064 6f6e 6520  at they be done 
+0002b080: 696e 7369 6465 206f 6620 6120 6077 6974  inside of a `wit
+0002b090: 6820 7061 7261 6c6c 656c 5f6d 6170 2e6d  h parallel_map.m
+0002b0a0: 756c 7469 706c 655f 7365 7175 656e 7469  ultiple_sequenti
+0002b0b0: 616c 5f63 616c 6c73 2829 3a60 2062 6c6f  al_calls():` blo
+0002b0c0: 636b 2c20 7768 6963 6820 7769 6c6c 2063  ck, which will c
+0002b0d0: 6175 7365 2074 6865 2064 6966 6665 7265  ause the differe
+0002b0e0: 6e74 2063 616c 6c73 2074 6f20 7573 6520  nt calls to use 
+0002b0f0: 7468 6520 7361 6d65 2070 726f 6365 7373  the same process
+0002b100: 2070 6f6f 6c20 616e 6420 7265 7375 6c74   pool and result
+0002b110: 2069 6e20 6070 6172 616c 6c65 6c5f 6d61   in `parallel_ma
+0002b120: 7060 2069 6d6d 6564 6961 7465 6c79 2072  p` immediately r
+0002b130: 6574 7572 6e69 6e67 2061 206c 6973 7420  eturning a list 
+0002b140: 7261 7468 6572 2074 6861 6e20 6120 6070  rather than a `p
+0002b150: 6172 616c 6c65 6c5f 6d61 7060 206f 626a  arallel_map` obj
+0002b160: 6563 742e 2049 6620 6d75 6c74 6970 6c65  ect. If multiple
+0002b170: 2073 6571 7565 6e74 6961 6c20 6361 6c6c   sequential call
+0002b180: 7320 6172 6520 6e65 6365 7373 6172 7920  s are necessary 
+0002b190: 616e 6420 7468 6520 6c61 7a69 6e65 7373  and the laziness
+0002b1a0: 206f 6620 7061 7261 6c6c 656c 5f6d 6170   of parallel_map
+0002b1b0: 2069 7320 7265 7175 6972 6564 2c20 7468   is required, th
+0002b1c0: 656e 2074 6865 2060 7061 7261 6c6c 656c  en the `parallel
+0002b1d0: 5f6d 6170 6020 6f62 6a65 6374 7320 7368  _map` objects sh
+0002b1e0: 6f75 6c64 2062 6520 636f 6e73 7472 7563  ould be construc
+0002b1f0: 7465 6420 6265 666f 7265 2074 6865 2060  ted before the `
+0002b200: 6d75 6c74 6970 6c65 5f73 6571 7565 6e74  multiple_sequent
+0002b210: 6961 6c5f 6361 6c6c 7360 2062 6c6f 636b  ial_calls` block
+0002b220: 2061 6e64 2074 6865 6e20 6f6e 6c79 2069   and then only i
+0002b230: 7465 7261 7465 6420 6f76 6572 206f 6e63  terated over onc
+0002b240: 6520 696e 7369 6465 2074 6865 2062 6c6f  e inside the blo
+0002b250: 636b 2e0a 0a60 7061 7261 6c6c 656c 5f6d  ck...`parallel_m
+0002b260: 6170 2e6d 756c 7469 706c 655f 7365 7175  ap.multiple_sequ
+0002b270: 656e 7469 616c 5f63 616c 6c73 6020 616c  ential_calls` al
+0002b280: 736f 2073 7570 706f 7274 7320 6120 606d  so supports a `m
+0002b290: 6178 5f77 6f72 6b65 7273 6020 6172 6775  ax_workers` argu
+0002b2a0: 6d65 6e74 2074 6f20 7365 7420 7468 6520  ment to set the 
+0002b2b0: 6e75 6d62 6572 206f 6620 7072 6f63 6573  number of proces
+0002b2c0: 7365 732e 0a0a 2323 2323 2320 5079 7468  ses...##### Pyth
+0002b2d0: 6f6e 2044 6f63 730a 0a2a 2a70 6172 616c  on Docs..**paral
+0002b2e0: 6c65 6c5f 6d61 702a 2a28 5f66 756e 632c  lel_map**(_func,
+0002b2f0: 205c 2a69 7465 7261 626c 6573 5f2c 205f   \*iterables_, _
+0002b300: 6368 756e 6b73 697a 655f 3d60 3160 290a  chunksize_=`1`).
+0002b310: 0a45 7175 6976 616c 656e 7420 746f 2060  .Equivalent to `
+0002b320: 6d61 7028 6675 6e63 2c20 2a69 7465 7261  map(func, *itera
+0002b330: 626c 6573 2960 2065 7863 6570 7420 5f66  bles)` except _f
+0002b340: 756e 635f 2069 7320 6578 6563 7574 6564  unc_ is executed
+0002b350: 2061 7379 6e63 6872 6f6e 6f75 736c 7920   asynchronously 
+0002b360: 616e 6420 7365 7665 7261 6c20 6361 6c6c  and several call
+0002b370: 7320 746f 205f 6675 6e63 5f20 6d61 7920  s to _func_ may 
+0002b380: 6265 206d 6164 6520 636f 6e63 7572 7265  be made concurre
+0002b390: 6e74 6c79 2e20 4966 2061 2063 616c 6c20  ntly. If a call 
+0002b3a0: 7261 6973 6573 2061 6e20 6578 6365 7074  raises an except
+0002b3b0: 696f 6e2c 2074 6865 6e20 7468 6174 2065  ion, then that e
+0002b3c0: 7863 6570 7469 6f6e 2077 696c 6c20 6265  xception will be
+0002b3d0: 2072 6169 7365 6420 7768 656e 2069 7473   raised when its
+0002b3e0: 2076 616c 7565 2069 7320 7265 7472 6965   value is retrie
+0002b3f0: 7665 6420 6672 6f6d 2074 6865 2069 7465  ved from the ite
+0002b400: 7261 746f 722e 0a0a 6070 6172 616c 6c65  rator...`paralle
+0002b410: 6c5f 6d61 7060 2063 686f 7073 2074 6865  l_map` chops the
+0002b420: 2069 7465 7261 626c 6520 696e 746f 2061   iterable into a
+0002b430: 206e 756d 6265 7220 6f66 2063 6875 6e6b   number of chunk
+0002b440: 7320 7768 6963 6820 6974 2073 7562 6d69  s which it submi
+0002b450: 7473 2074 6f20 7468 6520 7072 6f63 6573  ts to the proces
+0002b460: 7320 706f 6f6c 2061 7320 7365 7061 7261  s pool as separa
+0002b470: 7465 2074 6173 6b73 2e20 5468 6520 2861  te tasks. The (a
+0002b480: 7070 726f 7869 6d61 7465 2920 7369 7a65  pproximate) size
+0002b490: 206f 6620 7468 6573 6520 6368 756e 6b73   of these chunks
+0002b4a0: 2063 616e 2062 6520 7370 6563 6966 6965   can be specifie
+0002b4b0: 6420 6279 2073 6574 7469 6e67 205f 6368  d by setting _ch
+0002b4c0: 756e 6b73 697a 655f 2074 6f20 6120 706f  unksize_ to a po
+0002b4d0: 7369 7469 7665 2069 6e74 6567 6572 2e20  sitive integer. 
+0002b4e0: 466f 7220 7665 7279 206c 6f6e 6720 6974  For very long it
+0002b4f0: 6572 6162 6c65 7320 7573 696e 6720 6120  erables using a 
+0002b500: 6c61 7267 6520 7661 6c75 6520 666f 7220  large value for 
+0002b510: 5f63 6875 6e6b 7369 7a65 5f20 6361 6e20  _chunksize_ can 
+0002b520: 6d61 6b65 2074 6865 206a 6f62 2063 6f6d  make the job com
+0002b530: 706c 6574 6520 2a2a 6d75 6368 2a2a 2066  plete **much** f
+0002b540: 6173 7465 7220 7468 616e 2075 7369 6e67  aster than using
+0002b550: 2074 6865 2064 6566 6175 6c74 2076 616c   the default val
+0002b560: 7565 206f 6620 6031 602e 0a0a 2323 2323  ue of `1`...####
+0002b570: 2320 4578 616d 706c 650a 0a2a 2a43 6f63  # Example..**Coc
+0002b580: 6f6e 7574 3a2a 2a0a 6060 6063 6f63 6f6e  onut:**.```cocon
+0002b590: 7574 0a70 6172 616c 6c65 6c5f 6d61 7028  ut.parallel_map(
+0002b5a0: 706f 7724 2832 292c 2072 616e 6765 2831  pow$(2), range(1
+0002b5b0: 3030 2929 207c 3e20 6c69 7374 207c 3e20  00)) |> list |> 
+0002b5c0: 7072 696e 740a 6060 600a 0a2a 2a50 7974  print.```..**Pyt
+0002b5d0: 686f 6e3a 2a2a 0a60 6060 636f 636f 6e75  hon:**.```coconu
+0002b5e0: 745f 7079 7468 6f6e 0a69 6d70 6f72 7420  t_python.import 
+0002b5f0: 6675 6e63 746f 6f6c 730a 6672 6f6d 206d  functools.from m
+0002b600: 756c 7469 7072 6f63 6573 7369 6e67 2069  ultiprocessing i
+0002b610: 6d70 6f72 7420 506f 6f6c 0a77 6974 6820  mport Pool.with 
+0002b620: 506f 6f6c 2829 2061 7320 706f 6f6c 3a0a  Pool() as pool:.
+0002b630: 2020 2020 7072 696e 7428 6c69 7374 2870      print(list(p
+0002b640: 6f6f 6c2e 696d 6170 2866 756e 6374 6f6f  ool.imap(functoo
+0002b650: 6c73 2e70 6172 7469 616c 2870 6f77 2c20  ls.partial(pow, 
+0002b660: 3229 2c20 7261 6e67 6528 3130 3029 2929  2), range(100)))
+0002b670: 290a 6060 600a 0a23 2323 2320 6063 6f6e  ).```..#### `con
+0002b680: 6375 7272 656e 745f 6d61 7060 0a0a 2a2a  current_map`..**
+0002b690: 636f 6e63 7572 7265 6e74 5c5f 6d61 702a  concurrent\_map*
+0002b6a0: 2a28 5f66 756e 6374 696f 6e5f 2c20 2a5f  *(_function_, *_
+0002b6b0: 6974 6572 6162 6c65 735f 2c20 2a2c 205f  iterables_, *, _
+0002b6c0: 6368 756e 6b73 697a 655f 3d60 3160 2c20  chunksize_=`1`, 
+0002b6d0: 5f73 7472 6963 745f 3d60 4661 6c73 6560  _strict_=`False`
+0002b6e0: 290a 0a43 6f63 6f6e 7574 2070 726f 7669  )..Coconut provi
+0002b6f0: 6465 7320 6120 636f 6e63 7572 7265 6e74  des a concurrent
+0002b700: 2076 6572 7369 6f6e 206f 6620 5b60 7061   version of [`pa
+0002b710: 7261 6c6c 656c 5f6d 6170 605d 2823 7061  rallel_map`](#pa
+0002b720: 7261 6c6c 656c 5f6d 6170 2920 756e 6465  rallel_map) unde
+0002b730: 7220 7468 6520 6e61 6d65 2060 636f 6e63  r the name `conc
+0002b740: 7572 7265 6e74 5f6d 6170 602e 2060 636f  urrent_map`. `co
+0002b750: 6e63 7572 7265 6e74 5f6d 6170 6020 6265  ncurrent_map` be
+0002b760: 6861 7665 7320 6964 656e 7469 6361 6c6c  haves identicall
+0002b770: 7920 746f 2060 7061 7261 6c6c 656c 5f6d  y to `parallel_m
+0002b780: 6170 6020 2869 6e63 6c75 6469 6e67 2073  ap` (including s
+0002b790: 7570 706f 7274 2066 6f72 2060 636f 6e63  upport for `conc
+0002b7a0: 7572 7265 6e74 5f6d 6170 2e6d 756c 7469  urrent_map.multi
+0002b7b0: 706c 655f 7365 7175 656e 7469 616c 5f63  ple_sequential_c
+0002b7c0: 616c 6c73 6029 2065 7863 6570 7420 7468  alls`) except th
+0002b7d0: 6174 2069 7420 7573 6573 206d 756c 7469  at it uses multi
+0002b7e0: 7468 7265 6164 696e 6720 696e 7374 6561  threading instea
+0002b7f0: 6420 6f66 206d 756c 7469 7072 6f63 6573  d of multiproces
+0002b800: 7369 6e67 2c20 616e 6420 6973 2074 6865  sing, and is the
+0002b810: 7265 666f 7265 2070 7269 6d61 7269 6c79  refore primarily
+0002b820: 2075 7365 6675 6c20 6f6e 6c79 2066 6f72   useful only for
+0002b830: 2049 4f2d 626f 756e 6420 7461 736b 7320   IO-bound tasks 
+0002b840: 6475 6520 746f 2043 5079 7468 6f6e 2773  due to CPython's
+0002b850: 2047 6c6f 6261 6c20 496e 7465 7270 7265   Global Interpre
+0002b860: 7465 7220 4c6f 636b 2e0a 0a23 2323 2323  ter Lock...#####
+0002b870: 2050 7974 686f 6e20 446f 6373 0a0a 2a2a   Python Docs..**
+0002b880: 636f 6e63 7572 7265 6e74 5f6d 6170 2a2a  concurrent_map**
+0002b890: 285f 6675 6e63 2c20 5c2a 6974 6572 6162  (_func, \*iterab
+0002b8a0: 6c65 735f 2c20 5f63 6875 6e6b 7369 7a65  les_, _chunksize
+0002b8b0: 5f3d 6031 6029 0a0a 4571 7569 7661 6c65  _=`1`)..Equivale
+0002b8c0: 6e74 2074 6f20 606d 6170 2866 756e 632c  nt to `map(func,
+0002b8d0: 202a 6974 6572 6162 6c65 7329 6020 6578   *iterables)` ex
+0002b8e0: 6365 7074 205f 6675 6e63 5f20 6973 2065  cept _func_ is e
+0002b8f0: 7865 6375 7465 6420 6173 796e 6368 726f  xecuted asynchro
+0002b900: 6e6f 7573 6c79 2061 6e64 2073 6576 6572  nously and sever
+0002b910: 616c 2063 616c 6c73 2074 6f20 5f66 756e  al calls to _fun
+0002b920: 635f 206d 6179 2062 6520 6d61 6465 2063  c_ may be made c
+0002b930: 6f6e 6375 7272 656e 746c 792e 2049 6620  oncurrently. If 
+0002b940: 6120 6361 6c6c 2072 6169 7365 7320 616e  a call raises an
+0002b950: 2065 7863 6570 7469 6f6e 2c20 7468 656e   exception, then
+0002b960: 2074 6861 7420 6578 6365 7074 696f 6e20   that exception 
+0002b970: 7769 6c6c 2062 6520 7261 6973 6564 2077  will be raised w
+0002b980: 6865 6e20 6974 7320 7661 6c75 6520 6973  hen its value is
+0002b990: 2072 6574 7269 6576 6564 2066 726f 6d20   retrieved from 
+0002b9a0: 7468 6520 6974 6572 6174 6f72 2e0a 0a60  the iterator...`
+0002b9b0: 636f 6e63 7572 7265 6e74 5f6d 6170 6020  concurrent_map` 
+0002b9c0: 6368 6f70 7320 7468 6520 6974 6572 6162  chops the iterab
+0002b9d0: 6c65 2069 6e74 6f20 6120 6e75 6d62 6572  le into a number
+0002b9e0: 206f 6620 6368 756e 6b73 2077 6869 6368   of chunks which
+0002b9f0: 2069 7420 7375 626d 6974 7320 746f 2074   it submits to t
+0002ba00: 6865 2074 6872 6561 6420 706f 6f6c 2061  he thread pool a
+0002ba10: 7320 7365 7061 7261 7465 2074 6173 6b73  s separate tasks
+0002ba20: 2e20 5468 6520 2861 7070 726f 7869 6d61  . The (approxima
+0002ba30: 7465 2920 7369 7a65 206f 6620 7468 6573  te) size of thes
+0002ba40: 6520 6368 756e 6b73 2063 616e 2062 6520  e chunks can be 
+0002ba50: 7370 6563 6966 6965 6420 6279 2073 6574  specified by set
+0002ba60: 7469 6e67 205f 6368 756e 6b73 697a 655f  ting _chunksize_
+0002ba70: 2074 6f20 6120 706f 7369 7469 7665 2069   to a positive i
+0002ba80: 6e74 6567 6572 2e20 466f 7220 7665 7279  nteger. For very
+0002ba90: 206c 6f6e 6720 6974 6572 6162 6c65 7320   long iterables 
+0002baa0: 7573 696e 6720 6120 6c61 7267 6520 7661  using a large va
+0002bab0: 6c75 6520 666f 7220 5f63 6875 6e6b 7369  lue for _chunksi
+0002bac0: 7a65 5f20 6361 6e20 6d61 6b65 2074 6865  ze_ can make the
+0002bad0: 206a 6f62 2063 6f6d 706c 6574 6520 2a2a   job complete **
+0002bae0: 6d75 6368 2a2a 2066 6173 7465 7220 7468  much** faster th
+0002baf0: 616e 2075 7369 6e67 2074 6865 2064 6566  an using the def
+0002bb00: 6175 6c74 2076 616c 7565 206f 6620 6031  ault value of `1
+0002bb10: 602e 0a0a 2323 2323 2320 4578 616d 706c  `...##### Exampl
+0002bb20: 650a 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0a  e..**Coconut:**.
+0002bb30: 6060 6063 6f63 6f6e 7574 0a63 6f6e 6375  ```coconut.concu
+0002bb40: 7272 656e 745f 6d61 7028 6765 745f 6461  rrent_map(get_da
+0002bb50: 7461 5f66 6f72 5f75 7365 722c 2067 6574  ta_for_user, get
+0002bb60: 5f61 6c6c 5f75 7365 7273 2829 2920 7c3e  _all_users()) |>
+0002bb70: 206c 6973 7420 7c3e 2070 7269 6e74 0a60   list |> print.`
+0002bb80: 6060 0a0a 2a2a 5079 7468 6f6e 3a2a 2a0a  ``..**Python:**.
+0002bb90: 6060 6063 6f63 6f6e 7574 5f70 7974 686f  ```coconut_pytho
+0002bba0: 6e0a 696d 706f 7274 2066 756e 6374 6f6f  n.import functoo
+0002bbb0: 6c73 0a69 6d70 6f72 7420 636f 6e63 7572  ls.import concur
+0002bbc0: 7265 6e74 2e66 7574 7572 6573 0a77 6974  rent.futures.wit
+0002bbd0: 6820 636f 6e63 7572 7265 6e74 2e66 7574  h concurrent.fut
+0002bbe0: 7572 6573 2e54 6872 6561 6450 6f6f 6c45  ures.ThreadPoolE
+0002bbf0: 7865 6375 746f 7228 2920 6173 2065 7865  xecutor() as exe
+0002bc00: 6375 746f 723a 0a20 2020 2070 7269 6e74  cutor:.    print
+0002bc10: 286c 6973 7428 6578 6563 7574 6f72 2e6d  (list(executor.m
+0002bc20: 6170 2867 6574 5f64 6174 615f 666f 725f  ap(get_data_for_
+0002bc30: 7573 6572 2c20 6765 745f 616c 6c5f 7573  user, get_all_us
+0002bc40: 6572 7328 2929 2929 0a60 6060 0a0a 2323  ers()))).```..##
+0002bc50: 2323 2060 7465 6560 0a0a 2a2a 7465 652a  ## `tee`..**tee*
+0002bc60: 2a28 5f69 7465 7261 626c 655f 2c20 5f6e  *(_iterable_, _n
+0002bc70: 5f3d 6032 6029 0a0a 436f 636f 6e75 7420  _=`2`)..Coconut 
+0002bc80: 7072 6f76 6964 6573 2061 6e20 6f70 7469  provides an opti
+0002bc90: 6d69 7a65 6420 7665 7273 696f 6e20 6f66  mized version of
+0002bca0: 2060 6974 6572 746f 6f6c 732e 7465 6560   `itertools.tee`
+0002bcb0: 2061 7320 6120 6275 696c 742d 696e 2075   as a built-in u
+0002bcc0: 6e64 6572 2074 6865 206e 616d 6520 6074  nder the name `t
+0002bcd0: 6565 602e 0a0a 5468 6f75 6768 2060 7465  ee`...Though `te
+0002bce0: 6560 2069 7320 6e6f 7420 6465 7072 6563  e` is not deprec
+0002bcf0: 6174 6564 2c20 5b60 7265 6974 6572 6162  ated, [`reiterab
+0002bd00: 6c65 605d 2823 7265 6974 6572 6162 6c65  le`](#reiterable
+0002bd10: 2920 6973 2067 656e 6572 616c 6c79 2072  ) is generally r
+0002bd20: 6563 6f6d 6d65 6e64 6564 206f 7665 7220  ecommended over 
+0002bd30: 6074 6565 602e 0a0a 4375 7374 6f6d 2060  `tee`...Custom `
+0002bd40: 7465 6560 2f60 7265 6974 6572 6162 6c65  tee`/`reiterable
+0002bd50: 6020 696d 706c 656d 656e 7461 7469 6f6e  ` implementation
+0002bd60: 7320 666f 7220 6375 7374 6f6d 205b 436f  s for custom [Co
+0002bd70: 6e74 6169 6e65 7273 2f43 6f6c 6c65 6374  ntainers/Collect
+0002bd80: 696f 6e73 5d28 6874 7470 733a 2f2f 646f  ions](https://do
+0002bd90: 6373 2e70 7974 686f 6e2e 6f72 672f 332f  cs.python.org/3/
+0002bda0: 6c69 6272 6172 792f 636f 6c6c 6563 7469  library/collecti
+0002bdb0: 6f6e 732e 6162 632e 6874 6d6c 2920 7368  ons.abc.html) sh
+0002bdc0: 6f75 6c64 2062 6520 7075 7420 696e 2074  ould be put in t
+0002bdd0: 6865 2060 5f5f 636f 7079 5f5f 6020 6d65  he `__copy__` me
+0002bde0: 7468 6f64 2e20 4e6f 7465 2074 6861 7420  thod. Note that 
+0002bdf0: 616c 6c20 5b53 6571 7565 6e63 6573 2f4d  all [Sequences/M
+0002be00: 6170 7069 6e67 732f 5365 7473 5d28 6874  appings/Sets](ht
+0002be10: 7470 733a 2f2f 646f 6373 2e70 7974 686f  tps://docs.pytho
+0002be20: 6e2e 6f72 672f 332f 6c69 6272 6172 792f  n.org/3/library/
+0002be30: 636f 6c6c 6563 7469 6f6e 732e 6162 632e  collections.abc.
+0002be40: 6874 6d6c 2920 6172 6520 616c 7761 7973  html) are always
+0002be50: 2061 7373 756d 6564 2074 6f20 6265 2072   assumed to be r
+0002be60: 6569 7465 7261 626c 6520 6576 656e 2077  eiterable even w
+0002be70: 6974 686f 7574 2063 616c 6c69 6e67 2060  ithout calling `
+0002be80: 5f5f 636f 7079 5f5f 602e 0a0a 2323 2323  __copy__`...####
+0002be90: 2320 5079 7468 6f6e 2044 6f63 730a 0a2a  # Python Docs..*
+0002bea0: 2a74 6565 2a2a 285f 6974 6572 6162 6c65  *tee**(_iterable
+0002beb0: 2c20 6e3d 325f 290a 0a52 6574 7572 6e20  , n=2_)..Return 
+0002bec0: 5f6e 5f20 696e 6465 7065 6e64 656e 7420  _n_ independent 
+0002bed0: 6974 6572 6174 6f72 7320 6672 6f6d 2061  iterators from a
+0002bee0: 2073 696e 676c 6520 6974 6572 6162 6c65   single iterable
+0002bef0: 2e20 4571 7569 7661 6c65 6e74 2074 6f3a  . Equivalent to:
+0002bf00: 0a60 6060 636f 636f 6e75 745f 7079 7468  .```coconut_pyth
+0002bf10: 6f6e 0a64 6566 2074 6565 2869 7465 7261  on.def tee(itera
+0002bf20: 626c 652c 206e 3d32 293a 0a20 2020 2069  ble, n=2):.    i
+0002bf30: 7420 3d20 6974 6572 2869 7465 7261 626c  t = iter(iterabl
+0002bf40: 6529 0a20 2020 2064 6571 7565 7320 3d20  e).    deques = 
+0002bf50: 5b63 6f6c 6c65 6374 696f 6e73 2e64 6571  [collections.deq
+0002bf60: 7565 2829 2066 6f72 2069 2069 6e20 7261  ue() for i in ra
+0002bf70: 6e67 6528 6e29 5d0a 2020 2020 6465 6620  nge(n)].    def 
+0002bf80: 6765 6e28 6d79 6465 7175 6529 3a0a 2020  gen(mydeque):.  
+0002bf90: 2020 2020 2020 7768 696c 6520 5472 7565        while True
+0002bfa0: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
+0002bfb0: 206e 6f74 206d 7964 6571 7565 3a20 2020   not mydeque:   
+0002bfc0: 2020 2020 2020 2020 2020 2320 7768 656e            # when
+0002bfd0: 2074 6865 206c 6f63 616c 2064 6571 7565   the local deque
+0002bfe0: 2069 7320 656d 7074 790a 2020 2020 2020   is empty.      
+0002bff0: 2020 2020 2020 2020 2020 6e65 7776 616c            newval
+0002c000: 203d 206e 6578 7428 6974 2920 2020 2020   = next(it)     
+0002c010: 2020 2320 6665 7463 6820 6120 6e65 7720    # fetch a new 
+0002c020: 7661 6c75 6520 616e 640a 2020 2020 2020  value and.      
+0002c030: 2020 2020 2020 2020 2020 666f 7220 6420            for d 
+0002c040: 696e 2064 6571 7565 733a 2020 2020 2020  in deques:      
+0002c050: 2020 2320 6c6f 6164 2069 7420 746f 2061    # load it to a
+0002c060: 6c6c 2074 6865 2064 6571 7565 730a 2020  ll the deques.  
+0002c070: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002c080: 2020 642e 6170 7065 6e64 286e 6577 7661    d.append(newva
+0002c090: 6c29 0a20 2020 2020 2020 2020 2020 2079  l).            y
+0002c0a0: 6965 6c64 206d 7964 6571 7565 2e70 6f70  ield mydeque.pop
+0002c0b0: 6c65 6674 2829 0a20 2020 2072 6574 7572  left().    retur
+0002c0c0: 6e20 7475 706c 6528 6765 6e28 6429 2066  n tuple(gen(d) f
+0002c0d0: 6f72 2064 2069 6e20 6465 7175 6573 290a  or d in deques).
+0002c0e0: 6060 600a 4f6e 6365 2060 7465 6528 2960  ```.Once `tee()`
+0002c0f0: 2068 6173 206d 6164 6520 6120 7370 6c69   has made a spli
+0002c100: 742c 2074 6865 206f 7269 6769 6e61 6c20  t, the original 
+0002c110: 5f69 7465 7261 626c 655f 2073 686f 756c  _iterable_ shoul
+0002c120: 6420 6e6f 7420 6265 2075 7365 6420 616e  d not be used an
+0002c130: 7977 6865 7265 2065 6c73 653b 206f 7468  ywhere else; oth
+0002c140: 6572 7769 7365 2c20 7468 6520 5f69 7465  erwise, the _ite
+0002c150: 7261 626c 655f 2063 6f75 6c64 2067 6574  rable_ could get
+0002c160: 2061 6476 616e 6365 6420 7769 7468 6f75   advanced withou
+0002c170: 7420 7468 6520 7465 6520 6f62 6a65 6374  t the tee object
+0002c180: 7320 6265 696e 6720 696e 666f 726d 6564  s being informed
+0002c190: 2e0a 0a54 6869 7320 6974 6572 746f 6f6c  ...This itertool
+0002c1a0: 206d 6179 2072 6571 7569 7265 2073 6967   may require sig
+0002c1b0: 6e69 6669 6361 6e74 2061 7578 696c 6961  nificant auxilia
+0002c1c0: 7279 2073 746f 7261 6765 2028 6465 7065  ry storage (depe
+0002c1d0: 6e64 696e 6720 6f6e 2068 6f77 206d 7563  nding on how muc
+0002c1e0: 6820 7465 6d70 6f72 6172 7920 6461 7461  h temporary data
+0002c1f0: 206e 6565 6473 2074 6f20 6265 2073 746f   needs to be sto
+0002c200: 7265 6429 2e20 496e 2067 656e 6572 616c  red). In general
+0002c210: 2c20 6966 206f 6e65 2069 7465 7261 746f  , if one iterato
+0002c220: 7220 7573 6573 206d 6f73 7420 6f72 2061  r uses most or a
+0002c230: 6c6c 206f 6620 7468 6520 6461 7461 2062  ll of the data b
+0002c240: 6566 6f72 6520 616e 6f74 6865 7220 6974  efore another it
+0002c250: 6572 6174 6f72 2073 7461 7274 732c 2069  erator starts, i
+0002c260: 7420 6973 2066 6173 7465 7220 746f 2075  t is faster to u
+0002c270: 7365 2060 6c69 7374 2829 6020 696e 7374  se `list()` inst
+0002c280: 6561 6420 6f66 2060 7465 6528 2960 2e0a  ead of `tee()`..
+0002c290: 0a23 2323 2323 2045 7861 6d70 6c65 0a0a  .##### Example..
+0002c2a0: 2a2a 436f 636f 6e75 743a 2a2a 0a60 6060  **Coconut:**.```
+0002c2b0: 636f 636f 6e75 740a 6f72 6967 696e 616c  coconut.original
+0002c2c0: 2c20 7465 6d70 203d 2074 6565 286f 7269  , temp = tee(ori
+0002c2d0: 6769 6e61 6c29 0a73 6c69 6365 6420 3d20  ginal).sliced = 
+0002c2e0: 7465 6d70 245b 353a 5d0a 6060 600a 0a2a  temp$[5:].```..*
+0002c2f0: 2a50 7974 686f 6e3a 2a2a 0a60 6060 636f  *Python:**.```co
+0002c300: 636f 6e75 745f 7079 7468 6f6e 0a69 6d70  conut_python.imp
+0002c310: 6f72 7420 6974 6572 746f 6f6c 730a 6f72  ort itertools.or
+0002c320: 6967 696e 616c 2c20 7465 6d70 203d 2069  iginal, temp = i
+0002c330: 7465 7274 6f6f 6c73 2e74 6565 286f 7269  tertools.tee(ori
+0002c340: 6769 6e61 6c29 0a73 6c69 6365 6420 3d20  ginal).sliced = 
+0002c350: 6974 6572 746f 6f6c 732e 6973 6c69 6365  itertools.islice
+0002c360: 2874 656d 702c 2035 2c20 4e6f 6e65 290a  (temp, 5, None).
+0002c370: 6060 600a 0a23 2323 2320 6063 6f6e 7375  ```..#### `consu
+0002c380: 6d65 600a 0a2a 2a63 6f6e 7375 6d65 2a2a  me`..**consume**
+0002c390: 285f 6974 6572 6162 6c65 5f2c 205f 6b65  (_iterable_, _ke
+0002c3a0: 6570 5c5f 6c61 7374 5f3d 6030 6029 0a0a  ep\_last_=`0`)..
+0002c3b0: 436f 636f 6e75 7420 7072 6f76 6964 6573  Coconut provides
+0002c3c0: 2074 6865 2060 636f 6e73 756d 6560 2066   the `consume` f
+0002c3d0: 756e 6374 696f 6e20 746f 2065 6666 6963  unction to effic
+0002c3e0: 6965 6e74 6c79 2065 7868 6175 7374 2061  iently exhaust a
+0002c3f0: 6e20 6974 6572 6174 6f72 2061 6e64 2074  n iterator and t
+0002c400: 6875 7320 7065 7266 6f72 6d20 616e 7920  hus perform any 
+0002c410: 6c61 7a79 2065 7661 6c75 6174 696f 6e20  lazy evaluation 
+0002c420: 636f 6e74 6169 6e65 6420 7769 7468 696e  contained within
+0002c430: 2069 742e 2060 636f 6e73 756d 6560 2074   it. `consume` t
+0002c440: 616b 6573 206f 6e65 206f 7074 696f 6e61  akes one optiona
+0002c450: 6c20 6172 6775 6d65 6e74 2c20 606b 6565  l argument, `kee
+0002c460: 705f 6c61 7374 602c 2074 6861 7420 6465  p_last`, that de
+0002c470: 6661 756c 7473 2074 6f20 3020 616e 6420  faults to 0 and 
+0002c480: 7370 6563 6966 6965 7320 686f 7720 6d61  specifies how ma
+0002c490: 6e79 2c20 6966 2061 6e79 2c20 6974 656d  ny, if any, item
+0002c4a0: 7320 6672 6f6d 2074 6865 2065 6e64 2074  s from the end t
+0002c4b0: 6f20 7265 7475 726e 2061 7320 6120 7365  o return as a se
+0002c4c0: 7175 656e 6365 2028 604e 6f6e 6560 2077  quence (`None` w
+0002c4d0: 696c 6c20 6b65 6570 2061 6c6c 2065 6c65  ill keep all ele
+0002c4e0: 6d65 6e74 7329 2e0a 0a45 7175 6976 616c  ments)...Equival
+0002c4f0: 656e 7420 746f 3a0a 6060 6063 6f63 6f6e  ent to:.```cocon
+0002c500: 7574 0a64 6566 2063 6f6e 7375 6d65 2869  ut.def consume(i
+0002c510: 7465 7261 626c 652c 206b 6565 705f 6c61  terable, keep_la
+0002c520: 7374 3d30 293a 0a20 2020 2022 2222 4675  st=0):.    """Fu
+0002c530: 6c6c 7920 6578 6861 7573 7420 6974 6572  lly exhaust iter
+0002c540: 6162 6c65 2061 6e64 2072 6574 7572 6e20  able and return 
+0002c550: 7468 6520 6c61 7374 206b 6565 705f 6c61  the last keep_la
+0002c560: 7374 2065 6c65 6d65 6e74 732e 2222 220a  st elements.""".
+0002c570: 2020 2020 7265 7475 726e 2063 6f6c 6c65      return colle
+0002c580: 6374 696f 6e73 2e64 6571 7565 2869 7465  ctions.deque(ite
+0002c590: 7261 626c 652c 206d 6178 6c65 6e3d 6b65  rable, maxlen=ke
+0002c5a0: 6570 5f6c 6173 7429 2020 2320 6661 7374  ep_last)  # fast
+0002c5b0: 6573 7420 7761 7920 746f 2065 7868 6175  est way to exhau
+0002c5c0: 7374 2061 6e20 6974 6572 6174 6f72 0a60  st an iterator.`
+0002c5d0: 6060 0a0a 2323 2323 2320 5261 7469 6f6e  ``..##### Ration
+0002c5e0: 616c 650a 0a49 6e20 7468 6520 7072 6f63  ale..In the proc
+0002c5f0: 6573 7320 6f66 206c 617a 696c 7920 6170  ess of lazily ap
+0002c600: 706c 7969 6e67 206f 7065 7261 7469 6f6e  plying operation
+0002c610: 7320 746f 2069 7465 7261 746f 7273 2c20  s to iterators, 
+0002c620: 6576 656e 7475 616c 6c79 2061 2070 6f69  eventually a poi
+0002c630: 6e74 2069 7320 7265 6163 6865 6420 7768  nt is reached wh
+0002c640: 6572 6520 6576 616c 7561 7469 6f6e 206f  ere evaluation o
+0002c650: 6620 7468 6520 6974 6572 6174 6f72 2069  f the iterator i
+0002c660: 7320 6e65 6365 7373 6172 792e 2054 6f20  s necessary. To 
+0002c670: 646f 2074 6869 7320 6566 6669 6369 656e  do this efficien
+0002c680: 746c 792c 2043 6f63 6f6e 7574 2070 726f  tly, Coconut pro
+0002c690: 7669 6465 7320 7468 6520 6063 6f6e 7375  vides the `consu
+0002c6a0: 6d65 6020 6675 6e63 7469 6f6e 2c20 7768  me` function, wh
+0002c6b0: 6963 6820 7769 6c6c 2066 756c 6c79 2065  ich will fully e
+0002c6c0: 7868 6175 7374 2074 6865 2069 7465 7261  xhaust the itera
+0002c6d0: 746f 7220 6769 7665 6e20 746f 2069 742e  tor given to it.
+0002c6e0: 0a0a 2323 2323 2320 4578 616d 706c 650a  ..##### Example.
+0002c6f0: 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0a 6060  .**Coconut:**.``
+0002c700: 6063 6f63 6f6e 7574 0a72 616e 6765 2831  `coconut.range(1
+0002c710: 3029 207c 3e20 6d61 7024 2828 7829 202d  0) |> map$((x) -
+0002c720: 3e20 782a 2a32 2920 7c3e 206d 6170 2428  > x**2) |> map$(
+0002c730: 7072 696e 7429 207c 3e20 636f 6e73 756d  print) |> consum
+0002c740: 650a 6060 600a 0a2a 2a50 7974 686f 6e3a  e.```..**Python:
+0002c750: 2a2a 0a60 6060 636f 636f 6e75 745f 7079  **.```coconut_py
+0002c760: 7468 6f6e 0a63 6f6c 6c65 6374 696f 6e73  thon.collections
+0002c770: 2e64 6571 7565 286d 6170 2870 7269 6e74  .deque(map(print
+0002c780: 2c20 6d61 7028 6c61 6d62 6461 2078 3a20  , map(lambda x: 
+0002c790: 782a 2a32 2c20 7261 6e67 6528 3130 2929  x**2, range(10))
+0002c7a0: 292c 206d 6178 6c65 6e3d 3029 0a60 6060  ), maxlen=0).```
+0002c7b0: 0a0a 2323 2320 5479 7069 6e67 2d53 7065  ..### Typing-Spe
+0002c7c0: 6369 6669 6320 4275 696c 742d 496e 730a  cific Built-Ins.
+0002c7d0: 0a60 6060 7b63 6f6e 7465 6e74 737d 0a2d  .```{contents}.-
+0002c7e0: 2d2d 0a6c 6f63 616c 3a0a 6465 7074 683a  --.local:.depth:
+0002c7f0: 2031 0a2d 2d2d 0a60 6060 0a0a 2323 2323   1.---.```..####
+0002c800: 2060 5459 5045 5f43 4845 434b 494e 4760   `TYPE_CHECKING`
+0002c810: 0a0a 5468 6520 6054 5950 455f 4348 4543  ..The `TYPE_CHEC
+0002c820: 4b49 4e47 6020 7661 7269 6162 6c65 2069  KING` variable i
+0002c830: 7320 7365 7420 746f 2060 4661 6c73 6560  s set to `False`
+0002c840: 2061 7420 7275 6e74 696d 6520 616e 6420   at runtime and 
+0002c850: 6054 7275 6560 2064 7572 696e 6720 7479  `True` during ty
+0002c860: 7065 5f63 6865 636b 696e 672c 2061 6c6c  pe_checking, all
+0002c870: 6f77 696e 6720 796f 7520 746f 2070 7265  owing you to pre
+0002c880: 7665 6e74 2079 6f75 7220 6074 7970 696e  vent your `typin
+0002c890: 6760 2069 6d70 6f72 7473 2061 6e64 2060  g` imports and `
+0002c8a0: 5479 7065 5661 7260 2064 6566 696e 6974  TypeVar` definit
+0002c8b0: 696f 6e73 2066 726f 6d20 6265 696e 6720  ions from being 
+0002c8c0: 6578 6563 7574 6564 2061 7420 7275 6e74  executed at runt
+0002c8d0: 696d 652e 2042 7920 7772 6170 7069 6e67  ime. By wrapping
+0002c8e0: 2079 6f75 7220 6074 7970 696e 6760 2069   your `typing` i
+0002c8f0: 6d70 6f72 7473 2069 6e20 616e 2060 6966  mports in an `if
+0002c900: 2054 5950 455f 4348 4543 4b49 4e47 3a60   TYPE_CHECKING:`
+0002c910: 2062 6c6f 636b 2c20 796f 7520 6361 6e20   block, you can 
+0002c920: 6576 656e 2075 7365 2074 6865 205b 6074  even use the [`t
+0002c930: 7970 696e 6760 5d28 6874 7470 733a 2f2f  yping`](https://
+0002c940: 646f 6373 2e70 7974 686f 6e2e 6f72 672f  docs.python.org/
+0002c950: 332f 6c69 6272 6172 792f 7479 7069 6e67  3/library/typing
+0002c960: 2e68 746d 6c29 206d 6f64 756c 6520 6f6e  .html) module on
+0002c970: 2050 7974 686f 6e20 7665 7273 696f 6e73   Python versions
+0002c980: 2074 6861 7420 646f 6e27 7420 6e61 7469   that don't nati
+0002c990: 7665 6c79 2073 7570 706f 7274 2069 742e  vely support it.
+0002c9a0: 2046 7572 7468 6572 6d6f 7265 2c20 6054   Furthermore, `T
+0002c9b0: 5950 455f 4348 4543 4b49 4e47 6020 6361  YPE_CHECKING` ca
+0002c9c0: 6e20 616c 736f 2062 6520 7573 6564 2074  n also be used t
+0002c9d0: 6f20 6869 6465 2063 6f64 6520 7468 6174  o hide code that
+0002c9e0: 2069 7320 6d69 7374 7970 6564 2062 7920   is mistyped by 
+0002c9f0: 6465 6661 756c 742e 0a0a 2323 2323 2320  default...##### 
+0002ca00: 5079 7468 6f6e 2044 6f63 730a 0a41 2073  Python Docs..A s
+0002ca10: 7065 6369 616c 2063 6f6e 7374 616e 7420  pecial constant 
+0002ca20: 7468 6174 2069 7320 6173 7375 6d65 6420  that is assumed 
+0002ca30: 746f 2062 6520 6054 7275 6560 2062 7920  to be `True` by 
+0002ca40: 3372 6420 7061 7274 7920 7374 6174 6963  3rd party static
+0002ca50: 2074 7970 6520 6368 6563 6b65 7273 2e20   type checkers. 
+0002ca60: 4974 2069 7320 6046 616c 7365 6020 6174  It is `False` at
+0002ca70: 2072 756e 7469 6d65 2e20 5573 6167 653a   runtime. Usage:
+0002ca80: 0a60 6060 636f 636f 6e75 745f 7079 7468  .```coconut_pyth
+0002ca90: 6f6e 0a69 6620 5459 5045 5f43 4845 434b  on.if TYPE_CHECK
+0002caa0: 494e 473a 0a20 2020 2069 6d70 6f72 7420  ING:.    import 
+0002cab0: 6578 7065 6e73 6976 655f 6d6f 640a 0a64  expensive_mod..d
+0002cac0: 6566 2066 756e 2861 7267 3a20 6578 7065  ef fun(arg: expe
+0002cad0: 6e73 6976 655f 6d6f 642e 536f 6d65 5479  nsive_mod.SomeTy
+0002cae0: 7065 2920 2d3e 204e 6f6e 653a 0a20 2020  pe) -> None:.   
+0002caf0: 206c 6f63 616c 5f76 6172 3a20 6578 7065   local_var: expe
+0002cb00: 6e73 6976 655f 6d6f 642e 416e 6f74 6865  nsive_mod.Anothe
+0002cb10: 7254 7970 6520 3d20 6f74 6865 725f 6675  rType = other_fu
+0002cb20: 6e28 290a 6060 600a 0a23 2323 2323 2045  n().```..##### E
+0002cb30: 7861 6d70 6c65 730a 0a2a 2a43 6f63 6f6e  xamples..**Cocon
+0002cb40: 7574 3a2a 2a0a 6060 6063 6f63 6f6e 7574  ut:**.```coconut
+0002cb50: 0a69 6620 5459 5045 5f43 4845 434b 494e  .if TYPE_CHECKIN
+0002cb60: 473a 0a20 2020 2066 726f 6d20 7479 7069  G:.    from typi
+0002cb70: 6e67 2069 6d70 6f72 7420 4c69 7374 0a78  ng import List.x
+0002cb80: 3a20 4c69 7374 5b73 7472 5d20 3d20 5b22  : List[str] = ["
+0002cb90: 6122 2c20 2262 225d 0a60 6060 0a0a 6060  a", "b"].```..``
+0002cba0: 6063 6f63 6f6e 7574 0a69 6620 5459 5045  `coconut.if TYPE
+0002cbb0: 5f43 4845 434b 494e 473a 0a20 2020 2064  _CHECKING:.    d
+0002cbc0: 6566 2066 6163 746f 7269 616c 286e 3a20  ef factorial(n: 
+0002cbd0: 696e 7429 202d 3e20 696e 743a 202e 2e2e  int) -> int: ...
+0002cbe0: 0a65 6c73 653a 0a20 2020 2064 6566 2066  .else:.    def f
+0002cbf0: 6163 746f 7269 616c 2830 2920 3d20 310a  actorial(0) = 1.
+0002cc00: 2020 2020 6164 6470 6174 7465 726e 2064      addpattern d
+0002cc10: 6566 2066 6163 746f 7269 616c 286e 2920  ef factorial(n) 
+0002cc20: 3d20 6e20 2a20 6661 6374 6f72 6961 6c28  = n * factorial(
+0002cc30: 6e2d 3129 0a60 6060 0a0a 2a2a 5079 7468  n-1).```..**Pyth
+0002cc40: 6f6e 3a2a 2a0a 6060 6063 6f63 6f6e 7574  on:**.```coconut
+0002cc50: 5f70 7974 686f 6e0a 7472 793a 0a20 2020  _python.try:.   
+0002cc60: 2066 726f 6d20 7479 7069 6e67 2069 6d70   from typing imp
+0002cc70: 6f72 7420 5459 5045 5f43 4845 434b 494e  ort TYPE_CHECKIN
+0002cc80: 470a 6578 6365 7074 2049 6d70 6f72 7445  G.except ImportE
+0002cc90: 7272 6f72 3a0a 2020 2020 5459 5045 5f43  rror:.    TYPE_C
+0002cca0: 4845 434b 494e 4720 3d20 4661 6c73 650a  HECKING = False.
+0002ccb0: 0a69 6620 5459 5045 5f43 4845 434b 494e  .if TYPE_CHECKIN
+0002ccc0: 473a 0a20 2020 2066 726f 6d20 7479 7069  G:.    from typi
+0002ccd0: 6e67 2069 6d70 6f72 7420 4c69 7374 0a78  ng import List.x
+0002cce0: 3a20 4c69 7374 5b73 7472 5d20 3d20 5b22  : List[str] = ["
+0002ccf0: 6122 2c20 2262 225d 0a60 6060 0a0a 6060  a", "b"].```..``
+0002cd00: 6063 6f63 6f6e 7574 5f70 7974 686f 6e0a  `coconut_python.
+0002cd10: 7472 793a 0a20 2020 2066 726f 6d20 7479  try:.    from ty
+0002cd20: 7069 6e67 2069 6d70 6f72 7420 5459 5045  ping import TYPE
+0002cd30: 5f43 4845 434b 494e 470a 6578 6365 7074  _CHECKING.except
+0002cd40: 2049 6d70 6f72 7445 7272 6f72 3a0a 2020   ImportError:.  
+0002cd50: 2020 5459 5045 5f43 4845 434b 494e 4720    TYPE_CHECKING 
+0002cd60: 3d20 4661 6c73 650a 0a69 6620 5459 5045  = False..if TYPE
+0002cd70: 5f43 4845 434b 494e 473a 0a20 2020 2064  _CHECKING:.    d
+0002cd80: 6566 2066 6163 746f 7269 616c 286e 3a20  ef factorial(n: 
+0002cd90: 696e 7429 202d 3e20 696e 743a 202e 2e2e  int) -> int: ...
+0002cda0: 0a65 6c73 653a 0a20 2020 2064 6566 2066  .else:.    def f
+0002cdb0: 6163 746f 7269 616c 286e 293a 0a20 2020  actorial(n):.   
+0002cdc0: 2020 2020 2069 6620 6e20 3d3d 2030 3a0a       if n == 0:.
+0002cdd0: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+0002cde0: 726e 2031 0a20 2020 2020 2020 2065 6c73  rn 1.        els
+0002cdf0: 653a 0a20 2020 2020 2020 2020 2020 2072  e:.            r
+0002ce00: 6574 7572 6e20 6e20 2a20 6661 6374 6f72  eturn n * factor
+0002ce10: 6961 6c28 6e2d 3129 0a60 6060 0a0a 2323  ial(n-1).```..##
+0002ce20: 2323 2060 7265 7665 616c 5f74 7970 6560  ## `reveal_type`
+0002ce30: 2061 6e64 2060 7265 7665 616c 5f6c 6f63   and `reveal_loc
+0002ce40: 616c 7360 0a0a 5768 656e 2075 7369 6e67  als`..When using
+0002ce50: 204d 7950 792c 2060 7265 7665 616c 5f74   MyPy, `reveal_t
+0002ce60: 7970 6528 3c65 7870 723e 2960 2077 696c  ype(<expr>)` wil
+0002ce70: 6c20 6361 7573 6520 4d79 5079 2074 6f20  l cause MyPy to 
+0002ce80: 7072 696e 7420 7468 6520 7479 7065 206f  print the type o
+0002ce90: 6620 603c 6578 7072 3e60 2061 6e64 2060  f `<expr>` and `
+0002cea0: 7265 7665 616c 5f6c 6f63 616c 7328 2960  reveal_locals()`
+0002ceb0: 2077 696c 6c20 6361 7573 6520 4d79 5079   will cause MyPy
+0002cec0: 2074 6f20 7072 696e 7420 7468 6520 7479   to print the ty
+0002ced0: 7065 7320 6f66 2074 6865 2063 7572 7265  pes of the curre
+0002cee0: 6e74 2060 6c6f 6361 6c73 2829 602e 2041  nt `locals()`. A
+0002cef0: 7420 7275 6e74 696d 652c 2060 7265 7665  t runtime, `reve
+0002cf00: 616c 5f74 7970 6528 7829 6020 6973 2061  al_type(x)` is a
+0002cf10: 6c77 6179 7320 7468 6520 6964 656e 7469  lways the identi
+0002cf20: 7479 2066 756e 6374 696f 6e20 616e 6420  ty function and 
+0002cf30: 6072 6576 6561 6c5f 6c6f 6361 6c73 2829  `reveal_locals()
+0002cf40: 6020 616c 7761 7973 2072 6574 7572 6e73  ` always returns
+0002cf50: 2060 4e6f 6e65 602e 2053 6565 205b 7468   `None`. See [th
+0002cf60: 6520 4d79 5079 2064 6f63 756d 656e 7461  e MyPy documenta
+0002cf70: 7469 6f6e 5d28 6874 7470 733a 2f2f 6d79  tion](https://my
+0002cf80: 7079 2e72 6561 6474 6865 646f 6373 2e69  py.readthedocs.i
+0002cf90: 6f2f 656e 2f73 7461 626c 652f 636f 6d6d  o/en/stable/comm
+0002cfa0: 6f6e 5f69 7373 7565 732e 6874 6d6c 2372  on_issues.html#r
+0002cfb0: 6576 6561 6c2d 7479 7065 2920 666f 7220  eveal-type) for 
+0002cfc0: 6d6f 7265 2069 6e66 6f72 6d61 7469 6f6e  more information
+0002cfd0: 2e0a 0a23 2323 2323 2045 7861 6d70 6c65  ...##### Example
+0002cfe0: 0a0a 2a2a 436f 636f 6e75 743a 2a2a 0a60  ..**Coconut:**.`
+0002cff0: 6060 636f 636f 6e75 745f 7079 636f 6e0a  ``coconut_pycon.
+0002d000: 3e20 636f 636f 6e75 7420 2d2d 6d79 7079  > coconut --mypy
+0002d010: 0a43 6f63 6f6e 7574 2049 6e74 6572 7072  .Coconut Interpr
+0002d020: 6574 6572 2076 582e 582e 583a 0a28 656e  eter vX.X.X:.(en
+0002d030: 7465 7220 2765 7869 7428 2927 206f 7220  ter 'exit()' or 
+0002d040: 7072 6573 7320 4374 726c 2d44 2074 6f20  press Ctrl-D to 
+0002d050: 656e 6429 0a3e 3e3e 2072 6576 6561 6c5f  end).>>> reveal_
+0002d060: 7479 7065 2866 6d61 7029 0a3c 6675 6e63  type(fmap).<func
+0002d070: 7469 6f6e 2066 6d61 7020 6174 2030 7830  tion fmap at 0x0
+0002d080: 3030 3030 3233 3942 3036 4532 3034 303e  0000239B06E2040>
+0002d090: 0a3c 7374 7269 6e67 3e3a 3137 3a20 6e6f  .<string>:17: no
+0002d0a0: 7465 3a20 5265 7665 616c 6564 2074 7970  te: Revealed typ
+0002d0b0: 6520 6973 2027 6465 6620 5b5f 542c 205f  e is 'def [_T, _
+0002d0c0: 555d 2028 6675 6e63 3a20 6465 6620 285f  U] (func: def (_
+0002d0d0: 5460 2d31 2920 2d3e 205f 5560 2d32 2c20  T`-1) -> _U`-2, 
+0002d0e0: 6f62 6a3a 2074 7970 696e 672e 4974 6572  obj: typing.Iter
+0002d0f0: 6162 6c65 5b5f 5460 2d31 5d29 202d 3e20  able[_T`-1]) -> 
+0002d100: 7479 7069 6e67 2e49 7465 7261 626c 655b  typing.Iterable[
+0002d110: 5f55 602d 325d 270a 3e3e 3e0a 6060 600a  _U`-2]'.>>>.```.
+0002d120: 0a2a 2a50 7974 686f 6e2a 2a0a 6060 6063  .**Python**.```c
+0002d130: 6f63 6f6e 7574 5f70 7974 686f 6e0a 7472  oconut_python.tr
+0002d140: 793a 0a20 2020 2066 726f 6d20 7479 7069  y:.    from typi
+0002d150: 6e67 2069 6d70 6f72 7420 5459 5045 5f43  ng import TYPE_C
+0002d160: 4845 434b 494e 470a 6578 6365 7074 2049  HECKING.except I
+0002d170: 6d70 6f72 7445 7272 6f72 3a0a 2020 2020  mportError:.    
+0002d180: 5459 5045 5f43 4845 434b 494e 4720 3d20  TYPE_CHECKING = 
+0002d190: 4661 6c73 650a 0a69 6620 6e6f 7420 5459  False..if not TY
+0002d1a0: 5045 5f43 4845 434b 494e 473a 0a20 2020  PE_CHECKING:.   
+0002d1b0: 2064 6566 2072 6576 6561 6c5f 7479 7065   def reveal_type
+0002d1c0: 2878 293a 0a20 2020 2020 2020 2072 6574  (x):.        ret
+0002d1d0: 7572 6e20 780a 0a66 726f 6d20 636f 636f  urn x..from coco
+0002d1e0: 6e75 742e 5f5f 636f 636f 6e75 745f 5f20  nut.__coconut__ 
+0002d1f0: 696d 706f 7274 2066 6d61 700a 7265 7665  import fmap.reve
+0002d200: 616c 5f74 7970 6528 666d 6170 290a 6060  al_type(fmap).``
+0002d210: 600a 0a23 2320 436f 636f 6e75 7420 4150  `..## Coconut AP
+0002d220: 490a 0a60 6060 7b63 6f6e 7465 6e74 737d  I..```{contents}
+0002d230: 0a2d 2d2d 0a6c 6f63 616c 3a0a 6465 7074  .---.local:.dept
+0002d240: 683a 2032 0a2d 2d2d 0a60 6060 0a0a 2323  h: 2.---.```..##
+0002d250: 2320 6063 6f63 6f6e 7574 2e65 6d62 6564  # `coconut.embed
+0002d260: 600a 0a2a 2a63 6f63 6f6e 7574 2e65 6d62  `..**coconut.emb
+0002d270: 6564 2a2a 285f 6b65 726e 656c 5f3d 604e  ed**(_kernel_=`N
+0002d280: 6f6e 6560 2c20 5f64 6570 7468 5f3d 6030  one`, _depth_=`0
+0002d290: 602c 205c 2a5c 2a5f 6b77 6172 6773 5f29  `, \*\*_kwargs_)
+0002d2a0: 0a0a 4966 205f 6b65 726e 656c 5f3d 6046  ..If _kernel_=`F
+0002d2b0: 616c 7365 6020 2864 6566 6175 6c74 292c  alse` (default),
+0002d2c0: 2065 6d62 6564 7320 6120 436f 636f 6e75   embeds a Coconu
+0002d2d0: 7420 4a75 7079 7465 7220 636f 6e73 6f6c  t Jupyter consol
+0002d2e0: 6520 696e 6974 6961 6c69 7a65 6420 6672  e initialized fr
+0002d2f0: 6f6d 2074 6865 2063 7572 7265 6e74 206c  om the current l
+0002d300: 6f63 616c 206e 616d 6573 7061 6365 2e20  ocal namespace. 
+0002d310: 4966 205f 6b65 726e 656c 5f3d 6054 7275  If _kernel_=`Tru
+0002d320: 6560 2c20 6c61 756e 6368 6573 2061 2043  e`, launches a C
+0002d330: 6f63 6f6e 7574 204a 7570 7974 6572 206b  oconut Jupyter k
+0002d340: 6572 6e65 6c20 696e 6974 6961 6c69 7a65  ernel initialize
+0002d350: 6420 6672 6f6d 2074 6865 206c 6f63 616c  d from the local
+0002d360: 206e 616d 6573 7061 6365 2074 6861 7420   namespace that 
+0002d370: 6361 6e20 7468 656e 2062 6520 6174 7461  can then be atta
+0002d380: 6368 6564 2074 6f2e 2054 6865 205f 6465  ched to. The _de
+0002d390: 7074 685f 2069 6e64 6963 6174 6573 2068  pth_ indicates h
+0002d3a0: 6f77 206d 616e 7920 6164 6469 7469 6f6e  ow many addition
+0002d3b0: 616c 2063 616c 6c20 6672 616d 6573 2074  al call frames t
+0002d3c0: 6f20 6967 6e6f 7265 2e20 5f6b 7761 7267  o ignore. _kwarg
+0002d3d0: 735f 2061 7265 2061 7320 696e 205b 4950  s_ are as in [IP
+0002d3e0: 7974 686f 6e2e 656d 6265 645d 2868 7474  ython.embed](htt
+0002d3f0: 7073 3a2f 2f69 7079 7468 6f6e 2e72 6561  ps://ipython.rea
+0002d400: 6474 6865 646f 6373 2e69 6f2f 656e 2f73  dthedocs.io/en/s
+0002d410: 7461 626c 652f 6170 692f 6765 6e65 7261  table/api/genera
+0002d420: 7465 642f 4950 7974 686f 6e2e 7465 726d  ted/IPython.term
+0002d430: 696e 616c 2e65 6d62 6564 2e68 746d 6c23  inal.embed.html#
+0002d440: 4950 7974 686f 6e2e 7465 726d 696e 616c  IPython.terminal
+0002d450: 2e65 6d62 6564 2e65 6d62 6564 2920 6f72  .embed.embed) or
+0002d460: 205b 4950 7974 686f 6e2e 656d 6265 645f   [IPython.embed_
+0002d470: 6b65 726e 656c 5d28 6874 7470 733a 2f2f  kernel](https://
+0002d480: 6970 7974 686f 6e2e 7265 6164 7468 6564  ipython.readthed
+0002d490: 6f63 732e 696f 2f65 6e2f 7374 6162 6c65  ocs.io/en/stable
+0002d4a0: 2f61 7069 2f67 656e 6572 6174 6564 2f49  /api/generated/I
+0002d4b0: 5079 7468 6f6e 2e68 746d 6c23 4950 7974  Python.html#IPyt
+0002d4c0: 686f 6e2e 656d 6265 645f 6b65 726e 656c  hon.embed_kernel
+0002d4d0: 2920 6261 7365 6420 6f6e 205f 6b65 726e  ) based on _kern
+0002d4e0: 656c 5f2e 0a0a 5265 636f 6d6d 656e 6465  el_...Recommende
+0002d4f0: 6420 7573 6167 6520 6973 2061 7320 6120  d usage is as a 
+0002d500: 6465 6275 6767 696e 6720 746f 6f6c 2c20  debugging tool, 
+0002d510: 7768 6572 6520 7468 6520 636f 6465 2060  where the code `
+0002d520: 6672 6f6d 2063 6f63 6f6e 7574 2069 6d70  from coconut imp
+0002d530: 6f72 7420 656d 6265 643b 2065 6d62 6564  ort embed; embed
+0002d540: 2829 6020 6361 6e20 6265 2069 6e73 6572  ()` can be inser
+0002d550: 7465 6420 746f 206c 6175 6e63 6820 616e  ted to launch an
+0002d560: 2069 6e74 6572 6163 7469 7665 2043 6f63   interactive Coc
+0002d570: 6f6e 7574 2073 6865 6c6c 2069 6e69 7469  onut shell initi
+0002d580: 616c 697a 6564 2066 726f 6d20 7468 6174  alized from that
+0002d590: 2070 6f69 6e74 2e0a 0a23 2323 2041 7574   point...### Aut
+0002d5a0: 6f6d 6174 6963 2043 6f6d 7069 6c61 7469  omatic Compilati
+0002d5b0: 6f6e 0a0a 4966 2079 6f75 2064 6f6e 2774  on..If you don't
+0002d5c0: 2063 6172 6520 6162 6f75 7420 7468 6520   care about the 
+0002d5d0: 6578 6163 7420 636f 6d70 696c 6174 696f  exact compilatio
+0002d5e0: 6e20 7061 7261 6d65 7465 7273 2079 6f75  n parameters you
+0002d5f0: 2077 616e 7420 746f 2075 7365 2c20 6175   want to use, au
+0002d600: 746f 6d61 7469 6320 636f 6d70 696c 6174  tomatic compilat
+0002d610: 696f 6e20 6c65 7473 2043 6f63 6f6e 7574  ion lets Coconut
+0002d620: 2074 616b 6520 6361 7265 206f 6620 6576   take care of ev
+0002d630: 6572 7974 6869 6e67 2066 6f72 2079 6f75  erything for you
+0002d640: 2e20 4175 746f 6d61 7469 6320 636f 6d70  . Automatic comp
+0002d650: 696c 6174 696f 6e20 6361 6e20 6265 2065  ilation can be e
+0002d660: 6e61 626c 6564 2065 6974 6865 7220 6279  nabled either by
+0002d670: 2069 6d70 6f72 7469 6e67 205b 6063 6f63   importing [`coc
+0002d680: 6f6e 7574 2e63 6f6e 7665 6e69 656e 6365  onut.convenience
+0002d690: 605d 2823 636f 636f 6e75 742d 636f 6e76  `](#coconut-conv
+0002d6a0: 656e 6965 6e63 6529 2062 6566 6f72 6520  enience) before 
+0002d6b0: 796f 7520 696d 706f 7274 2061 6e79 7468  you import anyth
+0002d6c0: 696e 6720 656c 7365 2c20 6f72 2062 7920  ing else, or by 
+0002d6d0: 7275 6e6e 696e 6720 6063 6f63 6f6e 7574  running `coconut
+0002d6e0: 202d 2d73 6974 652d 696e 7374 616c 6c60   --site-install`
+0002d6f0: 2e20 4f6e 6365 2061 7574 6f6d 6174 6963  . Once automatic
+0002d700: 2063 6f6d 7069 6c61 7469 6f6e 2069 7320   compilation is 
+0002d710: 656e 6162 6c65 642c 2043 6f63 6f6e 7574  enabled, Coconut
+0002d720: 2077 696c 6c20 6368 6563 6b20 6561 6368   will check each
+0002d730: 206f 6620 796f 7572 2069 6d70 6f72 7473   of your imports
+0002d740: 2074 6f20 7365 6520 6966 2079 6f75 2061   to see if you a
+0002d750: 7265 2061 7474 656d 7074 696e 6720 746f  re attempting to
+0002d760: 2069 6d70 6f72 7420 6120 602e 636f 636f   import a `.coco
+0002d770: 6020 6669 6c65 2061 6e64 2c20 6966 2073  ` file and, if s
+0002d780: 6f2c 2061 7574 6f6d 6174 6963 616c 6c79  o, automatically
+0002d790: 2063 6f6d 7069 6c65 2069 7420 666f 7220   compile it for 
+0002d7a0: 796f 752e 204e 6f74 6520 7468 6174 2c20  you. Note that, 
+0002d7b0: 666f 7220 436f 636f 6e75 7420 746f 206b  for Coconut to k
+0002d7c0: 6e6f 7720 7768 6174 2066 696c 6520 796f  now what file yo
+0002d7d0: 7520 6172 6520 7472 7969 6e67 2074 6f20  u are trying to 
+0002d7e0: 696d 706f 7274 2c20 6974 2077 696c 6c20  import, it will 
+0002d7f0: 6e65 6564 2074 6f20 6265 2061 6363 6573  need to be acces
+0002d800: 7369 626c 6520 7669 6120 6073 7973 2e70  sible via `sys.p
+0002d810: 6174 6860 2c20 6a75 7374 206c 696b 6520  ath`, just like 
+0002d820: 6120 6e6f 726d 616c 2069 6d70 6f72 742e  a normal import.
+0002d830: 0a0a 4175 746f 6d61 7469 6320 636f 6d70  ..Automatic comp
+0002d840: 696c 6174 696f 6e20 616c 7761 7973 2063  ilation always c
+0002d850: 6f6d 7069 6c65 7320 6d6f 6475 6c65 7320  ompiles modules 
+0002d860: 616e 6420 7061 636b 6167 6573 2069 6e2d  and packages in-
+0002d870: 706c 6163 652c 2061 6e64 2061 6c77 6179  place, and alway
+0002d880: 7320 7573 6573 2060 2d2d 7461 7267 6574  s uses `--target
+0002d890: 2073 7973 602e 2041 7574 6f6d 6174 6963   sys`. Automatic
+0002d8a0: 2063 6f6d 7069 6c61 7469 6f6e 2069 7320   compilation is 
+0002d8b0: 616c 7761 7973 2061 7661 696c 6162 6c65  always available
+0002d8c0: 2069 6e20 7468 6520 436f 636f 6e75 7420   in the Coconut 
+0002d8d0: 696e 7465 7270 7265 7465 722c 2061 6e64  interpreter, and
+0002d8e0: 2c20 6966 2075 7369 6e67 2074 6865 2043  , if using the C
+0002d8f0: 6f63 6f6e 7574 2069 6e74 6572 7072 6574  oconut interpret
+0002d900: 6572 2c20 6120 6072 656c 6f61 6460 2062  er, a `reload` b
+0002d910: 7569 6c74 2d69 6e20 6973 2070 726f 7669  uilt-in is provi
+0002d920: 6465 6420 746f 2065 6173 696c 7920 7265  ded to easily re
+0002d930: 6c6f 6164 2069 6d70 6f72 7465 6420 6d6f  load imported mo
+0002d940: 6475 6c65 732e 2041 6464 6974 696f 6e61  dules. Additiona
+0002d950: 6c6c 792c 2074 6865 2069 6e74 6572 7072  lly, the interpr
+0002d960: 6574 6572 2061 6c77 6179 7320 616c 6c6f  eter always allo
+0002d970: 7773 2069 6d70 6f72 7469 6e67 2066 726f  ws importing fro
+0002d980: 6d20 7468 6520 6375 7272 656e 7420 776f  m the current wo
+0002d990: 726b 696e 6720 6469 7265 6374 6f72 792c  rking directory,
+0002d9a0: 206c 6574 7469 6e67 2079 6f75 2065 6173   letting you eas
+0002d9b0: 696c 7920 636f 6d70 696c 6520 616e 6420  ily compile and 
+0002d9c0: 706c 6179 2061 726f 756e 6420 7769 7468  play around with
+0002d9d0: 2061 2060 2e63 6f63 6f60 2066 696c 6520   a `.coco` file 
+0002d9e0: 7369 6d70 6c79 2062 7920 7275 6e6e 696e  simply by runnin
+0002d9f0: 6720 7468 6520 436f 636f 6e75 7420 696e  g the Coconut in
+0002da00: 7465 7270 7265 7465 7220 616e 6420 696d  terpreter and im
+0002da10: 706f 7274 696e 6720 6974 2e0a 0a23 2323  porting it...###
+0002da20: 2043 6f63 6f6e 7574 2045 6e63 6f64 696e   Coconut Encodin
+0002da30: 670a 0a57 6869 6c65 2061 7574 6f6d 6174  g..While automat
+0002da40: 6963 2063 6f6d 7069 6c61 7469 6f6e 2069  ic compilation i
+0002da50: 7320 7468 6520 7072 6566 6572 7265 6420  s the preferred 
+0002da60: 6d65 7468 6f64 2066 6f72 2064 796e 616d  method for dynam
+0002da70: 6963 616c 6c79 2063 6f6d 7069 6c69 6e67  ically compiling
+0002da80: 2043 6f63 6f6e 7574 2066 696c 6573 2c20   Coconut files, 
+0002da90: 6173 2069 7420 6361 6368 6573 2074 6865  as it caches the
+0002daa0: 2063 6f6d 7069 6c65 6420 636f 6465 2061   compiled code a
+0002dab0: 7320 6120 602e 7079 6020 6669 6c65 2074  s a `.py` file t
+0002dac0: 6f20 7072 6576 656e 7420 7265 636f 6d70  o prevent recomp
+0002dad0: 696c 6174 696f 6e2c 2043 6f63 6f6e 7574  ilation, Coconut
+0002dae0: 2061 6c73 6f20 7375 7070 6f72 7473 2061   also supports a
+0002daf0: 2073 7065 6369 616c 0a60 6060 636f 636f   special.```coco
+0002db00: 6e75 740a 2320 636f 6469 6e67 3a20 636f  nut.# coding: co
+0002db10: 636f 6e75 740a 6060 600a 6465 636c 6172  conut.```.declar
+0002db20: 6174 696f 6e20 7768 6963 6820 6361 6e20  ation which can 
+0002db30: 6265 2061 6464 6564 2074 6f20 602e 7079  be added to `.py
+0002db40: 6020 6669 6c65 7320 746f 2068 6176 6520  ` files to have 
+0002db50: 7468 656d 2074 7265 6174 6564 2061 7320  them treated as 
+0002db60: 436f 636f 6e75 7420 6669 6c65 7320 696e  Coconut files in
+0002db70: 7374 6561 642e 2054 6f20 7573 6520 7375  stead. To use su
+0002db80: 6368 2061 2063 6f64 696e 6720 6465 636c  ch a coding decl
+0002db90: 6172 6174 696f 6e2c 2079 6f75 276c 6c20  aration, you'll 
+0002dba0: 6e65 6564 2074 6f20 6569 7468 6572 2072  need to either r
+0002dbb0: 756e 2060 636f 636f 6e75 7420 2d2d 7369  un `coconut --si
+0002dbc0: 7465 2d69 6e73 7461 6c6c 6020 6f72 2060  te-install` or `
+0002dbd0: 696d 706f 7274 2063 6f63 6f6e 7574 2e63  import coconut.c
+0002dbe0: 6f6e 7665 6e69 656e 6365 6020 6174 2073  onvenience` at s
+0002dbf0: 6f6d 6520 706f 696e 7420 6265 666f 7265  ome point before
+0002dc00: 2079 6f75 2066 6972 7374 2061 7474 656d   you first attem
+0002dc10: 7074 2074 6f20 696d 706f 7274 2061 2066  pt to import a f
+0002dc20: 696c 6520 7769 7468 2061 2060 2320 636f  ile with a `# co
+0002dc30: 6469 6e67 3a20 636f 636f 6e75 7460 2064  ding: coconut` d
+0002dc40: 6563 6c61 7261 7469 6f6e 2e20 4c69 6b65  eclaration. Like
+0002dc50: 2061 7574 6f6d 6174 6963 2063 6f6d 7069   automatic compi
+0002dc60: 6c61 7469 6f6e 2c20 636f 6d70 696c 6174  lation, compilat
+0002dc70: 696f 6e20 6973 2061 6c77 6179 7320 646f  ion is always do
+0002dc80: 6e65 2077 6974 6820 602d 2d74 6172 6765  ne with `--targe
+0002dc90: 7420 7379 7360 2061 6e64 2069 7320 616c  t sys` and is al
+0002dca0: 7761 7973 2061 7661 696c 6162 6c65 2066  ways available f
+0002dcb0: 726f 6d20 7468 6520 436f 636f 6e75 7420  rom the Coconut 
+0002dcc0: 696e 7465 7270 7265 7465 722e 0a0a 2323  interpreter...##
+0002dcd0: 2320 6063 6f63 6f6e 7574 2e63 6f6e 7665  # `coconut.conve
+0002dce0: 6e69 656e 6365 600a 0a49 6e20 6164 6469  nience`..In addi
+0002dcf0: 7469 6f6e 2074 6f20 656e 6162 6c69 6e67  tion to enabling
+0002dd00: 2061 7574 6f6d 6174 6963 2063 6f6d 7069   automatic compi
+0002dd10: 6c61 7469 6f6e 2c20 6063 6f63 6f6e 7574  lation, `coconut
+0002dd20: 2e63 6f6e 7665 6e69 656e 6365 6020 6361  .convenience` ca
+0002dd30: 6e20 616c 736f 2062 6520 7573 6564 2074  n also be used t
+0002dd40: 6f20 6361 6c6c 2074 6865 2043 6f63 6f6e  o call the Cocon
+0002dd50: 7574 2063 6f6d 7069 6c65 7220 6672 6f6d  ut compiler from
+0002dd60: 2063 6f64 6520 696e 7374 6561 6420 6f66   code instead of
+0002dd70: 2066 726f 6d20 7468 6520 636f 6d6d 616e   from the comman
+0002dd80: 6420 6c69 6e65 2e20 5365 6520 6265 6c6f  d line. See belo
+0002dd90: 7720 666f 7220 7370 6563 6966 6963 6174  w for specificat
+0002dda0: 696f 6e73 206f 6620 7468 6520 6469 6666  ions of the diff
+0002ddb0: 6572 656e 7420 636f 6e76 656e 6965 6e63  erent convenienc
+0002ddc0: 6520 6675 6e63 7469 6f6e 732e 0a0a 2323  e functions...##
+0002ddd0: 2323 2060 6765 745f 7374 6174 6560 0a0a  ## `get_state`..
+0002dde0: 2a2a 636f 636f 6e75 742e 636f 6e76 656e  **coconut.conven
+0002ddf0: 6965 6e63 652e 6765 745c 5f73 7461 7465  ience.get\_state
+0002de00: 2a2a 285f 7374 6174 655f 3d60 4e6f 6e65  **(_state_=`None
+0002de10: 6029 0a0a 4765 7473 2061 2073 7461 7465  `)..Gets a state
+0002de20: 206f 626a 6563 7420 7768 6963 6820 7374   object which st
+0002de30: 6f72 6573 2074 6865 2063 7572 7265 6e74  ores the current
+0002de40: 2063 6f6d 7069 6c61 7469 6f6e 2070 6172   compilation par
+0002de50: 616d 6574 6572 732e 2053 7461 7465 206f  ameters. State o
+0002de60: 626a 6563 7473 2063 616e 2062 6520 636f  bjects can be co
+0002de70: 6e66 6967 7572 6564 2077 6974 6820 5b2a  nfigured with [*
+0002de80: 2a73 6574 7570 2a2a 5d28 2373 6574 7570  *setup**](#setup
+0002de90: 2920 6f72 205b 2a2a 636d 642a 2a5d 2823  ) or [**cmd**](#
+0002dea0: 636d 6429 2061 6e64 2074 6865 6e20 7573  cmd) and then us
+0002deb0: 6564 2069 6e20 5b2a 2a70 6172 7365 2a2a  ed in [**parse**
+0002dec0: 5d28 2370 6172 7365 2920 6f72 205b 2a2a  ](#parse) or [**
+0002ded0: 636f 636f 6e75 745c 5f65 7661 6c2a 2a5d  coconut\_eval**]
+0002dee0: 2823 636f 636f 6e75 745f 6576 616c 292e  (#coconut_eval).
+0002def0: 0a0a 4966 205f 7374 6174 655f 2069 7320  ..If _state_ is 
+0002df00: 604e 6f6e 6560 2c20 6765 7473 2061 206e  `None`, gets a n
+0002df10: 6577 2073 7461 7465 206f 626a 6563 742c  ew state object,
+0002df20: 2077 6865 7265 6173 2069 6620 5f73 7461   whereas if _sta
+0002df30: 7465 5f20 6973 2060 4661 6c73 6560 2c20  te_ is `False`, 
+0002df40: 7468 6520 676c 6f62 616c 2073 7461 7465  the global state
+0002df50: 206f 626a 6563 7420 6973 2072 6574 7572   object is retur
+0002df60: 6e65 642e 0a0a 2323 2323 2060 7061 7273  ned...#### `pars
+0002df70: 6560 0a0a 2a2a 636f 636f 6e75 742e 636f  e`..**coconut.co
+0002df80: 6e76 656e 6965 6e63 652e 7061 7273 652a  nvenience.parse*
+0002df90: 2a28 5f63 6f64 655f 3d60 2222 602c 205f  *(_code_=`""`, _
+0002dfa0: 6d6f 6465 5f3d 6022 7379 7322 602c 205f  mode_=`"sys"`, _
+0002dfb0: 7374 6174 655f 3d60 4661 6c73 6560 2c20  state_=`False`, 
+0002dfc0: 5f6b 6565 705c 5f69 6e74 6572 6e61 6c5c  _keep\_internal\
+0002dfd0: 5f73 7461 7465 5f3d 604e 6f6e 6560 290a  _state_=`None`).
+0002dfe0: 0a4c 696b 656c 7920 7468 6520 6d6f 7374  .Likely the most
+0002dff0: 2075 7365 6675 6c20 6f66 2074 6865 2063   useful of the c
+0002e000: 6f6e 7665 6e69 656e 6365 2066 756e 6374  onvenience funct
+0002e010: 696f 6e73 2c20 6070 6172 7365 6020 7461  ions, `parse` ta
+0002e020: 6b65 7320 436f 636f 6e75 7420 636f 6465  kes Coconut code
+0002e030: 2061 7320 696e 7075 7420 616e 6420 6f75   as input and ou
+0002e040: 7470 7574 7320 7468 6520 6571 7569 7661  tputs the equiva
+0002e050: 6c65 6e74 2063 6f6d 7069 6c65 6420 5079  lent compiled Py
+0002e060: 7468 6f6e 2063 6f64 652e 205f 6d6f 6465  thon code. _mode
+0002e070: 5f20 6973 2075 7365 6420 746f 2069 6e64  _ is used to ind
+0002e080: 6963 6174 6520 7468 6520 636f 6e74 6578  icate the contex
+0002e090: 7420 666f 7220 7468 6520 7061 7273 696e  t for the parsin
+0002e0a0: 6720 616e 6420 5f73 7461 7465 5f20 6973  g and _state_ is
+0002e0b0: 2074 6865 2073 7461 7465 206f 626a 6563   the state objec
+0002e0c0: 7420 7374 6f72 696e 6720 7468 6520 636f  t storing the co
+0002e0d0: 6d70 696c 6174 696f 6e20 7061 7261 6d65  mpilation parame
+0002e0e0: 7465 7273 2074 6f20 7573 6520 6173 206f  ters to use as o
+0002e0f0: 6274 6169 6e65 6420 6672 6f6d 205b 2a2a  btained from [**
+0002e100: 6765 745f 7374 6174 652a 2a5d 2823 6765  get_state**](#ge
+0002e110: 745f 7374 6174 6529 2028 6966 2060 4661  t_state) (if `Fa
+0002e120: 6c73 6560 2c20 7573 6573 2074 6865 2067  lse`, uses the g
+0002e130: 6c6f 6261 6c20 7374 6174 6520 6f62 6a65  lobal state obje
+0002e140: 6374 292e 205f 6b65 6570 5c5f 696e 7465  ct). _keep\_inte
+0002e150: 726e 616c 5c5f 7374 6174 655f 2064 6574  rnal\_state_ det
+0002e160: 6572 6d69 6e65 7320 7768 6574 6865 7220  ermines whether 
+0002e170: 7468 6520 7374 6174 6520 6f62 6a65 6374  the state object
+0002e180: 2077 696c 6c20 6b65 6570 2069 6e74 6572   will keep inter
+0002e190: 6e61 6c20 7374 6174 6520 2873 7563 6820  nal state (such 
+0002e1a0: 6173 2077 6861 7420 5b63 7573 746f 6d20  as what [custom 
+0002e1b0: 6f70 6572 6174 6f72 735d 2823 6375 7374  operators](#cust
+0002e1c0: 6f6d 2d6f 7065 7261 746f 7273 2920 6861  om-operators) ha
+0002e1d0: 7665 2062 6565 6e20 6465 636c 6172 6564  ve been declared
+0002e1e0: 29e2 8094 6966 2060 4e6f 6e65 602c 2069  )...if `None`, i
+0002e1f0: 6e74 6572 6e61 6c20 7374 6174 6520 7769  nternal state wi
+0002e200: 6c6c 2062 6520 6b65 7074 2069 6666 2079  ll be kept iff y
+0002e210: 6f75 2061 7265 206e 6f74 2075 7369 6e67  ou are not using
+0002e220: 2074 6865 2067 6c6f 6261 6c20 5f73 7461   the global _sta
+0002e230: 7465 5f2e 0a0a 4966 205f 636f 6465 5f20  te_...If _code_ 
+0002e240: 6973 206e 6f74 2070 6173 7365 642c 2060  is not passed, `
+0002e250: 7061 7273 6560 2077 696c 6c20 6f75 7470  parse` will outp
+0002e260: 7574 206a 7573 7420 7468 6520 6769 7665  ut just the give
+0002e270: 6e20 5f6d 6f64 655f 2773 2068 6561 6465  n _mode_'s heade
+0002e280: 722c 2077 6869 6368 2063 616e 2062 6520  r, which can be 
+0002e290: 6578 6563 7574 6564 2074 6f20 7365 7420  executed to set 
+0002e2a0: 7570 2061 6e20 6578 6563 7574 696f 6e20  up an execution 
+0002e2b0: 656e 7669 726f 6e6d 656e 7420 696e 2077  environment in w
+0002e2c0: 6869 6368 2066 7574 7572 6520 636f 6465  hich future code
+0002e2d0: 2063 616e 2062 6520 7061 7273 6564 2061   can be parsed a
+0002e2e0: 6e64 2065 7865 6375 7465 6420 7769 7468  nd executed with
+0002e2f0: 6f75 7420 6120 6865 6164 6572 2e0a 0a45  out a header...E
+0002e300: 6163 6820 5f6d 6f64 655f 2068 6173 2074  ach _mode_ has t
+0002e310: 776f 2063 6f6d 706f 6e65 6e74 733a 2077  wo components: w
+0002e320: 6861 7420 7061 7273 6572 2069 7420 7573  hat parser it us
+0002e330: 6573 2c20 616e 6420 7768 6174 2068 6561  es, and what hea
+0002e340: 6465 7220 6974 2070 7265 7065 6e64 732e  der it prepends.
+0002e350: 2054 6865 2070 6172 7365 7220 6465 7465   The parser dete
+0002e360: 726d 696e 6573 2077 6861 7420 436f 636f  rmines what Coco
+0002e370: 6e75 7420 636f 6465 2069 7320 616c 6c6f  nut code is allo
+0002e380: 7765 6420 6173 2069 6e70 7574 2c20 616e  wed as input, an
+0002e390: 6420 7468 6520 6865 6164 6572 2064 6574  d the header det
+0002e3a0: 6572 6d69 6e65 7320 686f 7720 7468 6520  ermines how the 
+0002e3b0: 636f 6d70 696c 6564 2050 7974 686f 6e20  compiled Python 
+0002e3c0: 6361 6e20 6265 2075 7365 642e 2050 6f73  can be used. Pos
+0002e3d0: 7369 626c 6520 7661 6c75 6573 206f 6620  sible values of 
+0002e3e0: 5f6d 6f64 655f 2061 7265 3a0a 0a2d 2060  _mode_ are:..- `
+0002e3f0: 2273 7973 2260 3a20 2874 6865 2064 6566  "sys"`: (the def
+0002e400: 6175 6c74 290a 2020 2020 2b20 7061 7273  ault).    + pars
+0002e410: 6572 3a20 6669 6c65 0a20 2020 2020 2020  er: file.       
+0002e420: 202a 2054 6865 2066 696c 6520 7061 7273   * The file pars
+0002e430: 6572 2063 616e 2070 6172 7365 2061 6e79  er can parse any
+0002e440: 2043 6f63 6f6e 7574 2063 6f64 652e 0a20   Coconut code.. 
+0002e450: 2020 202b 2068 6561 6465 723a 2073 7973     + header: sys
+0002e460: 0a20 2020 2020 2020 202a 2054 6869 7320  .        * This 
+0002e470: 6865 6164 6572 2069 6d70 6f72 7473 205b  header imports [
+0002e480: 6063 6f63 6f6e 7574 2e5f 5f63 6f63 6f6e  `coconut.__cocon
+0002e490: 7574 5f5f 605d 2823 636f 636f 6e75 742d  ut__`](#coconut-
+0002e4a0: 636f 636f 6e75 7429 2074 6f20 6163 6365  coconut) to acce
+0002e4b0: 7373 2074 6865 206e 6563 6573 7361 7279  ss the necessary
+0002e4c0: 2043 6f63 6f6e 7574 206f 626a 6563 7473   Coconut objects
+0002e4d0: 2e0a 2d20 6022 6578 6563 2260 3a0a 2020  ..- `"exec"`:.  
+0002e4e0: 2020 2b20 7061 7273 6572 3a20 6669 6c65    + parser: file
+0002e4f0: 0a20 2020 202b 2068 6561 6465 723a 2065  .    + header: e
+0002e500: 7865 630a 2020 2020 2020 2020 2a20 5768  xec.        * Wh
+0002e510: 656e 2070 6173 7365 6420 746f 2060 6578  en passed to `ex
+0002e520: 6563 6020 6174 2074 6865 2067 6c6f 6261  ec` at the globa
+0002e530: 6c20 6c65 7665 6c2c 2074 6869 7320 6865  l level, this he
+0002e540: 6164 6572 2077 696c 6c20 6372 6561 7465  ader will create
+0002e550: 2061 6c6c 2074 6865 206e 6563 6573 7361   all the necessa
+0002e560: 7279 2043 6f63 6f6e 7574 206f 626a 6563  ry Coconut objec
+0002e570: 7473 2069 7473 656c 6620 696e 7374 6561  ts itself instea
+0002e580: 6420 6f66 2069 6d70 6f72 7469 6e67 2074  d of importing t
+0002e590: 6865 6d2e 0a2d 2060 2266 696c 6522 603a  hem..- `"file"`:
+0002e5a0: 0a20 2020 202b 2070 6172 7365 723a 2066  .    + parser: f
+0002e5b0: 696c 650a 2020 2020 2b20 6865 6164 6572  ile.    + header
+0002e5c0: 3a20 6669 6c65 0a20 2020 2020 2020 202a  : file.        *
+0002e5d0: 2054 6869 7320 6865 6164 6572 2069 7320   This header is 
+0002e5e0: 6d65 616e 7420 746f 2062 6520 7772 6974  meant to be writ
+0002e5f0: 7465 6e20 746f 2061 2060 2d2d 7374 616e  ten to a `--stan
+0002e600: 6461 6c6f 6e65 6020 6669 6c65 2061 6e64  dalone` file and
+0002e610: 2073 686f 756c 6420 6e6f 7420 6265 2070   should not be p
+0002e620: 6173 7365 6420 746f 2060 6578 6563 602e  assed to `exec`.
+0002e630: 0a2d 2060 2270 6163 6b61 6765 2260 3a0a  .- `"package"`:.
+0002e640: 2020 2020 2b20 7061 7273 6572 3a20 6669      + parser: fi
+0002e650: 6c65 0a20 2020 202b 2068 6561 6465 723a  le.    + header:
+0002e660: 2070 6163 6b61 6765 0a20 2020 2020 2020   package.       
+0002e670: 202a 2054 6869 7320 6865 6164 6572 2069   * This header i
+0002e680: 7320 6d65 616e 7420 746f 2062 6520 7772  s meant to be wr
+0002e690: 6974 7465 6e20 746f 2061 2060 2d2d 7061  itten to a `--pa
+0002e6a0: 636b 6167 6560 2066 696c 6520 616e 6420  ckage` file and 
+0002e6b0: 7368 6f75 6c64 206e 6f74 2062 6520 7061  should not be pa
+0002e6c0: 7373 6564 2074 6f20 6065 7865 6360 2e0a  ssed to `exec`..
+0002e6d0: 2d20 6022 626c 6f63 6b22 603a 0a20 2020  - `"block"`:.   
+0002e6e0: 202b 2070 6172 7365 723a 2066 696c 650a   + parser: file.
+0002e6f0: 2020 2020 2b20 6865 6164 6572 3a20 6e6f      + header: no
+0002e700: 6e65 0a20 2020 2020 2020 202a 204e 6f20  ne.        * No 
+0002e710: 6865 6164 6572 2069 7320 696e 636c 7564  header is includ
+0002e720: 6564 2c20 7468 7573 2074 6869 7320 6361  ed, thus this ca
+0002e730: 6e20 6f6e 6c79 2062 6520 7061 7373 6564  n only be passed
+0002e740: 2074 6f20 6065 7865 6360 2069 6620 636f   to `exec` if co
+0002e750: 6465 2077 6974 6820 6120 6865 6164 6572  de with a header
+0002e760: 2068 6173 2061 6c72 6561 6479 2062 6565   has already bee
+0002e770: 6e20 6578 6563 7574 6564 2061 7420 7468  n executed at th
+0002e780: 6520 676c 6f62 616c 206c 6576 656c 2e0a  e global level..
+0002e790: 2d20 6022 7369 6e67 6c65 2260 3a0a 2020  - `"single"`:.  
+0002e7a0: 2020 2b20 7061 7273 6572 3a20 7369 6e67    + parser: sing
+0002e7b0: 6c65 0a20 2020 2020 2020 202a 2043 616e  le.        * Can
+0002e7c0: 206f 6e6c 7920 7061 7273 6520 6f6e 6520   only parse one 
+0002e7d0: 6c69 6e65 206f 6620 436f 636f 6e75 7420  line of Coconut 
+0002e7e0: 636f 6465 2e0a 2020 2020 2b20 6865 6164  code..    + head
+0002e7f0: 6572 3a20 6e6f 6e65 0a2d 2060 2265 7661  er: none.- `"eva
+0002e800: 6c22 603a 0a20 2020 202b 2070 6172 7365  l"`:.    + parse
+0002e810: 723a 2065 7661 6c0a 2020 2020 2020 2020  r: eval.        
+0002e820: 2a20 4361 6e20 6f6e 6c79 2070 6172 7365  * Can only parse
+0002e830: 2061 2043 6f63 6f6e 7574 2065 7870 7265   a Coconut expre
+0002e840: 7373 696f 6e2c 206e 6f74 2061 2073 7461  ssion, not a sta
+0002e850: 7465 6d65 6e74 2e0a 2020 2020 2b20 6865  tement..    + he
+0002e860: 6164 6572 3a20 6e6f 6e65 0a2d 2060 226c  ader: none.- `"l
+0002e870: 656e 6965 6e74 2260 3a0a 2020 2020 2b20  enient"`:.    + 
+0002e880: 7061 7273 6572 3a20 6c65 6e69 656e 740a  parser: lenient.
+0002e890: 2020 2020 2020 2020 2a20 4361 6e20 7061          * Can pa
+0002e8a0: 7273 6520 616e 7920 436f 636f 6e75 7420  rse any Coconut 
+0002e8b0: 636f 6465 2c20 616c 6c6f 7773 206c 6561  code, allows lea
+0002e8c0: 6469 6e67 2077 6869 7465 7370 6163 652c  ding whitespace,
+0002e8d0: 2061 6e64 2068 6173 206e 6f20 7472 6169   and has no trai
+0002e8e0: 6c69 6e67 206e 6577 6c69 6e65 2e0a 2020  ling newline..  
+0002e8f0: 2020 2b20 6865 6164 6572 3a20 6e6f 6e65    + header: none
+0002e900: 0a2d 2060 2278 6f6e 7368 2260 3a0a 2020  .- `"xonsh"`:.  
+0002e910: 2020 2b20 7061 7273 6572 3a20 786f 6e73    + parser: xons
+0002e920: 680a 2020 2020 2020 2020 2a20 5061 7273  h.        * Pars
+0002e930: 6573 2043 6f63 6f6e 7574 205b 6078 6f6e  es Coconut [`xon
+0002e940: 7368 605d 2868 7474 7073 3a2f 2f78 6f6e  sh`](https://xon
+0002e950: 2e73 6829 2063 6f64 6520 666f 7220 7573  .sh) code for us
+0002e960: 6520 696e 205b 436f 636f 6e75 7427 7320  e in [Coconut's 
+0002e970: 6078 6f6e 7368 6020 7375 7070 6f72 745d  `xonsh` support]
+0002e980: 2823 786f 6e73 682d 7375 7070 6f72 7429  (#xonsh-support)
+0002e990: 2e0a 2020 2020 2b20 6865 6164 6572 3a20  ..    + header: 
+0002e9a0: 6e6f 6e65 0a0a 2323 2323 2320 4578 616d  none..##### Exam
+0002e9b0: 706c 650a 0a60 6060 636f 636f 6e75 745f  ple..```coconut_
+0002e9c0: 7079 7468 6f6e 0a66 726f 6d20 636f 636f  python.from coco
+0002e9d0: 6e75 742e 636f 6e76 656e 6965 6e63 6520  nut.convenience 
+0002e9e0: 696d 706f 7274 2070 6172 7365 0a65 7865  import parse.exe
+0002e9f0: 6328 7061 7273 6528 2929 0a77 6869 6c65  c(parse()).while
+0002ea00: 2054 7275 653a 0a20 2020 2065 7865 6328   True:.    exec(
+0002ea10: 7061 7273 6528 696e 7075 7428 292c 206d  parse(input(), m
+0002ea20: 6f64 653d 2262 6c6f 636b 2229 290a 6060  ode="block")).``
+0002ea30: 600a 0a23 2323 2320 6073 6574 7570 600a  `..#### `setup`.
+0002ea40: 0a2a 2a63 6f63 6f6e 7574 2e63 6f6e 7665  .**coconut.conve
+0002ea50: 6e69 656e 6365 2e73 6574 7570 2a2a 285f  nience.setup**(_
+0002ea60: 7461 7267 6574 5f3d 604e 6f6e 6560 2c20  target_=`None`, 
+0002ea70: 5f73 7472 6963 745f 3d60 4661 6c73 6560  _strict_=`False`
+0002ea80: 2c20 5f6d 696e 6966 795f 3d60 4661 6c73  , _minify_=`Fals
+0002ea90: 6560 2c20 5f6c 696e 655c 5f6e 756d 6265  e`, _line\_numbe
+0002eaa0: 7273 5f3d 6046 616c 7365 602c 205f 6b65  rs_=`False`, _ke
+0002eab0: 6570 5c5f 6c69 6e65 735f 3d60 4661 6c73  ep\_lines_=`Fals
+0002eac0: 6560 2c20 5f6e 6f5c 5f74 636f 5f3d 6046  e`, _no\_tco_=`F
+0002ead0: 616c 7365 602c 205f 6e6f 5c5f 7772 6170  alse`, _no\_wrap
+0002eae0: 5f3d 6046 616c 7365 602c 202a 2c20 5f73  _=`False`, *, _s
+0002eaf0: 7461 7465 5f3d 6046 616c 7365 6029 0a0a  tate_=`False`)..
+0002eb00: 6073 6574 7570 6020 6361 6e20 6265 2075  `setup` can be u
+0002eb10: 7365 6420 746f 2073 6574 2075 7020 7468  sed to set up th
+0002eb20: 6520 6769 7665 6e20 7374 6174 6520 6f62  e given state ob
+0002eb30: 6a65 6374 2077 6974 6820 7468 6520 6769  ject with the gi
+0002eb40: 7665 6e20 636f 6d6d 616e 642d 6c69 6e65  ven command-line
+0002eb50: 2066 6c61 6773 2e20 4966 205f 7374 6174   flags. If _stat
+0002eb60: 655f 2069 7320 6046 616c 7365 602c 2074  e_ is `False`, t
+0002eb70: 6865 2067 6c6f 6261 6c20 7374 6174 6520  he global state 
+0002eb80: 6f62 6a65 6374 2069 7320 7573 6564 2e0a  object is used..
+0002eb90: 0a54 6865 2070 6f73 7369 626c 6520 7661  .The possible va
+0002eba0: 6c75 6573 2066 6f72 2065 6163 6820 666c  lues for each fl
+0002ebb0: 6167 2061 7267 756d 656e 7420 6172 653a  ag argument are:
+0002ebc0: 0a0a 2d20 5f74 6172 6765 745f 3a20 604e  ..- _target_: `N
+0002ebd0: 6f6e 6560 2028 6465 6661 756c 7429 2c20  one` (default), 
+0002ebe0: 6f72 2061 6e79 205b 616c 6c6f 7761 626c  or any [allowabl
+0002ebf0: 6520 7461 7267 6574 5d28 2361 6c6c 6f77  e target](#allow
+0002ec00: 6162 6c65 2d74 6172 6765 7473 290a 2d20  able-targets).- 
+0002ec10: 5f73 7472 6963 745f 3a20 6046 616c 7365  _strict_: `False
+0002ec20: 6020 2864 6566 6175 6c74 2920 6f72 2060  ` (default) or `
+0002ec30: 5472 7565 600a 2d20 5f6d 696e 6966 795f  True`.- _minify_
+0002ec40: 3a20 6046 616c 7365 6020 2864 6566 6175  : `False` (defau
+0002ec50: 6c74 2920 6f72 2060 5472 7565 600a 2d20  lt) or `True`.- 
+0002ec60: 5f6c 696e 655c 5f6e 756d 6265 7273 5f3a  _line\_numbers_:
+0002ec70: 2060 4661 6c73 6560 2028 6465 6661 756c   `False` (defaul
+0002ec80: 7429 206f 7220 6054 7275 6560 0a2d 205f  t) or `True`.- _
+0002ec90: 6b65 6570 5c5f 6c69 6e65 735f 3a20 6046  keep\_lines_: `F
+0002eca0: 616c 7365 6020 2864 6566 6175 6c74 2920  alse` (default) 
+0002ecb0: 6f72 2060 5472 7565 600a 2d20 5f6e 6f5c  or `True`.- _no\
+0002ecc0: 5f74 636f 5f3a 2060 4661 6c73 6560 2028  _tco_: `False` (
+0002ecd0: 6465 6661 756c 7429 206f 7220 6054 7275  default) or `Tru
+0002ece0: 6560 0a2d 205f 6e6f 5c5f 7772 6170 5f3a  e`.- _no\_wrap_:
+0002ecf0: 2060 4661 6c73 6560 2028 6465 6661 756c   `False` (defaul
+0002ed00: 7429 206f 7220 6054 7275 6560 0a0a 2323  t) or `True`..##
+0002ed10: 2323 2060 636d 6460 0a0a 2a2a 636f 636f  ## `cmd`..**coco
+0002ed20: 6e75 742e 636f 6e76 656e 6965 6e63 652e  nut.convenience.
+0002ed30: 636d 642a 2a28 5f61 7267 735f 3d60 4e6f  cmd**(_args_=`No
+0002ed40: 6e65 602c 202a 2c20 5f61 7267 765f 3d60  ne`, *, _argv_=`
+0002ed50: 4e6f 6e65 602c 205f 696e 7465 7261 6374  None`, _interact
+0002ed60: 5f3d 6046 616c 7365 602c 205f 6465 6661  _=`False`, _defa
+0002ed70: 756c 745c 5f74 6172 6765 745f 3d60 4e6f  ult\_target_=`No
+0002ed80: 6e65 602c 205f 7374 6174 655f 3d60 4661  ne`, _state_=`Fa
+0002ed90: 6c73 6560 290a 0a45 7865 6375 7465 7320  lse`)..Executes 
+0002eda0: 7468 6520 6769 7665 6e20 5f61 7267 735f  the given _args_
+0002edb0: 2061 7320 6966 2074 6865 7920 7765 7265   as if they were
+0002edc0: 2066 6564 2074 6f20 6063 6f63 6f6e 7574   fed to `coconut
+0002edd0: 6020 6f6e 2074 6865 2063 6f6d 6d61 6e64  ` on the command
+0002ede0: 2d6c 696e 652c 2077 6974 6820 7468 6520  -line, with the 
+0002edf0: 6578 6365 7074 696f 6e20 7468 6174 2075  exception that u
+0002ee00: 6e6c 6573 7320 5f69 6e74 6572 6163 745f  nless _interact_
+0002ee10: 2069 7320 7472 7565 206f 7220 602d 6960   is true or `-i`
+0002ee20: 2069 7320 7061 7373 6564 2c20 7468 6520   is passed, the 
+0002ee30: 696e 7465 7270 7265 7465 7220 7769 6c6c  interpreter will
+0002ee40: 206e 6f74 2062 6520 7374 6172 7465 642e   not be started.
+0002ee50: 2041 6464 6974 696f 6e61 6c6c 792c 205f   Additionally, _
+0002ee60: 6172 6776 5f20 6361 6e20 6265 2075 7365  argv_ can be use
+0002ee70: 6420 746f 2070 6173 7320 696e 2061 7267  d to pass in arg
+0002ee80: 756d 656e 7473 2061 7320 696e 2060 2d2d  uments as in `--
+0002ee90: 6172 6776 6020 616e 6420 5f64 6566 6175  argv` and _defau
+0002eea0: 6c74 5c5f 7461 7267 6574 5f20 6361 6e20  lt\_target_ can 
+0002eeb0: 6265 2075 7365 6420 746f 2073 6574 2074  be used to set t
+0002eec0: 6865 2064 6566 6175 6c74 2060 2d2d 7461  he default `--ta
+0002eed0: 7267 6574 602e 0a0a 4861 7320 7468 6520  rget`...Has the 
+0002eee0: 7361 6d65 2065 6666 6563 7420 6f66 2073  same effect of s
+0002eef0: 6574 7469 6e67 2074 6865 2063 6f6d 6d61  etting the comma
+0002ef00: 6e64 2d6c 696e 6520 666c 6167 7320 6f6e  nd-line flags on
+0002ef10: 2074 6865 2067 6976 656e 205f 7374 6174   the given _stat
+0002ef20: 655f 206f 626a 6563 7420 6173 2060 7365  e_ object as `se
+0002ef30: 7475 7060 2028 7769 7468 2074 6865 2067  tup` (with the g
+0002ef40: 6c6f 6261 6c20 6073 7461 7465 6020 6f62  lobal `state` ob
+0002ef50: 6a65 6374 2075 7365 6420 7768 656e 205f  ject used when _
+0002ef60: 7374 6174 655f 2069 7320 6046 616c 7365  state_ is `False
+0002ef70: 6029 2e0a 0a23 2323 2320 6063 6f63 6f6e  `)...#### `cocon
+0002ef80: 7574 5f65 7661 6c60 0a0a 2a2a 636f 636f  ut_eval`..**coco
+0002ef90: 6e75 742e 636f 6e76 656e 6965 6e63 652e  nut.convenience.
+0002efa0: 636f 636f 6e75 745f 6576 616c 2a2a 285f  coconut_eval**(_
+0002efb0: 6578 7072 6573 7369 6f6e 5f2c 205f 676c  expression_, _gl
+0002efc0: 6f62 616c 735f 3d60 4e6f 6e65 602c 205f  obals_=`None`, _
+0002efd0: 6c6f 6361 6c73 5f3d 604e 6f6e 6560 2c20  locals_=`None`, 
+0002efe0: 5f73 7461 7465 5f3d 6046 616c 7365 602c  _state_=`False`,
+0002eff0: 205f 6b65 6570 5c5f 696e 7465 726e 616c   _keep\_internal
+0002f000: 5c5f 7374 6174 655f 3d60 4e6f 6e65 6029  \_state_=`None`)
+0002f010: 0a0a 5665 7273 696f 6e20 6f66 205b 6065  ..Version of [`e
+0002f020: 7661 6c60 5d28 6874 7470 733a 2f2f 646f  val`](https://do
+0002f030: 6373 2e70 7974 686f 6e2e 6f72 672f 332f  cs.python.org/3/
+0002f040: 6c69 6272 6172 792f 6675 6e63 7469 6f6e  library/function
+0002f050: 732e 6874 6d6c 2365 7661 6c29 2077 6869  s.html#eval) whi
+0002f060: 6368 2063 616e 2065 7661 6c75 6174 6520  ch can evaluate 
+0002f070: 436f 636f 6e75 7420 636f 6465 2e0a 0a23  Coconut code...#
+0002f080: 2323 2320 6076 6572 7369 6f6e 600a 0a2a  ### `version`..*
+0002f090: 2a63 6f63 6f6e 7574 2e63 6f6e 7665 6e69  *coconut.conveni
+0002f0a0: 656e 6365 2e76 6572 7369 6f6e 2a2a 282a  ence.version**(*
+0002f0b0: 2a5b 2a2a 5f77 6869 6368 5f2a 2a5d 2a2a  *[**_which_**]**
+0002f0c0: 290a 0a52 6574 7269 6576 6573 2061 2073  )..Retrieves a s
+0002f0d0: 7472 696e 6720 636f 6e74 6169 6e69 6e67  tring containing
+0002f0e0: 2069 6e66 6f72 6d61 7469 6f6e 2061 626f   information abo
+0002f0f0: 7574 2074 6865 2043 6f63 6f6e 7574 2076  ut the Coconut v
+0002f100: 6572 7369 6f6e 2e20 5468 6520 6f70 7469  ersion. The opti
+0002f110: 6f6e 616c 2061 7267 756d 656e 7420 5f77  onal argument _w
+0002f120: 6869 6368 5f20 6973 2074 6865 2074 7970  hich_ is the typ
+0002f130: 6520 6f66 2076 6572 7369 6f6e 2069 6e66  e of version inf
+0002f140: 6f72 6d61 7469 6f6e 2064 6573 6972 6564  ormation desired
+0002f150: 2e20 506f 7373 6962 6c65 2076 616c 7565  . Possible value
+0002f160: 7320 6f66 205f 7768 6963 685f 2061 7265  s of _which_ are
+0002f170: 3a0a 0a2d 2060 226e 756d 2260 3a20 7468  :..- `"num"`: th
+0002f180: 6520 6e75 6d65 7269 6361 6c20 7665 7273  e numerical vers
+0002f190: 696f 6e20 2874 6865 2064 6566 6175 6c74  ion (the default
+0002f1a0: 290a 2d20 6022 6e61 6d65 2260 3a20 7468  ).- `"name"`: th
+0002f1b0: 6520 7665 7273 696f 6e20 636f 6465 6e61  e version codena
+0002f1c0: 6d65 0a2d 2060 2273 7065 6322 603a 2074  me.- `"spec"`: t
+0002f1d0: 6865 206e 756d 6572 6963 616c 2076 6572  he numerical ver
+0002f1e0: 7369 6f6e 2077 6974 6820 7468 6520 636f  sion with the co
+0002f1f0: 6465 6e61 6d65 2061 7474 6163 6865 640a  dename attached.
+0002f200: 2d20 6022 7461 6722 603a 2074 6865 2076  - `"tag"`: the v
+0002f210: 6572 7369 6f6e 2074 6167 2075 7365 6420  ersion tag used 
+0002f220: 696e 2047 6974 4875 6220 616e 6420 646f  in GitHub and do
+0002f230: 6375 6d65 6e74 6174 696f 6e20 5552 4c73  cumentation URLs
+0002f240: 0a2d 2060 222d 7622 603a 2074 6865 2066  .- `"-v"`: the f
+0002f250: 756c 6c20 7374 7269 6e67 2070 7269 6e74  ull string print
+0002f260: 6564 2062 7920 6063 6f63 6f6e 7574 202d  ed by `coconut -
+0002f270: 7660 0a0a 2323 2323 2060 6175 746f 5f63  v`..#### `auto_c
+0002f280: 6f6d 7069 6c61 7469 6f6e 600a 0a2a 2a63  ompilation`..**c
+0002f290: 6f63 6f6e 7574 2e63 6f6e 7665 6e69 656e  oconut.convenien
+0002f2a0: 6365 2e61 7574 6f5f 636f 6d70 696c 6174  ce.auto_compilat
+0002f2b0: 696f 6e2a 2a28 5f6f 6e5f 3d60 5472 7565  ion**(_on_=`True
+0002f2c0: 6029 0a0a 5475 726e 7320 5b61 7574 6f6d  `)..Turns [autom
+0002f2d0: 6174 6963 2063 6f6d 7069 6c61 7469 6f6e  atic compilation
+0002f2e0: 5d28 2361 7574 6f6d 6174 6963 2d63 6f6d  ](#automatic-com
+0002f2f0: 7069 6c61 7469 6f6e 2920 6f6e 206f 7220  pilation) on or 
+0002f300: 6f66 662e 2054 6869 7320 6675 6e63 7469  off. This functi
+0002f310: 6f6e 2069 7320 6361 6c6c 6564 2061 7574  on is called aut
+0002f320: 6f6d 6174 6963 616c 6c79 2077 6865 6e20  omatically when 
+0002f330: 6063 6f63 6f6e 7574 2e63 6f6e 7665 6e69  `coconut.conveni
+0002f340: 656e 6365 6020 6973 2069 6d70 6f72 7465  ence` is importe
+0002f350: 642e 0a0a 2323 2323 2060 7573 655f 636f  d...#### `use_co
+0002f360: 636f 6e75 745f 6272 6561 6b70 6f69 6e74  conut_breakpoint
+0002f370: 600a 0a2a 2a63 6f63 6f6e 7574 2e63 6f6e  `..**coconut.con
+0002f380: 7665 6e69 656e 6365 2e75 7365 5f63 6f63  venience.use_coc
+0002f390: 6f6e 7574 5f62 7265 616b 706f 696e 742a  onut_breakpoint*
+0002f3a0: 2a28 5f6f 6e5f 3d60 5472 7565 6029 0a0a  *(_on_=`True`)..
+0002f3b0: 5377 6974 6368 6573 2074 6865 205b 6062  Switches the [`b
+0002f3c0: 7265 616b 706f 696e 7460 2062 7569 6c74  reakpoint` built
+0002f3d0: 2d69 6e5d 2868 7474 7073 3a2f 2f77 7777  -in](https://www
+0002f3e0: 2e70 7974 686f 6e2e 6f72 672f 6465 762f  .python.org/dev/
+0002f3f0: 7065 7073 2f70 6570 2d30 3535 332f 2920  peps/pep-0553/) 
+0002f400: 7768 6963 6820 436f 636f 6e75 7420 6d61  which Coconut ma
+0002f410: 6b65 7320 756e 6976 6572 7361 6c6c 7920  kes universally 
+0002f420: 6176 6169 6c61 626c 6520 746f 2075 7365  available to use
+0002f430: 205b 6063 6f63 6f6e 7574 2e65 6d62 6564   [`coconut.embed
+0002f440: 605d 2823 636f 636f 6e75 742d 656d 6265  `](#coconut-embe
+0002f450: 6429 2069 6e73 7465 6164 206f 6620 5b60  d) instead of [`
+0002f460: 7064 622e 7365 745f 7472 6163 6560 5d28  pdb.set_trace`](
+0002f470: 6874 7470 733a 2f2f 646f 6373 2e70 7974  https://docs.pyt
+0002f480: 686f 6e2e 6f72 672f 332f 6c69 6272 6172  hon.org/3/librar
+0002f490: 792f 7064 622e 6874 6d6c 2370 6462 2e73  y/pdb.html#pdb.s
+0002f4a0: 6574 5f74 7261 6365 2920 286f 7220 756e  et_trace) (or un
+0002f4b0: 646f 6573 2074 6861 7420 7377 6974 6368  does that switch
+0002f4c0: 2069 6620 606f 6e3d 4661 6c73 6560 292e   if `on=False`).
+0002f4d0: 2054 6869 7320 6675 6e63 7469 6f6e 2069   This function i
+0002f4e0: 7320 6361 6c6c 6564 2061 7574 6f6d 6174  s called automat
+0002f4f0: 6963 616c 6c79 2077 6865 6e20 6063 6f63  ically when `coc
+0002f500: 6f6e 7574 2e63 6f6e 7665 6e69 656e 6365  onut.convenience
+0002f510: 6020 6973 2069 6d70 6f72 7465 642e 0a0a  ` is imported...
+0002f520: 2323 2323 2060 436f 636f 6e75 7445 7863  #### `CoconutExc
+0002f530: 6570 7469 6f6e 600a 0a49 6620 616e 2065  eption`..If an e
+0002f540: 7272 6f72 2069 7320 656e 636f 756e 7465  rror is encounte
+0002f550: 7265 6420 696e 2061 2063 6f6e 7665 6e69  red in a conveni
+0002f560: 656e 6365 2066 756e 6374 696f 6e2c 2061  ence function, a
+0002f570: 2060 436f 636f 6e75 7445 7863 6570 7469   `CoconutExcepti
+0002f580: 6f6e 6020 696e 7374 616e 6365 206d 6179  on` instance may
+0002f590: 2062 6520 7261 6973 6564 2e20 6063 6f63   be raised. `coc
+0002f5a0: 6f6e 7574 2e63 6f6e 7665 6e69 656e 6365  onut.convenience
+0002f5b0: 2e43 6f63 6f6e 7574 4578 6365 7074 696f  .CoconutExceptio
+0002f5c0: 6e60 2069 7320 7072 6f76 6964 6564 2074  n` is provided t
+0002f5d0: 6f20 616c 6c6f 7720 6361 7463 6869 6e67  o allow catching
+0002f5e0: 2073 7563 6820 6572 726f 7273 2e0a 0a23   such errors...#
+0002f5f0: 2323 2060 636f 636f 6e75 742e 5f5f 636f  ## `coconut.__co
+0002f600: 636f 6e75 745f 5f60 0a0a 4974 2069 7320  conut__`..It is 
+0002f610: 736f 6d65 7469 6d65 7320 7573 6566 756c  sometimes useful
+0002f620: 2074 6f20 6265 2061 626c 6520 746f 2061   to be able to a
+0002f630: 6363 6573 7320 436f 636f 6e75 7420 6275  ccess Coconut bu
+0002f640: 696c 742d 696e 7320 6672 6f6d 2070 7572  ilt-ins from pur
+0002f650: 6520 5079 7468 6f6e 2e20 546f 2061 6363  e Python. To acc
+0002f660: 6f6d 706c 6973 6820 7468 6973 2c20 436f  omplish this, Co
+0002f670: 636f 6e75 7420 7072 6f76 6964 6573 2060  conut provides `
+0002f680: 636f 636f 6e75 742e 5f5f 636f 636f 6e75  coconut.__coconu
+0002f690: 745f 5f60 2c20 7768 6963 6820 6265 6861  t__`, which beha
+0002f6a0: 7665 7320 6578 6163 746c 7920 6c69 6b65  ves exactly like
+0002f6b0: 2074 6865 2060 5f5f 636f 636f 6e75 745f   the `__coconut_
+0002f6c0: 5f2e 7079 6020 6865 6164 6572 2066 696c  _.py` header fil
+0002f6d0: 6520 696e 636c 7564 6564 2077 6865 6e20  e included when 
+0002f6e0: 436f 636f 6e75 7420 6973 2063 6f6d 7069  Coconut is compi
+0002f6f0: 6c65 6420 696e 2070 6163 6b61 6765 206d  led in package m
+0002f700: 6f64 652e 0a0a 416c 6c20 436f 636f 6e75  ode...All Coconu
+0002f710: 7420 6275 696c 742d 696e 7320 6172 6520  t built-ins are 
+0002f720: 6163 6365 7373 6962 6c65 2066 726f 6d20  accessible from 
+0002f730: 6063 6f63 6f6e 7574 2e5f 5f63 6f63 6f6e  `coconut.__cocon
+0002f740: 7574 5f5f 602e 2054 6865 2072 6563 6f6d  ut__`. The recom
+0002f750: 6d65 6e64 6564 2077 6179 2074 6f20 696d  mended way to im
+0002f760: 706f 7274 2074 6865 6d20 6973 2074 6f20  port them is to 
+0002f770: 7573 6520 6066 726f 6d20 636f 636f 6e75  use `from coconu
+0002f780: 742e 5f5f 636f 636f 6e75 745f 5f20 696d  t.__coconut__ im
+0002f790: 706f 7274 6020 616e 6420 696d 706f 7274  port` and import
+0002f7a0: 2077 6861 7465 7665 7220 6275 696c 742d   whatever built-
+0002f7b0: 696e 7320 796f 7527 6c6c 2062 6520 7573  ins you'll be us
+0002f7c0: 696e 672e 0a0a 2323 2323 2320 4578 616d  ing...##### Exam
+0002f7d0: 706c 650a 0a60 6060 636f 636f 6e75 745f  ple..```coconut_
+0002f7e0: 7079 7468 6f6e 0a66 726f 6d20 636f 636f  python.from coco
+0002f7f0: 6e75 742e 5f5f 636f 636f 6e75 745f 5f20  nut.__coconut__ 
+0002f800: 696d 706f 7274 2070 6172 616c 6c65 6c5f  import parallel_
+0002f810: 6d61 700a 6060 600a                      map.```.
```

### Comparing `coconut-develop-3.0.0a0.dev9/FAQ.md` & `coconut-develop-3.0.1.post0.dev1/FAQ.md`

 * *Files identical despite different names*

### Comparing `coconut-develop-3.0.0a0.dev9/HELP.md` & `coconut-develop-3.0.1.post0.dev1/HELP.md`

 * *Files 0% similar despite different names*

```diff
@@ -1128,15 +1128,14 @@
 
 ### Implicit Partials
 
 Another useful Coconut feature is implicit partials. Coconut supports a number of different "incomplete" expressions that will evaluate to a function that takes in the part necessary to complete them, that is, an implicit partial application function. The different allowable expressions are:
 ```coconut
 .attr
 .method(args)
-obj.
 func$
 seq[]
 iter$[]
 .[slice]
 .$[slice]
 ```
```

### Comparing `coconut-develop-3.0.0a0.dev9/LICENSE.txt` & `coconut-develop-3.0.1.post0.dev1/LICENSE.txt`

 * *Files identical despite different names*

### Comparing `coconut-develop-3.0.0a0.dev9/PKG-INFO` & `coconut-develop-3.0.1.post0.dev1/PKG-INFO`

 * *Files 7% similar despite different names*

```diff
@@ -1,16 +1,99 @@
 Metadata-Version: 2.1
 Name: coconut-develop
-Version: 3.0.0a0.dev9
+Version: 3.0.1.post0.dev1
 Summary: Simple, elegant, Pythonic functional programming.
 Home-page: http://coconut-lang.org
 Author: Evan Hubinger
 Author-email: evanjhub@gmail.com
 License: Apache 2.0
-Keywords: functional,programming,language,compiler,pattern,pattern-matching,algebraic,data type,data types,lambda,lambdas,lazy,evaluation,lazy list,lazy lists,tail,recursion,call,recursive,infix,function,composition,compose,partial,application,currying,curry,pipeline,pipe,unicode,operator,operators,frozenset,literal,syntax,destructuring,assignment,fold,datamaker,prepattern,iterator,none,coalesce,coalescing,statement,lru_cache,memoization,backport,typing,embed,PEP 622,overrides,islice,itertools,functools,TYPE_CHECKING,Expected,breakpoint,help,reduce,takewhile,dropwhile,tee,count,makedata,consume,parallel_map,addpattern,recursive_iterator,concurrent_map,fmap,starmap,reiterable,scan,groupsof,memoize,zip_longest,override,flatten,ident,call,safe_call,flip,const,lift,all_equal,collectby,multi_enumerate,cartesian_product,multiset,cycle,windowsof,py_chr,py_hex,py_input,py_int,py_map,py_object,py_oct,py_open,py_print,py_range,py_str,py_super,py_zip,py_filter,py_reversed,py_enumerate,py_raw_input,py_xrange,py_repr,py_breakpoint,_namedtuple_of,reveal_type,reveal_locals,MatchError,__fmap__,__iter_getitem__,async,await,data,match,case,cases,where,addpattern,then,operator,type,
+Description: |logo| Coconut
+        ==============
+        
+        ..
+            <insert toctree here>
+        
+        .. |logo| image:: https://github.com/evhub/coconut/raw/gh-pages/favicon-32x32.png
+        
+        .. image:: https://opencollective.com/coconut/backers/badge.svg
+            :alt: Backers on Open Collective
+            :target: #backers
+        .. image:: https://opencollective.com/coconut/sponsors/badge.svg
+            :alt: Sponsors on Open Collective
+            :target: #sponsors
+        .. image:: https://badges.gitter.im/evhub/coconut.svg
+            :alt: Join the chat at https://gitter.im/evhub/coconut
+            :target: https://gitter.im/evhub/coconut?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge&utm_content=badge
+        
+        Coconut (`coconut-lang.org`__) is a variant of Python_ that **adds on top of Python syntax** new features for simple, elegant, Pythonic **functional programming**.
+        
+        __ Coconut_
+        .. _Coconut: http://coconut-lang.org/
+        
+        Coconut is developed on GitHub_ and hosted on PyPI_. Installing Coconut is as easy as opening a command prompt and entering::
+        
+            pip install coconut
+        
+        To help you get started, check out these links for more information about Coconut:
+        
+        - Tutorial_: If you're new to Coconut, a good place to start is Coconut's **tutorial**.
+        - Documentation_: If you're looking for info about a specific feature, check out Coconut's **documentation**.
+        - `Online Interpreter`_: If you want to try Coconut in your browser, check out Coconut's **online interpreter**.
+        - FAQ_: If you have general questions about Coconutlike who Coconut is built for and whether or not you should use itCoconut's frequently asked questions are often the best place to start.
+        - `Create a New Issue <https://github.com/evhub/coconut/issues/new>`_: If you're having a problem with Coconut, creating a new issue detailing the problem will allow it to be addressed as soon as possible.
+        - Gitter_: For any questions, concerns, or comments about anything Coconut-related, ask around at Coconut's Gitter, a GitHub-integrated chat room for Coconut developers.
+        - Releases_: Want to know what's been added in recent Coconut versions? Check out the release log for all the new features and fixes.
+        
+        .. _Python: https://www.python.org/
+        .. _PyPI: https://pypi.python.org/pypi/coconut
+        .. _Tutorial: http://coconut.readthedocs.io/en/latest/HELP.html
+        .. _Documentation: http://coconut.readthedocs.io/en/latest/DOCS.html
+        .. _`Online Interpreter`: https://cs121-team-panda.github.io/coconut-interpreter
+        .. _FAQ: http://coconut.readthedocs.io/en/latest/FAQ.html
+        .. _GitHub: https://github.com/evhub/coconut
+        .. _Gitter: https://gitter.im/evhub/coconut
+        .. _Releases: https://github.com/evhub/coconut/releases
+        
+        Credits
+        +++++++
+        
+        Contributors
+        ------------
+        
+        This project exists thanks to all the people who contribute! `Become a contributor`__.
+        
+        .. image:: https://opencollective.com/coconut/contributors.svg?width=890&button=false
+            :target: https://github.com/evhub/coconut/graphs/contributors
+        
+        __ Contributor_
+        .. _Contributor: http://coconut.readthedocs.io/en/develop/CONTRIBUTING.html
+        
+        Backers
+        -------
+        
+        Thank you to all our backers! `Become a backer`__.
+        
+        .. image:: https://opencollective.com/coconut/backers.svg?width=890
+            :target: https://opencollective.com/coconut#backers
+        
+        __ Backer_
+        .. _Backer: https://opencollective.com/coconut#backer
+        
+        Sponsors
+        --------
+        
+        Support Coconut by becoming a sponsor. Your logo will show up here with a link to your website. `Become a sponsor`__.
+        
+        .. image:: https://opencollective.com/XX/sponsor/0/avatar.svg
+            :target: https://opencollective.com/coconut/sponsor/0/website
+        
+        __ Sponsor_
+        .. _Sponsor: https://opencollective.com/coconut#sponsor
+        
+Keywords: functional,programming,language,compiler,pattern,pattern-matching,algebraic,data type,data types,lambda,lambdas,lazy,evaluation,lazy list,lazy lists,tail,recursion,call,recursive,infix,function,composition,compose,partial,application,currying,curry,pipeline,pipe,unicode,operator,operators,frozenset,literal,syntax,destructuring,assignment,fold,datamaker,prepattern,iterator,none,coalesce,coalescing,statement,lru_cache,memoization,backport,typing,embed,PEP 622,overrides,islice,itertools,functools,TYPE_CHECKING,Expected,breakpoint,help,reduce,takewhile,dropwhile,tee,count,makedata,consume,parallel_map,addpattern,recursive_iterator,concurrent_map,fmap,starmap,reiterable,scan,groupsof,memoize,zip_longest,override,flatten,ident,call,safe_call,flip,const,lift,all_equal,collectby,multi_enumerate,cartesian_product,multiset,cycle,windowsof,py_chr,py_dict,py_hex,py_input,py_int,py_map,py_object,py_oct,py_open,py_print,py_range,py_str,py_super,py_zip,py_filter,py_reversed,py_enumerate,py_raw_input,py_xrange,py_repr,py_breakpoint,_namedtuple_of,reveal_type,reveal_locals,MatchError,__fmap__,__iter_getitem__,data,match,case,cases,where,addpattern,then,operator,type,copyclosure,
 Platform: UNKNOWN
 Classifier: Development Status :: 5 - Production/Stable
 Classifier: License :: OSI Approved :: Apache Software License
 Classifier: Intended Audience :: Developers
 Classifier: Topic :: Software Development
 Classifier: Topic :: Software Development :: Code Generators
 Classifier: Topic :: Software Development :: Compilers
@@ -39,103 +122,16 @@
 Classifier: Programming Language :: Python :: Implementation :: CPython
 Classifier: Programming Language :: Python :: Implementation :: PyPy
 Classifier: Framework :: IPython
 Classifier: Framework :: Jupyter
 Classifier: Typing :: Typed
 Provides-Extra: kernel
 Provides-Extra: watch
-Provides-Extra: jobs
 Provides-Extra: mypy
 Provides-Extra: backports
 Provides-Extra: xonsh
 Provides-Extra: jupyter
 Provides-Extra: all
 Provides-Extra: ipython
 Provides-Extra: docs
 Provides-Extra: tests
 Provides-Extra: dev
-License-File: LICENSE.txt
-
-|logo| Coconut
-==============
-
-..
-    <insert toctree here>
-
-.. |logo| image:: https://github.com/evhub/coconut/raw/gh-pages/favicon-32x32.png
-
-.. image:: https://opencollective.com/coconut/backers/badge.svg
-    :alt: Backers on Open Collective
-    :target: #backers
-.. image:: https://opencollective.com/coconut/sponsors/badge.svg
-    :alt: Sponsors on Open Collective
-    :target: #sponsors
-.. image:: https://badges.gitter.im/evhub/coconut.svg
-    :alt: Join the chat at https://gitter.im/evhub/coconut
-    :target: https://gitter.im/evhub/coconut?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge&utm_content=badge
-
-Coconut (`coconut-lang.org`__) is a variant of Python_ that **adds on top of Python syntax** new features for simple, elegant, Pythonic **functional programming**.
-
-__ Coconut_
-.. _Coconut: http://coconut-lang.org/
-
-Coconut is developed on GitHub_ and hosted on PyPI_. Installing Coconut is as easy as opening a command prompt and entering::
-
-    pip install coconut
-
-To help you get started, check out these links for more information about Coconut:
-
-- Tutorial_: If you're new to Coconut, a good place to start is Coconut's **tutorial**.
-- Documentation_: If you're looking for info about a specific feature, check out Coconut's **documentation**.
-- `Online Interpreter`_: If you want to try Coconut in your browser, check out Coconut's **online interpreter**.
-- FAQ_: If you have general questions about Coconutlike who Coconut is built for and whether or not you should use itCoconut's frequently asked questions are often the best place to start.
-- `Create a New Issue <https://github.com/evhub/coconut/issues/new>`_: If you're having a problem with Coconut, creating a new issue detailing the problem will allow it to be addressed as soon as possible.
-- Gitter_: For any questions, concerns, or comments about anything Coconut-related, ask around at Coconut's Gitter, a GitHub-integrated chat room for Coconut developers.
-- Releases_: Want to know what's been added in recent Coconut versions? Check out the release log for all the new features and fixes.
-
-.. _Python: https://www.python.org/
-.. _PyPI: https://pypi.python.org/pypi/coconut
-.. _Tutorial: http://coconut.readthedocs.io/en/latest/HELP.html
-.. _Documentation: http://coconut.readthedocs.io/en/latest/DOCS.html
-.. _`Online Interpreter`: https://cs121-team-panda.github.io/coconut-interpreter
-.. _FAQ: http://coconut.readthedocs.io/en/latest/FAQ.html
-.. _GitHub: https://github.com/evhub/coconut
-.. _Gitter: https://gitter.im/evhub/coconut
-.. _Releases: https://github.com/evhub/coconut/releases
-
-Credits
-+++++++
-
-Contributors
-------------
-
-This project exists thanks to all the people who contribute! `Become a contributor`__.
-
-.. image:: https://opencollective.com/coconut/contributors.svg?width=890&button=false
-    :target: https://github.com/evhub/coconut/graphs/contributors
-
-__ Contributor_
-.. _Contributor: http://coconut.readthedocs.io/en/develop/CONTRIBUTING.html
-
-Backers
--------
-
-Thank you to all our backers! `Become a backer`__.
-
-.. image:: https://opencollective.com/coconut/backers.svg?width=890
-    :target: https://opencollective.com/coconut#backers
-
-__ Backer_
-.. _Backer: https://opencollective.com/coconut#backer
-
-Sponsors
---------
-
-Support Coconut by becoming a sponsor. Your logo will show up here with a link to your website. `Become a sponsor`__.
-
-.. image:: https://opencollective.com/XX/sponsor/0/avatar.svg
-    :target: https://opencollective.com/coconut/sponsor/0/website
-
-__ Sponsor_
-.. _Sponsor: https://opencollective.com/coconut#sponsor
-
-
```

### Comparing `coconut-develop-3.0.0a0.dev9/README.rst` & `coconut-develop-3.0.1.post0.dev1/README.rst`

 * *Files identical despite different names*

### Comparing `coconut-develop-3.0.0a0.dev9/__coconut__/__init__.py` & `coconut-develop-3.0.1.post0.dev1/__coconut__/__init__.py`

 * *Files identical despite different names*

### Comparing `coconut-develop-3.0.0a0.dev9/__coconut__/__init__.pyi` & `coconut-develop-3.0.1.post0.dev1/__coconut__/__init__.pyi`

 * *Files 3% similar despite different names*

```diff
@@ -77,20 +77,20 @@
     from backports.functools_lru_cache import lru_cache as _lru_cache  # `pip install -U coconut[mypy]` to fix errors on this line
     _coconut.functools.lru_cache = _lru_cache  # type: ignore
 
 if sys.version_info >= (3, 7):
     from dataclasses import dataclass as _dataclass
 else:
     @_dataclass_transform()
-    def _dataclass(cls: type[_T], **kwargs: _t.Any) -> type[_T]: ...
+    def _dataclass(cls: t_coype[_T], **kwargs: _t.Any) -> type[_T]: ...
 
 try:
     from typing_extensions import deprecated as _deprecated  # type: ignore
 except ImportError:
-    def _deprecated(message: _t.Text) -> _t.Callable[[_T], _T]: ...
+    def _deprecated(message: _t.Text) -> _t.Callable[[_T], _T]: ...  # type: ignore
 
 
 # -----------------------------------------------------------------------------------------------------------------------
 # STUB:
 # -----------------------------------------------------------------------------------------------------------------------
 
 if sys.version_info < (3,):
@@ -129,14 +129,15 @@
     _coconut_exec = exec
 
 if sys.version_info < (3, 7):
     def breakpoint(*args: _t.Any, **kwargs: _t.Any) -> _t.Any: ...
 
 
 py_chr = chr
+py_dict = dict
 py_hex = hex
 py_input = input
 py_int = int
 py_map = map
 py_object = object
 py_oct = oct
 py_open = open
@@ -164,45 +165,52 @@
 filter = filter
 reversed = reversed
 enumerate = enumerate
 
 
 _coconut_py_str = py_str
 _coconut_super = super
+_coconut_enumerate = enumerate
+_coconut_filter = filter
+_coconut_range = range
+_coconut_reversed = reversed
+_coconut_zip = zip
 
 
 zip_longest = _coconut.zip_longest
 memoize = _lru_cache
-
-
 reduce = _coconut.functools.reduce
 takewhile = _coconut.itertools.takewhile
 dropwhile = _coconut.itertools.dropwhile
-tee = _coconut_tee = _coconut.itertools.tee
-starmap = _coconut_starmap = _coconut.itertools.starmap
+tee = _coconut.itertools.tee
+starmap = _coconut.itertools.starmap
 cartesian_product = _coconut.itertools.product
-multiset = _coconut_multiset = _coconut.collections.Counter
-
+multiset = _coconut.collections.Counter
 
 _coconut_tee = tee
 _coconut_starmap = starmap
+_coconut_cartesian_product = cartesian_product
+_coconut_multiset = multiset
+
+
 parallel_map = concurrent_map = _coconut_map = map
 
 
 TYPE_CHECKING = _t.TYPE_CHECKING
 
 
 _coconut_sentinel: _t.Any = ...
 
 
 def scan(
     func: _t.Callable[[_T, _U], _T],
     iterable: _t.Iterable[_U],
     initial: _T = ...,
 ) -> _t.Iterable[_T]: ...
+_coconut_scan = scan
 
 
 class MatchError(Exception):
     pattern: _t.Optional[_t.Text]
     value: _t.Any
     def __init__(self, pattern: _t.Optional[_t.Text] = None, value: _t.Any = None) -> None: ...
     @property
@@ -869,14 +877,18 @@
 def _coconut_bool_or(a: None, b: _T) -> _T: ...
 @_t.overload
 def _coconut_bool_or(a: _t.Literal[False], b: _T) -> _T: ...
 @_t.overload
 def _coconut_bool_or(a: _T, b: _U) -> _t.Union[_T, _U]: ...
 
 
+def _coconut_in(a: _T, b: _t.Sequence[_T]) -> bool: ...
+_coconut_not_in = _coconut_in
+
+
 @_t.overload
 def _coconut_none_coalesce(a: _T, b: None) -> _T: ...
 @_t.overload
 def _coconut_none_coalesce(a: None, b: _T) -> _T: ...
 @_t.overload
 def _coconut_none_coalesce(a: _T, b: _U) -> _t.Union[_T, _U]: ...
 
@@ -959,27 +971,29 @@
 
     def __hash__(self) -> int: ...
     def count(self, elem: _T) -> int | float: ...
     def index(self, elem: _T) -> int: ...
     def __fmap__(self, func: _t.Callable[[_T], _U]) -> _t.Iterable[_U]: ...
     def __copy__(self) -> cycle[_T]: ...
     def __len__(self) -> int: ...
+_coconut_cycle = cycle
 
 
 class groupsof(_t.Generic[_T]):
     def __new__(
         cls,
         n: _SupportsIndex,
         iterable: _t.Iterable[_T],
     ) -> groupsof[_T]: ...
     def __iter__(self) -> _t.Iterator[_t.Tuple[_T, ...]]: ...
     def __hash__(self) -> int: ...
     def __copy__(self) -> groupsof[_T]: ...
     def __len__(self) -> int: ...
     def __fmap__(self, func: _t.Callable[[_t.Tuple[_T, ...]], _U]) -> _t.Iterable[_U]: ...
+_coconut_groupsof = groupsof
 
 
 class windowsof(_t.Generic[_T]):
     def __new__(
         cls,
         size: _SupportsIndex,
         iterable: _t.Iterable[_T],
@@ -987,14 +1001,15 @@
         step: _SupportsIndex=1,
     ) -> windowsof[_T]: ...
     def __iter__(self) -> _t.Iterator[_t.Tuple[_T, ...]]: ...
     def __hash__(self) -> int: ...
     def __copy__(self) -> windowsof[_T]: ...
     def __len__(self) -> int: ...
     def __fmap__(self, func: _t.Callable[[_t.Tuple[_T, ...]], _U]) -> _t.Iterable[_U]: ...
+_coconut_windowsof = windowsof
 
 
 class flatten(_t.Iterable[_T]):
     def __new__(
         cls,
         iterable: _t.Iterable[_t.Iterable[_T]],
         levels: _t.Optional[_SupportsIndex]=1,
@@ -1043,18 +1058,18 @@
 def fmap(func: _t.Callable[[_T], _U], obj: _t.Tuple[_T, ...]) -> _t.Tuple[_U, ...]: ...
 @_t.overload
 def fmap(func: _t.Callable[[_T], _U], obj: _t.Iterator[_T]) -> _t.Iterator[_U]: ...
 @_t.overload
 def fmap(func: _t.Callable[[_T], _U], obj: _t.Set[_T]) -> _t.Set[_U]: ...
 @_t.overload
 def fmap(func: _t.Callable[[_T], _U], obj: _t.AsyncIterable[_T]) -> _t.AsyncIterable[_U]: ...
-@_t.overload
-def fmap(func: _t.Callable[[_t.Tuple[_T, _U]], _t.Tuple[_V, _W]], obj: _t.Dict[_T, _U]) -> _t.Dict[_V, _W]: ...
-@_t.overload
-def fmap(func: _t.Callable[[_t.Tuple[_T, _U]], _t.Tuple[_V, _W]], obj: _t.Mapping[_T, _U]) -> _t.Mapping[_V, _W]: ...
+# @_t.overload
+# def fmap(func: _t.Callable[[_t.Tuple[_T, _U]], _t.Tuple[_V, _W]], obj: _t.Dict[_T, _U]) -> _t.Dict[_V, _W]: ...
+# @_t.overload
+# def fmap(func: _t.Callable[[_t.Tuple[_T, _U]], _t.Tuple[_V, _W]], obj: _t.Mapping[_T, _U]) -> _t.Mapping[_V, _W]: ...
 @_t.overload
 def fmap(func: _t.Callable[[_T, _U], _t.Tuple[_V, _W]], obj: _t.Dict[_T, _U], starmap_over_mappings: _t.Literal[True]) -> _t.Dict[_V, _W]: ...
 @_t.overload
 def fmap(func: _t.Callable[[_T, _U], _t.Tuple[_V, _W]], obj: _t.Mapping[_T, _U], starmap_over_mappings: _t.Literal[True]) -> _t.Mapping[_V, _W]: ...
 
 
 def _coconut_handle_cls_kwargs(**kwargs: _t.Dict[_t.Text, _t.Any]) -> _t.Callable[[_T], _T]: ...
@@ -1100,24 +1115,24 @@
 # lift(_T -> _W)
 class _coconut_lifted_1(_t.Generic[_T, _W]):
     # @_t.overload
     # def __call__(
     #     self,
     #     _g: _t.Callable[[_X], _T],
     # ) -> _t.Callable[[_X], _W]: ...
-    @_t.overload
-    def __call__(
-        self,
-        _g: _t.Callable[[_X, _Y], _T],
-    ) -> _t.Callable[[_X, _Y], _W]: ...
-    @_t.overload
-    def __call__(
-        self,
-        _g: _t.Callable[[_X, _Y, _Z], _T],
-    ) -> _t.Callable[[_X, _Y, _Z], _W]: ...
+    # @_t.overload
+    # def __call__(
+    #     self,
+    #     _g: _t.Callable[[_X, _Y], _T],
+    # ) -> _t.Callable[[_X, _Y], _W]: ...
+    # @_t.overload
+    # def __call__(
+    #     self,
+    #     _g: _t.Callable[[_X, _Y, _Z], _T],
+    # ) -> _t.Callable[[_X, _Y, _Z], _W]: ...
     @_t.overload
     def __call__(
         self,
         _g: _t.Callable[_P, _T],
     ) -> _t.Callable[_P, _W]: ...
     # @_t.overload
     # def __call__(
@@ -1134,26 +1149,26 @@
 class _coconut_lifted_2(_t.Generic[_T, _U, _W]):
     # @_t.overload
     # def __call__(
     #     self,
     #     _g: _t.Callable[[_X], _T],
     #     _h: _t.Callable[[_X], _U],
     # ) -> _t.Callable[[_X], _W]: ...
-    @_t.overload
-    def __call__(
-        self,
-        _g: _t.Callable[[_X, _Y], _T],
-        _h: _t.Callable[[_X, _Y], _U],
-    ) -> _t.Callable[[_X, _Y], _W]: ...
-    @_t.overload
-    def __call__(
-        self,
-        _g: _t.Callable[[_X, _Y, _Z], _T],
-        _h: _t.Callable[[_X, _Y, _Z], _U],
-    ) -> _t.Callable[[_X, _Y, _Z], _W]: ...
+    # @_t.overload
+    # def __call__(
+    #     self,
+    #     _g: _t.Callable[[_X, _Y], _T],
+    #     _h: _t.Callable[[_X, _Y], _U],
+    # ) -> _t.Callable[[_X, _Y], _W]: ...
+    # @_t.overload
+    # def __call__(
+    #     self,
+    #     _g: _t.Callable[[_X, _Y, _Z], _T],
+    #     _h: _t.Callable[[_X, _Y, _Z], _U],
+    # ) -> _t.Callable[[_X, _Y, _Z], _W]: ...
     @_t.overload
     def __call__(
         self,
         _g: _t.Callable[_P, _T],
         _h: _t.Callable[_P, _U],
     ) -> _t.Callable[_P, _W]: ...
     # @_t.overload
@@ -1174,28 +1189,28 @@
     # @_t.overload
     # def __call__(
     #     self,
     #     _g: _t.Callable[[_X], _T],
     #     _h: _t.Callable[[_X], _U],
     #     _i: _t.Callable[[_X], _V],
     # ) -> _t.Callable[[_X], _W]: ...
-    @_t.overload
-    def __call__(
-        self,
-        _g: _t.Callable[[_X, _Y], _T],
-        _h: _t.Callable[[_X, _Y], _U],
-        _i: _t.Callable[[_X, _Y], _V],
-    ) -> _t.Callable[[_X, _Y], _W]: ...
-    @_t.overload
-    def __call__(
-        self,
-        _g: _t.Callable[[_X, _Y, _Z], _T],
-        _h: _t.Callable[[_X, _Y, _Z], _U],
-        _i: _t.Callable[[_X, _Y, _Z], _V],
-    ) -> _t.Callable[[_X, _Y, _Z], _W]: ...
+    # @_t.overload
+    # def __call__(
+    #     self,
+    #     _g: _t.Callable[[_X, _Y], _T],
+    #     _h: _t.Callable[[_X, _Y], _U],
+    #     _i: _t.Callable[[_X, _Y], _V],
+    # ) -> _t.Callable[[_X, _Y], _W]: ...
+    # @_t.overload
+    # def __call__(
+    #     self,
+    #     _g: _t.Callable[[_X, _Y, _Z], _T],
+    #     _h: _t.Callable[[_X, _Y, _Z], _U],
+    #     _i: _t.Callable[[_X, _Y, _Z], _V],
+    # ) -> _t.Callable[[_X, _Y, _Z], _W]: ...
     @_t.overload
     def __call__(
         self,
         _g: _t.Callable[_P, _T],
         _h: _t.Callable[_P, _U],
         _i: _t.Callable[_P, _V],
     ) -> _t.Callable[_P, _W]: ...
@@ -1219,14 +1234,15 @@
 def lift(func: _t.Callable[[_T], _W]) -> _coconut_lifted_1[_T, _W]: ...
 @_t.overload
 def lift(func: _t.Callable[[_T, _U], _W]) -> _coconut_lifted_2[_T, _U, _W]: ...
 @_t.overload
 def lift(func: _t.Callable[[_T, _U, _V], _W]) -> _coconut_lifted_3[_T, _U, _V, _W]: ...
 @_t.overload
 def lift(func: _t.Callable[..., _W]) -> _t.Callable[..., _t.Callable[..., _W]]: ...
+_coconut_lift = lift
 
 
 def all_equal(iterable: _Iterable) -> bool: ...
 
 
 @_t.overload
 def collectby(
@@ -1325,7 +1341,66 @@
 def _coconut_multi_dim_arr(
     arrs: _t.Tuple[_T, ...],
     dim: _t.Literal[2],
 ) -> _t.Sequence[_t.Sequence[_T]]: ...
 
 @_t.overload
 def _coconut_multi_dim_arr(arrs: _Tuple, dim: int) -> _Sequence: ...
+
+
+class _coconut_SupportsAdd(_t.Protocol, _t.Generic[_Tco, _Ucontra, _Vco]):
+    def __add__(self: _Tco, other: _Ucontra) -> _Vco:
+        raise NotImplementedError
+
+class _coconut_SupportsMinus(_t.Protocol, _t.Generic[_Tco, _Ucontra, _Vco]):
+    def __sub__(self: _Tco, other: _Ucontra) -> _Vco:
+        raise NotImplementedError
+    def __neg__(self: _Tco) -> _Vco:
+        raise NotImplementedError
+
+class _coconut_SupportsMul(_t.Protocol, _t.Generic[_Tco, _Ucontra, _Vco]):
+    def __mul__(self: _Tco, other: _Ucontra) -> _Vco:
+        raise NotImplementedError
+
+class _coconut_SupportsPow(_t.Protocol, _t.Generic[_Tco, _Ucontra, _Vco]):
+    def __pow__(self: _Tco, other: _Ucontra) -> _Vco:
+        raise NotImplementedError
+
+class _coconut_SupportsTruediv(_t.Protocol, _t.Generic[_Tco, _Ucontra, _Vco]):
+    def __truediv__(self: _Tco, other: _Ucontra) -> _Vco:
+        raise NotImplementedError
+
+class _coconut_SupportsFloordiv(_t.Protocol, _t.Generic[_Tco, _Ucontra, _Vco]):
+    def __floordiv__(self: _Tco, other: _Ucontra) -> _Vco:
+        raise NotImplementedError
+
+class _coconut_SupportsMod(_t.Protocol, _t.Generic[_Tco, _Ucontra, _Vco]):
+    def __mod__(self: _Tco, other: _Ucontra) -> _Vco:
+        raise NotImplementedError
+
+class _coconut_SupportsAnd(_t.Protocol, _t.Generic[_Tco, _Ucontra, _Vco]):
+    def __and__(self: _Tco, other: _Ucontra) -> _Vco:
+        raise NotImplementedError
+
+class _coconut_SupportsXor(_t.Protocol, _t.Generic[_Tco, _Ucontra, _Vco]):
+    def __xor__(self: _Tco, other: _Ucontra) -> _Vco:
+        raise NotImplementedError
+
+class _coconut_SupportsOr(_t.Protocol, _t.Generic[_Tco, _Ucontra, _Vco]):
+    def __or__(self: _Tco, other: _Ucontra) -> _Vco:
+        raise NotImplementedError
+
+class _coconut_SupportsLshift(_t.Protocol, _t.Generic[_Tco, _Ucontra, _Vco]):
+    def __lshift__(self: _Tco, other: _Ucontra) -> _Vco:
+        raise NotImplementedError
+
+class _coconut_SupportsRshift(_t.Protocol, _t.Generic[_Tco, _Ucontra, _Vco]):
+    def __rshift__(self: _Tco, other: _Ucontra) -> _Vco:
+        raise NotImplementedError
+
+class _coconut_SupportsMatmul(_t.Protocol, _t.Generic[_Tco, _Ucontra, _Vco]):
+    def __matmul__(self: _Tco, other: _Ucontra) -> _Vco:
+        raise NotImplementedError
+
+class _coconut_SupportsInv(_t.Protocol, _t.Generic[_Tco, _Vco]):
+    def __invert__(self: _Tco) -> _Vco:
+        raise NotImplementedError
```

### Comparing `coconut-develop-3.0.0a0.dev9/_coconut/__init__.py` & `coconut-develop-3.0.1.post0.dev1/_coconut/__init__.py`

 * *Files identical despite different names*

### Comparing `coconut-develop-3.0.0a0.dev9/_coconut/__init__.pyi` & `coconut-develop-3.0.1.post0.dev1/_coconut/__init__.pyi`

 * *Files 21% similar despite different names*

```diff
@@ -56,40 +56,54 @@
     import numpy.typing as _npt  # type: ignore
 except ImportError:
     _numpy = ...
     _npt = ...
 else:
     _abc.Sequence.register(_numpy.ndarray)
 
+# -----------------------------------------------------------------------------------------------------------------------
+# TYPING:
+# -----------------------------------------------------------------------------------------------------------------------
+
+typing = _t
+
+from typing_extensions import TypeVar
+typing.TypeVar = TypeVar  # type: ignore
+
+if sys.version_info < (3, 8):
+    try:
+        from typing_extensions import Protocol
+    except ImportError:
+        Protocol = ...  # type: ignore
+    typing.Protocol = Protocol  # type: ignore
+
 if sys.version_info < (3, 10):
     try:
         from typing_extensions import TypeAlias, ParamSpec, Concatenate
     except ImportError:
-        TypeAlias = ...
-        ParamSpec = ...
-    typing.TypeAlias = TypeAlias
-    typing.ParamSpec = ParamSpec
-    typing.Concatenate = Concatenate
-
+        TypeAlias = ...  # type: ignore
+        ParamSpec = ...  # type: ignore
+        Concatenate = ...  # type: ignore
+    typing.TypeAlias = TypeAlias  # type: ignore
+    typing.ParamSpec = ParamSpec  # type: ignore
+    typing.Concatenate = Concatenate  # type: ignore
 
 if sys.version_info < (3, 11):
     try:
         from typing_extensions import TypeVarTuple, Unpack
     except ImportError:
-        TypeVarTuple = ...
-        Unpack = ...
-    typing.TypeVarTuple = TypeVarTuple
-    typing.Unpack = Unpack
+        TypeVarTuple = ...  # type: ignore
+        Unpack = ...  # type: ignore
+    typing.TypeVarTuple = TypeVarTuple  # type: ignore
+    typing.Unpack = Unpack  # type: ignore
 
 # -----------------------------------------------------------------------------------------------------------------------
 # STUB:
 # -----------------------------------------------------------------------------------------------------------------------
 
-typing = _t
-
 collections = _collections
 copy = _copy
 functools = _functools
 types = _types
 itertools = _itertools
 operator = _operator
 threading = _threading
@@ -104,24 +118,28 @@
 copyreg = _copyreg
 asyncio = _asyncio
 pickle = _pickle
 if sys.version_info >= (2, 7):
     OrderedDict = collections.OrderedDict
 else:
     OrderedDict = dict
+
 abc = _abc
 abc.Sequence.register(collections.deque)
+
 numpy = _numpy
 npt = _npt  # Fake, like typing
 zip_longest = _zip_longest
 
 numpy_modules: _t.Any = ...
+pandas_numpy_modules: _t.Any = ...
 jax_numpy_modules: _t.Any = ...
 tee_type: _t.Any = ...
 reiterables: _t.Any = ...
+fmappables: _t.Any = ...
 
 Ellipsis = Ellipsis
 NotImplemented = NotImplemented
 NotImplementedError = NotImplementedError
 Exception = Exception
 AttributeError = AttributeError
 ImportError = ImportError
@@ -151,14 +169,15 @@
 int = int
 isinstance = isinstance
 issubclass = issubclass
 iter = iter
 len: _t.Callable[..., int] = ...  # pattern-matching needs an untyped _coconut.len to avoid type errors
 list = list
 locals = locals
+globals = globals
 map = map
 min = min
 max = max
 next = next
 object = object
 print = print
 property = property
```

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/__coconut__.py` & `coconut-develop-3.0.1.post0.dev1/coconut/__coconut__.py`

 * *Files identical despite different names*

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/__init__.py` & `coconut-develop-3.0.1.post0.dev1/coconut/__init__.py`

 * *Files identical despite different names*

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/__init__.pyi` & `coconut-develop-3.0.1.post0.dev1/coconut/__init__.pyi`

 * *Files identical despite different names*

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/__main__.py` & `coconut-develop-3.0.1.post0.dev1/coconut/__main__.py`

 * *Files identical despite different names*

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/_pyparsing.py` & `coconut-develop-3.0.1.post0.dev1/coconut/_pyparsing.py`

 * *Files identical despite different names*

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/command/__init__.py` & `coconut-develop-3.0.1.post0.dev1/coconut/command/__init__.py`

 * *Files identical despite different names*

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/command/cli.py` & `coconut-develop-3.0.1.post0.dev1/coconut/command/cli.py`

 * *Files 8% similar despite different names*

```diff
@@ -30,14 +30,15 @@
     style_env_var,
     default_style,
     vi_mode_env_var,
     prompt_vi_mode,
     prompt_histfile,
     home_env_var,
     py_version_str,
+    default_jobs,
 )
 
 # -----------------------------------------------------------------------------------------------------------------------
 # VERSION:
 # -----------------------------------------------------------------------------------------------------------------------
 
 cli_version = "Version " + VERSION_STR + " running on Python " + py_version_str + " and " + PYPARSING_INFO
@@ -72,15 +73,15 @@
 
 arguments.add_argument(
     "--and",
     metavar=("source", "dest"),
     type=str,
     nargs="+",
     action="append",
-    help="add an additional source/dest pair to compile",
+    help="add an additional source/dest pair to compile (dest is optional)",
 )
 
 arguments.add_argument(
     "-v", "-V", "--version",
     action="version",
     version=cli_version_str,
     help="print Coconut and Python version information",
@@ -178,15 +179,15 @@
     help="run Coconut passed in as a string (can also be piped into stdin)",
 )
 
 arguments.add_argument(
     "-j", "--jobs",
     metavar="processes",
     type=str,
-    help="number of additional processes to use (defaults to 0) (pass 'sys' to use machine default)",
+    help="number of additional processes to use (defaults to " + ascii(default_jobs) + ") (0 is no additional processes; 'sys' uses machine default)",
 )
 
 arguments.add_argument(
     "-f", "--force",
     action="store_true",
     help="force re-compilation even when source code and compilation parameters haven't changed",
 )
@@ -251,15 +252,22 @@
     help="enable vi mode in the interpreter (currently set to " + ascii(prompt_vi_mode) + ") (can be modified by setting " + vi_mode_env_var + " environment variable)",
 )
 
 arguments.add_argument(
     "--recursion-limit", "--recursionlimit",
     metavar="limit",
     type=int,
-    help="set maximum recursion depth in compiler (defaults to " + str(default_recursion_limit) + ")",
+    help="set maximum recursion depth in compiler (defaults to " + ascii(default_recursion_limit) + ") (when increasing --recursion-limit, you may also need to increase --stack-size)",
+)
+
+arguments.add_argument(
+    "--stack-size", "--stacksize",
+    metavar="kbs",
+    type=int,
+    help="run the compiler in a separate thread with the given stack size in kilobytes",
 )
 
 arguments.add_argument(
     "--site-install", "--siteinstall",
     action="store_true",
     help="set up coconut.convenience to be imported on Python start",
 )
```

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/command/command.py` & `coconut-develop-3.0.1.post0.dev1/coconut/command/command.py`

 * *Files 2% similar despite different names*

```diff
@@ -19,14 +19,15 @@
 
 from coconut.root import *  # NOQA
 
 import sys
 import os
 import time
 import shutil
+import random
 from contextlib import contextmanager
 from subprocess import CalledProcessError
 
 from coconut._pyparsing import (
     unset_fast_pyparsing_reprs,
     collect_timing_info,
     print_timing_info,
@@ -63,14 +64,16 @@
     mypy_silent_err_prefixes,
     mypy_err_infixes,
     mypy_install_arg,
     mypy_builtin_regex,
     coconut_pth_file,
     error_color_code,
     jupyter_console_commands,
+    default_jobs,
+    create_package_retries,
 )
 from coconut.util import (
     univ_open,
     ver_tuple_to_str,
     install_custom_kernel,
     get_clock_time,
     first_import_time,
@@ -90,14 +93,17 @@
     is_special_dir,
     launch_documentation,
     launch_tutorial,
     stdin_readable,
     set_recursion_limit,
     can_parse,
     invert_mypy_arg,
+    run_with_stack_size,
+    memoized_isdir,
+    memoized_isfile,
 )
 from coconut.compiler.util import (
     should_indent,
     get_target_info_smart,
 )
 from coconut.compiler.header import gethash
 from coconut.compiler.grammar import set_grammar_names
@@ -107,26 +113,33 @@
 # MAIN:
 # -----------------------------------------------------------------------------------------------------------------------
 
 
 class Command(object):
     """Coconut command-line interface."""
     comp = None  # current coconut.compiler.Compiler
-    show = False  # corresponds to --display flag
     runner = None  # the current Runner
-    jobs = 0  # corresponds to --jobs flag
     executor = None  # runs --jobs
     exit_code = 0  # exit status to return
     errmsg = None  # error message to display
+
+    show = False  # corresponds to --display flag
+    jobs = 0  # corresponds to --jobs flag
     mypy_args = None  # corresponds to --mypy flag
     argv_args = None  # corresponds to --argv flag
+    stack_size = 0  # corresponds to --stack-size flag
 
-    def __init__(self):
-        """Create the CLI."""
-        self.prompt = Prompt()
+    _prompt = None
+
+    @property
+    def prompt(self):
+        """Delay creation of a Prompt() until it's needed."""
+        if self._prompt is None:
+            self._prompt = Prompt()
+        return self._prompt
 
     def start(self, run=False):
         """Endpoint for coconut and coconut-run."""
         if run:
             args, argv = [], []
             # for coconut-run, all args beyond the source file should be wrapped in an --argv
             for i in range(1, len(sys.argv)):
@@ -141,29 +154,37 @@
                     args.append(run_arg)
             self.cmd(args, argv=argv)
         else:
             self.cmd()
 
     def cmd(self, args=None, argv=None, interact=True, default_target=None):
         """Process command-line arguments."""
-        if args is None:
-            parsed_args = arguments.parse_args()
-        else:
-            parsed_args = arguments.parse_args(args)
-        if argv is not None:
-            if parsed_args.argv is not None:
-                raise CoconutException("cannot pass --argv/--args when using coconut-run (coconut-run interprets any arguments after the source file as --argv/--args)")
-            parsed_args.argv = argv
-        if parsed_args.target is None:
-            parsed_args.target = default_target
-        self.exit_code = 0
         with self.handling_exceptions():
-            self.use_args(parsed_args, interact, original_args=args)
+            if args is None:
+                parsed_args = arguments.parse_args()
+            else:
+                parsed_args = arguments.parse_args(args)
+            if argv is not None:
+                if parsed_args.argv is not None:
+                    raise CoconutException("cannot pass --argv/--args when using coconut-run (coconut-run interprets any arguments after the source file as --argv/--args)")
+                parsed_args.argv = argv
+            if parsed_args.target is None:
+                parsed_args.target = default_target
+            self.exit_code = 0
+            self.stack_size = parsed_args.stack_size
+            self.run_with_stack_size(self.execute_args, parsed_args, interact, original_args=args)
         self.exit_on_error()
 
+    def run_with_stack_size(self, func, *args, **kwargs):
+        """Execute func with the correct stack size."""
+        if self.stack_size:
+            return run_with_stack_size(self.stack_size, func, *args, **kwargs)
+        else:
+            return func(*args, **kwargs)
+
     def setup(self, *args, **kwargs):
         """Set parameters for the compiler."""
         if self.comp is None:
             self.comp = Compiler(*args, **kwargs)
         else:
             self.comp.setup(*args, **kwargs)
 
@@ -179,180 +200,184 @@
                 #  listeners see the error
                 logger.show("Coconut exiting with error: " + self.errmsg, color=error_color_code)
                 self.errmsg = None
             if self.using_jobs:
                 kill_children()
             sys.exit(self.exit_code)
 
-    def use_args(self, args, interact=True, original_args=None):
+    def execute_args(self, args, interact=True, original_args=None):
         """Handle command-line arguments."""
-        # fix args
-        if not DEVELOP:
-            args.trace = args.profile = False
-
-        # set up logger
-        logger.quiet, logger.verbose, logger.tracing = args.quiet, args.verbose, args.trace
-        if args.verbose or args.trace or args.profile:
-            set_grammar_names()
-        if args.trace or args.profile:
-            unset_fast_pyparsing_reprs()
-        if args.profile:
-            collect_timing_info()
-        logger.enable_colors()
-
-        logger.log(cli_version)
-        if original_args is not None:
-            logger.log("Directly passed args:", original_args)
-        logger.log("Parsed args:", args)
-
-        # validate general command args
-        if args.mypy is not None and args.line_numbers:
-            logger.warn("extraneous --line-numbers argument passed; --mypy implies --line-numbers")
-        if args.site_install and args.site_uninstall:
-            raise CoconutException("cannot --site-install and --site-uninstall simultaneously")
-        for and_args in getattr(args, "and") or []:
-            if len(and_args) > 2:
-                raise CoconutException(
-                    "--and accepts at most two arguments, source and dest ({n} given: {args!r})".format(
-                        n=len(and_args),
-                        args=and_args,
-                    ),
-                )
+        with self.handling_exceptions():
+            # fix args
+            if not DEVELOP:
+                args.trace = args.profile = False
+
+            # set up logger
+            logger.quiet, logger.verbose, logger.tracing = args.quiet, args.verbose, args.trace
+            if args.verbose or args.trace or args.profile:
+                set_grammar_names()
+            if args.trace or args.profile:
+                unset_fast_pyparsing_reprs()
+            if args.profile:
+                collect_timing_info()
+            logger.enable_colors()
+
+            logger.log(cli_version)
+            if original_args is not None:
+                logger.log("Directly passed args:", original_args)
+            logger.log("Parsed args:", args)
+
+            # validate general command args
+            if args.stack_size and args.stack_size % 4 != 0:
+                logger.warn("--stack-size should generally be a multiple of 4, not {stack_size} (to support 4 KB pages)".format(stack_size=args.stack_size))
+            if args.mypy is not None and args.line_numbers:
+                logger.warn("extraneous --line-numbers argument passed; --mypy implies --line-numbers")
+            if args.site_install and args.site_uninstall:
+                raise CoconutException("cannot --site-install and --site-uninstall simultaneously")
+            for and_args in getattr(args, "and") or []:
+                if len(and_args) > 2:
+                    raise CoconutException(
+                        "--and accepts at most two arguments, source and dest ({n} given: {args!r})".format(
+                            n=len(and_args),
+                            args=and_args,
+                        ),
+                    )
 
-        # process general command args
-        if args.recursion_limit is not None:
-            set_recursion_limit(args.recursion_limit)
-        if args.jobs is not None:
-            self.set_jobs(args.jobs)
-        if args.display:
-            self.show = True
-        if args.style is not None:
-            self.prompt.set_style(args.style)
-        if args.history_file is not None:
-            self.prompt.set_history_file(args.history_file)
-        if args.vi_mode:
-            self.prompt.vi_mode = True
-        if args.docs:
-            launch_documentation()
-        if args.tutorial:
-            launch_tutorial()
-        if args.site_uninstall:
-            self.site_uninstall()
-        if args.site_install:
-            self.site_install()
-        if args.argv is not None:
-            self.argv_args = list(args.argv)
-
-        # additional validation after processing
-        if args.profile and self.jobs != 0:
-            raise CoconutException("--profile incompatible with --jobs {jobs}".format(jobs=args.jobs))
-
-        # process general compiler args
-        self.setup(
-            target=args.target,
-            strict=args.strict,
-            minify=args.minify,
-            line_numbers=args.line_numbers or args.mypy is not None,
-            keep_lines=args.keep_lines,
-            no_tco=args.no_tco,
-            no_wrap=args.no_wrap_types,
-        )
+            # process general command args
+            self.set_jobs(args.jobs, args.profile)
+            if args.recursion_limit is not None:
+                set_recursion_limit(args.recursion_limit)
+            if args.display:
+                self.show = True
+            if args.style is not None:
+                self.prompt.set_style(args.style)
+            if args.history_file is not None:
+                self.prompt.set_history_file(args.history_file)
+            if args.vi_mode:
+                self.prompt.vi_mode = True
+            if args.docs:
+                launch_documentation()
+            if args.tutorial:
+                launch_tutorial()
+            if args.site_uninstall:
+                self.site_uninstall()
+            if args.site_install:
+                self.site_install()
+            if args.argv is not None:
+                self.argv_args = list(args.argv)
+
+            # process general compiler args
+            self.setup(
+                target=args.target,
+                strict=args.strict,
+                minify=args.minify,
+                line_numbers=args.line_numbers or args.mypy is not None,
+                keep_lines=args.keep_lines,
+                no_tco=args.no_tco,
+                no_wrap=args.no_wrap_types,
+            )
 
-        # process mypy args and print timing info (must come after compiler setup)
-        if args.mypy is not None:
-            self.set_mypy_args(args.mypy)
-        logger.log("Grammar init time: " + str(self.comp.grammar_init_time) + " secs / Total init time: " + str(get_clock_time() - first_import_time) + " secs")
-
-        if args.source is not None:
-            # warnings if source is given
-            if args.interact and args.run:
-                logger.warn("extraneous --run argument passed; --interact implies --run")
-            if args.package and self.mypy:
-                logger.warn("extraneous --package argument passed; --mypy implies --package")
-
-            # errors if source is given
-            if args.standalone and args.package:
-                raise CoconutException("cannot compile as both --package and --standalone")
-            if args.standalone and self.mypy:
-                raise CoconutException("cannot compile as both --package (implied by --mypy) and --standalone")
-            if args.no_write and self.mypy:
-                raise CoconutException("cannot compile with --no-write when using --mypy")
-
-            # process all source, dest pairs
-            src_dest_package_triples = [
-                self.process_source_dest(src, dst, args)
-                for src, dst in (
-                    [(args.source, args.dest)]
-                    + (getattr(args, "and") or [])
-                )
-            ]
+            # process mypy args and print timing info (must come after compiler setup)
+            if args.mypy is not None:
+                self.set_mypy_args(args.mypy)
+            logger.log("Grammar init time: " + str(self.comp.grammar_init_time) + " secs / Total init time: " + str(get_clock_time() - first_import_time) + " secs")
+
+            if args.source is not None:
+                # warnings if source is given
+                if args.interact and args.run:
+                    logger.warn("extraneous --run argument passed; --interact implies --run")
+                if args.package and self.mypy:
+                    logger.warn("extraneous --package argument passed; --mypy implies --package")
+
+                # errors if source is given
+                if args.standalone and args.package:
+                    raise CoconutException("cannot compile as both --package and --standalone")
+                if args.standalone and self.mypy:
+                    raise CoconutException("cannot compile as both --package (implied by --mypy) and --standalone")
+                if args.no_write and self.mypy:
+                    raise CoconutException("cannot compile with --no-write when using --mypy")
+
+                # process all source, dest pairs
+                src_dest_package_triples = []
+                for and_args in [(args.source, args.dest)] + (getattr(args, "and") or []):
+                    if len(and_args) == 1:
+                        src, = and_args
+                        dest = None
+                    else:
+                        src, dest = and_args
+                    src_dest_package_triples.append(self.process_source_dest(src, dest, args))
 
-            # do compilation
-            with self.running_jobs(exit_on_error=not args.watch):
-                filepaths = []
-                for source, dest, package in src_dest_package_triples:
-                    filepaths += self.compile_path(source, dest, package, run=args.run or args.interact, force=args.force)
-            self.run_mypy(filepaths)
-
-        # validate args if no source is given
-        elif (
-            args.run
-            or args.no_write
-            or args.force
-            or args.package
-            or args.standalone
-            or args.watch
-        ):
-            raise CoconutException("a source file/folder must be specified when options that depend on the source are enabled")
-        elif getattr(args, "and"):
-            raise CoconutException("--and should only be used for extra source/dest pairs, not the first source/dest pair")
-
-        # handle extra cli tasks
-        if args.code is not None:
-            self.execute(self.parse_block(args.code))
-        got_stdin = False
-        if args.jupyter is not None:
-            self.start_jupyter(args.jupyter)
-        elif stdin_readable():
-            logger.log("Reading piped input from stdin...")
-            self.execute(self.parse_block(sys.stdin.read()))
-            got_stdin = True
-        if args.interact or (
-            interact and not (
-                got_stdin
-                or args.source
-                or args.code
-                or args.tutorial
-                or args.docs
+                # disable jobs if we know we're only compiling one file
+                if len(src_dest_package_triples) <= 1 and not any(memoized_isdir(source) for source, dest, package in src_dest_package_triples):
+                    self.disable_jobs()
+
+                # do compilation
+                with self.running_jobs(exit_on_error=not args.watch):
+                    filepaths = []
+                    for source, dest, package in src_dest_package_triples:
+                        filepaths += self.compile_path(source, dest, package, run=args.run or args.interact, force=args.force)
+                self.run_mypy(filepaths)
+
+            # validate args if no source is given
+            elif (
+                args.run
+                or args.no_write
+                or args.force
+                or args.package
+                or args.standalone
                 or args.watch
-                or args.site_uninstall
-                or args.site_install
-                or args.jupyter is not None
-                or args.mypy == [mypy_install_arg]
-            )
-        ):
-            self.start_prompt()
-        if args.watch:
-            # src_dest_package_triples is always available here
-            self.watch(src_dest_package_triples, args.run, args.force)
-        if args.profile:
-            print_timing_info()
+                or args.jobs
+            ):
+                raise CoconutException("a source file/folder must be specified when options that depend on the source are enabled")
+            elif getattr(args, "and"):
+                raise CoconutException("--and should only be used for extra source/dest pairs, not the first source/dest pair")
+
+            # handle extra cli tasks
+            if args.code is not None:
+                self.execute(self.parse_block(args.code))
+            got_stdin = False
+            if args.jupyter is not None:
+                self.start_jupyter(args.jupyter)
+            elif stdin_readable():
+                logger.log("Reading piped input from stdin...")
+                self.execute(self.parse_block(sys.stdin.read()))
+                got_stdin = True
+            if args.interact or (
+                interact and not (
+                    got_stdin
+                    or args.source
+                    or args.code
+                    or args.tutorial
+                    or args.docs
+                    or args.watch
+                    or args.site_uninstall
+                    or args.site_install
+                    or args.jupyter is not None
+                    or args.mypy == [mypy_install_arg]
+                )
+            ):
+                self.start_prompt()
+            if args.watch:
+                # src_dest_package_triples is always available here
+                self.watch(src_dest_package_triples, args.run, args.force)
+            if args.profile:
+                print_timing_info()
 
     def process_source_dest(self, source, dest, args):
         """Determine the correct source, dest, package mode to use for the given source, dest, and args."""
         # determine source
         processed_source = fixpath(source)
 
         # validate args
-        if (args.run or args.interact) and os.path.isdir(processed_source):
+        if (args.run or args.interact) and memoized_isdir(processed_source):
             if args.run:
                 raise CoconutException("source path %r must point to file not directory when --run is enabled" % (source,))
             if args.interact:
                 raise CoconutException("source path %r must point to file not directory when --run (implied by --interact) is enabled" % (source,))
-        if args.watch and os.path.isfile(processed_source):
+        if args.watch and memoized_isfile(processed_source):
             raise CoconutException("source path %r must point to directory not file when --watch is enabled" % (source,))
 
         # determine dest
         if dest is None:
             if args.no_write:
                 processed_dest = False  # no dest
             else:
@@ -365,17 +390,17 @@
         # determine package mode
         if args.package or self.mypy:
             package = True
         elif args.standalone:
             package = False
         else:
             # auto-decide package
-            if os.path.isfile(source):
+            if memoized_isfile(processed_source):
                 package = False
-            elif os.path.isdir(source):
+            elif memoized_isdir(processed_source):
                 package = True
             else:
                 raise CoconutException("could not find source path", source)
 
         return processed_source, processed_dest, package
 
     def register_exit_code(self, code=1, errmsg=None, err=None):
@@ -405,36 +430,38 @@
                 with handling_broken_process_pool():
                     yield
             else:
                 yield
         except SystemExit as err:
             self.register_exit_code(err.code)
         except BaseException as err:
-            if isinstance(err, CoconutException):
+            if isinstance(err, GeneratorExit):
+                raise
+            elif isinstance(err, CoconutException):
                 logger.print_exc()
             elif not isinstance(err, KeyboardInterrupt):
                 logger.print_exc()
                 logger.printerr(report_this_text)
             self.register_exit_code(err=err)
 
     def compile_path(self, path, write=True, package=True, **kwargs):
         """Compile a path and returns paths to compiled files."""
         if not isinstance(write, bool):
             write = fixpath(write)
-        if os.path.isfile(path):
+        if memoized_isfile(path):
             destpath = self.compile_file(path, write, package, **kwargs)
             return [destpath] if destpath is not None else []
-        elif os.path.isdir(path):
+        elif memoized_isdir(path):
             return self.compile_folder(path, write, package, **kwargs)
         else:
             raise CoconutException("could not find source path", path)
 
     def compile_folder(self, directory, write=True, package=True, **kwargs):
         """Compile a directory and returns paths to compiled files."""
-        if not isinstance(write, bool) and os.path.isfile(write):
+        if not isinstance(write, bool) and memoized_isfile(write):
             raise CoconutException("destination path cannot point to a file when compiling a directory")
         filepaths = []
         for dirpath, dirnames, filenames in os.walk(directory):
             if isinstance(write, bool):
                 writedir = write
             else:
                 writedir = os.path.join(write, os.path.relpath(dirpath, directory))
@@ -555,75 +582,104 @@
         if package_level < 0:
             if self.comp.strict:
                 logger.warn("missing __init__" + code_exts[0] + " in package", check_dir, extra="remove --strict to dismiss")
             package_level = 0
         return package_level
         return 0
 
-    def create_package(self, dirpath):
+    def create_package(self, dirpath, retries_left=create_package_retries):
         """Set up a package directory."""
         filepath = os.path.join(dirpath, "__coconut__.py")
-        with univ_open(filepath, "w") as opened:
-            writefile(opened, self.comp.getheader("__coconut__"))
+        try:
+            with univ_open(filepath, "w") as opened:
+                writefile(opened, self.comp.getheader("__coconut__"))
+        except OSError:
+            logger.log_exc()
+            if retries_left <= 0:
+                logger.warn("Failed to write header file at", filepath)
+            else:
+                # sleep a random amount of time from 0 to 0.1 seconds to
+                #  stagger calls across processes
+                time.sleep(random.random() / 10)
+                self.create_package(dirpath, retries_left - 1)
 
     def submit_comp_job(self, path, callback, method, *args, **kwargs):
         """Submits a job on self.comp to be run in parallel."""
         if self.executor is None:
             with self.handling_exceptions():
                 callback(getattr(self.comp, method)(*args, **kwargs))
         else:
             path = showpath(path)
             with logger.in_path(path):  # pickle the compiler in the path context
                 future = self.executor.submit(multiprocess_wrapper(self.comp, method), *args, **kwargs)
 
-            def callback_wrapper(completed_future):
-                """Ensures that all errors are always caught, since errors raised in a callback won't be propagated."""
-                with logger.in_path(path):  # handle errors in the path context
-                    with self.handling_exceptions():
-                        result = completed_future.result()
-                        callback(result)
-            future.add_done_callback(callback_wrapper)
+                def callback_wrapper(completed_future):
+                    """Ensures that all errors are always caught, since errors raised in a callback won't be propagated."""
+                    with logger.in_path(path):  # handle errors in the path context
+                        with self.handling_exceptions():
+                            result = completed_future.result()
+                            callback(result)
+                future.add_done_callback(callback_wrapper)
 
-    def set_jobs(self, jobs):
+    def set_jobs(self, jobs, profile=False):
         """Set --jobs."""
-        if jobs == "sys":
-            self.jobs = None
+        if jobs in (None, "sys"):
+            self.jobs = jobs
         else:
             try:
                 jobs = int(jobs)
             except ValueError:
                 jobs = -1  # will raise error below
             if jobs < 0:
                 raise CoconutException("--jobs must be an integer >= 0 or 'sys'")
             self.jobs = jobs
+        logger.log("Jobs:", self.jobs)
+        if profile and self.jobs != 0:
+            raise CoconutException("--profile incompatible with --jobs {jobs}".format(jobs=jobs))
+
+    def disable_jobs(self):
+        """Disables use of --jobs."""
+        if self.jobs not in (0, 1, None):
+            logger.warn("got --jobs {jobs} but only compiling one file; disabling --jobs".format(jobs=self.jobs))
+        self.jobs = 0
+        logger.log("Jobs:", self.jobs)
+
+    def get_max_workers(self):
+        """Get the max_workers to use for creating ProcessPoolExecutor."""
+        jobs = self.jobs if self.jobs is not None else default_jobs
+        if jobs == "sys":
+            return None
+        else:
+            return jobs
 
     @property
     def using_jobs(self):
         """Determine whether or not multiprocessing is being used."""
-        return self.jobs is None or self.jobs > 1
+        max_workers = self.get_max_workers()
+        return max_workers is None or max_workers > 1
 
     @contextmanager
     def running_jobs(self, exit_on_error=True):
         """Initialize multiprocessing."""
         with self.handling_exceptions():
             if self.using_jobs:
                 from concurrent.futures import ProcessPoolExecutor
                 try:
-                    with ProcessPoolExecutor(self.jobs) as self.executor:
+                    with ProcessPoolExecutor(self.get_max_workers()) as self.executor:
                         yield
                 finally:
                     self.executor = None
             else:
                 yield
         if exit_on_error:
             self.exit_on_error()
 
     def has_hash_of(self, destpath, code, package_level):
         """Determine if a file has the hash of the code."""
-        if destpath is not None and os.path.isfile(destpath):
+        if destpath is not None and memoized_isfile(destpath):
             with univ_open(destpath, "r") as opened:
                 compiled = readfile(opened)
             hashash = gethash(compiled)
             if hashash is not None and hashash == self.comp.genhash(code, package_level):
                 return True
         return False
 
@@ -795,15 +851,18 @@
             for line, is_err in mypy_run(args):
                 line = line.rstrip()
                 logger.log("[MyPy:{std}]".format(std="err" if is_err else "out"), line)
                 if line.startswith(mypy_silent_err_prefixes):
                     if code is None:  # file
                         logger.printerr(line)
                         self.register_exit_code(errmsg="MyPy error")
-                elif not line.startswith(mypy_silent_non_err_prefixes):
+                elif line.startswith(mypy_silent_non_err_prefixes):
+                    if code is None:  # file
+                        logger.print("MyPy", line)
+                else:
                     if code is None:  # file
                         logger.printerr(line)
                         if any(infix in line for infix in mypy_err_infixes):
                             self.register_exit_code(errmsg="MyPy error")
                     if line not in self.mypy_errs:
                         if code is not None:  # interpreter
                             logger.printerr(line)
@@ -921,15 +980,18 @@
                     kernel = "coconut_py" + ver
                 if kernel not in kernel_list:
                     newly_installed_kernels += self.install_default_jupyter_kernels(jupyter, kernel_list)
                 logger.warn("could not find {name!r} kernel; using {kernel!r} kernel instead".format(name=icoconut_custom_kernel_name, kernel=kernel))
 
             # pass the kernel to the console or otherwise just launch Jupyter now that we know our kernel is available
             if args[0] in jupyter_console_commands:
-                args += ["--kernel", kernel]
+                if any(a.startswith("--kernel") for a in args):
+                    logger.warn("unable to specify Coconut kernel in 'jupyter " + args[0] + "' command as --kernel was already specified in the given arguments")
+                else:
+                    args += ["--kernel", kernel]
             run_args = jupyter + args
 
         if newly_installed_kernels:
             logger.show_sig("Successfully installed Jupyter kernels: '" + "', '".join(newly_installed_kernels) + "'")
 
         # run the Jupyter command
         if run_args is not None:
@@ -941,15 +1003,15 @@
 
         for src, _, _ in src_dest_package_triples:
             logger.show()
             logger.show_tabulated("Watching", showpath(src), "(press Ctrl-C to end)...")
 
         def recompile(path, src, dest, package):
             path = fixpath(path)
-            if os.path.isfile(path) and os.path.splitext(path)[1] in code_exts:
+            if memoized_isfile(path) and os.path.splitext(path)[1] in code_exts:
                 with self.handling_exceptions():
                     if dest is True or dest is None:
                         writedir = dest
                     else:
                         # correct the compilation path based on the relative position of path to src
                         dirpath = os.path.dirname(path)
                         writedir = os.path.join(dest, os.path.relpath(dirpath, src))
@@ -995,12 +1057,12 @@
         logger.show_sig("Added %s to %s" % (os.path.basename(coconut_pth_file), python_lib))
 
     def site_uninstall(self):
         """Remove Coconut's pth file from site-packages."""
         python_lib = self.get_python_lib()
         pth_file = os.path.join(python_lib, os.path.basename(coconut_pth_file))
 
-        if os.path.isfile(pth_file):
+        if memoized_isfile(pth_file):
             os.remove(pth_file)
             logger.show_sig("Removed %s from %s" % (os.path.basename(coconut_pth_file), python_lib))
         else:
             raise CoconutException("failed to find %s file to remove" % (os.path.basename(coconut_pth_file),))
```

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/command/command.pyi` & `coconut-develop-3.0.1.post0.dev1/coconut/command/command.pyi`

 * *Files identical despite different names*

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/command/mypy.py` & `coconut-develop-3.0.1.post0.dev1/coconut/command/mypy.py`

 * *Files identical despite different names*

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/command/util.py` & `coconut-develop-3.0.1.post0.dev1/coconut/command/util.py`

 * *Files 3% similar despite different names*

```diff
@@ -19,14 +19,15 @@
 
 from coconut.root import *  # NOQA
 
 import sys
 import os
 import subprocess
 import shutil
+import threading
 from select import select
 from contextlib import contextmanager
 from functools import partial
 if PY2:
     import __builtin__ as builtins
 else:
     import builtins
@@ -41,14 +42,15 @@
     CoconutException,
     BaseCoconutException,
 )
 from coconut.util import (
     pickleable_obj,
     get_encoding,
     get_clock_time,
+    memoize,
 )
 from coconut.constants import (
     WINDOWS,
     PY34,
     PY32,
     fixpath,
     base_dir,
@@ -69,14 +71,17 @@
     minimum_recursion_limit,
     oserror_retcode,
     base_stub_dir,
     installed_stub_dir,
     interpreter_uses_auto_compilation,
     interpreter_uses_coconut_breakpoint,
     interpreter_compiler_var,
+    must_use_specific_target_builtins,
+    kilobyte,
+    min_stack_size_kbs,
 )
 
 if PY26:
     import imp
 else:
     import runpy
 try:
@@ -124,14 +129,18 @@
     prompt_toolkit = None
 
 # -----------------------------------------------------------------------------------------------------------------------
 # UTILITIES:
 # -----------------------------------------------------------------------------------------------------------------------
 
 
+memoized_isdir = memoize(64)(os.path.isdir)
+memoized_isfile = memoize(64)(os.path.isfile)
+
+
 def writefile(openedfile, newcontents):
     """Set the contents of a file."""
     openedfile.seek(0)
     openedfile.truncate()
     openedfile.write(newcontents)
 
 
@@ -212,25 +221,25 @@
         yield
     else:
         from concurrent.futures.process import BrokenProcessPool
         try:
             yield
         except BrokenProcessPool:
             logger.log_exc()
-            raise BaseCoconutException("broken process pool")
+            raise BaseCoconutException("broken process pool (if this is due to a stack overflow, you may be able to fix by re-running with a larger '--stack-size', otherwise try disabling multiprocessing with '--jobs 0')")
 
 
 def kill_children():
     """Terminate all child processes."""
     try:
         import psutil
     except ImportError:
         logger.warn(
             "missing psutil; --jobs may not properly terminate",
-            extra="run '{python} -m pip install coconut[jobs]' to fix".format(python=sys.executable),
+            extra="run '{python} -m pip install psutil' to fix".format(python=sys.executable),
         )
     else:
         parent = psutil.Process()
         children = parent.children(recursive=True)
         while children:
             for child in children:
                 try:
@@ -421,14 +430,28 @@
         return "--allow-" + arg[len("--disallow-"):]
     elif arg.startswith("--"):
         return "--no-" + arg[len("--"):]
     else:
         return None
 
 
+def run_with_stack_size(stack_kbs, func, *args, **kwargs):
+    """Run the given function with a stack of the given size in KBs."""
+    if stack_kbs < min_stack_size_kbs:
+        raise CoconutException("--stack-size must be at least " + str(min_stack_size_kbs) + " KB")
+    old_stack_size = threading.stack_size(stack_kbs * kilobyte)
+    out = []
+    thread = threading.Thread(target=lambda *args, **kwargs: out.append(func(*args, **kwargs)), args=args, kwargs=kwargs)
+    thread.start()
+    thread.join()
+    logger.log("Stack size used:", old_stack_size, "->", stack_kbs * kilobyte)
+    internal_assert(len(out) == 1, "invalid threading results", out)
+    return out[0]
+
+
 # -----------------------------------------------------------------------------------------------------------------------
 # CLASSES:
 # -----------------------------------------------------------------------------------------------------------------------
 
 class Prompt(object):
     """Manages prompting for code on the command line."""
     # config options
@@ -564,15 +587,15 @@
         if self.stored is not None:
             self.stored.append(line)
 
     def fix_pickle(self):
         """Fix pickling of Coconut header objects."""
         from coconut import __coconut__  # this is expensive, so only do it here
         for var in self.vars:
-            if not var.startswith("__") and var in dir(__coconut__):
+            if not var.startswith("__") and var in dir(__coconut__) and var not in must_use_specific_target_builtins:
                 cur_val = self.vars[var]
                 static_val = getattr(__coconut__, var)
                 if getattr(cur_val, "__doc__", None) == getattr(static_val, "__doc__", None):
                     self.vars[var] = static_val
 
     @contextmanager
     def handling_errors(self, all_errors_exit=False):
@@ -645,25 +668,30 @@
             return self.stored[-1]
 
 
 class multiprocess_wrapper(pickleable_obj):
     """Wrapper for a method that needs to be multiprocessed."""
     __slots__ = ("base", "method", "rec_limit", "logger", "argv")
 
-    def __init__(self, base, method, _rec_limit=None, _logger=None, _argv=None):
+    def __init__(self, base, method, stack_size=None, _rec_limit=None, _logger=None, _argv=None):
         """Create new multiprocessable method."""
         self.base = base
         self.method = method
+        self.stack_size = stack_size
         self.rec_limit = sys.getrecursionlimit() if _rec_limit is None else _rec_limit
         self.logger = logger.copy() if _logger is None else _logger
         self.argv = sys.argv if _argv is None else _argv
 
     def __reduce__(self):
         """Pickle for transfer across processes."""
-        return (self.__class__, (self.base, self.method, self.rec_limit, self.logger, self.argv))
+        return (self.__class__, (self.base, self.method, self.stack_size, self.rec_limit, self.logger, self.argv))
 
     def __call__(self, *args, **kwargs):
         """Call the method."""
         sys.setrecursionlimit(self.rec_limit)
         logger.copy_from(self.logger)
         sys.argv = self.argv
-        return getattr(self.base, self.method)(*args, **kwargs)
+        func = getattr(self.base, self.method)
+        if self.stack_size:
+            return run_with_stack_size(self.stack_size, func, args, kwargs)
+        else:
+            return func(*args, **kwargs)
```

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/command/watch.py` & `coconut-develop-3.0.1.post0.dev1/coconut/command/watch.py`

 * *Files identical despite different names*

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/compiler/__init__.py` & `coconut-develop-3.0.1.post0.dev1/coconut/compiler/__init__.py`

 * *Files identical despite different names*

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/compiler/compiler.py` & `coconut-develop-3.0.1.post0.dev1/coconut/compiler/compiler.py`

 * *Files 7% similar despite different names*

```diff
@@ -82,23 +82,25 @@
     all_keywords,
     reserved_compiler_symbols,
     delimiter_symbols,
     reserved_command_symbols,
     streamline_grammar_for_len,
     all_builtins,
     in_place_op_funcs,
+    match_first_arg_var,
 )
 from coconut.util import (
     pickleable_obj,
     checksum,
     clip,
     logical_lines,
     clean,
     get_target_info,
     get_clock_time,
+    get_name,
 )
 from coconut.exceptions import (
     CoconutException,
     CoconutSyntaxError,
     CoconutParseError,
     CoconutStyleError,
     CoconutTargetError,
@@ -138,15 +140,15 @@
     split_trailing_indent,
     split_leading_trailing_indent,
     match_in,
     transform,
     parse,
     all_matches,
     get_target_info_smart,
-    split_leading_comment,
+    split_leading_comments,
     compile_regex,
     append_it,
     interleaved_join,
     handle_indentation,
     Wrap,
     tuple_str_of,
     join_args,
@@ -155,15 +157,14 @@
     literal_eval,
     should_trim_arity,
     rem_and_count_indents,
     normalize_indent_markers,
     try_parse,
     does_parse,
     prep_grammar,
-    split_leading_whitespace,
     ordered,
     tuple_str_of_str,
     dict_to_str,
     close_char_for,
 )
 from coconut.compiler.header import (
     minify_header,
@@ -172,14 +173,21 @@
 
 # end: IMPORTS
 # -----------------------------------------------------------------------------------------------------------------------
 # UTILITIES:
 # -----------------------------------------------------------------------------------------------------------------------
 
 
+match_func_paramdef = "{match_first_arg_var}=_coconut_sentinel, *{match_to_args_var}, **{match_to_kwargs_var}".format(
+    match_first_arg_var=match_first_arg_var,
+    match_to_args_var=match_to_args_var,
+    match_to_kwargs_var=match_to_kwargs_var,
+)
+
+
 def set_to_tuple(tokens):
     """Converts set literal tokens to tuples."""
     internal_assert(len(tokens) == 1, "invalid set maker tokens", tokens)
     if "list" in tokens or "comp" in tokens or "testlist_star_expr" in tokens:
         return "(" + tokens[0] + ")"
     elif "test" in tokens:
         return "(" + tokens[0] + ",)"
@@ -352,14 +360,66 @@
         else:
             args_list.append(name + "=" + default)
     if dubstar_arg is not None:
         args_list.append("**" + dubstar_arg)
     return ", ".join(args_list)
 
 
+def split_star_expr_tokens(tokens, is_dict=False):
+    """Split testlist_star_expr or dict_literal tokens."""
+    groups = [[]]
+    has_star = False
+    has_comma = False
+    for tok_grp in tokens:
+        if tok_grp == ",":
+            has_comma = True
+        elif len(tok_grp) == 1:
+            internal_assert(not is_dict, "found non-star non-pair item in dict literal", tok_grp)
+            groups[-1].append(tok_grp[0])
+        elif len(tok_grp) == 2:
+            internal_assert(not tok_grp[0].lstrip("*"), "invalid star expr item signifier", tok_grp[0])
+            has_star = True
+            groups.append(tok_grp[1])
+            groups.append([])
+        elif len(tok_grp) == 3:
+            internal_assert(is_dict, "found dict key-value pair in non-dict tokens", tok_grp)
+            k, c, v = tok_grp
+            internal_assert(c == ":", "invalid colon in dict literal item", c)
+            groups[-1].append((k, v))
+        else:
+            raise CoconutInternalException("invalid testlist_star_expr tokens", tokens)
+    if not groups[-1]:
+        groups.pop()
+    return groups, has_star, has_comma
+
+
+def join_dict_group(group, as_tuples=False):
+    """Join group from split_star_expr_tokens$(is_dict=True)."""
+    items = []
+    for k, v in group:
+        if as_tuples:
+            items.append("(" + k + ", " + v + ")")
+        else:
+            items.append(k + ": " + v)
+    if as_tuples:
+        return tuple_str_of(items, add_parens=False)
+    else:
+        return ", ".join(items)
+
+
+def call_decorators(decorators, func_name):
+    """Convert decorators into function calls on func_name."""
+    out = func_name
+    for decorator in reversed(decorators.splitlines()):
+        internal_assert(decorator.startswith("@"), "invalid decorator", decorator)
+        base_decorator = rem_comment(decorator[1:])
+        out = "(" + base_decorator + ")(" + out + ")"
+    return out
+
+
 # end: UTILITIES
 # -----------------------------------------------------------------------------------------------------------------------
 # COMPILER:
 # -----------------------------------------------------------------------------------------------------------------------
 
 
 class Compiler(Grammar, pickleable_obj):
@@ -372,14 +432,15 @@
         lambda self: self.str_proc,
         lambda self: self.passthrough_proc,
         lambda self: self.operator_proc,
         lambda self: self.ind_proc,
     ]
 
     reformatprocs = [
+        # deferred_code_proc must come first
         lambda self: self.deferred_code_proc,
         lambda self: self.reind_proc,
         lambda self: self.endline_repl,
         lambda self: partial(self.base_passthrough_repl, wrap_char="\\"),
         lambda self: self.str_repl,
     ]
     postprocs = reformatprocs + [
@@ -452,53 +513,60 @@
             ),
         )
 
     temp_var_counts = None
     operators = None
 
     def reset(self, keep_state=False, filename=None):
-        """Resets references."""
+        """Reset references.
+
+        IMPORTANT: When adding anything here, consider whether it should also be added to inner_environment.
+        """
         self.filename = filename
         self.indchar = None
         self.comments = {}
+        self.wrapped_type_ignore = None
         self.refs = []
         self.skips = []
         self.docstring = ""
         # need to keep temp_var_counts in interpreter to avoid overwriting typevars
         if self.temp_var_counts is None or not keep_state:
             self.temp_var_counts = defaultdict(int)
         self.parsing_context = defaultdict(list)
-        self.add_code_before = {}
-        self.add_code_before_regexes = {}
-        self.add_code_before_replacements = {}
         self.unused_imports = defaultdict(list)
         self.kept_lines = []
         self.num_lines = 0
         self.disable_name_check = False
         if self.operators is None or not keep_state:
             self.operators = []
             self.operator_repl_table = []
+        self.add_code_before = {}
+        self.add_code_before_regexes = {}
+        self.add_code_before_replacements = {}
+        self.add_code_before_ignore_names = {}
 
     @contextmanager
     def inner_environment(self):
         """Set up compiler to evaluate inner expressions."""
         line_numbers, self.line_numbers = self.line_numbers, False
         keep_lines, self.keep_lines = self.keep_lines, False
         comments, self.comments = self.comments, {}
+        wrapped_type_ignore, self.wrapped_type_ignore = self.wrapped_type_ignore, None
         skips, self.skips = self.skips, []
         docstring, self.docstring = self.docstring, ""
         parsing_context, self.parsing_context = self.parsing_context, defaultdict(list)
         kept_lines, self.kept_lines = self.kept_lines, []
         num_lines, self.num_lines = self.num_lines, 0
         try:
             yield
         finally:
             self.line_numbers = line_numbers
             self.keep_lines = keep_lines
             self.comments = comments
+            self.wrapped_type_ignore = wrapped_type_ignore
             self.skips = skips
             self.docstring = docstring
             self.parsing_context = parsing_context
             self.kept_lines = kept_lines
             self.num_lines = num_lines
 
     def current_parsing_context(self, name, default=None):
@@ -615,14 +683,18 @@
         cls.no_partial_trailer_atom <<= trace_attach(cls.no_partial_trailer_atom_ref, cls.method("item_handle"))
         cls.simple_assign <<= trace_attach(cls.simple_assign_ref, cls.method("item_handle"))
 
         # handle all string atoms with string_atom_handle
         cls.string_atom <<= trace_attach(cls.string_atom_ref, cls.method("string_atom_handle"))
         cls.f_string_atom <<= trace_attach(cls.f_string_atom_ref, cls.method("string_atom_handle"))
 
+        # handle all keyword funcdefs with keyword_funcdef_handle
+        cls.keyword_funcdef <<= trace_attach(cls.keyword_funcdef_ref, cls.method("keyword_funcdef_handle"))
+        cls.async_keyword_funcdef <<= trace_attach(cls.async_keyword_funcdef_ref, cls.method("keyword_funcdef_handle"))
+
         # standard handlers of the form name <<= trace_attach(name_tokens, method("name_handle")) (implies name_tokens is reused)
         cls.function_call <<= trace_attach(cls.function_call_tokens, cls.method("function_call_handle"))
         cls.testlist_star_namedexpr <<= trace_attach(cls.testlist_star_namedexpr_tokens, cls.method("testlist_star_expr_handle"))
         cls.ellipsis <<= trace_attach(cls.ellipsis_tokens, cls.method("ellipsis_handle"))
         cls.f_string <<= trace_attach(cls.f_string_tokens, cls.method("f_string_handle"))
 
         # standard handlers of the form name <<= trace_attach(name_ref, method("name_handle"))
@@ -653,14 +725,15 @@
         cls.dict_literal <<= trace_attach(cls.dict_literal_ref, cls.method("dict_literal_handle"))
         cls.new_testlist_star_expr <<= trace_attach(cls.new_testlist_star_expr_ref, cls.method("new_testlist_star_expr_handle"))
         cls.anon_namedtuple <<= trace_attach(cls.anon_namedtuple_ref, cls.method("anon_namedtuple_handle"))
         cls.base_match_for_stmt <<= trace_attach(cls.base_match_for_stmt_ref, cls.method("base_match_for_stmt_handle"))
         cls.unsafe_typedef_tuple <<= trace_attach(cls.unsafe_typedef_tuple_ref, cls.method("unsafe_typedef_tuple_handle"))
         cls.funcname_typeparams <<= trace_attach(cls.funcname_typeparams_ref, cls.method("funcname_typeparams_handle"))
         cls.impl_call <<= trace_attach(cls.impl_call_ref, cls.method("impl_call_handle"))
+        cls.protocol_intersect_expr <<= trace_attach(cls.protocol_intersect_expr_ref, cls.method("protocol_intersect_expr_handle"))
 
         # these handlers just do strict/target checking
         cls.u_string <<= trace_attach(cls.u_string_ref, cls.method("u_string_check"))
         cls.nonlocal_stmt <<= trace_attach(cls.nonlocal_stmt_ref, cls.method("nonlocal_check"))
         cls.star_assign_item <<= trace_attach(cls.star_assign_item_ref, cls.method("star_assign_item_check"))
         cls.classic_lambdef <<= trace_attach(cls.classic_lambdef_ref, cls.method("lambdef_check"))
         cls.star_sep_arg <<= trace_attach(cls.star_sep_arg_ref, cls.method("star_sep_check"))
@@ -701,28 +774,38 @@
             elif adj_ln + need_unskipped < i:
                 break
             else:
                 need_unskipped -= i - adj_ln - 1
                 adj_ln = i
         return adj_ln + need_unskipped
 
+    def reformat_post_deferred_code_proc(self, snip):
+        """Do post-processing that comes after deferred_code_proc."""
+        return self.apply_procs(self.reformatprocs[1:], snip, reformatting=True, log=False)
+
     def reformat(self, snip, *indices, **kwargs):
         """Post process a preprocessed snippet."""
         internal_assert("ignore_errors" in kwargs, "reformat() missing required keyword argument: 'ignore_errors'")
         if not indices:
             with self.complain_on_err():
                 return self.apply_procs(self.reformatprocs, snip, reformatting=True, log=False, **kwargs)
             return snip
         else:
             internal_assert(kwargs.get("ignore_errors", False), "cannot reformat with indices and ignore_errors=False")
             return (
                 (self.reformat(snip, **kwargs),)
                 + tuple(len(self.reformat(snip[:index], **kwargs)) for index in indices)
             )
 
+    def reformat_without_adding_code_before(self, code, **kwargs):
+        """Reformats without adding code before and instead returns what would have been added."""
+        got_code_to_add_before = {}
+        reformatted_code = self.reformat(code, put_code_to_add_before_in=got_code_to_add_before, **kwargs)
+        return reformatted_code, tuple(got_code_to_add_before.keys()), got_code_to_add_before.values()
+
     def literal_eval(self, code):
         """Version of ast.literal_eval that reformats first."""
         return literal_eval(self.reformat(code, ignore_errors=False))
 
     def eval_now(self, code):
         """Reformat and evaluate a code snippet and return code for the result."""
         try:
@@ -824,34 +907,34 @@
         else:
             out = "\\\\"
         out += self.add_ref("passthrough", text) + unwrapper
         if not multiline:
             out += "\n"
         return out
 
-    def wrap_comment(self, text, reformat=True):
+    def wrap_comment(self, text):
         """Wrap a comment."""
-        if reformat:
-            whitespace, base_comment = split_leading_whitespace(text)
-            text = whitespace + self.reformat(base_comment, ignore_errors=False)
         return "#" + self.add_ref("comment", text) + unwrapper
 
     def wrap_error(self, error):
         """Create a symbol that will raise the given error in postprocessing."""
         return errwrapper + self.add_ref("error", error) + unwrapper
 
     def raise_or_wrap_error(self, error):
         """Raise if USE_COMPUTATION_GRAPH else wrap."""
         if USE_COMPUTATION_GRAPH:
             raise error
         else:
             return self.wrap_error(error)
 
     def type_ignore_comment(self):
-        return self.wrap_comment(" type: ignore", reformat=False)
+        """Get a "type: ignore" comment."""
+        if self.wrapped_type_ignore is None:
+            self.wrapped_type_ignore = self.wrap_comment(" type: ignore")
+        return self.wrapped_type_ignore
 
     def wrap_line_number(self, ln):
         """Wrap a line number."""
         return lnwrapper + str(ln) + unwrapper
 
     def wrap_loc(self, original, loc):
         """Wrap a location."""
@@ -865,21 +948,26 @@
             inputstring = proc(inputstring, **kwargs)
             if log:
                 logger.log_tag(getattr(proc, "__name__", proc), inputstring, multiline=True)
         return inputstring
 
     def pre(self, inputstring, **kwargs):
         """Perform pre-processing."""
+        log = kwargs.get("log", True)
         out = self.apply_procs(self.preprocs, str(inputstring), **kwargs)
-        logger.log_tag("skips", self.skips)
+        if log:
+            logger.log_tag("skips", self.skips)
         return out
 
     def post(self, result, **kwargs):
         """Perform post-processing."""
         internal_assert(isinstance(result, str), "got non-string parse result", result)
+        log = kwargs.get("log", True)
+        if log:
+            logger.log_tag("before post-processing", result, multiline=True)
         return self.apply_procs(self.postprocs, result, **kwargs)
 
     def getheader(self, which, use_hash=None, polish=True):
         """Get a formatted header."""
         header = getheader(
             which,
             use_hash=use_hash,
@@ -999,15 +1087,15 @@
     def streamline(self, grammar, inputstring=""):
         """Streamline the given grammar for the given inputstring."""
         if streamline_grammar_for_len is not None and len(inputstring) >= streamline_grammar_for_len:
             start_time = get_clock_time()
             prep_grammar(grammar, streamline=True)
             logger.log_lambda(
                 lambda: "Streamlined {grammar} in {time} seconds (streamlined due to receiving input of length {length}).".format(
-                    grammar=grammar.name,
+                    grammar=get_name(grammar),
                     time=get_clock_time() - start_time,
                     length=len(inputstring),
                 ),
             )
         else:
             logger.log("No streamlining done for input of length {length}.".format(length=len(inputstring)))
 
@@ -1038,18 +1126,19 @@
                     parsed = parse(parser, pre_procd, inner=False)
                     out = self.post(parsed, keep_state=keep_state, **postargs)
                 except ParseBaseException as err:
                     raise self.make_parse_err(err)
                 except CoconutDeferredSyntaxError as err:
                     internal_assert(pre_procd is not None, "invalid deferred syntax error in pre-processing", err)
                     raise self.make_syntax_err(err, pre_procd)
+                # RuntimeError, not RecursionError, for Python < 3.5
                 except RuntimeError as err:
                     raise CoconutException(
                         str(err), extra="try again with --recursion-limit greater than the current "
-                        + str(sys.getrecursionlimit()),
+                        + str(sys.getrecursionlimit()) + " (you may also need to increase --stack-size)",
                     )
             self.run_final_checks(pre_procd, keep_state)
         return out
 
 # end: COMPILER
 # -----------------------------------------------------------------------------------------------------------------------
 # PROCESSORS:
@@ -1089,15 +1178,15 @@
             except IndexError:
                 internal_assert(x == len(inputstring), "invalid index in str_proc", (inputstring, x))
                 c = "\n"
 
             if hold is not None:
                 if len(hold) == 1:  # hold == [_comment]
                     if c == "\n":
-                        out.append(self.wrap_comment(hold[_comment], reformat=False) + c)
+                        out += [self.wrap_comment(hold[_comment]), c]
                         hold = None
                     else:
                         hold[_comment] += c
                 elif hold[_stop] is not None:
                     if c == "\\":
                         hold[_contents] += hold[_stop] + c
                         hold[_stop] = None
@@ -1153,17 +1242,17 @@
                 found = c
             else:
                 out.append(c)
             x += 1
 
         if hold is not None or found is not None:
             raise self.make_err(CoconutSyntaxError, "unclosed string", inputstring, x, reformat=False)
-        else:
-            self.set_skips(skips)
-            return "".join(out)
+
+        self.set_skips(skips)
+        return "".join(out)
 
     def passthrough_proc(self, inputstring, **kwargs):
         """Process python passthroughs."""
         out = []
         found = None  # store of characters that might be the start of a passthrough
         hold = None  # the contents of the passthrough so far
         count = None  # current parenthetical level (num closes - num opens)
@@ -1192,15 +1281,15 @@
                     multiline = False
                 elif c == "(":
                     found = ""
                     hold = ")"
                     count = -1
                     multiline = True
                 else:
-                    out.append("\\" + c)
+                    out += ["\\", c]
                     found = None
             elif c == "\\":
                 found = True
             else:
                 out.append(c)
 
         if hold is not None or found is not None:
@@ -1255,33 +1344,33 @@
                     compile_regex(r"\(\s*" + re.escape(op) + r"\s*\)"),
                     None,
                     "(" + op_name + ")",
                 ))
                 any_delimiter = r"|".join(re.escape(sym) for sym in delimiter_symbols)
                 self.operator_repl_table.append((
                     compile_regex(r"(^|\s|(?<!\\)\b|" + any_delimiter + r")" + re.escape(op) + r"(?=\s|\b|$|" + any_delimiter + r")"),
-                    1,
+                    "prepend group 1",
                     "`" + op_name + "`",
                 ))
 
             if op_name is None:
                 new_line = raw_line
                 for repl, repl_type, repl_to in self.operator_repl_table:
                     if repl_type is None:
                         def sub_func(match):
                             return repl_to
-                    elif repl_type == 1:
+                    elif repl_type == "prepend group 1":
                         def sub_func(match):
                             return match.group(1) + repl_to
                     else:
                         raise CoconutInternalException("invalid operator_repl_table repl_type", repl_type)
                     new_line = repl.sub(sub_func, new_line)
                 out.append(new_line)
             elif imp_from is not None:
-                out.append("from " + imp_from + " import " + op_name + "\n")
+                out += ["from ", imp_from, " import ", op_name, "\n"]
             else:
                 skips = addskip(skips, self.adjust(ln))
 
         self.set_skips(skips)
         return "".join(out)
 
     def leading_whitespace(self, inputstring):
@@ -1386,54 +1475,54 @@
     @property
     def tabideal(self):
         """Local tabideal."""
         return 1 if self.minify else tabideal
 
     def reind_proc(self, inputstring, ignore_errors=False, **kwargs):
         """Add back indentation."""
-        out = []
+        out_lines = []
         level = 0
 
         next_line_is_fake = False
         for line in inputstring.splitlines(True):
             is_fake = next_line_is_fake
             next_line_is_fake = line.endswith("\f") and line.rstrip("\f") == line.rstrip()
 
             line, comment = split_comment(line.strip())
 
             indent, line = split_leading_indent(line)
             level += ind_change(indent)
             if level < 0:
                 if not ignore_errors:
-                    logger.log_lambda(lambda: "failed to reindent:\n" + inputstring)
+                    logger.log_lambda(lambda: "failed to reindent:\n" + repr(inputstring) + "\nat line:\n" + line)
                     complain("negative indentation level: " + repr(level))
                 level = 0
 
             if line:
                 line = " " * self.tabideal * (level + int(is_fake)) + line
 
             line, indent = split_trailing_indent(line)
             level += ind_change(indent)
 
             # handle indentation markers interleaved with comment/endline markers
             comment, change_in_level = rem_and_count_indents(comment)
             level += change_in_level
             if level < 0:
                 if not ignore_errors:
-                    logger.log_lambda(lambda: "failed to reindent:\n" + inputstring)
-                    complain("negative indentation level: " + repr(level))
+                    logger.log_lambda(lambda: "failed to reindent:\n" + repr(inputstring) + "\nat line:\n" + line)
+                    complain("negative interleaved indentation level: " + repr(level))
                 level = 0
 
             line = (line + comment).rstrip()
-            out.append(line)
+            out_lines.append(line)
 
         if not ignore_errors and level != 0:
             logger.log_lambda(lambda: "failed to reindent:\n" + inputstring)
             complain("non-zero final indentation level: " + repr(level))
-        return "\n".join(out)
+        return "\n".join(out_lines)
 
     def ln_comment(self, ln):
         """Get an end line comment."""
         # CoconutInternalExceptions should always be caught and complained here
         if self.keep_lines:
             internal_assert(
                 # keep this as a lambda to prevent it from breaking release builds
@@ -1443,14 +1532,15 @@
                 "not in range [1, " + str(len(self.kept_lines) + 2) + "]",
             )
             if ln >= len(self.kept_lines) + 1:  # trim too large
                 lni = -1
             else:
                 lni = ln - 1
 
+        # line number must be at start of comment for extract_line_num_from_comment
         if self.line_numbers and self.keep_lines:
             if self.minify:
                 comment = str(ln) + " " + self.kept_lines[lni]
             else:
                 comment = str(ln) + ": " + self.kept_lines[lni]
         elif self.keep_lines:
             if self.minify:
@@ -1461,19 +1551,19 @@
             if self.minify:
                 comment = str(ln)
             else:
                 comment = str(ln) + " (line in Coconut source)"
         else:
             return ""
 
-        return self.wrap_comment(comment, reformat=False)
+        return self.wrap_comment(comment)
 
     def endline_repl(self, inputstring, reformatting=False, ignore_errors=False, **kwargs):
         """Add end of line comments."""
-        out = []
+        out_lines = []
         ln = 1  # line number in pre-processed original
         for line in logical_lines(inputstring):
             add_one_to_ln = False
             try:
 
                 # extract line number information
                 lnwrapper_split = line.split(lnwrapper)
@@ -1495,49 +1585,53 @@
                 if not reformatting and line.rstrip() and not line.lstrip().startswith("#"):
                     line += self.ln_comment(src_ln)
 
             except CoconutInternalException as err:
                 if not ignore_errors:
                     complain(err)
 
-            out.append(line)
+            out_lines.append(line)
             if add_one_to_ln and ln <= self.num_lines - 1:
                 ln += 1
-        return "\n".join(out)
+        return "\n".join(out_lines)
 
     def base_passthrough_repl(self, inputstring, wrap_char, ignore_errors=False, **kwargs):
         """Add back passthroughs."""
+        # this gets called a lot but passthroughs are rare, so short-circuit if we know there are none
+        if wrap_char not in inputstring:
+            return inputstring
+
         out = []
         index = None
         for c in append_it(inputstring, None):
             try:
 
                 if index is not None:
                     if c is not None and c in nums:
                         index += c
                     elif c == unwrapper and index:
                         ref = self.get_ref("passthrough", index)
                         out.append(ref)
                         index = None
                     elif c != wrap_char or index:
-                        out.append(wrap_char + index)
+                        out += [wrap_char, index]
                         if c is not None:
                             out.append(c)
                         index = None
                 elif c is not None:
                     if c == wrap_char:
                         index = ""
                     else:
                         out.append(c)
 
             except CoconutInternalException as err:
                 if not ignore_errors:
                     complain(err)
                 if index is not None:
-                    out.append(wrap_char + index)
+                    out += [wrap_char, index]
                     index = None
                 if c is not None:
                     out.append(c)
 
         return "".join(out)
 
     def str_repl(self, inputstring, ignore_errors=False, **kwargs):
@@ -1554,24 +1648,24 @@
                         comment += c
                     elif c == unwrapper and comment:
                         ref = self.get_ref("comment", comment)
                         if out and not out[-1].endswith("\n"):
                             out[-1] = out[-1].rstrip(" ")
                             if not self.minify:
                                 out[-1] += "  "  # put two spaces before comment
-                        out.append("#" + ref)
+                        out += ["#", ref]
                         comment = None
                     else:
                         raise CoconutInternalException("invalid comment marker in", getline(i, inputstring))
                 elif string is not None:
                     if c is not None and c in nums:
                         string += c
                     elif c == unwrapper and string:
                         text, strchar = self.get_ref("str", string)
-                        out.append(strchar + text + strchar)
+                        out += [strchar, text, strchar]
                         string = None
                     else:
                         raise CoconutInternalException("invalid string marker in", getline(i, inputstring))
                 elif c is not None:
                     if c == "#":
                         comment = ""
                     elif c == strwrapper:
@@ -1580,18 +1674,18 @@
                         out.append(c)
 
             except CoconutInternalException as err:
                 if not ignore_errors:
                     complain(err)
                 if comment is not None:
                     internal_assert(string is None, "invalid detection of string and comment markers in", inputstring)
-                    out.append("#" + comment)
+                    out += ["#", comment]
                     comment = None
                 if string is not None:
-                    out.append(strwrapper + string)
+                    out += [strwrapper, string]
                     string = None
                 if c is not None:
                     out.append(c)
 
         return "".join(out)
 
     def split_docstring(self, block):
@@ -1607,15 +1701,16 @@
         return None, block
 
     def tre_return(self, func_name, func_args, func_store, mock_var=None):
         """Generate grammar element that matches a string which is just a TRE return statement."""
         def tre_return_handle(loc, tokens):
             args = ", ".join(tokens)
 
-            # we have to use func_name not func_store here since we use this when we fail to verify that func_name is func_store
+            # we have to use func_name not func_store here since we use
+            #  this when we fail to verify that func_name is func_store
             if self.no_tco:
                 tco_recurse = "return " + func_name + "(" + args + ")"
             else:
                 tco_recurse = "return _coconut_tail_call(" + func_name + (", " + args if args else "") + ")"
 
             if not func_args or func_args == args:
                 tre_recurse = "continue"
@@ -1624,29 +1719,30 @@
             else:
                 tre_recurse = tuple_str_of_str(func_args) + " = " + mock_var + "(" + args + ")" + "\ncontinue"
 
             tre_check_var = self.get_temp_var("tre_check")
             return handle_indentation(
                 """
 try:
-    {tre_check_var} = {func_name} is {func_store}
+    {tre_check_var} = {func_name} is {func_store} {type_ignore}
 except _coconut.NameError:
     {tre_check_var} = False
 if {tre_check_var}:
     {tre_recurse}
 else:
     {tco_recurse}
                 """,
                 add_newline=True,
             ).format(
                 tre_check_var=tre_check_var,
                 func_name=func_name,
                 func_store=func_store,
                 tre_recurse=tre_recurse,
                 tco_recurse=tco_recurse,
+                type_ignore=self.type_ignore_comment(),
             )
         return attach(
             self.get_tre_return_grammar(func_name),
             tre_return_handle,
             greedy=True,
         )
 
@@ -1784,26 +1880,33 @@
 
         func_code = "".join(lines)
         return func_code, tco, tre
 
     def proc_funcdef(self, original, loc, decorators, funcdef, is_async, in_method, is_stmt_lambda):
         """Determines if TCO or TRE can be done and if so does it,
         handles dotted function names, and universalizes async functions."""
-        # process tokens
         raw_lines = list(logical_lines(funcdef, True))
         def_stmt = raw_lines.pop(0)
+        out = []
 
-        # detect addpattern functions
-        if def_stmt.startswith("addpattern def"):
-            def_stmt = def_stmt[len("addpattern "):]
-            addpattern = True
-        elif def_stmt.startswith("def"):
-            addpattern = False
-        else:
-            raise CoconutInternalException("invalid function definition statement", funcdef)
+        # detect addpattern/copyclosure functions
+        addpattern = False
+        copyclosure = False
+        done = False
+        while not done:
+            if def_stmt.startswith("addpattern "):
+                def_stmt = def_stmt[len("addpattern "):]
+                addpattern = True
+            elif def_stmt.startswith("copyclosure "):
+                def_stmt = def_stmt[len("copyclosure "):]
+                copyclosure = True
+            elif def_stmt.startswith("def"):
+                done = True
+            else:
+                raise CoconutInternalException("invalid function definition statement", funcdef)
 
         # extract information about the function
         with self.complain_on_err():
             try:
                 split_func_tokens = parse(self.split_func, def_stmt)
 
                 self.internal_assert(len(split_func_tokens) == 2, original, loc, "invalid function definition splitting tokens", split_func_tokens)
@@ -1853,25 +1956,38 @@
         # handle dotted function definition
         undotted_name = None
         if func_name is not None and "." in func_name:
             undotted_name = func_name.rsplit(".", 1)[-1]
             def_name = self.get_temp_var(undotted_name)
 
         # detect pattern-matching functions
-        is_match_func = func_paramdef == "*{match_to_args_var}, **{match_to_kwargs_var}".format(
-            match_to_args_var=match_to_args_var,
-            match_to_kwargs_var=match_to_kwargs_var,
-        )
+        is_match_func = func_paramdef == match_func_paramdef
 
         # handle addpattern functions
         if addpattern:
             if func_name is None:
                 raise CoconutInternalException("could not find name in addpattern function definition", def_stmt)
             # binds most tightly, except for TCO
-            decorators += "@_coconut_addpattern(" + func_name + ")\n"
+            addpattern_decorator = self.get_temp_var("addpattern")
+            out.append(
+                handle_indentation(
+                    """
+try:
+    {addpattern_decorator} = _coconut_addpattern({func_name}) {type_ignore}
+except _coconut.NameError:
+    {addpattern_decorator} = lambda f: f
+                """,
+                    add_newline=True,
+                ).format(
+                    func_name=func_name,
+                    addpattern_decorator=addpattern_decorator,
+                    type_ignore=self.type_ignore_comment(),
+                ),
+            )
+            decorators += "@" + addpattern_decorator + "\n"
 
         # modify function definition to use def_name
         if def_name != func_name:
             def_stmt_pre_lparen, def_stmt_post_lparen = def_stmt.split("(", 1)
             def_stmt_def, def_stmt_name = def_stmt_pre_lparen.rsplit(" ", 1)
             def_stmt_name = def_stmt_name.replace(func_name, def_name)
             def_stmt = def_stmt_def + " " + def_stmt_name + "(" + def_stmt_post_lparen
@@ -1971,69 +2087,141 @@
                     ).format(
                         mock_var=mock_var,
                         mock_paramdef=mock_paramdef,
                         mock_body="\n".join(mock_body_lines),
                     )
 
                 # assemble tre'd function
-                comment, rest = split_leading_comment(func_code)
+                comment, rest = split_leading_comments(func_code)
                 indent, base, dedent = split_leading_trailing_indent(rest, 1)
                 base, base_dedent = split_trailing_indent(base)
                 docstring, base = self.split_docstring(base)
-                func_code = (
-                    comment + indent
-                    + (docstring + "\n" if docstring is not None else "")
-                    + mock_def
-                    + "while True:\n"
-                    + openindent + base + base_dedent
-                    + ("\n" if "\n" not in base_dedent else "") + "return None"
-                    + ("\n" if "\n" not in dedent else "") + closeindent + dedent
-                    + func_store + " = " + def_name + "\n"
-                )
+
+                func_code_out = [
+                    comment,
+                    indent,
+                ]
+                if docstring is not None:
+                    func_code_out += [docstring, "\n"]
+                func_code_out += [
+                    mock_def,
+                    "while True:\n",
+                    openindent,
+                    base, base_dedent,
+                ]
+                if "\n" not in base_dedent:
+                    func_code_out.append("\n")
+                func_code_out.append("return None")
+                if "\n" not in dedent:
+                    func_code_out.append("\n")
+                func_code_out += [
+                    closeindent, dedent,
+                    func_store, " = ", def_name, "\n",
+                ]
+                func_code = "".join(func_code_out)
 
             if tco:
                 decorators += "@_coconut_tco\n"  # binds most tightly (aside from below)
 
         # add attribute to mark pattern-matching functions
         if is_match_func:
             decorators += "@_coconut_mark_as_match\n"  # binds most tightly
 
         # handle dotted function definition
         if undotted_name is not None:
-            out = handle_indentation(
-                '''
-{decorators}{def_stmt}{func_code}
+            out.append(
+                handle_indentation(
+                    '''
+{def_stmt}{func_code}
 {def_name}.__name__ = _coconut_py_str("{undotted_name}")
 {temp_var} = _coconut.getattr({def_name}, "__qualname__", None)
 if {temp_var} is not None:
     {def_name}.__qualname__ = _coconut_py_str("{func_name}" if "." not in {temp_var} else {temp_var}.rsplit(".", 1)[0] + ".{func_name}")
-{func_name} = {def_name}
                 ''',
-                add_newline=True,
-            ).format(
-                def_name=def_name,
-                decorators=decorators,
-                def_stmt=def_stmt,
-                func_code=func_code,
-                func_name=func_name,
-                undotted_name=undotted_name,
-                temp_var=self.get_temp_var("qualname"),
+                    add_newline=True,
+                ).format(
+                    def_name=def_name,
+                    decorators=decorators,
+                    def_stmt=def_stmt,
+                    func_code=func_code,
+                    func_name=func_name,
+                    undotted_name=undotted_name,
+                    temp_var=self.get_temp_var("qualname"),
+                ),
             )
+            # decorating the function must come after __name__ has been set,
+            #  and if it's a copyclosure function, it has to happen outside the exec
+            if not copyclosure:
+                out += [func_name, " = ", call_decorators(decorators, def_name), "\n"]
+                decorators = ""
         else:
-            out = decorators + def_stmt + func_code
+            out += [decorators, def_stmt, func_code]
+            decorators = ""
 
-        return out
+        # handle copyclosure functions
+        if copyclosure:
+            vars_var = self.get_temp_var("func_vars")
+            func_from_vars = vars_var + '["' + def_name + '"]'
+            # for dotted copyclosure function definition, decoration was deferred until now
+            if decorators:
+                func_from_vars = call_decorators(decorators, func_from_vars)
+                decorators = ""
+            code = "".join(out)
+            out = [
+                handle_indentation(
+                    '''
+if _coconut.typing.TYPE_CHECKING:
+    {code}
+    {vars_var} = {{"{def_name}": {def_name}}}
+else:
+    {vars_var} = _coconut.globals().copy()
+    {vars_var}.update(_coconut.locals().copy())
+    _coconut_exec({code_str}, {vars_var})
+{func_name} = {func_from_vars}
+                ''',
+                    add_newline=True,
+                ).format(
+                    func_name=func_name,
+                    def_name=def_name,
+                    vars_var=vars_var,
+                    code=code,
+                    code_str=self.wrap_str_of(self.reformat_post_deferred_code_proc(code)),
+                    func_from_vars=func_from_vars,
+                ),
+            ]
 
-    def deferred_code_proc(self, inputstring, add_code_at_start=False, ignore_names=(), ignore_errors=False, **kwargs):
-        """Process all forms of previously deferred code. All such deferred code needs to be handled here so we can properly handle nested deferred code."""
-        # compile add_code_before regexes
+        internal_assert(not decorators, "unhandled decorators", decorators)
+        return "".join(out)
+
+    def add_code_before_marker_with_replacement(self, replacement, add_code_before, add_spaces=True, ignore_names=None):
+        """Add code before a marker that will later be replaced."""
+        # temp_marker will be set back later, but needs to be a unique name until then for add_code_before
+        temp_marker = self.get_temp_var("add_code_before_marker")
+
+        self.add_code_before[temp_marker] = add_code_before
+        self.add_code_before_replacements[temp_marker] = replacement
+        if ignore_names is not None:
+            self.add_code_before_ignore_names[temp_marker] = ignore_names
+        if add_spaces:
+            # if we're adding spaces, modify the regex to remove them later
+            self.add_code_before_regexes[temp_marker] = compile_regex(r"( |\b)%s( |\b)" % (temp_marker,))
+
+        return " " + temp_marker + " " if add_spaces else temp_marker
+
+    def compile_add_code_before_regexes(self):
+        """Compile all add_code_before regexes."""
         for name in self.add_code_before:
             if name not in self.add_code_before_regexes:
                 self.add_code_before_regexes[name] = compile_regex(r"\b%s\b" % (name,))
 
+    def deferred_code_proc(self, inputstring, add_code_at_start=False, ignore_names=(), ignore_errors=False, **kwargs):
+        """Process all forms of previously deferred code. All such deferred code needs to be handled here so we can properly handle nested deferred code."""
+        put_code_to_add_before_in = kwargs.get("put_code_to_add_before_in", None)  # keep put_code_to_add_before_in in kwargs
+        self.compile_add_code_before_regexes()
+
         out = []
         for raw_line in inputstring.splitlines(True):
             bef_ind, line, aft_ind = split_leading_trailing_indent(raw_line)
 
             # handle early passthroughs
             line = self.base_passthrough_repl(line, wrap_char=early_passthrough_wrapper, **kwargs)
 
@@ -2068,42 +2256,45 @@
                 out.append(bef_ind)
                 out.extend(pre_def_lines)
                 out.append(self.proc_funcdef(original, loc, decorators, "".join(post_def_lines), is_async, in_method, is_stmt_lambda))
                 out.append(aft_ind)
 
             # look for add_code_before regexes
             else:
+                inner_ignore_names = ignore_names
                 for name, raw_code in ordered(self.add_code_before.items()):
                     if name in ignore_names:
                         continue
 
                     regex = self.add_code_before_regexes[name]
-                    replacement = self.add_code_before_replacements.get(name)
+                    if regex.search(line):
 
-                    if replacement is None:
-                        saw_name = regex.search(line)
-                    else:
-                        line, saw_name = regex.subn(lambda match: replacement, line)
+                        # once a name is found, don't search for it again in the same line
+                        inner_ignore_names += (name,) + self.add_code_before_ignore_names.get(name, ())
 
-                    if saw_name:
-                        # process inner code
-                        code_to_add = self.deferred_code_proc(raw_code, ignore_names=ignore_names + (name,), **kwargs)
-
-                        # add code and update indents
-                        if add_code_at_start:
-                            out.insert(0, code_to_add + "\n")
-                        else:
-                            out.append(bef_ind)
-                            out.append(code_to_add)
-                            out.append("\n")
-                            bef_ind = ""
+                        # handle replacement
+                        replacement = self.add_code_before_replacements.get(name)
+                        if replacement is not None:
+                            replacement = self.deferred_code_proc(replacement, ignore_names=inner_ignore_names, **kwargs)
+                            line, _ = regex.subn(lambda match: replacement, line)
+
+                        if raw_code:
+                            # process inner code
+                            code_to_add = self.deferred_code_proc(raw_code, ignore_names=inner_ignore_names, **kwargs)
+
+                            # add code and update indents
+                            if put_code_to_add_before_in is not None:
+                                put_code_to_add_before_in[name] = code_to_add
+                            elif add_code_at_start:
+                                out.insert(0, code_to_add + "\n")
+                            else:
+                                out += [bef_ind, code_to_add, "\n"]
+                                bef_ind = ""
 
-                out.append(bef_ind)
-                out.append(line)
-                out.append(aft_ind)
+                out += [bef_ind, line, aft_ind]
 
         return "".join(out)
 
     def header_proc(self, inputstring, header="file", initial="initial", use_hash=None, **kwargs):
         """Add the header."""
         pre_header = self.getheader(initial, use_hash=use_hash, polish=False)
         main_header = self.getheader(header, polish=False)
@@ -2139,14 +2330,16 @@
             elif len(arg) == 2:
                 if arg[0] == "*":
                     if kwd_args or dubstar_args:
                         raise CoconutDeferredSyntaxError("star unpacking must come before keyword arguments", loc)
                     star_args.append(argstr)
                 elif arg[0] == "**":
                     dubstar_args.append(argstr)
+                elif arg[0] == "...":
+                    kwd_args.append(arg[1] + "=" + arg[1])
                 else:
                     kwd_args.append(argstr)
             else:
                 raise CoconutInternalException("invalid function call argument", arg)
 
         # universalize multiple unpackings
         if self.target_info < (3, 5):
@@ -2191,14 +2384,17 @@
                 arg, op = inner_toks
                 return "partial", (op, arg, "")
             elif "right partial" in inner_toks:
                 op, arg = inner_toks
                 return "right op partial", (op, arg)
             else:
                 raise CoconutInternalException("invalid op partial tokens in pipe_item", inner_toks)
+        elif "await" in tokens:
+            internal_assert(len(tokens) == 1 and tokens[0] == "await", "invalid await pipe item tokens", tokens)
+            return "await", []
         else:
             raise CoconutInternalException("invalid pipe item tokens", tokens)
 
     def pipe_handle(self, original, loc, tokens, **kwargs):
         """Process pipe calls."""
         self.internal_assert(set(kwargs) <= set(("top",)), original, loc, "unknown pipe_handle keyword arguments", kwargs)
         top = kwargs.get("top", True)
@@ -2217,14 +2413,16 @@
                 return "_coconut.functools.partial(" + join_args(split_item) + ")"
             elif name == "attrgetter":
                 return attrgetter_atom_handle(loc, item)
             elif name == "itemgetter":
                 return itemgetter_handle(item)
             elif name == "right op partial":
                 return partial_op_item_handle(item)
+            elif name == "await":
+                raise CoconutDeferredSyntaxError("await in pipe must have something piped into it", loc)
             else:
                 raise CoconutInternalException("invalid split pipe item", split_item)
 
         else:
             item, op = tokens.pop(), tokens.pop()
             direction, stars, none_aware = pipe_info(op)
             star_str = "*" * stars
@@ -2282,49 +2480,55 @@
                         out = fmtstr.format(x=out, args=args)
                     return out
                 elif name == "right op partial":
                     if stars:
                         raise CoconutDeferredSyntaxError("cannot star pipe into operator partial", loc)
                     op, arg = split_item
                     return "({op})({x}, {arg})".format(op=op, x=subexpr, arg=arg)
+                elif name == "await":
+                    internal_assert(not split_item, "invalid split await pipe item tokens", split_item)
+                    if stars:
+                        raise CoconutDeferredSyntaxError("cannot star pipe into await", loc)
+                    return self.await_expr_handle(original, loc, [subexpr])
                 else:
                     raise CoconutInternalException("invalid split pipe item", split_item)
 
             else:
                 raise CoconutInternalException("invalid pipe operator direction", direction)
 
-    def item_handle(self, loc, tokens):
+    def item_handle(self, original, loc, tokens):
         """Process trailers."""
         out = tokens.pop(0)
         for i, trailer in enumerate(tokens):
             if isinstance(trailer, str):
                 out += trailer
             elif len(trailer) == 1:
                 if trailer[0] == "$[]":
                     out = "_coconut.functools.partial(_coconut_iter_getitem, " + out + ")"
                 elif trailer[0] == "$":
                     out = "_coconut.functools.partial(_coconut.functools.partial, " + out + ")"
                 elif trailer[0] == "[]":
                     out = "_coconut.functools.partial(_coconut.operator.getitem, " + out + ")"
                 elif trailer[0] == ".":
+                    self.strict_err_or_warn("'obj.' as a shorthand for 'getattr$(obj)' is deprecated (just use the getattr partial)", original, loc)
                     out = "_coconut.functools.partial(_coconut.getattr, " + out + ")"
                 elif trailer[0] == "type:[]":
                     out = "_coconut.typing.Sequence[" + out + "]"
                 elif trailer[0] == "type:$[]":
                     out = "_coconut.typing.Iterable[" + out + "]"
                 elif trailer[0] == "type:?":
                     out = "_coconut.typing.Optional[" + out + "]"
                 elif trailer[0] == "?":
                     # short-circuit the rest of the evaluation
                     rest_of_trailers = tokens[i + 1:]
                     if len(rest_of_trailers) == 0:
                         raise CoconutDeferredSyntaxError("None-coalescing '?' must have something after it", loc)
                     not_none_tokens = [none_coalesce_var]
                     not_none_tokens.extend(rest_of_trailers)
-                    not_none_expr = self.item_handle(loc, not_none_tokens)
+                    not_none_expr = self.item_handle(original, loc, not_none_tokens)
                     # := changes meaning inside lambdas, so we must disallow it when wrapping
                     #  user expressions in lambdas (and naive string analysis is safe here)
                     if ":=" in not_none_expr:
                         raise CoconutDeferredSyntaxError("illegal assignment expression after a None-coalescing '?'", loc)
                     return "(lambda {x}: None if {x} is None else {rest})({inp})".format(
                         x=none_coalesce_var,
                         rest=not_none_expr,
@@ -2403,15 +2607,14 @@
 while True:
     try:
         yield _coconut.next({yield_from_var})
     except _coconut.StopIteration as {yield_err_var}:
         {ret_val_name} = {yield_err_var}.args[0] if _coconut.len({yield_err_var}.args) > 0 else None
         break
                 ''',
-                add_newline=True,
             ).format(
                 expr=expr,
                 yield_from_var=self.get_temp_var("yield_from"),
                 yield_err_var=self.get_temp_var("yield_err"),
                 ret_val_name=ret_val_name,
             )
             return ret_val_name
@@ -2423,15 +2626,15 @@
         endline, = tokens
         lines = endline.splitlines(True)
         if self.minify:
             lines = lines[0]
         out = []
         ln = lineno(loc, original)
         for endline in lines:
-            out.append(self.wrap_line_number(ln) + endline)
+            out += [self.wrap_line_number(ln), endline]
             ln += 1
         return "".join(out)
 
     def comment_handle(self, original, loc, tokens):
         """Store comment in comments."""
         comment_marker, = tokens
         ln = self.adjust(lineno(loc, original))
@@ -2550,31 +2753,36 @@
         else:
             raise CoconutInternalException("invalid pattern-matching tokens in data", match_tokens)
 
         check_var = self.get_temp_var("match_check")
         matcher = self.get_matcher(original, loc, check_var, name_list=[])
 
         pos_only_args, req_args, default_args, star_arg, kwd_only_args, dubstar_arg = split_args_list(matches, loc)
-        matcher.match_function(match_to_args_var, match_to_kwargs_var, pos_only_args, req_args + default_args, star_arg, kwd_only_args, dubstar_arg)
+        matcher.match_function(
+            pos_only_match_args=pos_only_args,
+            match_args=req_args + default_args,
+            star_arg=star_arg,
+            kwd_only_match_args=kwd_only_args,
+            dubstar_arg=dubstar_arg,
+        )
 
         if cond is not None:
             matcher.add_guard(cond)
 
         extra_stmts = handle_indentation(
             '''
-def __new__(_coconut_cls, *{match_to_args_var}, **{match_to_kwargs_var}):
+def __new__(_coconut_cls, {match_func_paramdef}):
     {check_var} = False
     {matching}
     {pattern_error}
     return _coconut.tuple.__new__(_coconut_cls, {arg_tuple})
             ''',
             add_newline=True,
         ).format(
-            match_to_args_var=match_to_args_var,
-            match_to_kwargs_var=match_to_kwargs_var,
+            match_func_paramdef=match_func_paramdef,
             check_var=check_var,
             matching=matcher.out(),
             pattern_error=self.pattern_error(original, loc, match_to_args_var, check_var, function_match_error_var),
             arg_tuple=tuple_str_of(matcher.name_list),
         )
 
         namedtuple_call = self.make_namedtuple_call(name, matcher.name_list)
@@ -2751,25 +2959,32 @@
     def assemble_data(self, decorators, name, namedtuple_call, inherit, extra_stmts, stmts, match_args, paramdefs=()):
         """Create a data class definition from the given components.
 
         IMPORTANT: Any changes to assemble_data must be reflected in the
         definition of Expected in header.py_template.
         """
         # create class
-        out = (
-            "".join(paramdefs)
-            + decorators
-            + "class " + name + "("
-            + namedtuple_call
-            + (", " + inherit if inherit is not None else "")
-            + (", " + self.get_generic_for_typevars() if paramdefs else "")
-            + (", _coconut.object" if not self.target.startswith("3") else "")
-            + "):\n"
-            + openindent
-        )
+        out = [
+            "".join(paramdefs),
+            decorators,
+            "class ",
+            name,
+            "(",
+            namedtuple_call,
+        ]
+        if inherit is not None:
+            out += [", ", inherit]
+        if paramdefs:
+            out += [", ", self.get_generic_for_typevars()]
+        if not self.target.startswith("3"):
+            out.append(", _coconut.object")
+        out += [
+            "):\n",
+            openindent,
+        ]
 
         # add universal statements
         all_extra_stmts = handle_indentation(
             """
 __slots__ = ()
 {is_data_var} = True
 __match_args__ = {match_args}
@@ -2788,53 +3003,55 @@
             match_args=tuple_str_of(match_args, add_quotes=True),
         )
         all_extra_stmts += extra_stmts
 
         # manage docstring
         rest = None
         if "simple" in stmts and len(stmts) == 1:
-            out += all_extra_stmts
+            out += [all_extra_stmts]
             rest = stmts[0]
         elif "docstring" in stmts and len(stmts) == 1:
-            out += stmts[0] + all_extra_stmts
+            out += [stmts[0], all_extra_stmts]
         elif "complex" in stmts and len(stmts) == 1:
-            out += all_extra_stmts
+            out += [all_extra_stmts]
             rest = "".join(stmts[0])
         elif "complex" in stmts and len(stmts) == 2:
-            out += stmts[0] + all_extra_stmts
+            out += [stmts[0], all_extra_stmts]
             rest = "".join(stmts[1])
         elif "empty" in stmts and len(stmts) == 1:
-            out += all_extra_stmts.rstrip() + stmts[0]
+            out += [all_extra_stmts.rstrip(), stmts[0]]
         else:
             raise CoconutInternalException("invalid inner data tokens", stmts)
 
         # create full data definition
         if rest is not None and rest != "pass\n":
-            out += rest
-        out += closeindent
+            out.append(rest)
+        out.append(closeindent)
 
         # add override detection
         if self.target_info < (3, 6):
-            out += "_coconut_call_set_names(" + name + ")\n"
+            out += ["_coconut_call_set_names(", name, ")\n"]
 
-        return out
+        return "".join(out)
 
     def anon_namedtuple_handle(self, tokens):
         """Handle anonymous named tuples."""
         names = []
         types = {}
         items = []
         for i, tok in enumerate(tokens):
             if len(tok) == 2:
                 name, item = tok
             elif len(tok) == 3:
                 name, typedef, item = tok
                 types[i] = typedef
             else:
                 raise CoconutInternalException("invalid anonymous named item", tok)
+            if name == "...":
+                name = item
             names.append(name)
             items.append(item)
 
         namedtuple_call = self.make_namedtuple_call(None, names, types)
         return namedtuple_call + "(" + ", ".join(items) + ")"
 
     def single_import(self, path, imp_as, type_ignore=False):
@@ -2933,15 +3150,15 @@
                 stmts.extend(more_stmts)
             else:
                 old_imp, new_imp, version_check = paths
                 # we have to do this craziness to get mypy to statically handle the version check
                 stmts.append(
                     handle_indentation("""
 try:
-    {store_var} = sys
+    {store_var} = sys {type_ignore}
 except _coconut.NameError:
     {store_var} = _coconut_sentinel
 sys = _coconut_sys
 if sys.version_info >= {version_check}:
     {new_imp}
 else:
     {old_imp}
@@ -2949,14 +3166,15 @@
     sys = {store_var}
                 """).format(
                         store_var=self.get_temp_var("sys"),
                         version_check=version_check,
                         new_imp="\n".join(self.single_import(new_imp, imp_as)),
                         # should only type: ignore the old import
                         old_imp="\n".join(self.single_import(old_imp, imp_as, type_ignore=type_ignore)),
+                        type_ignore=self.type_ignore_comment(),
                     ),
                 )
         return "\n".join(stmts)
 
     def import_handle(self, original, loc, tokens):
         """Universalizes imports."""
         if len(tokens) == 1:
@@ -2980,28 +3198,34 @@
 
     def complex_raise_stmt_handle(self, tokens):
         """Process Python 3 raise from statement."""
         raise_expr, from_expr = tokens
         if self.target.startswith("3"):
             return "raise " + raise_expr + " from " + from_expr
         else:
-            raise_from_var = self.get_temp_var("raise_from")
-            return (
-                raise_from_var + " = " + raise_expr + "\n"
-                + raise_from_var + ".__cause__ = " + from_expr + "\n"
-                + "raise " + raise_from_var
+            return handle_indentation(
+                '''
+{raise_from_var} = {raise_expr}
+{raise_from_var}.__cause__ = {from_expr}
+raise {raise_from_var}
+                ''',
+            ).format(
+                raise_from_var=self.get_temp_var("raise_from"),
+                raise_expr=raise_expr,
+                from_expr=from_expr,
             )
 
     def dict_comp_handle(self, loc, tokens):
         """Process Python 2.7 dictionary comprehension."""
         key, val, comp = tokens
-        if self.target.startswith("3"):
+        # on < 3.9 have to use _coconut.dict since it's different than py_dict
+        if self.target_info >= (3, 9):
             return "{" + key + ": " + val + " " + comp + "}"
         else:
-            return "dict(((" + key + "), (" + val + ")) " + comp + ")"
+            return "_coconut.dict(((" + key + "), (" + val + ")) " + comp + ")"
 
     def pattern_error(self, original, loc, value_var, check_var, match_error_class='_coconut_MatchError'):
         """Construct a pattern-matching error message."""
         base_line = clean(self.reformat(getline(loc, original), ignore_errors=True)).strip()
         line_wrap = self.wrap_str_of(base_line)
         return handle_indentation(
             """
@@ -3038,17 +3262,23 @@
         if match_check_var is None:
             match_check_var = self.get_temp_var("match_check")
 
         matching = self.get_matcher(original, loc, match_check_var)
         matching.match(matches, match_to_var)
         if cond:
             matching.add_guard(cond)
-        return (
-            match_to_var + " = " + item + "\n"
-            + matching.build(stmts, invert=invert)
+        return handle_indentation(
+            '''
+{match_to_var} = {item}
+{match}
+            ''',
+        ).format(
+            match_to_var=match_to_var,
+            item=item,
+            match=matching.build(stmts, invert=invert),
         )
 
     def destructuring_stmt_handle(self, original, loc, tokens):
         """Process match assign blocks."""
         matches, item = tokens
         match_to_var = self.get_temp_var("match_to")
         match_check_var = self.get_temp_var("match_check")
@@ -3066,23 +3296,26 @@
         else:
             raise CoconutInternalException("invalid match function definition tokens", tokens)
 
         check_var = self.get_temp_var("match_check")
         matcher = self.get_matcher(original, loc, check_var)
 
         pos_only_args, req_args, default_args, star_arg, kwd_only_args, dubstar_arg = split_args_list(matches, loc)
-        matcher.match_function(match_to_args_var, match_to_kwargs_var, pos_only_args, req_args + default_args, star_arg, kwd_only_args, dubstar_arg)
+        matcher.match_function(
+            pos_only_match_args=pos_only_args,
+            match_args=req_args + default_args,
+            star_arg=star_arg,
+            kwd_only_match_args=kwd_only_args,
+            dubstar_arg=dubstar_arg,
+        )
 
         if cond is not None:
             matcher.add_guard(cond)
 
-        before_colon = (
-            "def " + func
-            + "(*" + match_to_args_var + ", **" + match_to_kwargs_var + ")"
-        )
+        before_colon = "def " + func + "(" + match_func_paramdef + ")"
         after_docstring = (
             openindent
             + check_var + " = False\n"
             + matcher.out()
             # we only include match_to_args_var here because match_to_kwargs_var is modified during matching
             + self.pattern_error(original, loc, match_to_args_var, check_var, function_match_error_var)
             # closeindent because the suite will have its own openindent/closeindent
@@ -3138,21 +3371,24 @@
             else:
                 raise CoconutInternalException("invalid set type", set_type)
         else:
             raise CoconutInternalException("invalid set literal tokens", tokens)
 
     def stmt_lambdef_handle(self, original, loc, tokens):
         """Process multi-line lambdef statements."""
-        kwds, params, stmts_toks = tokens
+        got_kwds, params, stmts_toks = tokens
 
         is_async = False
-        for kwd in kwds:
+        add_kwds = []
+        for kwd in got_kwds:
             if kwd == "async":
                 self.internal_assert(not is_async, original, loc, "duplicate stmt_lambdef async keyword", kwd)
                 is_async = True
+            elif kwd == "copyclosure":
+                add_kwds.append(kwd)
             else:
                 raise CoconutInternalException("invalid stmt_lambdef keyword", kwd)
 
         if len(stmts_toks) == 1:
             stmts, = stmts_toks
         elif len(stmts_toks) == 2:
             stmts, last = stmts_toks
@@ -3176,14 +3412,16 @@
             funcdef = (
                 before_colon
                 + ":\n"
                 + after_docstring
                 + body
             )
 
+        funcdef = " ".join(add_kwds + [funcdef])
+
         self.add_code_before[name] = self.decoratable_funcdef_stmt_handle(original, loc, [decorators, funcdef], is_async, is_stmt_lambda=True)
 
         return name
 
     def decoratable_funcdef_stmt_handle(self, original, loc, tokens, is_async=False, is_stmt_lambda=False):
         """Wraps the given function for later processing"""
         if len(tokens) == 1:
@@ -3212,89 +3450,119 @@
             return self.wrap_passthrough("(yield from " + await_expr + ")", early=True)
         else:
             # this yield is fine because we can detect the _coconut.asyncio.From
             return "(yield _coconut.asyncio.From(" + await_expr + "))"
 
     def unsafe_typedef_handle(self, tokens):
         """Process type annotations without a comma after them."""
-        return self.typedef_handle(tokens.asList() + [","])
+        # we add an empty string token to take the place of the comma,
+        #  but it should be empty so we don't actually put a comma in
+        return self.typedef_handle(tokens.asList() + [""])
+
+    def wrap_code_before(self, add_code_before_list):
+        """Wrap code to add before by putting it behind a TYPE_CHECKING check."""
+        if not add_code_before_list:
+            return ""
+        return "if _coconut.typing.TYPE_CHECKING:\n" + openindent + "\n".join(add_code_before_list) + closeindent
 
-    def wrap_typedef(self, typedef, for_py_typedef):
+    def wrap_typedef(self, typedef, for_py_typedef, duplicate=False):
         """Wrap a type definition in a string to defer it unless --no-wrap or __future__.annotations."""
         if self.no_wrap or for_py_typedef and self.target_info >= (3, 7):
             return typedef
         else:
-            return self.wrap_str_of(self.reformat(typedef, ignore_errors=False))
+            reformatted_typedef, ignore_names, add_code_before_list = self.reformat_without_adding_code_before(typedef, ignore_errors=False)
+            wrapped = self.wrap_str_of(reformatted_typedef)
+            if duplicate:
+                # duplicate means that the necessary add_code_before will already have been done
+                add_code_before = ""
+            else:
+                # since we're wrapping the typedef, also wrap the code to add before
+                add_code_before = self.wrap_code_before(add_code_before_list)
+            return self.add_code_before_marker_with_replacement(wrapped, add_code_before, ignore_names=ignore_names)
+
+    def wrap_type_comment(self, typedef, is_return=False, add_newline=False):
+        reformatted_typedef, ignore_names, add_code_before_list = self.reformat_without_adding_code_before(typedef, ignore_errors=False)
+        if is_return:
+            type_comment = " type: (...) -> " + reformatted_typedef
+        else:
+            type_comment = " type: " + reformatted_typedef
+        wrapped = self.wrap_comment(type_comment)
+        if add_newline:
+            wrapped += non_syntactic_newline
+        # since we're wrapping the typedef, also wrap the code to add before
+        add_code_before = self.wrap_code_before(add_code_before_list)
+        return self.add_code_before_marker_with_replacement(wrapped, add_code_before, ignore_names=ignore_names)
 
     def typedef_handle(self, tokens):
         """Process Python 3 type annotations."""
         if len(tokens) == 1:  # return typedef
+            typedef, = tokens
             if self.target.startswith("3"):
-                return " -> " + self.wrap_typedef(tokens[0], for_py_typedef=True) + ":"
+                return " -> " + self.wrap_typedef(typedef, for_py_typedef=True) + ":"
             else:
-                return ":\n" + self.wrap_comment(" type: (...) -> " + tokens[0])
+                return ":\n" + self.wrap_type_comment(typedef, is_return=True)
         else:  # argument typedef
             if len(tokens) == 3:
                 varname, typedef, comma = tokens
                 default = ""
             elif len(tokens) == 4:
                 varname, typedef, default, comma = tokens
             else:
                 raise CoconutInternalException("invalid type annotation tokens", tokens)
             if self.target.startswith("3"):
                 return varname + ": " + self.wrap_typedef(typedef, for_py_typedef=True) + default + comma
             else:
-                return varname + default + comma + self.wrap_passthrough(self.wrap_comment(" type: " + typedef) + non_syntactic_newline, early=True)
+                return varname + default + comma + self.wrap_type_comment(typedef, add_newline=True)
 
     def typed_assign_stmt_handle(self, tokens):
         """Process Python 3.6 variable type annotations."""
         if len(tokens) == 2:
             name, typedef = tokens
             value = None
         elif len(tokens) == 3:
             name, typedef, value = tokens
         else:
             raise CoconutInternalException("invalid variable type annotation tokens", tokens)
 
         if self.target_info >= (3, 6):
             return name + ": " + self.wrap_typedef(typedef, for_py_typedef=True) + ("" if value is None else " = " + value)
         else:
-            return handle_indentation('''
+            return handle_indentation(
+                '''
 {name} = {value}{comment}
 if "__annotations__" not in _coconut.locals():
-    __annotations__ = {{}}
+    __annotations__ = {{}} {type_ignore}
 __annotations__["{name}"] = {annotation}
-            ''').format(
+                ''',
+            ).format(
                 name=name,
                 value=(
                     value if value is not None
                     else "_coconut.typing.cast(_coconut.typing.Any, {ellipsis})".format(ellipsis=self.ellipsis_handle())
                 ),
-                comment=self.wrap_comment(" type: " + typedef),
-                annotation=self.wrap_typedef(typedef, for_py_typedef=False),
+                comment=self.wrap_type_comment(typedef),
+                annotation=self.wrap_typedef(typedef, for_py_typedef=False, duplicate=True),
+                type_ignore=self.type_ignore_comment(),
             )
 
     def funcname_typeparams_handle(self, tokens):
         """Handle function names with type parameters."""
         if len(tokens) == 1:
             name, = tokens
             return name
         else:
             name, paramdefs = tokens
-            # temp_marker will be set back later, but needs to be a unique name until then for add_code_before
-            temp_marker = self.get_temp_var("type_param_func")
-            self.add_code_before[temp_marker] = "".join(paramdefs)
-            self.add_code_before_replacements[temp_marker] = name
-            return temp_marker
+            return self.add_code_before_marker_with_replacement(name, "".join(paramdefs), add_spaces=False)
 
     funcname_typeparams_handle.ignore_one_token = True
 
     def type_param_handle(self, original, loc, tokens):
         """Compile a type param into an assignment."""
         bounds = ""
+        kwargs = ""
         if "TypeVar" in tokens:
             TypeVarFunc = "TypeVar"
             if len(tokens) == 2:
                 name_loc, name = tokens
             else:
                 name_loc, name, bound_op, bound = tokens
                 if bound_op == "<=":
@@ -3308,14 +3576,17 @@
                         "found use of " + repr(bound_op) + " as a type parameter bound declaration operator (Coconut style is to use '<:' operator)",
                         original,
                         loc,
                     )
                 else:
                     self.internal_assert(bound_op == "<:", original, loc, "invalid type_param bound_op", bound_op)
                 bounds = ", bound=" + self.wrap_typedef(bound, for_py_typedef=False)
+            # uncomment this line whenever mypy adds support for infer_variance in TypeVar
+            #  (and remove the warning about it in the DOCS)
+            # kwargs = ", infer_variance=True"
         elif "TypeVarTuple" in tokens:
             TypeVarFunc = "TypeVarTuple"
             name_loc, name = tokens
         elif "ParamSpec" in tokens:
             TypeVarFunc = "ParamSpec"
             name_loc, name = tokens
         else:
@@ -3334,18 +3605,19 @@
                     raise CoconutDeferredSyntaxError("type variable {name!r} already defined".format(name=name), loc)
                 temp_name = self.get_temp_var("typevar_" + name)
                 typevar_info["all_typevars"][name] = temp_name
                 typevar_info["new_typevars"].append((TypeVarFunc, temp_name))
                 typevar_info["typevar_locs"][name] = name_loc
                 name = temp_name
 
-        return '{name} = _coconut.typing.{TypeVarFunc}("{name}"{bounds})\n'.format(
+        return '{name} = _coconut.typing.{TypeVarFunc}("{name}"{bounds}{kwargs})\n'.format(
             name=name,
             TypeVarFunc=TypeVarFunc,
             bounds=bounds,
+            kwargs=kwargs,
         )
 
     def get_generic_for_typevars(self):
         """Get the Generic instances for the current typevars."""
         typevar_info = self.current_parsing_context("typevars")
         internal_assert(typevar_info is not None, "get_generic_for_typevars called with no typevars")
         generics = []
@@ -3576,38 +3848,17 @@
         """Handle Type | Type typedefs."""
         internal_assert(len(tokens) >= 2, "invalid union typedef tokens", tokens)
         if self.target_info >= (3, 10):
             return " | ".join(tokens)
         else:
             return "_coconut.typing.Union[" + ", ".join(tokens) + "]"
 
-    def split_star_expr_tokens(self, tokens):
-        """Split testlist_star_expr or dict_literal tokens."""
-        groups = [[]]
-        has_star = False
-        has_comma = False
-        for tok_grp in tokens:
-            if tok_grp == ",":
-                has_comma = True
-            elif len(tok_grp) == 1:
-                groups[-1].append(tok_grp[0])
-            elif len(tok_grp) == 2:
-                internal_assert(not tok_grp[0].lstrip("*"), "invalid star expr item signifier", tok_grp[0])
-                has_star = True
-                groups.append(tok_grp[1])
-                groups.append([])
-            else:
-                raise CoconutInternalException("invalid testlist_star_expr tokens", tokens)
-        if not groups[-1]:
-            groups.pop()
-        return groups, has_star, has_comma
-
     def testlist_star_expr_handle(self, original, loc, tokens, is_list=False):
         """Handle naked a, *b."""
-        groups, has_star, has_comma = self.split_star_expr_tokens(tokens)
+        groups, has_star, has_comma = split_star_expr_tokens(tokens)
         is_sequence = has_comma or is_list
 
         if not is_sequence and not has_star:
             self.internal_assert(len(groups) == 1 and len(groups[0]) == 1, original, loc, "invalid single-item testlist_star_expr tokens", tokens)
             out = groups[0][0]
 
         elif not has_star:
@@ -3646,43 +3897,52 @@
         else:
             return out  # the grammar wraps this in parens as needed
 
     def list_expr_handle(self, original, loc, tokens):
         """Handle non-comprehension list literals."""
         return self.testlist_star_expr_handle(original, loc, tokens, is_list=True)
 
+    def make_dict(self, tok_grp):
+        """Construct a dictionary literal out of the given group."""
+        # on < 3.9 have to use _coconut.dict since it's different than py_dict
+        if self.target_info >= (3, 9):
+            return "{" + join_dict_group(tok_grp) + "}"
+        else:
+            return "_coconut.dict((" + join_dict_group(tok_grp, as_tuples=True) + "))"
+
     def dict_literal_handle(self, tokens):
         """Handle {**d1, **d2}."""
         if not tokens:
-            return "{}"
+            # on < 3.9 have to use _coconut.dict since it's different than py_dict
+            return "{}" if self.target_info >= (3, 9) else "_coconut.dict()"
 
-        groups, has_star, _ = self.split_star_expr_tokens(tokens)
+        groups, has_star, _ = split_star_expr_tokens(tokens, is_dict=True)
 
         if not has_star:
             internal_assert(len(groups) == 1, "dict_literal group splitting failed on", tokens)
-            return "{" + ", ".join(groups[0]) + "}"
+            return self.make_dict(groups[0])
 
-        # naturally supported on 3.5+
-        elif self.target_info >= (3, 5):
+        # supported on 3.5, but only guaranteed to be ordered on 3.7
+        elif self.target_info >= (3, 7):
             to_literal = []
             for g in groups:
-                if isinstance(g, list):
-                    to_literal.extend(g)
-                else:
+                if not isinstance(g, list):
                     to_literal.append("**" + g)
+                elif g:
+                    to_literal.append(join_dict_group(g))
             return "{" + ", ".join(to_literal) + "}"
 
         # otherwise universalize
         else:
             to_merge = []
             for g in groups:
-                if isinstance(g, list):
-                    to_merge.append("{" + ", ".join(g) + "}")
-                else:
+                if not isinstance(g, list):
                     to_merge.append(g)
+                elif g:
+                    to_merge.append(self.make_dict(g))
             return "_coconut_dict_merge(" + ", ".join(to_merge) + ")"
 
     def new_testlist_star_expr_handle(self, tokens):
         """Handles new starred expressions that only started being allowed
         outside of parentheses in Python 3.9."""
         item, = tokens
         if (3, 5) <= self.target_info <= (3, 8):
@@ -3754,14 +4014,50 @@
         if first_is_num:
             if does_parse(self.number, tokens[1]):
                 raise CoconutDeferredSyntaxError("multiplying two or more numeric literals with implicit coefficient syntax is prohibited", loc)
             return "(" + " * ".join(tokens) + ")"
         else:
             return "_coconut_call_or_coefficient(" + ", ".join(tokens) + ")"
 
+    def keyword_funcdef_handle(self, tokens):
+        """Process function definitions with keywords in front."""
+        keywords, funcdef = tokens
+        for kwd in keywords:
+            if kwd == "yield":
+                funcdef += handle_indentation(
+                    """
+if False:
+    yield
+                    """,
+                    add_newline=True,
+                    extra_indent=1,
+                )
+            else:
+                # new keywords here must be replicated in def_regex and handled in proc_funcdef
+                internal_assert(kwd in ("addpattern", "copyclosure"), "unknown deferred funcdef keyword", kwd)
+                funcdef = kwd + " " + funcdef
+        return funcdef
+
+    def protocol_intersect_expr_handle(self, tokens):
+        if len(tokens) == 1:
+            return tokens[0]
+        internal_assert(len(tokens) >= 2, "invalid protocol intersection tokens", tokens)
+        protocol_var = self.get_temp_var("protocol_intersection")
+        self.add_code_before[protocol_var] = handle_indentation(
+            '''
+class {protocol_var}({tokens}, _coconut.typing.Protocol): pass
+            ''',
+        ).format(
+            protocol_var=protocol_var,
+            tokens=", ".join(tokens),
+        )
+        return protocol_var
+
+    protocol_intersect_expr_handle.ignore_one_token = True
+
 # end: HANDLERS
 # -----------------------------------------------------------------------------------------------------------------------
 # CHECKING HANDLERS:
 # -----------------------------------------------------------------------------------------------------------------------
 
     def check_strict(self, name, original, loc, tokens, only_warn=False, always_warn=False):
         """Check that syntax meets --strict requirements."""
@@ -3943,19 +4239,15 @@
                 )
             else:
                 return "_coconut_exec"
         elif not assign and name in super_names and not self.target.startswith("3"):
             if self.in_method:
                 cls_context = self.current_parsing_context("class")
                 enclosing_cls = cls_context["name_prefix"] + cls_context["name"]
-                # temp_marker will be set back later, but needs to be a unique name until then for add_code_before
-                temp_marker = self.get_temp_var("super")
-                self.add_code_before[temp_marker] = "__class__ = " + enclosing_cls + "\n"
-                self.add_code_before_replacements[temp_marker] = name
-                return temp_marker
+                return self.add_code_before_marker_with_replacement(name, "__class__ = " + enclosing_cls + "\n", add_spaces=False)
             else:
                 return name
         elif not escaped and name.startswith(reserved_prefix) and name not in self.operators:
             return self.raise_or_wrap_error(
                 self.make_err(
                     CoconutSyntaxError,
                     "variable names cannot start with reserved prefix '{prefix}' (use explicit '\\{name}' syntax if intending to access Coconut internals)".format(prefix=reserved_prefix, name=name),
```

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/compiler/grammar.py` & `coconut-develop-3.0.1.post0.dev1/coconut/compiler/grammar.py`

 * *Files 2% similar despite different names*

```diff
@@ -25,17 +25,17 @@
 
 from __future__ import print_function, absolute_import, unicode_literals, division
 
 from coconut.root import *  # NOQA
 
 from collections import defaultdict
 from contextlib import contextmanager
+from functools import partial
 
 from coconut._pyparsing import (
-    CaselessLiteral,
     Forward,
     Group,
     Literal,
     OneOrMore,
     Optional,
     ParserElement,
     StringEnd,
@@ -50,14 +50,15 @@
     quotedString,
     restOfLine,
 )
 
 from coconut.util import (
     memoize,
     get_clock_time,
+    keydefaultdict,
 )
 from coconut.exceptions import (
     CoconutInternalException,
     CoconutDeferredSyntaxError,
 )
 from coconut.terminal import (
     trace,
@@ -73,14 +74,15 @@
     reserved_vars,
     none_coalesce_var,
     func_var,
     untcoable_funcs,
     early_passthrough_wrapper,
     new_operators,
     wildcard,
+    op_func_protocols,
 )
 from coconut.compiler.util import (
     combine,
     attach,
     fixto,
     addspace,
     condense,
@@ -92,30 +94,31 @@
     exprlist,
     disable_inside,
     disable_outside,
     final,
     split_trailing_indent,
     split_leading_indent,
     collapse_indents,
-    keyword,
+    base_keyword,
     match_in,
     disallow_keywords,
     regex_item,
     stores_loc_item,
     invalid_syntax,
     skip_to_in_line,
-    handle_indentation,
     labeled_group,
     any_keyword_in,
     any_char,
     tuple_str_of,
     any_len_perm,
+    any_len_perm_at_least_one,
     boundary,
     compile_regex,
     always_match,
+    caseless_literal,
 )
 
 
 # end: IMPORTS
 # -----------------------------------------------------------------------------------------------------------------------
 # HELPERS:
 # -----------------------------------------------------------------------------------------------------------------------
@@ -519,36 +522,26 @@
     final_stmt, init_stmts = tokens
     return "".join(init_stmts) + final_stmt + "\n"
 
 
 def kwd_err_msg_handle(tokens):
     """Handle keyword parse error messages."""
     kwd, = tokens
-    return 'invalid use of the keyword "' + kwd + '"'
+    if kwd == "def":
+        return "invalid function definition"
+    else:
+        return 'invalid use of the keyword "' + kwd + '"'
 
 
 def alt_ternary_handle(tokens):
     """Handle if ... then ... else ternary operator."""
     cond, if_true, if_false = tokens
     return "{if_true} if {cond} else {if_false}".format(cond=cond, if_true=if_true, if_false=if_false)
 
 
-def yield_funcdef_handle(tokens):
-    """Handle yield def explicit generators."""
-    funcdef, = tokens
-    return funcdef + handle_indentation(
-        """
-if False:
-    yield
-        """,
-        add_newline=True,
-        extra_indent=1,
-    )
-
-
 def partial_op_item_handle(tokens):
     """Handle operator function implicit partials."""
     tok_grp, = tokens
     if "left partial" in tok_grp:
         arg, op = tok_grp
         return "_coconut.functools.partial(" + op + ", " + arg + ")"
     elif "right partial" in tok_grp:
@@ -595,14 +588,31 @@
     if not array_elems:
         raise CoconutDeferredSyntaxError("multidimensional array literal cannot be only separators", loc)
 
     # build multidimensional array
     return "_coconut_multi_dim_arr(" + tuple_str_of(array_elems) + ", " + str(sep_level) + ")"
 
 
+def typedef_op_item_handle(loc, tokens):
+    """Converts operator functions in type contexts into Protocols."""
+    op_name, = tokens
+    op_name = op_name.strip("_")
+    if op_name.startswith("coconut"):
+        op_name = op_name[len("coconut"):]
+    op_name = op_name.lstrip("._")
+    if op_name.startswith("operator."):
+        op_name = op_name[len("operator."):]
+
+    proto = op_func_protocols.get(op_name)
+    if proto is None:
+        raise CoconutDeferredSyntaxError("operator Protocol for " + repr(op_name) + " operator not supported", loc)
+
+    return proto
+
+
 # end: HANDLERS
 # -----------------------------------------------------------------------------------------------------------------------
 # MAIN GRAMMAR:
 # -----------------------------------------------------------------------------------------------------------------------
 
 class Grammar(object):
     """Coconut grammar specification."""
@@ -692,15 +702,16 @@
         | invalid_syntax("..**?>", "Coconut's None-aware forward keyword composition pipe is '..?**>', not '..**?>'")
     )
     comp_back_none_dubstar_pipe = (
         Literal("<**?..")
         | fixto(Literal("<**?\u2218"), "<**?..")
         | invalid_syntax("<?**..", "Coconut's None-aware backward keyword composition pipe is '<**?..', not '<?**..'")
     )
-    amp = Literal("&") | fixto(Literal("\u2227") | Literal("\u2229"), "&")
+    amp_colon = Literal("&:")
+    amp = ~amp_colon + Literal("&") | fixto(Literal("\u2227") | Literal("\u2229"), "&")
     caret = Literal("^") | fixto(Literal("\u22bb"), "^")
     unsafe_bar = ~Literal("|>") + ~Literal("|*") + Literal("|") | fixto(Literal("\u2228") | Literal("\u222a"), "|")
     bar = ~rbanana + unsafe_bar | invalid_syntax("\xa6", "invalid broken bar character", greedy=True)
     percent = Literal("%")
     dollar = Literal("$")
     lshift = Literal("<<") | fixto(Literal("\xab"), "<<")
     rshift = Literal(">>") | fixto(Literal("\xbb"), ">>")
@@ -710,27 +721,21 @@
     unsafe_backtick = Literal("`")
     dubbackslash = Literal("\\\\")
     backslash = ~dubbackslash + Literal("\\")
     dubquestion = Literal("??")
     questionmark = ~dubquestion + Literal("?")
     bang = ~Literal("!=") + Literal("!")
 
+    kwds = keydefaultdict(partial(base_keyword, explicit_prefix=colon))
+    keyword = kwds.__getitem__
+
     except_star_kwd = combine(keyword("except") + star)
-    except_kwd = ~except_star_kwd + keyword("except")
-    lambda_kwd = keyword("lambda") | fixto(keyword("\u03bb", explicit_prefix=colon), "lambda")
-    async_kwd = keyword("async", explicit_prefix=colon)
-    await_kwd = keyword("await", explicit_prefix=colon)
-    data_kwd = keyword("data", explicit_prefix=colon)
-    match_kwd = keyword("match", explicit_prefix=colon)
-    case_kwd = keyword("case", explicit_prefix=colon)
-    cases_kwd = keyword("cases", explicit_prefix=colon)
-    where_kwd = keyword("where", explicit_prefix=colon)
-    addpattern_kwd = keyword("addpattern", explicit_prefix=colon)
-    then_kwd = keyword("then", explicit_prefix=colon)
-    type_kwd = keyword("type", explicit_prefix=colon)
+    kwds["except"] = ~except_star_kwd + keyword("except")
+    kwds["lambda"] = keyword("lambda") | fixto(keyword("\u03bb"), "lambda")
+    kwds["operator"] = base_keyword("operator", explicit_prefix=colon, require_whitespace=True)
 
     ellipsis = Forward()
     ellipsis_tokens = Literal("...") | fixto(Literal("\u2026"), "...")
 
     lt = (
         ~Literal("<<")
         + ~Literal("<=")
@@ -789,25 +794,25 @@
     must_be_dotted_name = condense(refname + OneOrMore(dot + unsafe_name))
 
     integer = combine(Word(nums) + ZeroOrMore(underscore.suppress() + Word(nums)))
     binint = combine(Word("01") + ZeroOrMore(underscore.suppress() + Word("01")))
     octint = combine(Word("01234567") + ZeroOrMore(underscore.suppress() + Word("01234567")))
     hexint = combine(Word(hexnums) + ZeroOrMore(underscore.suppress() + Word(hexnums)))
 
-    imag_j = CaselessLiteral("j") | fixto(CaselessLiteral("i"), "j")
+    imag_j = caseless_literal("j") | fixto(caseless_literal("i", suppress=True), "j")
     basenum = combine(
         integer + dot + Optional(integer)
         | Optional(integer) + dot + integer,
     ) | integer
-    sci_e = combine(CaselessLiteral("e") + Optional(plus | neg_minus))
+    sci_e = combine(caseless_literal("e") + Optional(plus | neg_minus))
     numitem = ~(Literal("0") + Word(nums + "_", exact=1)) + combine(basenum + Optional(sci_e + integer))
     imag_num = combine(numitem + imag_j)
-    bin_num = combine(CaselessLiteral("0b") + Optional(underscore.suppress()) + binint)
-    oct_num = combine(CaselessLiteral("0o") + Optional(underscore.suppress()) + octint)
-    hex_num = combine(CaselessLiteral("0x") + Optional(underscore.suppress()) + hexint)
+    bin_num = combine(caseless_literal("0b") + Optional(underscore.suppress()) + binint)
+    oct_num = combine(caseless_literal("0o") + Optional(underscore.suppress()) + octint)
+    hex_num = combine(caseless_literal("0x") + Optional(underscore.suppress()) + hexint)
     number = (
         bin_num
         | oct_num
         | hex_num
         | imag_num
         | numitem
     )
@@ -839,18 +844,18 @@
     end_marker = StringEnd()
     indent = Literal(openindent)
     dedent = Literal(closeindent)
 
     u_string = Forward()
     f_string = Forward()
 
-    bit_b = CaselessLiteral("b")
-    raw_r = CaselessLiteral("r")
-    unicode_u = CaselessLiteral("u").suppress()
-    format_f = CaselessLiteral("f").suppress()
+    bit_b = caseless_literal("b")
+    raw_r = caseless_literal("r")
+    unicode_u = caseless_literal("u", suppress=True)
+    format_f = caseless_literal("f", suppress=True)
 
     string = combine(Optional(raw_r) + string_item)
     # Python 2 only supports br"..." not rb"..."
     b_string = combine((bit_b + Optional(raw_r) | fixto(raw_r + bit_b, "br")) + string_item)
     # ur"..."/ru"..." strings are not suppored in Python 3
     u_string_ref = combine(unicode_u + string_item)
     f_string_tokens = combine((format_f + Optional(raw_r) | raw_r + format_f) + string_item)
@@ -922,14 +927,22 @@
     test_no_cond = Forward()
     infix_op = Forward()
     namedexpr_test = Forward()
     # for namedexpr locations only supported in Python 3.10
     new_namedexpr_test = Forward()
     lambdef = Forward()
 
+    typedef = Forward()
+    typedef_default = Forward()
+    unsafe_typedef_default = Forward()
+    typedef_test = Forward()
+    typedef_tuple = Forward()
+    typedef_ellipsis = Forward()
+    typedef_op_item = Forward()
+
     negable_atom_item = condense(Optional(neg_minus) + atom_item)
 
     testlist = trace(itemlist(test, comma, suppress_trailing=False))
     testlist_has_comma = trace(addspace(OneOrMore(condense(test + comma)) + Optional(test)))
     new_namedexpr_testlist_has_comma = trace(addspace(OneOrMore(condense(new_namedexpr_test + comma)) + Optional(test)))
 
     testlist_star_expr = Forward()
@@ -950,15 +963,16 @@
         test + colon.suppress() + test + comp_for
         | invalid_syntax(dubstar_expr + comp_for, "dict unpacking cannot be used in dict comprehension")
     ) + rbrace.suppress()
     dict_literal_ref = (
         lbrace.suppress()
         + Optional(
             tokenlist(
-                Group(addspace(condense(test + colon) + test)) | dubstar_expr,
+                Group(test + colon + test)
+                | dubstar_expr,
                 comma,
             ),
         )
         + rbrace.suppress()
     )
     test_expr = yield_expr | testlist_star_expr
 
@@ -1019,35 +1033,36 @@
         | fixto(gt, "_coconut.operator.gt")
         | fixto(eq, "_coconut.operator.eq")
         | fixto(le, "_coconut.operator.le")
         | fixto(ge, "_coconut.operator.ge")
         | fixto(ne, "_coconut.operator.ne")
         | fixto(tilde, "_coconut.operator.inv")
         | fixto(matrix_at, "_coconut_matmul")
+        | fixto(keyword("is") + keyword("not"), "_coconut.operator.is_not")
+        | fixto(keyword("not") + keyword("in"), "_coconut_not_in")
+
+        # must come after is not / not in
         | fixto(keyword("not"), "_coconut.operator.not_")
         | fixto(keyword("is"), "_coconut.operator.is_")
-        | fixto(keyword("in"), "_coconut.operator.contains")
+        | fixto(keyword("in"), "_coconut_in")
     )
     partialable_op = base_op_item | infix_op
     partial_op_item_tokens = (
         labeled_group(dot.suppress() + partialable_op + test_no_infix, "right partial")
         | labeled_group(test_no_infix + partialable_op + dot.suppress(), "left partial")
     )
     partial_op_item = attach(partial_op_item_tokens, partial_op_item_handle)
-    op_item = trace(partial_op_item | base_op_item)
+    op_item = trace(
+        typedef_op_item
+        | partial_op_item
+        | base_op_item,
+    )
 
     partial_op_atom_tokens = lparen.suppress() + partial_op_item_tokens + rparen.suppress()
 
-    typedef = Forward()
-    typedef_default = Forward()
-    unsafe_typedef_default = Forward()
-    typedef_test = Forward()
-    typedef_tuple = Forward()
-    typedef_ellipsis = Forward()
-
     # we include (var)arg_comma to ensure the pattern matches the whole arg
     arg_comma = comma | fixto(FollowedBy(rparen), "")
     setarg_comma = arg_comma | fixto(FollowedBy(colon), "")
     typedef_ref = setname + colon.suppress() + typedef_test + arg_comma
     default = condense(equals + test)
     unsafe_typedef_default_ref = setname + colon.suppress() + typedef_test + Optional(default)
     typedef_default_ref = unsafe_typedef_default_ref + arg_comma
@@ -1114,14 +1129,15 @@
         ),
     )
 
     call_item = (
         dubstar + test
         | star + test
         | unsafe_name + default
+        | ellipsis_tokens + equals.suppress() + refname
         | namedexpr_test
     )
     function_call_tokens = lparen.suppress() + (
         # everything here must end with rparen
         rparen.suppress()
         | tokenlist(Group(call_item), comma) + rparen.suppress()
         | Group(attach(addspace(test + comp_for), add_parens_handle)) + rparen.suppress()
@@ -1159,19 +1175,19 @@
         slicetestgroup + sliceopgroup + Optional(sliceopgroup)
         | test,
         subscriptgroup_handle,
     )
     subscriptgrouplist = itemlist(subscriptgroup, comma)
 
     anon_namedtuple = Forward()
+    maybe_typedef = Optional(colon.suppress() + typedef_test)
     anon_namedtuple_ref = tokenlist(
         Group(
-            unsafe_name
-            + Optional(colon.suppress() + typedef_test)
-            + equals.suppress() + test,
+            unsafe_name + maybe_typedef + equals.suppress() + test
+            | ellipsis_tokens + maybe_typedef + equals.suppress() + refname,
         ),
         comma,
     )
 
     comprehension_expr = (
         addspace(namedexpr_test + comp_for)
         | invalid_syntax(star_expr + comp_for, "iterable unpacking cannot be used in comprehension")
@@ -1216,17 +1232,17 @@
     f_string_atom_ref = ZeroOrMore(nonbf_string) + f_string + ZeroOrMore(nonb_string)
 
     keyword_atom = any_keyword_in(const_vars)
     passthrough_atom = trace(addspace(OneOrMore(passthrough_item)))
 
     set_literal = Forward()
     set_letter_literal = Forward()
-    set_s = fixto(CaselessLiteral("s"), "s")
-    set_f = fixto(CaselessLiteral("f"), "f")
-    set_m = fixto(CaselessLiteral("m"), "m")
+    set_s = caseless_literal("s")
+    set_f = caseless_literal("f")
+    set_m = caseless_literal("m")
     set_letter = set_s | set_f | set_m
     setmaker = Group(
         (new_namedexpr_test + FollowedBy(rbrace))("test")
         | (new_namedexpr_testlist_has_comma + FollowedBy(rbrace))("list")
         | addspace(new_namedexpr_test + comp_for + FollowedBy(rbrace))("comp")
         | (testlist_star_namedexpr + FollowedBy(rbrace))("testlist_star_expr"),
     )
@@ -1269,16 +1285,16 @@
         | invalid_syntax(dollar + questionmark, "'?' must come before '$' in None-coalescing partial application")
         | Group(dollar + ~lparen + ~lbrack)  # keep $ for item_handle
     )
     known_trailer = typedef_trailer | (
         Group(condense(dollar + lbrack) + subscriptgroup + rbrack.suppress())  # $[
         | Group(condense(dollar + lbrack + rbrack))  # $[]
         | Group(condense(lbrack + rbrack))  # []
-        | Group(dot + ~unsafe_name + ~lbrack)  # .
         | Group(questionmark)  # ?
+        | Group(dot + ~unsafe_name + ~lbrack + ~dot)  # .
     ) + ~questionmark
     partial_trailer = (
         Group(fixto(dollar, "$(") + function_call)  # $(
         | Group(fixto(dollar + lparen, "$(?") + questionmark_call_tokens) + rparen.suppress()  # $(?
     ) + ~questionmark
     partial_trailer_tokens = Group(dollar.suppress() + function_call_tokens)
 
@@ -1345,18 +1361,18 @@
         (type_var_name + Optional(type_param_bound_op + typedef_test))("TypeVar")
         | (star.suppress() + type_var_name)("TypeVarTuple")
         | (dubstar.suppress() + type_var_name)("ParamSpec")
     )
     type_params = Group(lbrack.suppress() + tokenlist(type_param, comma) + rbrack.suppress())
 
     type_alias_stmt = Forward()
-    type_alias_stmt_ref = type_kwd.suppress() + setname + Optional(type_params) + equals.suppress() + typedef_test
+    type_alias_stmt_ref = keyword("type").suppress() + setname + Optional(type_params) + equals.suppress() + typedef_test
 
     await_expr = Forward()
-    await_expr_ref = await_kwd.suppress() + atom_item
+    await_expr_ref = keyword("await").suppress() + atom_item
     await_item = await_expr | atom_item
 
     factor = Forward()
     unary = plus | neg_minus | tilde
 
     power = condense(exp_dubstar + ZeroOrMore(unary) + await_item)
     power_in_impl_call = Forward()
@@ -1391,23 +1407,26 @@
     term = Forward()
     term_ref = tokenlist(factor, mulop, allow_trailing=False, suppress=False)
 
     # we condense all of these down, since Python handles the precedence, not Coconut
     # arith_expr = exprlist(term, addop)
     # shift_expr = exprlist(arith_expr, shift)
     # and_expr = exprlist(shift_expr, amp)
-    # xor_expr = exprlist(and_expr, caret)
-    xor_expr = exprlist(
+    and_expr = exprlist(
         term,
         addop
         | shift
-        | amp
-        | caret,
+        | amp,
     )
 
+    protocol_intersect_expr = Forward()
+    protocol_intersect_expr_ref = tokenlist(and_expr, amp_colon, allow_trailing=False)
+
+    xor_expr = exprlist(protocol_intersect_expr, caret)
+
     or_expr = typedef_or_expr | exprlist(xor_expr, bar)
 
     chain_expr = attach(tokenlist(or_expr, dubcolon, allow_trailing=False), chain_handle)
 
     compose_expr = attach(
         tokenlist(
             chain_expr,
@@ -1467,32 +1486,35 @@
         | none_dubstar_pipe
         | back_none_pipe
         | back_none_star_pipe
         | back_none_dubstar_pipe
     )
     pipe_item = (
         # we need the pipe_op since any of the atoms could otherwise be the start of an expression
-        labeled_group(attrgetter_atom_tokens, "attrgetter") + pipe_op
+        labeled_group(keyword("await"), "await") + pipe_op
+        | labeled_group(attrgetter_atom_tokens, "attrgetter") + pipe_op
         | labeled_group(itemgetter_atom_tokens, "itemgetter") + pipe_op
         | labeled_group(partial_atom_tokens, "partial") + pipe_op
         | labeled_group(partial_op_atom_tokens, "op partial") + pipe_op
         # expr must come at end
         | labeled_group(comp_pipe_expr, "expr") + pipe_op
     )
     pipe_augassign_item = trace(
         # should match pipe_item but with pipe_op -> end_simple_stmt_item and no expr
-        labeled_group(attrgetter_atom_tokens, "attrgetter") + end_simple_stmt_item
+        labeled_group(keyword("await"), "await") + end_simple_stmt_item
+        | labeled_group(attrgetter_atom_tokens, "attrgetter") + end_simple_stmt_item
         | labeled_group(itemgetter_atom_tokens, "itemgetter") + end_simple_stmt_item
         | labeled_group(partial_atom_tokens, "partial") + end_simple_stmt_item
         | labeled_group(partial_op_atom_tokens, "op partial") + end_simple_stmt_item,
     )
     last_pipe_item = Group(
         lambdef("expr")
         # we need longest here because there's no following pipe_op we can use as above
         | longest(
+            keyword("await")("await"),
             attrgetter_atom_tokens("attrgetter"),
             itemgetter_atom_tokens("itemgetter"),
             partial_atom_tokens("partial"),
             partial_op_atom_tokens("op partial"),
             comp_pipe_expr("expr"),
         ),
     )
@@ -1524,15 +1546,15 @@
     suite = Forward()
     nocolon_suite = Forward()
     base_suite = Forward()
 
     classic_lambdef = Forward()
     classic_lambdef_params = maybeparens(lparen, set_args_list, rparen)
     new_lambdef_params = lparen.suppress() + set_args_list + rparen.suppress() | setname
-    classic_lambdef_ref = addspace(lambda_kwd + condense(classic_lambdef_params + colon))
+    classic_lambdef_ref = addspace(keyword("lambda") + condense(classic_lambdef_params + colon))
     new_lambdef = attach(new_lambdef_params + arrow.suppress(), lambdef_handle)
     implicit_lambdef = fixto(arrow, "lambda _=None:")
     lambdef_base = classic_lambdef | new_lambdef | implicit_lambdef
 
     stmt_lambdef = Forward()
     match_guard = Optional(keyword("if").suppress() + namedexpr_test)
     closing_stmt = longest(new_testlist_star_expr("tests"), unsafe_simple_stmt_item)
@@ -1546,26 +1568,28 @@
     stmt_lambdef_body = Group(
         Group(OneOrMore(simple_stmt_item + semicolon.suppress())) + Optional(closing_stmt)
         | Group(ZeroOrMore(simple_stmt_item + semicolon.suppress())) + closing_stmt,
     )
     general_stmt_lambdef = (
         Group(
             any_len_perm(
-                async_kwd,
+                keyword("async"),
+                keyword("copyclosure"),
             ),
         ) + keyword("def").suppress()
         + stmt_lambdef_params
         + arrow.suppress()
         + stmt_lambdef_body
     )
     match_stmt_lambdef = (
         Group(
             any_len_perm(
-                match_kwd.suppress(),
-                async_kwd,
+                keyword("match").suppress(),
+                keyword("async"),
+                keyword("copyclosure"),
             ),
         ) + keyword("def").suppress()
         + stmt_lambdef_match_params
         + arrow.suppress()
         + stmt_lambdef_body
     )
     stmt_lambdef_ref = general_stmt_lambdef | match_stmt_lambdef
@@ -1581,15 +1605,15 @@
         Group(
             labeled_group(maybeparens(lparen, ellipsis_tokens, rparen), "ellipsis")
             | lparen.suppress() + Optional(tokenlist(typedef_callable_arg, comma)) + rparen.suppress()
             | labeled_group(negable_atom_item, "arg"),
         ),
     )
     unsafe_typedef_callable = attach(
-        Optional(async_kwd, default="")
+        Optional(keyword("async"), default="")
         + typedef_callable_params
         + arrow.suppress()
         + typedef_test,
         typedef_callable_handle,
     )
 
     unsafe_typedef_trailer = (  # use special type signifier for item_handle
@@ -1603,29 +1627,33 @@
 
     unsafe_typedef_tuple = Forward()
     # should mimic testlist_star_namedexpr but with require_sep=True
     unsafe_typedef_tuple_ref = tokenlist(Group(namedexpr_test) | star_expr, fixto(semicolon, ","), suppress=False, require_sep=True)
 
     unsafe_typedef_ellipsis = ellipsis_tokens
 
-    _typedef_test, typedef_callable, _typedef_trailer, _typedef_or_expr, _typedef_tuple, _typedef_ellipsis = disable_outside(
+    unsafe_typedef_op_item = attach(base_op_item, typedef_op_item_handle)
+
+    _typedef_test, typedef_callable, _typedef_trailer, _typedef_or_expr, _typedef_tuple, _typedef_ellipsis, _typedef_op_item = disable_outside(
         test,
         unsafe_typedef_callable,
         unsafe_typedef_trailer,
         unsafe_typedef_or_expr,
         unsafe_typedef_tuple,
         unsafe_typedef_ellipsis,
+        unsafe_typedef_op_item,
     )
     typedef_test <<= _typedef_test
     typedef_trailer <<= _typedef_trailer
     typedef_or_expr <<= _typedef_or_expr
     typedef_tuple <<= _typedef_tuple
     typedef_ellipsis <<= _typedef_ellipsis
+    typedef_op_item <<= _typedef_op_item
 
-    alt_ternary_expr = attach(keyword("if").suppress() + test_item + then_kwd.suppress() + test_item + keyword("else").suppress() + test, alt_ternary_handle)
+    alt_ternary_expr = attach(keyword("if").suppress() + test_item + keyword("then").suppress() + test_item + keyword("else").suppress() + test, alt_ternary_handle)
     test <<= (
         typedef_callable
         | lambdef
         | alt_ternary_expr
         | addspace(test_item + Optional(keyword("if") + test_item + keyword("else") + test))  # must come last since it includes plain test_item
     )
     test_no_cond <<= lambdef_no_cond | test_item
@@ -1668,15 +1696,15 @@
     async_comp_for = Forward()
     comp_iter = Forward()
     comp_it_item = (
         invalid_syntax(maybeparens(lparen, namedexpr, rparen), "PEP 572 disallows assignment expressions in comprehension iterable expressions")
         | test_item
     )
     base_comp_for = addspace(keyword("for") + assignlist + keyword("in") + comp_it_item + Optional(comp_iter))
-    async_comp_for_ref = addspace(async_kwd + base_comp_for)
+    async_comp_for_ref = addspace(keyword("async") + base_comp_for)
     comp_for <<= async_comp_for | base_comp_for
     comp_if = addspace(keyword("if") + test_no_cond + Optional(comp_iter))
     comp_iter <<= comp_for | comp_if
 
     return_stmt = addspace(keyword("return") - Optional(new_testlist_star_expr))
 
     complex_raise_stmt = Forward()
@@ -1852,15 +1880,15 @@
                 + lbrace.suppress()
                 + (
                     Group(tokenlist(match_const, comma, allow_trailing=False)) + Optional(comma.suppress() + set_star + Optional(comma.suppress()))
                     | Group(always_match) + set_star + Optional(comma.suppress())
                     | Group(Optional(tokenlist(match_const, comma)))
                 ) + rbrace.suppress()
             )("set")
-            | (data_kwd.suppress() + dotted_refname + lparen.suppress() + matchlist_data + rparen.suppress())("data")
+            | (keyword("data").suppress() + dotted_refname + lparen.suppress() + matchlist_data + rparen.suppress())("data")
             | (keyword("class").suppress() + dotted_refname + lparen.suppress() + matchlist_data + rparen.suppress())("class")
             | (dotted_refname + lparen.suppress() + matchlist_data + rparen.suppress())("data_or_class")
             | Optional(keyword("as").suppress()) + setname("var"),
         ),
     )
 
     matchlist_isinstance = base_match + OneOrMore(keyword("is").suppress() + negable_atom_item)
@@ -1889,55 +1917,55 @@
         | match
     )
 
     else_stmt = condense(keyword("else") - suite)
     full_suite = colon.suppress() - Group((newline.suppress() - indent.suppress() - OneOrMore(stmt) - dedent.suppress()) | simple_stmt)
     full_match = Forward()
     full_match_ref = (
-        match_kwd.suppress()
+        keyword("match").suppress()
         + many_match
         + addspace(Optional(keyword("not")) + keyword("in"))
         + testlist_star_namedexpr
         + match_guard
         # avoid match match-case blocks
-        + ~FollowedBy(colon + newline + indent + keyword("case", explicit_prefix=colon))
+        + ~FollowedBy(colon + newline + indent + keyword("case"))
         - full_suite
     )
     match_stmt = trace(condense(full_match - Optional(else_stmt)))
 
     destructuring_stmt = Forward()
-    base_destructuring_stmt = Optional(match_kwd.suppress()) + many_match + equals.suppress() + test_expr
+    base_destructuring_stmt = Optional(keyword("match").suppress()) + many_match + equals.suppress() + test_expr
     destructuring_stmt_ref, match_dotted_name_const_ref = disable_inside(base_destructuring_stmt, must_be_dotted_name + ~lparen)
 
     # both syntaxes here must be kept the same except for the keywords
     case_match_co_syntax = trace(
         Group(
-            (match_kwd | case_kwd).suppress()
+            (keyword("match") | keyword("case")).suppress()
             + stores_loc_item
             + many_match
             + Optional(keyword("if").suppress() + namedexpr_test)
             - full_suite,
         ),
     )
     cases_stmt_co_syntax = (
-        (cases_kwd | case_kwd) + testlist_star_namedexpr + colon.suppress() + newline.suppress()
+        (keyword("cases") | keyword("case")) + testlist_star_namedexpr + colon.suppress() + newline.suppress()
         + indent.suppress() + Group(OneOrMore(case_match_co_syntax))
         + dedent.suppress() + Optional(keyword("else").suppress() + suite)
     )
     case_match_py_syntax = trace(
         Group(
-            case_kwd.suppress()
+            keyword("case").suppress()
             + stores_loc_item
             + many_match
             + Optional(keyword("if").suppress() + namedexpr_test)
             - full_suite,
         ),
     )
     cases_stmt_py_syntax = (
-        match_kwd + testlist_star_namedexpr + colon.suppress() + newline.suppress()
+        keyword("match") + testlist_star_namedexpr + colon.suppress() + newline.suppress()
         + indent.suppress() + Group(OneOrMore(case_match_py_syntax))
         + dedent.suppress() + Optional(keyword("else").suppress() - suite)
     )
     cases_stmt = Forward()
     cases_stmt_ref = cases_stmt_co_syntax | cases_stmt_py_syntax
 
     assert_stmt = addspace(
@@ -1954,31 +1982,31 @@
     )
     while_stmt = addspace(keyword("while") - condense(namedexpr_test - suite - Optional(else_stmt)))
 
     for_stmt = addspace(keyword("for") + assignlist + keyword("in") - condense(new_testlist_star_expr - suite - Optional(else_stmt)))
 
     base_match_for_stmt = Forward()
     base_match_for_stmt_ref = keyword("for").suppress() + many_match + keyword("in").suppress() - new_testlist_star_expr - colon.suppress() - condense(nocolon_suite - Optional(else_stmt))
-    match_for_stmt = Optional(match_kwd.suppress()) + base_match_for_stmt
+    match_for_stmt = Optional(keyword("match").suppress()) + base_match_for_stmt
 
     except_item = (
         testlist_has_comma("list")
         | test("test")
     ) - Optional(
         keyword("as").suppress() - setname,
     )
-    except_clause = attach(except_kwd + except_item, except_handle)
+    except_clause = attach(keyword("except") + except_item, except_handle)
     except_star_clause = Forward()
     except_star_clause_ref = attach(except_star_kwd + except_item, except_handle)
     try_stmt = condense(
         keyword("try") - suite + (
             keyword("finally") - suite
             | (
-                OneOrMore(except_clause - suite) - Optional(except_kwd - suite)
-                | except_kwd - suite
+                OneOrMore(except_clause - suite) - Optional(keyword("except") - suite)
+                | keyword("except") - suite
                 | OneOrMore(except_star_clause - suite)
             ) - Optional(else_stmt) - Optional(keyword("finally") - suite)
         ),
     )
 
     with_item = addspace(test + Optional(keyword("as") + base_assign_item))
     with_item_list = Group(maybeparens(lparen, tokenlist(with_item, comma), rparen))
@@ -2039,35 +2067,35 @@
             + end_func_colon
             - func_suite,
             join_match_funcdef,
         ),
     )
     match_def_modifiers = trace(
         any_len_perm(
-            match_kwd.suppress(),
-            # we don't suppress addpattern so its presence can be detected later
-            addpattern_kwd,
+            keyword("match").suppress(),
+            # addpattern is detected later
+            keyword("addpattern"),
         ),
     )
     match_funcdef = addspace(match_def_modifiers + def_match_funcdef)
 
     where_stmt = attach(
         unsafe_simple_stmt_item
-        + where_kwd.suppress()
+        + keyword("where").suppress()
         - full_suite,
         where_handle,
     )
 
     implicit_return = (
         invalid_syntax(return_stmt, "expected expression but got return statement")
         | attach(new_testlist_star_expr, implicit_return_handle)
     )
     implicit_return_where = attach(
         implicit_return
-        + where_kwd.suppress()
+        + keyword("where").suppress()
         - full_suite,
         where_handle,
     )
     implicit_return_stmt = (
         condense(implicit_return + newline)
         | implicit_return_where
     )
@@ -2101,82 +2129,80 @@
                 join_match_funcdef,
             ),
         ),
     )
 
     async_stmt = Forward()
     async_stmt_ref = addspace(
-        async_kwd + (with_stmt | for_stmt | match_for_stmt)  # handles async [match] for
-        | match_kwd.suppress() + async_kwd + base_match_for_stmt,  # handles match async for
+        keyword("async") + (with_stmt | for_stmt | match_for_stmt)  # handles async [match] for
+        | keyword("match").suppress() + keyword("async") + base_match_for_stmt,  # handles match async for
     )
 
-    async_funcdef = async_kwd.suppress() + (funcdef | math_funcdef)
+    async_funcdef = keyword("async").suppress() + (funcdef | math_funcdef)
     async_match_funcdef = trace(
         addspace(
             any_len_perm(
-                match_kwd.suppress(),
-                # we don't suppress addpattern so its presence can be detected later
-                addpattern_kwd,
-                required=(async_kwd.suppress(),),
+                keyword("match").suppress(),
+                # addpattern is detected later
+                keyword("addpattern"),
+                required=(keyword("async").suppress(),),
             ) + (def_match_funcdef | math_match_funcdef),
         ),
     )
-    async_yield_funcdef = attach(
-        trace(
-            any_len_perm(
-                required=(
-                    async_kwd.suppress(),
-                    keyword("yield").suppress(),
-                ),
-            ) + (funcdef | math_funcdef),
-        ),
-        yield_funcdef_handle,
-    )
-    async_yield_match_funcdef = attach(
-        trace(
-            addspace(
-                any_len_perm(
-                    match_kwd.suppress(),
-                    # we don't suppress addpattern so its presence can be detected later
-                    addpattern_kwd,
-                    required=(
-                        async_kwd.suppress(),
-                        keyword("yield").suppress(),
-                    ),
-                ) + (def_match_funcdef | math_match_funcdef),
-            ),
-        ),
-        yield_funcdef_handle,
-    )
+
+    async_keyword_normal_funcdef = Group(
+        any_len_perm_at_least_one(
+            keyword("yield"),
+            keyword("copyclosure"),
+            required=(keyword("async").suppress(),),
+        ),
+    ) + (funcdef | math_funcdef)
+    async_keyword_match_funcdef = Group(
+        any_len_perm_at_least_one(
+            keyword("yield"),
+            keyword("copyclosure"),
+            keyword("match").suppress(),
+            # addpattern is detected later
+            keyword("addpattern"),
+            required=(keyword("async").suppress(),),
+        ),
+    ) + (def_match_funcdef | math_match_funcdef)
+    async_keyword_funcdef = Forward()
+    async_keyword_funcdef_ref = async_keyword_normal_funcdef | async_keyword_match_funcdef
+
     async_funcdef_stmt = (
         async_funcdef
         | async_match_funcdef
-        | async_yield_funcdef
-        | async_yield_match_funcdef
+        | async_keyword_funcdef
     )
 
-    yield_normal_funcdef = keyword("yield").suppress() + (funcdef | math_funcdef)
-    yield_match_funcdef = trace(
-        addspace(
-            any_len_perm(
-                match_kwd.suppress(),
-                # we don't suppress addpattern so its presence can be detected later
-                addpattern_kwd,
-                required=(keyword("yield").suppress(),),
-            ) + (def_match_funcdef | math_match_funcdef),
-        ),
-    )
-    yield_funcdef = attach(yield_normal_funcdef | yield_match_funcdef, yield_funcdef_handle)
+    keyword_normal_funcdef = Group(
+        any_len_perm_at_least_one(
+            keyword("yield"),
+            keyword("copyclosure"),
+        ),
+    ) + (funcdef | math_funcdef)
+    keyword_match_funcdef = Group(
+        any_len_perm_at_least_one(
+            keyword("yield"),
+            keyword("copyclosure"),
+            keyword("match").suppress(),
+            # addpattern is detected later
+            keyword("addpattern"),
+        ),
+    ) + (def_match_funcdef | math_match_funcdef)
+    keyword_funcdef = Forward()
+    keyword_funcdef_ref = keyword_normal_funcdef | keyword_match_funcdef
 
     normal_funcdef_stmt = (
         funcdef
         | math_funcdef
         | math_match_funcdef
         | match_funcdef
-        | yield_funcdef
+        | keyword_funcdef
     )
 
     datadef = Forward()
     data_args = Group(
         Optional(
             lparen.suppress() + ZeroOrMore(
                 Group(
@@ -2196,31 +2222,31 @@
             (newline.suppress() + indent.suppress() + Optional(docstring) + Group(OneOrMore(stmt)) - dedent.suppress())("complex")
             | (newline.suppress() + indent.suppress() + docstring - dedent.suppress() | docstring)("docstring")
             | simple_stmt("simple")
         ) | newline("empty"),
     )
     datadef_ref = (
         Optional(decorators, default="")
-        + data_kwd.suppress()
+        + keyword("data").suppress()
         + classname
         + Optional(type_params, default=())
         + data_args
         + data_inherit
         + data_suite
     )
 
     match_datadef = Forward()
     match_data_args = lparen.suppress() + Group(
         match_args_list + match_guard,
     ) + rparen.suppress()
     # we don't support type_params here since we don't support types
     match_datadef_ref = (
         Optional(decorators, default="")
-        + Optional(match_kwd.suppress())
-        + data_kwd.suppress()
+        + Optional(keyword("match").suppress())
+        + keyword("data").suppress()
         + classname
         + match_data_args
         + data_inherit
         + data_suite
     )
 
     simple_decorator = condense(dotted_refname + Optional(function_call) + newline)("simple")
@@ -2338,15 +2364,15 @@
 # -----------------------------------------------------------------------------------------------------------------------
 
     # we don't need to include opens/closes here because those are explicitly disallowed
     existing_operator_regex = compile_regex(r"([.;\\]|([+-=@%^&|*:,/<>~]|\*\*|//|>>|<<)=?|!=|" + r"|".join(new_operators) + r")$")
 
     whitespace_regex = compile_regex(r"\s")
 
-    def_regex = compile_regex(r"((async|addpattern)\s+)*def\b")
+    def_regex = compile_regex(r"((async|addpattern|copyclosure)\s+)*def\b")
     yield_regex = compile_regex(r"\byield(?!\s+_coconut\.asyncio\.From)\b")
 
     tco_disable_regex = compile_regex(r"try\b|(async\s+)?(with\b|for\b)|while\b")
     return_regex = compile_regex(r"return\b")
 
     noqa_regex = compile_regex(r"\b[Nn][Oo][Qq][Aa]\b")
 
@@ -2359,18 +2385,18 @@
         | attach(parens, strip_parens_handle)
     )
 
     def get_tre_return_grammar(self, func_name):
         """The TRE return grammar is parameterized by the name of the function being optimized."""
         return (
             self.start_marker
-            + keyword("return").suppress()
+            + self.keyword("return").suppress()
             + maybeparens(
                 self.lparen,
-                keyword(func_name, explicit_prefix=False).suppress()
+                base_keyword(func_name).suppress()
                 + self.original_function_call_tokens,
                 self.rparen,
             ) + self.end_marker
         )
 
     tco_return = attach(
         start_marker
@@ -2411,20 +2437,20 @@
             parens
             | brackets
             | braces
             | lambdas
             | ~comma + ~rparen + ~equals + any_char,
         ),
     )
-    tfpdef_tokens = unsafe_name - Optional(colon.suppress() - rest_of_tfpdef.suppress())
-    tfpdef_default_tokens = tfpdef_tokens - Optional(equals.suppress() - rest_of_tfpdef)
+    tfpdef_tokens = unsafe_name - Optional(colon - rest_of_tfpdef).suppress()
+    tfpdef_default_tokens = tfpdef_tokens - Optional(equals - rest_of_tfpdef)
     type_comment = Optional(
-        comment_tokens.suppress()
-        | passthrough_item.suppress(),
-    )
+        comment_tokens
+        | passthrough_item,
+    ).suppress()
     parameters_tokens = Group(
         Optional(
             tokenlist(
                 Group(
                     dubstar - tfpdef_tokens
                     | star - Optional(tfpdef_tokens)
                     | slash
@@ -2439,15 +2465,15 @@
         start_marker
         - keyword("def").suppress()
         - unsafe_dotted_name
         - lparen.suppress() - parameters_tokens - rparen.suppress()
     )
 
     stores_scope = boundary + (
-        lambda_kwd
+        keyword("lambda")
         # match comprehensions but not for loops
         | ~indent + ~dedent + any_char + keyword("for") + unsafe_name + keyword("in")
     )
 
     just_a_string = start_marker + string_atom + end_marker
 
     end_of_line = end_marker | Literal("\n") | pound
@@ -2471,28 +2497,27 @@
         )
     )
 
     end_f_str_expr = start_marker + (bang | colon | rbrace)
 
     string_start = start_marker + quotedString
 
-    operator_kwd = keyword("operator", explicit_prefix=colon, require_whitespace=True)
     operator_stmt = (
         start_marker
-        + operator_kwd.suppress()
+        + keyword("operator").suppress()
         + restOfLine
     )
 
     unsafe_import_from_name = condense(ZeroOrMore(unsafe_dot) + unsafe_dotted_name | OneOrMore(unsafe_dot))
     from_import_operator = (
         start_marker
         + keyword("from").suppress()
         + unsafe_import_from_name
         + keyword("import").suppress()
-        + operator_kwd.suppress()
+        + keyword("operator").suppress()
         + restOfLine
     )
 
 # end: EXTRA GRAMMAR
 # -----------------------------------------------------------------------------------------------------------------------
 # TIMING, TRACING:
 # -----------------------------------------------------------------------------------------------------------------------
```

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/compiler/header.py` & `coconut-develop-3.0.1.post0.dev1/coconut/compiler/header.py`

 * *Files 4% similar despite different names*

```diff
@@ -18,25 +18,26 @@
 from __future__ import print_function, absolute_import, unicode_literals, division
 
 from coconut.root import *  # NOQA
 
 import os.path
 from functools import partial
 
-from coconut.root import _indent
+from coconut.root import _indent, _get_root_header
 from coconut.exceptions import CoconutInternalException
 from coconut.terminal import internal_assert
 from coconut.constants import (
     hash_prefix,
     tabideal,
     default_encoding,
     template_ext,
     justify_len,
     report_this_text,
     numpy_modules,
+    pandas_numpy_modules,
     jax_numpy_modules,
     self_match_types,
     is_data_var,
     data_defaults_var,
 )
 from coconut.util import (
     univ_open,
@@ -170,19 +171,19 @@
     if initial_newline:
         out = "\n" + out
     if newline:
         out += "\n"
     return out
 
 
-def make_py_str(str_contents, target_startswith, after_py_str_defined=False):
+def make_py_str(str_contents, target, after_py_str_defined=False):
     """Get code that effectively wraps the given code in py_str."""
     return (
-        repr(str_contents) if target_startswith == "3"
-        else "b" + repr(str_contents) if target_startswith == "2"
+        repr(str_contents) if target.startswith("3")
+        else "b" + repr(str_contents) if target.startswith("2")
         else "py_str(" + repr(str_contents) + ")" if after_py_str_defined
         else "str(" + repr(str_contents) + ")"
     )
 
 
 # -----------------------------------------------------------------------------------------------------------------------
 # FORMAT DICTIONARY:
@@ -198,44 +199,45 @@
 
 
 COMMENT = Comment()
 
 
 def process_header_args(which, use_hash, target, no_tco, strict, no_wrap):
     """Create the dictionary passed to str.format in the header."""
-    target_startswith = one_num_ver(target)
     target_info = get_target_info(target)
     pycondition = partial(base_pycondition, target)
 
     format_dict = dict(
         COMMENT=COMMENT,
-        empty_dict="{}",
+        empty_dict="{}" if target_info >= (3, 7) else "_coconut.dict()",
+        empty_py_dict="{}" if target_info >= (3, 7) else "_coconut_py_dict()",
         lbrace="{",
         rbrace="}",
         is_data_var=is_data_var,
         data_defaults_var=data_defaults_var,
-        target_startswith=target_startswith,
+        target_major=one_num_ver(target),
         default_encoding=default_encoding,
         hash_line=hash_prefix + use_hash + "\n" if use_hash is not None else "",
         typing_line="# type: ignore\n" if which == "__coconut__" else "",
         _coconut_="_coconut_" if which != "__coconut__" else "",  # only for aliases defined at the end of the header
         VERSION_STR=VERSION_STR,
         module_docstring='"""Built-in Coconut utilities."""\n\n' if which == "__coconut__" else "",
-        __coconut__=make_py_str("__coconut__", target_startswith),
-        _coconut_cached__coconut__=make_py_str("_coconut_cached__coconut__", target_startswith),
-        object="" if target_startswith == "3" else "(object)",
-        comma_object="" if target_startswith == "3" else ", object",
+        __coconut__=make_py_str("__coconut__", target),
+        _coconut_cached__coconut__=make_py_str("_coconut_cached__coconut__", target),
+        object="" if target.startswith("3") else "(object)",
+        comma_object="" if target.startswith("3") else ", object",
         comma_slash=", /" if target_info >= (3, 8) else "",
         report_this_text=report_this_text,
         numpy_modules=tuple_str_of(numpy_modules, add_quotes=True),
+        pandas_numpy_modules=tuple_str_of(pandas_numpy_modules, add_quotes=True),
         jax_numpy_modules=tuple_str_of(jax_numpy_modules, add_quotes=True),
         self_match_types=tuple_str_of(self_match_types),
         set_super=(
             # we have to use _coconut_super even on the universal target, since once we set __class__ it becomes a local variable
-            "\nsuper = _coconut_super" if target_startswith != 3 else ""
+            "super = py_super" if target.startswith("3") else "super = _coconut_super"
         ),
         import_pickle=pycondition(
             (3,),
             if_lt=r'''
 import cPickle as pickle
             ''',
             if_ge=r'''
@@ -265,17 +267,17 @@
             r'''
 zip_longest = itertools.zip_longest if _coconut_sys.version_info >= (3,) else itertools.izip_longest
             ''' if not target
             else "zip_longest = itertools.zip_longest" if target_info >= (3,)
             else "zip_longest = itertools.izip_longest",
             indent=1,
         ),
-        comma_bytearray=", bytearray" if target_startswith != "3" else "",
-        lstatic="staticmethod(" if target_startswith != "3" else "",
-        rstatic=")" if target_startswith != "3" else "",
+        comma_bytearray=", bytearray" if not target.startswith("3") else "",
+        lstatic="staticmethod(" if not target.startswith("3") else "",
+        rstatic=")" if not target.startswith("3") else "",
         zip_iter=prepare(
             r'''
 for items in _coconut.iter(_coconut.zip(*self.iters, strict=self.strict) if _coconut_sys.version_info >= (3, 10) else _coconut.zip_longest(*self.iters, fillvalue=_coconut_sentinel) if self.strict else _coconut.zip(*self.iters)):
     if self.strict and _coconut_sys.version_info < (3, 10) and _coconut.any(x is _coconut_sentinel for x in items):
         raise _coconut.ValueError("zip(..., strict=True) arguments have mismatched lengths")
     yield items
             '''
@@ -343,15 +345,15 @@
         ),
         def_call_set_names=(
             r'''def _coconut_call_set_names(cls):
     for k, v in _coconut.vars(cls).items():
         set_name = _coconut.getattr(v, "__set_name__", None)
         if set_name is not None:
             set_name(cls, k)'''
-            if target_startswith == "2" else
+            if target.startswith("2") else
             r'''def _coconut_call_set_names(cls): pass'''
             if target_info >= (3, 6) else
             r'''def _coconut_call_set_names(cls):
     if _coconut_sys.version_info < (3, 6):
         for k, v in _coconut.vars(cls).items():
             set_name = _coconut.getattr(v, "__set_name__", None)
             if set_name is not None:
@@ -416,31 +418,20 @@
         try:
             result = b.__rmatmul__(a)
         except _coconut.NotImplementedError:
             pass
         else:
             if result is not _coconut.NotImplemented:
                 return result
-    if "numpy" in (a.__class__.__module__, b.__class__.__module__):
+    if "numpy" in (_coconut_get_base_module(a), _coconut_get_base_module(b)):
         from numpy import matmul
         return matmul(a, b)
     raise _coconut.TypeError("unsupported operand type(s) for @: " + _coconut.repr(_coconut.type(a)) + " and " + _coconut.repr(_coconut.type(b)))
             ''',
         ),
-        import_typing_NamedTuple=pycondition(
-            (3, 6),
-            if_lt='''
-def NamedTuple(name, fields):
-    return _coconut.collections.namedtuple(name, [x for x, t in fields])
-typing.NamedTuple = NamedTuple
-NamedTuple = staticmethod(NamedTuple)
-            ''',
-            indent=1,
-            newline=True,
-        ),
         def_total_and_comparisons=pycondition(
             (3, 10),
             if_lt='''
 def total(self):
     """Compute the sum of the counts in a multiset.
     Note that total_size is different from len(multiset), which only counts the unique elements."""
     return _coconut.sum(self.values())
@@ -480,19 +471,29 @@
             return False
         found_diff = found_diff or self[k] != v
     return found_diff
             ''',
             indent=1,
             newline=True,
         ),
+        assign_multiset_views=pycondition(
+            (3,),
+            if_lt='''
+keys = _coconut.collections.Counter.viewkeys
+values = _coconut.collections.Counter.viewvalues
+items = _coconut.collections.Counter.viewitems
+            ''',
+            indent=1,
+            newline=True,
+        ),
 
         # used in the second round
         tco_comma="_coconut_tail_call, _coconut_tco, " if not no_tco else "",
         call_set_names_comma="_coconut_call_set_names, " if target_info < (3, 6) else "",
-        handle_cls_args_comma="_coconut_handle_cls_kwargs, _coconut_handle_cls_stargs, " if target_startswith != "3" else "",
+        handle_cls_args_comma="_coconut_handle_cls_kwargs, _coconut_handle_cls_stargs, " if not target.startswith("3") else "",
         async_def_anext=prepare(
             r'''
 async def __anext__(self):
     return self.func(await self.aiter.__anext__())
             ''' if target_info >= (3, 5) else
             pycondition(
                 (3, 5),
@@ -526,59 +527,101 @@
         ),
     )
 
     # second round for format dict elements that use the format dict
     #  (extra_format_dict is to keep indentation levels matching)
     extra_format_dict = dict(
         # when anything is added to this list it must also be added to *both* __coconut__ stub files
-        underscore_imports="{tco_comma}{call_set_names_comma}{handle_cls_args_comma}_namedtuple_of, _coconut, _coconut_super, _coconut_Expected, _coconut_MatchError, _coconut_iter_getitem, _coconut_base_compose, _coconut_forward_compose, _coconut_back_compose, _coconut_forward_star_compose, _coconut_back_star_compose, _coconut_forward_dubstar_compose, _coconut_back_dubstar_compose, _coconut_pipe, _coconut_star_pipe, _coconut_dubstar_pipe, _coconut_back_pipe, _coconut_back_star_pipe, _coconut_back_dubstar_pipe, _coconut_none_pipe, _coconut_none_star_pipe, _coconut_none_dubstar_pipe, _coconut_bool_and, _coconut_bool_or, _coconut_none_coalesce, _coconut_minus, _coconut_map, _coconut_partial, _coconut_get_function_match_error, _coconut_base_pattern_func, _coconut_addpattern, _coconut_sentinel, _coconut_assert, _coconut_raise, _coconut_mark_as_match, _coconut_reiterable, _coconut_self_match_types, _coconut_dict_merge, _coconut_exec, _coconut_comma_op, _coconut_multi_dim_arr, _coconut_mk_anon_namedtuple, _coconut_matmul, _coconut_py_str, _coconut_flatten, _coconut_multiset, _coconut_back_none_pipe, _coconut_back_none_star_pipe, _coconut_back_none_dubstar_pipe, _coconut_forward_none_compose, _coconut_back_none_compose, _coconut_forward_none_star_compose, _coconut_back_none_star_compose, _coconut_forward_none_dubstar_compose, _coconut_back_none_dubstar_compose, _coconut_call_or_coefficient".format(**format_dict),
+        underscore_imports="{tco_comma}{call_set_names_comma}{handle_cls_args_comma}_namedtuple_of, _coconut, _coconut_Expected, _coconut_MatchError, _coconut_SupportsAdd, _coconut_SupportsMinus, _coconut_SupportsMul, _coconut_SupportsPow, _coconut_SupportsTruediv, _coconut_SupportsFloordiv, _coconut_SupportsMod, _coconut_SupportsAnd, _coconut_SupportsXor, _coconut_SupportsOr, _coconut_SupportsLshift, _coconut_SupportsRshift, _coconut_SupportsMatmul, _coconut_SupportsInv, _coconut_iter_getitem, _coconut_base_compose, _coconut_forward_compose, _coconut_back_compose, _coconut_forward_star_compose, _coconut_back_star_compose, _coconut_forward_dubstar_compose, _coconut_back_dubstar_compose, _coconut_pipe, _coconut_star_pipe, _coconut_dubstar_pipe, _coconut_back_pipe, _coconut_back_star_pipe, _coconut_back_dubstar_pipe, _coconut_none_pipe, _coconut_none_star_pipe, _coconut_none_dubstar_pipe, _coconut_bool_and, _coconut_bool_or, _coconut_none_coalesce, _coconut_minus, _coconut_map, _coconut_partial, _coconut_get_function_match_error, _coconut_base_pattern_func, _coconut_addpattern, _coconut_sentinel, _coconut_assert, _coconut_raise, _coconut_mark_as_match, _coconut_reiterable, _coconut_self_match_types, _coconut_dict_merge, _coconut_exec, _coconut_comma_op, _coconut_multi_dim_arr, _coconut_mk_anon_namedtuple, _coconut_matmul, _coconut_py_str, _coconut_flatten, _coconut_multiset, _coconut_back_none_pipe, _coconut_back_none_star_pipe, _coconut_back_none_dubstar_pipe, _coconut_forward_none_compose, _coconut_back_none_compose, _coconut_forward_none_star_compose, _coconut_back_none_star_compose, _coconut_forward_none_dubstar_compose, _coconut_back_none_dubstar_compose, _coconut_call_or_coefficient, _coconut_in, _coconut_not_in".format(**format_dict),
         import_typing=pycondition(
             (3, 5),
             if_ge="import typing",
             if_lt='''
 class typing_mock{object}:
     """The typing module is not available at runtime in Python 3.4 or earlier;
     try hiding your typedefs behind an 'if TYPE_CHECKING:' block."""
     TYPE_CHECKING = False
     Any = Ellipsis
     def cast(self, t, x):
         """typing.cast[T](t: Type[T], x: Any) -> T = x"""
         return x
     def __getattr__(self, name):
         raise _coconut.ImportError("the typing module is not available at runtime in Python 3.4 or earlier; try hiding your typedefs behind an 'if TYPE_CHECKING:' block")
+    def TypeVar(name, *args, **kwargs):
+        """Runtime mock of typing.TypeVar for Python 3.4 and earlier."""
+        return name
+    class Generic_mock{object}:
+        """Runtime mock of typing.Generic for Python 3.4 and earlier."""
+        __slots__ = ()
+        def __getitem__(self, vars):
+            return _coconut.object
+    Generic = Generic_mock()
 typing = typing_mock()
             '''.format(**format_dict),
             indent=1,
         ),
         # all typing_extensions imports must be added to the _coconut stub file
-        import_typing_TypeAlias_ParamSpec_Concatenate=pycondition(
+        import_typing_36=pycondition(
+            (3, 6),
+            if_lt='''
+def NamedTuple(name, fields):
+    return _coconut.collections.namedtuple(name, [x for x, t in fields])
+typing.NamedTuple = NamedTuple
+NamedTuple = staticmethod(NamedTuple)
+            ''',
+            indent=1,
+            newline=True,
+        ),
+        import_typing_38=pycondition(
+            (3, 8),
+            if_lt='''
+try:
+    from typing_extensions import Protocol
+except ImportError:
+    class YouNeedToInstallTypingExtensions{object}:
+        __slots__ = ()
+        def __init__(self):
+            raise _coconut.TypeError('Protocols cannot be instantiated')
+    Protocol = YouNeedToInstallTypingExtensions
+typing.Protocol = Protocol
+            '''.format(**format_dict),
+            indent=1,
+            newline=True,
+        ),
+        import_typing_310=pycondition(
             (3, 10),
             if_lt='''
 try:
-    from typing_extensions import TypeAlias, ParamSpec, Concatenate
+    from typing_extensions import ParamSpec, TypeAlias, Concatenate
 except ImportError:
+    def ParamSpec(name, *args, **kwargs):
+        """Runtime mock of typing.ParamSpec for Python 3.9 and earlier."""
+        return _coconut.typing.TypeVar(name)
     class you_need_to_install_typing_extensions{object}:
         __slots__ = ()
-    TypeAlias = ParamSpec = Concatenate = you_need_to_install_typing_extensions()
-typing.TypeAlias = TypeAlias
+    TypeAlias = Concatenate = you_need_to_install_typing_extensions()
 typing.ParamSpec = ParamSpec
+typing.TypeAlias = TypeAlias
 typing.Concatenate = Concatenate
             '''.format(**format_dict),
             indent=1,
             newline=True,
         ),
-        import_typing_TypeVarTuple_Unpack=pycondition(
+        import_typing_311=pycondition(
             (3, 11),
             if_lt='''
 try:
     from typing_extensions import TypeVarTuple, Unpack
 except ImportError:
+    def TypeVarTuple(name, *args, **kwargs):
+        """Runtime mock of typing.TypeVarTuple for Python 3.10 and earlier."""
+        return _coconut.typing.TypeVar(name)
     class you_need_to_install_typing_extensions{object}:
         __slots__ = ()
-    TypeVarTuple = Unpack = you_need_to_install_typing_extensions()
+    Unpack = you_need_to_install_typing_extensions()
 typing.TypeVarTuple = TypeVarTuple
 typing.Unpack = Unpack
             '''.format(**format_dict),
             indent=1,
             newline=True,
         ),
         import_asyncio=pycondition(
@@ -657,22 +700,21 @@
     )
 
     if which == "none":
         return ""
 
     # initial, __coconut__, package:n, sys, code, file
 
-    target_startswith = one_num_ver(target)
     target_info = get_target_info(target)
     # header_info only includes arguments that affect __coconut__.py compatibility
     header_info = tuple_str_of((VERSION, target, strict), add_quotes=True)
     format_dict = process_header_args(which, use_hash, target, no_tco, strict, no_wrap)
 
     if which == "initial" or which == "__coconut__":
-        header = '''#!/usr/bin/env python{target_startswith}
+        header = '''#!/usr/bin/env python{target_major}
 # -*- coding: {default_encoding} -*-
 {hash_line}{typing_line}
 # Compiled with Coconut version {VERSION_STR}
 
 {module_docstring}'''.format(**format_dict)
     elif use_hash is not None:
         raise CoconutInternalException("can only add a hash to an initial or __coconut__ header, not", which)
@@ -682,15 +724,15 @@
     if which == "initial":
         return header
 
     # __coconut__, package:n, sys, code, file
 
     header += section("Coconut Header", newline_before=False)
 
-    if target_startswith != "3":
+    if not target.startswith("3"):
         header += "from __future__ import print_function, absolute_import, unicode_literals, division\n"
     # including generator_stop here is fine, even though to universalize
     #  generator returns we raise StopIteration errors, since we only do so
     #  when target_info < (3, 3)
     elif target_info >= (3, 7):
         if no_wrap:
             header += "from __future__ import generator_stop\n"
@@ -756,24 +798,26 @@
     header += prepare(
         '''
 _coconut_cached__coconut__ = _coconut_sys.modules.get({_coconut_cached__coconut__}, _coconut_sys.modules.get({__coconut__}))
         ''',
         newline=True,
     ).format(**format_dict)
 
+    if target_info >= (3, 9):
+        header += _get_root_header("39")
     if target_info >= (3, 7):
-        header += PY37_HEADER
-    elif target_startswith == "3":
-        header += PY3_HEADER
+        header += _get_root_header("37")
+    elif target.startswith("3"):
+        header += _get_root_header("3")
     elif target_info >= (2, 7):
-        header += PY27_HEADER
-    elif target_startswith == "2":
-        header += PY2_HEADER
+        header += _get_root_header("27")
+    elif target.startswith("2"):
+        header += _get_root_header("2")
     else:
-        header += PYCHECK_HEADER
+        header += _get_root_header("universal")
 
     header += get_template("header").format(**format_dict)
 
     if which == "file":
         header += section("Compiled Coconut")
 
     return header
```

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/compiler/matching.py` & `coconut-develop-3.0.1.post0.dev1/coconut/compiler/matching.py`

 * *Files 2% similar despite different names*

```diff
@@ -38,14 +38,17 @@
     closeindent,
     function_match_error_var,
     match_set_name_var,
     is_data_var,
     data_defaults_var,
     default_matcher_style,
     self_match_types,
+    match_first_arg_var,
+    match_to_args_var,
+    match_to_kwargs_var,
 )
 from coconut.compiler.util import (
     paren_join,
     handle_indentation,
     add_int_and_strs,
     ordered,
     tuple_str_of,
@@ -342,18 +345,41 @@
         elif min_len == max_len:
             self.add_check("_coconut.len(" + item + ") == " + str(min_len))
         elif not min_len:
             self.add_check("_coconut.len(" + item + ") <= " + str(max_len))
         else:
             self.add_check(str(min_len) + " <= _coconut.len(" + item + ") <= " + str(max_len))
 
-    def match_function(self, args, kwargs, pos_only_match_args=(), match_args=(), star_arg=None, kwd_only_match_args=(), dubstar_arg=None):
+    def match_function(
+        self,
+        first_arg=match_first_arg_var,
+        args=match_to_args_var,
+        kwargs=match_to_kwargs_var,
+        pos_only_match_args=(),
+        match_args=(),
+        star_arg=None,
+        kwd_only_match_args=(),
+        dubstar_arg=None,
+    ):
         """Matches a pattern-matching function."""
         # before everything, pop the FunctionMatchError from context
         self.add_def(function_match_error_var + " = _coconut_get_function_match_error()")
+        # and fix args to include first_arg, which we have to do to make super work
+        self.add_def(
+            handle_indentation(
+                """
+if {first_arg} is not _coconut_sentinel:
+    {args} = ({first_arg},) + {args}
+            """,
+            ).format(
+                first_arg=first_arg,
+                args=args,
+            ),
+        )
+
         with self.down_a_level():
 
             self.match_in_args_kwargs(pos_only_match_args, match_args, args, kwargs, allow_star_args=star_arg is not None)
 
             if star_arg is not None:
                 self.match(star_arg, args + "[" + str(len(match_args)) + ":]")
 
@@ -500,16 +526,16 @@
             with self.down_a_level():
                 self.add_check(key_var + " is not _coconut_sentinel")
                 self.match(v, key_var)
 
         if rest is not None and rest != wildcard:
             match_keys = [k for k, v in matches]
             rest_item = (
-                "dict((k, v) for k, v in "
-                + item + ".items() if k not in set(("
+                "_coconut.dict((k, v) for k, v in "
+                + item + ".items() if k not in _coconut.set(("
                 + ", ".join(match_keys) + ("," if len(match_keys) == 1 else "")
                 + ")))"
             )
             with self.down_a_level():
                 self.match_var([rest], rest_item)
 
     def proc_sequence_match(self, tokens, iter_match=False):
```

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/compiler/templates/header.py_template` & `coconut-develop-3.0.1.post0.dev1/coconut/compiler/templates/header.py_template`

 * *Files 3% similar despite different names*

```diff
@@ -6,39 +6,42 @@
         frame = _coconut_sys._getframe(1)
         try:
             cls = frame.f_locals["__class__"]
         except _coconut.AttributeError:
             raise _coconut.RuntimeError("super(): __class__ cell not found")
         self = frame.f_locals[frame.f_code.co_varnames[0]]
         return _coconut_py_super(cls, self)
-    return _coconut_py_super(type, object_or_type){set_super}
+    return _coconut_py_super(type, object_or_type)
+{set_super}
 class _coconut{object}:{COMMENT.EVERYTHING_HERE_MUST_BE_COPIED_TO_STUB_FILE}
     import collections, copy, functools, types, itertools, operator, threading, os, warnings, contextlib, traceback, weakref, multiprocessing
     from multiprocessing import dummy as multiprocessing_dummy
 {maybe_bind_lru_cache}{import_copyreg}
 {import_asyncio}
 {import_pickle}
 {import_OrderedDict}
 {import_collections_abc}
 {import_typing}
-{import_typing_NamedTuple}{import_typing_TypeAlias_ParamSpec_Concatenate}{import_typing_TypeVarTuple_Unpack}{set_zip_longest}
+{import_typing_36}{import_typing_38}{import_typing_310}{import_typing_311}{set_zip_longest}
     try:
         import numpy
     except ImportError:
         class you_need_to_install_numpy{object}:
             __slots__ = ()
         numpy = you_need_to_install_numpy()
     else:
         abc.Sequence.register(numpy.ndarray)
     numpy_modules = {numpy_modules}
+    pandas_numpy_modules = {pandas_numpy_modules}
     jax_numpy_modules = {jax_numpy_modules}
     tee_type = type(itertools.tee((), 1)[0])
     reiterables = abc.Sequence, abc.Mapping, abc.Set
+    fmappables = list, tuple, dict, set, frozenset
     abc.Sequence.register(collections.deque)
-    Ellipsis, NotImplemented, NotImplementedError, Exception, AttributeError, ImportError, IndexError, KeyError, NameError, TypeError, ValueError, StopIteration, RuntimeError, all, any, bool, bytes, callable, classmethod, complex, dict, enumerate, filter, float, frozenset, getattr, hasattr, hash, id, int, isinstance, issubclass, iter, len, list, locals, map, min, max, next, object, property, range, reversed, set, setattr, slice, str, sum, super, tuple, type, vars, zip, repr, print{comma_bytearray} = Ellipsis, NotImplemented, NotImplementedError, Exception, AttributeError, ImportError, IndexError, KeyError, NameError, TypeError, ValueError, StopIteration, RuntimeError, all, any, bool, bytes, callable, classmethod, complex, dict, enumerate, filter, float, frozenset, getattr, hasattr, hash, id, int, isinstance, issubclass, iter, len, list, locals, map, min, max, next, object, property, range, reversed, set, setattr, slice, str, sum, {lstatic}super{rstatic}, tuple, type, vars, zip, {lstatic}repr{rstatic}, {lstatic}print{rstatic}{comma_bytearray}
+    Ellipsis, NotImplemented, NotImplementedError, Exception, AttributeError, ImportError, IndexError, KeyError, NameError, TypeError, ValueError, StopIteration, RuntimeError, all, any, bool, bytes, callable, classmethod, complex, dict, enumerate, filter, float, frozenset, getattr, hasattr, hash, id, int, isinstance, issubclass, iter, len, list, locals, globals, map, min, max, next, object, property, range, reversed, set, setattr, slice, str, sum, super, tuple, type, vars, zip, repr, print{comma_bytearray} = Ellipsis, NotImplemented, NotImplementedError, Exception, AttributeError, ImportError, IndexError, KeyError, NameError, TypeError, ValueError, StopIteration, RuntimeError, all, any, bool, bytes, callable, classmethod, complex, dict, enumerate, filter, float, frozenset, getattr, hasattr, hash, id, int, isinstance, issubclass, iter, len, list, locals, globals, map, min, max, next, object, property, range, reversed, set, setattr, slice, str, sum, {lstatic}super{rstatic}, tuple, type, vars, zip, {lstatic}repr{rstatic}, {lstatic}print{rstatic}{comma_bytearray}
 def _coconut_handle_cls_kwargs(**kwargs):
     """Some code taken from six under the terms of its MIT license."""
     metaclass = kwargs.pop("metaclass", None)
     if kwargs and metaclass is None:
         raise _coconut.TypeError("unexpected keyword argument(s) in class definition: %r" % (kwargs,))
     def coconut_handle_cls_kwargs_wrapper(cls):
         if metaclass is None:
@@ -54,33 +57,40 @@
         orig_vars.pop("__weakref__", None)
         if _coconut.hasattr(cls, "__qualname__"):
             orig_vars["__qualname__"] = cls.__qualname__
         return metaclass(cls.__name__, cls.__bases__, orig_vars, **kwargs)
     return coconut_handle_cls_kwargs_wrapper
 def _coconut_handle_cls_stargs(*args):
     temp_names = ["_coconut_base_cls_%s" % (i,) for i in _coconut.range(_coconut.len(args))]
-    ns = _coconut.dict(_coconut.zip(temp_names, args))
+    ns = _coconut_py_dict(_coconut.zip(temp_names, args))
     _coconut_exec("class _coconut_cls_stargs_base(" + ", ".join(temp_names) + "): pass", ns)
     return ns["_coconut_cls_stargs_base"]
 class _coconut_baseclass{object}:
     __slots__ = ("__weakref__",)
     def __reduce_ex__(self, _):
         return self.__reduce__()
     def __eq__(self, other):
         return self.__class__ is other.__class__ and self.__reduce__() == other.__reduce__()
     def __hash__(self):
         return _coconut.hash(self.__reduce__())
     def __setstate__(self, setvars):{COMMENT.fixes_unpickling_with_slots}
         for k, v in setvars.items():
             _coconut.setattr(self, k, v)
+    def __iter_getitem__(self, index):
+        getitem = _coconut.getattr(self, "__getitem__", None)
+        if getitem is None:
+            raise _coconut.NotImplementedError
+        return getitem(index)
 class _coconut_Sentinel(_coconut_baseclass):
     __slots__ = ()
     def __reduce__(self):
         return (self.__class__, ())
 _coconut_sentinel = _coconut_Sentinel()
+def _coconut_get_base_module(obj):
+    return obj.__class__.__module__.split(".", 1)[0]
 class MatchError(_coconut_baseclass, Exception):
     """Pattern-matching error. Has attributes .pattern, .value, and .message."""{COMMENT.no_slots_to_allow_setattr_below}
     max_val_repr_len = 500
     def __init__(self, pattern=None, value=None):
         self.pattern = pattern
         self.value = value
         self._message = None
@@ -170,15 +180,15 @@
                     existing_copies.append(copy)
             else:{COMMENT.no_break}
                 return _coconut.tuple(existing_copies)
         return _coconut.itertools.tee(iterable, n)
 class _coconut_has_iter(_coconut_baseclass):
     __slots__ = ("lock", "iter")
     def __new__(cls, iterable):
-        self = _coconut.object.__new__(cls)
+        self = _coconut.super(_coconut_has_iter, cls).__new__(cls)
         self.lock = _coconut.threading.Lock()
         self.iter = iterable
         return self
     def get_new_iter(self):
         """Tee the underlying iterator."""
         with self.lock:
             self.iter = {_coconut_}reiterable(self.iter)
@@ -187,15 +197,15 @@
         return {_coconut_}map(func, self)
 class reiterable(_coconut_has_iter):
     """Allow an iterator to be iterated over multiple times with the same results."""
     __slots__ = ()
     def __new__(cls, iterable):
         if _coconut.isinstance(iterable, _coconut.reiterables):
             return iterable
-        return _coconut_has_iter.__new__(cls, iterable)
+        return _coconut.super({_coconut_}reiterable, cls).__new__(cls, iterable)
     def get_new_iter(self):
         """Tee the underlying iterator."""
         with self.lock:
             self.iter, new_iter = {_coconut_}tee(self.iter)
         return new_iter
     def __iter__(self):
         return _coconut.iter(self.get_new_iter())
@@ -229,29 +239,28 @@
         cached_item = cache.popleft()
         if index % step == 0:
             yield cached_item
         cache.append(item)
 def _coconut_iter_getitem(iterable, index):
     """Iterator slicing works just like sequence slicing, including support for negative indices and slices, and support for `slice` objects in the same way as can be done with normal slicing.
 
-    Coconut's iterator slicing is very similar to Python's `itertools.islice`, but unlike `itertools.islice`, Coconut's iterator slicing supports negative indices, and will preferentially call an object's `__iter_getitem__` (Coconut-specific magic method, preferred) or `__getitem__` (general Python magic method), if they exist. Coconut's iterator slicing is also optimized to work well with all of Coconut's built-in objects, only computing the elements of each that are actually necessary to extract the desired slice.
+    Coconut's iterator slicing is very similar to Python's `itertools.islice`, but unlike `itertools.islice`, Coconut's iterator slicing supports negative indices, and will preferentially call an object's `__iter_getitem__` (always used if available) or `__getitem__` (only used if the object is a collections.abc.Sequence). Coconut's iterator slicing is also optimized to work well with all of Coconut's built-in objects, only computing the elements of each that are actually necessary to extract the desired slice.
 
     Some code taken from more_itertools under the terms of its MIT license.
     """
     obj_iter_getitem = _coconut.getattr(iterable, "__iter_getitem__", None)
-    if obj_iter_getitem is None:
+    if obj_iter_getitem is None and _coconut.isinstance(iterable, _coconut.abc.Sequence):
         obj_iter_getitem = _coconut.getattr(iterable, "__getitem__", None)
     if obj_iter_getitem is not None:
         try:
             result = obj_iter_getitem(index)
         except _coconut.NotImplementedError:
             pass
         else:
-            if result is not _coconut.NotImplemented:
-                return result
+            return result
     if not _coconut.isinstance(index, _coconut.slice):
         index = _coconut.operator.index(index)
         if index < 0:
             return _coconut.collections.deque(iterable, maxlen=-index)[0]
         result = _coconut.next(_coconut.itertools.islice(iterable, index, index + 1), _coconut_sentinel)
         if result is _coconut_sentinel:
             raise _coconut.IndexError(".$[] index out of range")
@@ -318,44 +327,51 @@
                 i = None
                 n = start - stop
             if n is not None:
                 if n <= 0:
                     return ()
                 iterable = _coconut.itertools.islice(iterable, 0, n)
             return _coconut.tuple(iterable)[i::step]
-class _coconut_base_compose(_coconut_baseclass):
-    __slots__ = ("func", "func_infos")
+class _coconut_base_compose(_coconut_baseclass):{COMMENT.no_slots_to_allow_update_wrapper}{COMMENT.must_use_coconut_attrs_to_avoid_interacting_with_update_wrapper}
     def __init__(self, func, *func_infos):
-        self.func = func
-        self.func_infos = []
+        try:
+            _coconut.functools.update_wrapper(self, func)
+        except _coconut.AttributeError:
+            pass
+        if _coconut.isinstance(func, _coconut_base_compose):
+            self._coconut_func = func._coconut_func
+            func_infos = func._coconut_func_infos + func_infos
+        else:
+            self._coconut_func = func
+        self._coconut_func_infos = []
         for f, stars, none_aware in func_infos:
             if _coconut.isinstance(f, _coconut_base_compose):
-                self.func_infos.append((f.func, stars, none_aware))
-                self.func_infos += f.func_infos
+                self._coconut_func_infos.append((f._coconut_func, stars, none_aware))
+                self._coconut_func_infos += f._coconut_func_infos
             else:
-                self.func_infos.append((f, stars, none_aware))
-        self.func_infos = _coconut.tuple(self.func_infos)
+                self._coconut_func_infos.append((f, stars, none_aware))
+        self._coconut_func_infos = _coconut.tuple(self._coconut_func_infos)
     def __call__(self, *args, **kwargs):
-        arg = self.func(*args, **kwargs)
-        for f, stars, none_aware in self.func_infos:
+        arg = self._coconut_func(*args, **kwargs)
+        for f, stars, none_aware in self._coconut_func_infos:
             if none_aware and arg is None:
                 return arg
             if stars == 0:
                 arg = f(arg)
             elif stars == 1:
                 arg = f(*arg)
             elif stars == 2:
                 arg = f(**arg)
             else:
                 raise _coconut.RuntimeError("invalid internal stars value " + _coconut.repr(stars) + " in " + _coconut.repr(self) + " {report_this_text}")
         return arg
     def __repr__(self):
-        return _coconut.repr(self.func) + " " + " ".join(".." + "?"*none_aware + "*"*stars + "> " + _coconut.repr(f) for f, stars, none_aware in self.func_infos)
+        return _coconut.repr(self._coconut_func) + " " + " ".join(".." + "?"*none_aware + "*"*stars + "> " + _coconut.repr(f) for f, stars, none_aware in self._coconut_func_infos)
     def __reduce__(self):
-        return (self.__class__, (self.func,) + self.func_infos)
+        return (self.__class__, (self._coconut_func,) + self._coconut_func_infos)
     def __get__(self, obj, objtype=None):
         if obj is None:
             return self
 {return_method_of_self}
 def _coconut_forward_compose(func, *funcs):
     """Forward composition operator (..>).
 
@@ -465,14 +481,20 @@
     raise exc
 def _coconut_bool_and(a, b):
     """Boolean and operator (and). Equivalent to (a, b) -> a and b."""
     return a and b
 def _coconut_bool_or(a, b):
     """Boolean or operator (or). Equivalent to (a, b) -> a or b."""
     return a or b
+def _coconut_in(a, b):
+    """Containment operator (in). Equivalent to (a, b) -> a in b."""
+    return a in b
+def _coconut_not_in(a, b):
+    """Negative containment operator (not in). Equivalent to (a, b) -> a not in b."""
+    return a not in b
 def _coconut_none_coalesce(a, b):
     """None coalescing operator (??). Equivalent to (a, b) -> a if a is not None else b."""
     return b if a is None else a
 def _coconut_minus(a, b=_coconut_sentinel):
     """Minus operator (-). Effectively equivalent to (a, b=None) -> a - b if b is not None else -a."""
     if b is _coconut_sentinel:
         return -a
@@ -482,15 +504,15 @@
     return args
 {def_coconut_matmul}
 class scan(_coconut_has_iter):
     """Reduce func over iterable, yielding intermediate results,
     optionally starting from initial."""
     __slots__ = ("func", "initial")
     def __new__(cls, function, iterable, initial=_coconut_sentinel):
-        self = _coconut_has_iter.__new__(cls, iterable)
+        self = _coconut.super({_coconut_}scan, cls).__new__(cls, iterable)
         self.func = function
         self.initial = initial
         return self
     def __repr__(self):
         return "scan(%r, %s%s)" % (self.func, _coconut.repr(self.iter), "" if self.initial is _coconut_sentinel else ", " + _coconut.repr(self.initial))
     def __reduce__(self):
         return (self.__class__, (self.func, self.iter, self.initial))
@@ -513,16 +535,15 @@
 class reversed(_coconut_has_iter):
     __slots__ = ()
     __doc__ = getattr(_coconut.reversed, "__doc__", "<see help(py_reversed)>")
     def __new__(cls, iterable):
         if _coconut.isinstance(iterable, _coconut.range):
             return iterable[::-1]
         if _coconut.getattr(iterable, "__reversed__", None) is None or _coconut.isinstance(iterable, (_coconut.list, _coconut.tuple)):
-            self = _coconut_has_iter.__new__(cls, iterable)
-            return self
+            return _coconut.super({_coconut_}reversed, cls).__new__(cls, iterable)
         return _coconut.reversed(iterable)
     def __repr__(self):
         return "reversed(%s)" % (_coconut.repr(self.iter),)
     def __reduce__(self):
         return (self.__class__, (self.iter,))
     def __copy__(self):
         return self.__class__(self.get_new_iter())
@@ -555,15 +576,15 @@
     def __new__(cls, iterable, levels=1):
         if levels is not None:
             levels = _coconut.operator.index(levels)
             if levels < 0:
                 raise _coconut.ValueError("flatten: levels cannot be negative")
             if levels == 0:
                 return iterable
-        self = _coconut_has_iter.__new__(cls, iterable)
+        self = _coconut.super({_coconut_}flatten, cls).__new__(cls, iterable)
         self.levels = levels
         self._made_reit = False
         return self
     def get_new_iter(self):
         """Tee the underlying iterator."""
         with self.lock:
             if not self._made_reit:
@@ -639,26 +660,30 @@
         if kwargs:
             raise _coconut.TypeError("cartesian_product() got unexpected keyword arguments " + _coconut.repr(kwargs))
         if repeat == 0:
             iterables = ()
             repeat = 1
         if repeat < 0:
             raise _coconut.ValueError("cartesian_product: repeat cannot be negative")
-        if iterables and _coconut.all(it.__class__.__module__ in _coconut.numpy_modules for it in iterables):
-            if _coconut.any(it.__class__.__module__ in _coconut.jax_numpy_modules for it in iterables):
-                from jax import numpy
-            else:
-                numpy = _coconut.numpy
-            iterables *= repeat
-            dtype = numpy.result_type(*iterables)
-            arr = numpy.empty([_coconut.len(a) for a in iterables] + [_coconut.len(iterables)], dtype=dtype)
-            for i, a in _coconut.enumerate(numpy.ix_(*iterables)):
-                arr[..., i] = a
-            return arr.reshape(-1, _coconut.len(iterables))
-        self = _coconut.object.__new__(cls)
+        if iterables:
+            it_modules = [_coconut_get_base_module(it) for it in iterables]
+            if _coconut.all(mod in _coconut.numpy_modules for mod in it_modules):
+                if _coconut.any(mod in _coconut.pandas_numpy_modules for mod in it_modules):
+                    iterables = tuple((it.to_numpy() if _coconut_get_base_module(it) in _coconut.pandas_numpy_modules else it) for it in iterables)
+                if _coconut.any(mod in _coconut.jax_numpy_modules for mod in it_modules):
+                    from jax import numpy
+                else:
+                    numpy = _coconut.numpy
+                iterables *= repeat
+                dtype = numpy.result_type(*iterables)
+                arr = numpy.empty([_coconut.len(a) for a in iterables] + [_coconut.len(iterables)], dtype=dtype)
+                for i, a in _coconut.enumerate(numpy.ix_(*iterables)):
+                    arr[..., i] = a
+                return arr.reshape(-1, _coconut.len(iterables))
+        self = _coconut.super({_coconut_}cartesian_product, cls).__new__(cls)
         self.iters = iterables
         self.repeat = repeat
         return self
     def __iter__(self):
         return _coconut.itertools.product(*self.iters, repeat=self.repeat)
     def __repr__(self):
         return "cartesian_product(" + ", ".join(_coconut.repr(it) for it in self.iters) + (", repeat=" + _coconut.repr(self.repeat) if self.repeat != 1 else "") + ")"
@@ -752,15 +777,15 @@
             assert self.map_cls.get_pool_stack().pop() is None, "internal parallel/concurrent map error {report_this_text}"
 class _coconut_base_parallel_concurrent_map(map):
     __slots__ = ("result", "chunksize", "strict")
     @classmethod
     def get_pool_stack(cls):
         return cls.threadlocal_ns.__dict__.setdefault("pool_stack", [None])
     def __new__(cls, function, *iterables, **kwargs):
-        self = {_coconut_}map.__new__(cls, function, *iterables)
+        self = _coconut.super(_coconut_base_parallel_concurrent_map, cls).__new__(cls, function, *iterables)
         self.result = None
         self.chunksize = kwargs.pop("chunksize", 1)
         self.strict = kwargs.pop("strict", False)
         if kwargs:
             raise _coconut.TypeError(cls.__name__ + "() got unexpected keyword arguments " + _coconut.repr(kwargs))
         if cls.get_pool_stack()[-1] is not None:
             return self.get_list()
@@ -847,15 +872,15 @@
 {zip_iter}
     def __fmap__(self, func):
         return {_coconut_}map(func, self)
 class zip_longest(zip):
     __slots__ = ("fillvalue",)
     __doc__ = getattr(_coconut.zip_longest, "__doc__", "Version of zip that fills in missing values with fillvalue.")
     def __new__(cls, *iterables, **kwargs):
-        self = {_coconut_}zip.__new__(cls, *iterables, strict=False)
+        self = _coconut.super({_coconut_}zip_longest, cls).__new__(cls, *iterables, strict=False)
         self.fillvalue = kwargs.pop("fillvalue", None)
         if kwargs:
             raise _coconut.TypeError(cls.__name__ + "() got unexpected keyword arguments " + _coconut.repr(kwargs))
         return self
     def __getitem__(self, index):
         self_len = None
         if _coconut.isinstance(index, _coconut.slice):
@@ -962,15 +987,15 @@
         return "multi_enumerate(%s)" % (_coconut.repr(self.iter),)
     def __reduce__(self):
         return (self.__class__, (self.iter,))
     def __copy__(self):
         return self.__class__(self.get_new_iter())
     @property
     def is_numpy(self):
-        return self.iter.__class__.__module__ in _coconut.numpy_modules
+        return _coconut_get_base_module(self.iter) in _coconut.numpy_modules
     def __iter__(self):
         if self.is_numpy:
             it = _coconut.numpy.nditer(self.iter, ["multi_index", "refs_ok"], [["readonly"]])
             for x in it:
                 x, = x.flatten()
                 yield it.multi_index, x
         else:
@@ -1058,15 +1083,15 @@
         raise _coconut.TypeError(_coconut.repr(self) + " object is not reversible")
 class cycle(_coconut_has_iter):
     """cycle is a modified version of itertools.cycle with a times parameter
     that controls the number of times to cycle through the given iterable
     before stopping."""
     __slots__ = ("times",)
     def __new__(cls, iterable, times=None):
-        self = _coconut_has_iter.__new__(cls, iterable)
+        self = _coconut.super({_coconut_}cycle, cls).__new__(cls, iterable)
         if times is None:
             self.times = None
         else:
             self.times = _coconut.operator.index(times)
             if self.times < 0:
                 raise _coconut.ValueError("cycle: times cannot be negative")
         return self
@@ -1113,15 +1138,15 @@
     """Produces an iterable that effectively mimics a sliding window over iterable of the given size.
     The step determines the spacing between windowsof.
 
     If the size is larger than the iterable, windowsof will produce an empty iterable.
     If that is not the desired behavior, fillvalue can be passed and will be used in place of missing values."""
     __slots__ = ("size", "fillvalue", "step")
     def __new__(cls, size, iterable, fillvalue=_coconut_sentinel, step=1):
-        self = _coconut_has_iter.__new__(cls, iterable)
+        self = _coconut.super({_coconut_}windowsof, cls).__new__(cls, iterable)
         self.size = _coconut.operator.index(size)
         if self.size < 1:
             raise _coconut.ValueError("windowsof: size must be >= 1; not %r" % (self.size,))
         self.fillvalue = fillvalue
         self.step = _coconut.operator.index(step)
         if self.step < 1:
             raise _coconut.ValueError("windowsof: step must be >= 1; not %r" % (self.step,))
@@ -1155,15 +1180,15 @@
 class groupsof(_coconut_has_iter):
     """groupsof(n, iterable) splits iterable into groups of size n.
 
     If the length of the iterable is not divisible by n, the last group will be of size < n.
     """
     __slots__ = ("group_size", "fillvalue")
     def __new__(cls, n, iterable, fillvalue=_coconut_sentinel):
-        self = _coconut_has_iter.__new__(cls, iterable)
+        self = _coconut.super({_coconut_}groupsof, cls).__new__(cls, iterable)
         self.group_size = _coconut.operator.index(n)
         if self.group_size < 1:
             raise _coconut.ValueError("group size must be >= 1; not %r" % (self.group_size,))
         self.fillvalue = fillvalue
         return self
     def __iter__(self):
         iterator = _coconut.iter(self.iter)
@@ -1252,15 +1277,15 @@
     if ctx.taken:
         return {_coconut_}MatchError
     ctx.taken = True
     return ctx.exc_class
 class _coconut_base_pattern_func(_coconut_baseclass):{COMMENT.no_slots_to_allow_func_attrs}
     _coconut_is_match = True
     def __init__(self, *funcs):
-        self.FunctionMatchError = _coconut.type(_coconut_py_str("MatchError"), ({_coconut_}MatchError,), {empty_dict})
+        self.FunctionMatchError = _coconut.type(_coconut_py_str("MatchError"), ({_coconut_}MatchError,), {empty_py_dict})
         self.patterns = []
         self.__doc__ = None
         self.__name__ = None
 {set_qualname_none}
         for func in funcs:
             self.add_pattern(func)
     def add_pattern(self, func):
@@ -1431,64 +1456,79 @@
     def count(self, item):
         """Return the number of times an element occurs in a multiset.
         Equivalent to multiset[item], but additionally verifies the count is non-negative."""
         result = self[item]
         if result < 0:
             raise _coconut.ValueError("multiset has negative count for " + _coconut.repr(item))
         return result
-{def_total_and_comparisons}_coconut.abc.MutableSet.register(multiset)
-def _coconut_base_makedata(data_type, args):
+    def __fmap__(self, func):
+        return self.__class__(_coconut.dict((func(obj), num) for obj, num in self.items()))
+{def_total_and_comparisons}{assign_multiset_views}_coconut.abc.MutableSet.register(multiset)
+def _coconut_base_makedata(data_type, args, from_fmap=False, fallback_to_init=False):
     if _coconut.hasattr(data_type, "_make") and _coconut.issubclass(data_type, _coconut.tuple):
         return data_type._make(args)
     if _coconut.issubclass(data_type, (_coconut.range, _coconut.abc.Iterator)):
         return args
     if _coconut.issubclass(data_type, _coconut.str):
         return "".join(args)
-    return data_type(args)
-def makedata(data_type, *args):
+    if fallback_to_init or _coconut.issubclass(data_type, _coconut.fmappables):
+        return data_type(args)
+    if from_fmap:
+        raise _coconut.TypeError("no known __fmap__ implementation for " + _coconut.repr(data_type) + " (pass fallback_to_init=True to fall back on __init__ and __iter__)")
+    raise _coconut.TypeError("no known makedata implementation for " + _coconut.repr(data_type) + " (pass fallback_to_init=True to fall back on __init__)")
+def makedata(data_type, *args, **kwargs):
     """Construct an object of the given data_type containing the given arguments."""
-    return _coconut_base_makedata(data_type, args)
+    fallback_to_init = kwargs.pop("fallback_to_init", False)
+    if kwargs:
+        raise _coconut.TypeError("makedata() got unexpected keyword arguments " + _coconut.repr(kwargs))
+    return _coconut_base_makedata(data_type, args, fallback_to_init=fallback_to_init)
 {def_datamaker}
 {class_amap}
 def fmap(func, obj, **kwargs):
     """fmap(func, obj) creates a copy of obj with func applied to its contents.
     Supports asynchronous iterables, mappings (maps over .items()), and numpy arrays (uses np.vectorize).
 
     Override by defining obj.__fmap__(func).
     """
     starmap_over_mappings = kwargs.pop("starmap_over_mappings", False)
+    fallback_to_init = kwargs.pop("fallback_to_init", False)
     if kwargs:
         raise _coconut.TypeError("fmap() got unexpected keyword arguments " + _coconut.repr(kwargs))
     obj_fmap = _coconut.getattr(obj, "__fmap__", None)
     if obj_fmap is not None:
         try:
             result = obj_fmap(func)
         except _coconut.NotImplementedError:
             pass
         else:
             if result is not _coconut.NotImplemented:
                 return result
-    if obj.__class__.__module__ in _coconut.jax_numpy_modules:
+    obj_module = _coconut_get_base_module(obj)
+    if obj_module in _coconut.pandas_numpy_modules:
+        if obj.ndim <= 1:
+            return obj.apply(func)
+        return obj.apply(func, axis=obj.ndim-1)
+    if obj_module in _coconut.jax_numpy_modules:
         import jax.numpy as jnp
         return jnp.vectorize(func)(obj)
-    if obj.__class__.__module__ in _coconut.numpy_modules:
+    if obj_module in _coconut.numpy_modules:
         return _coconut.numpy.vectorize(func)(obj)
     obj_aiter = _coconut.getattr(obj, "__aiter__", None)
     if obj_aiter is not None and _coconut_amap is not None:
         try:
             aiter = obj_aiter()
         except _coconut.NotImplementedError:
             pass
         else:
             if aiter is not _coconut.NotImplemented:
                 return _coconut_amap(func, aiter)
     if starmap_over_mappings:
-        return _coconut_base_makedata(obj.__class__, {_coconut_}starmap(func, obj.items()) if _coconut.isinstance(obj, _coconut.abc.Mapping) else {_coconut_}map(func, obj))
+        return _coconut_base_makedata(obj.__class__, {_coconut_}starmap(func, obj.items()) if _coconut.isinstance(obj, _coconut.abc.Mapping) else {_coconut_}map(func, obj), from_fmap=True, fallback_to_init=fallback_to_init)
     else:
-        return _coconut_base_makedata(obj.__class__, {_coconut_}map(func, obj.items() if _coconut.isinstance(obj, _coconut.abc.Mapping) else obj))
+        return _coconut_base_makedata(obj.__class__, {_coconut_}map(func, obj.items() if _coconut.isinstance(obj, _coconut.abc.Mapping) else obj), from_fmap=True, fallback_to_init=fallback_to_init)
 def _coconut_memoize_helper(maxsize=None, typed=False):
     return maxsize, typed
 def memoize(*args, **kwargs):
     """Decorator that memoizes a function, preventing it from being recomputed
     if it is called multiple times with the same arguments."""
     if not kwargs and _coconut.len(args) == 1 and _coconut.callable(args[0]):
         return _coconut.functools.lru_cache(maxsize=None)(args[0])
@@ -1700,15 +1740,15 @@
     def __init__(self, _coconut_func, *func_args, **func_kwargs):
         self.func = _coconut_func
         self.func_args = func_args
         self.func_kwargs = func_kwargs
     def __reduce__(self):
         return (self.__class__, (self.func,) + self.func_args, {lbrace}"func_kwargs": self.func_kwargs{rbrace})
     def __call__(self, *args, **kwargs):
-        return self.func(*(g(*args, **kwargs) for g in self.func_args), **_coconut.dict((k, h(*args, **kwargs)) for k, h in self.func_kwargs.items()))
+        return self.func(*(g(*args, **kwargs) for g in self.func_args), **_coconut_py_dict((k, h(*args, **kwargs)) for k, h in self.func_kwargs.items()))
     def __repr__(self):
         return "lift(%r)(%s%s)" % (self.func, ", ".join(_coconut.repr(g) for g in self.func_args), ", ".join(k + "=" + _coconut.repr(h) for k, h in self.func_kwargs.items()))
 class lift(_coconut_baseclass):
     """Lifts a function up so that all of its arguments are functions.
 
     For a binary function f(x, y) and two unary functions g(z) and h(z), lift works as the S' combinator:
         lift(f)(g, h)(z) == f(g(z), h(z))
@@ -1717,15 +1757,15 @@
         def lift(f) = ((*func_args, **func_kwargs) -> (*args, **kwargs) ->
             f(*(g(*args, **kwargs) for g in func_args), **{lbrace}k: h(*args, **kwargs) for k, h in func_kwargs.items(){rbrace}))
 
     lift also supports a shortcut form such that lift(f, *func_args, **func_kwargs) is equivalent to lift(f)(*func_args, **func_kwargs).
     """
     __slots__ = ("func",)
     def __new__(cls, func, *func_args, **func_kwargs):
-        self = _coconut.object.__new__(cls)
+        self = _coconut.super({_coconut_}lift, cls).__new__(cls)
         self.func = func
         if func_args or func_kwargs:
             self = self(*func_args, **func_kwargs)
         return self
     def __reduce__(self):
         return (self.__class__, (self.func,))
     def __call__(self, *func_args, **func_kwargs):
@@ -1733,15 +1773,18 @@
     def __repr__(self):
         return "lift(%r)" % (self.func,)
 def all_equal(iterable):
     """For a given iterable, check whether all elements in that iterable are equal to each other.
 
     Supports numpy arrays. Assumes transitivity and 'x != y' being equivalent to 'not (x == y)'.
     """
-    if iterable.__class__.__module__ in _coconut.numpy_modules:
+    iterable_module = _coconut_get_base_module(iterable)
+    if iterable_module in _coconut.numpy_modules:
+        if iterable_module in _coconut.pandas_numpy_modules:
+            iterable = iterable.to_numpy()
         return not _coconut.len(iterable) or (iterable == iterable[0]).all()
     first_item = _coconut_sentinel
     for item in iterable:
         if first_item is _coconut_sentinel:
             first_item = item
         elif first_item != item:
             return False
@@ -1776,61 +1819,200 @@
     else:
         NT = _coconut.typing.NamedTuple("_namedtuple_of", [(f, t) for f, t in _coconut.zip(fields, types)])
     _coconut.copyreg.pickle(NT, lambda nt: (_coconut_mk_anon_namedtuple, (nt._fields, types, nt._asdict())))
     if of_kwargs is None:
         return NT
     return NT(**of_kwargs)
 def _coconut_ndim(arr):
-    if (arr.__class__.__module__ in _coconut.numpy_modules or _coconut.hasattr(arr.__class__, "__matconcat__")) and _coconut.hasattr(arr, "ndim"):
+    if (_coconut_get_base_module(arr) in _coconut.numpy_modules or _coconut.hasattr(arr.__class__, "__matconcat__")) and _coconut.hasattr(arr, "ndim"):
         return arr.ndim
-    if not _coconut.isinstance(arr, _coconut.abc.Sequence):
+    if not _coconut.isinstance(arr, _coconut.abc.Sequence) or _coconut.isinstance(arr, (_coconut.str, _coconut.bytes)):
         return 0
     if _coconut.len(arr) == 0:
         return 1
     arr_dim = 1
     inner_arr = arr[0]
+    if inner_arr == arr:
+        return 0
     while _coconut.isinstance(inner_arr, _coconut.abc.Sequence):
         arr_dim += 1
         if _coconut.len(inner_arr) < 1:
             break
-        inner_arr = inner_arr[0]
+        new_inner_arr = inner_arr[0]
+        if new_inner_arr == inner_arr:
+            break
+        inner_arr = new_inner_arr
     return arr_dim
 def _coconut_expand_arr(arr, new_dims):
-    if (arr.__class__.__module__ in _coconut.numpy_modules or _coconut.hasattr(arr.__class__, "__matconcat__")) and _coconut.hasattr(arr, "reshape"):
+    if (_coconut_get_base_module(arr) in _coconut.numpy_modules or _coconut.hasattr(arr.__class__, "__matconcat__")) and _coconut.hasattr(arr, "reshape"):
         return arr.reshape((1,) * new_dims + arr.shape)
     for _ in _coconut.range(new_dims):
         arr = [arr]
     return arr
 def _coconut_concatenate(arrs, axis):
     matconcat = None
     for a in arrs:
-        if a.__class__.__module__ in _coconut.jax_numpy_modules:
+        if _coconut.hasattr(a.__class__, "__matconcat__"):
+            matconcat = a.__class__.__matconcat__
+            break
+        a_module = _coconut_get_base_module(a)
+        if a_module in _coconut.pandas_numpy_modules:
+            from pandas import concat as matconcat
+            break
+        if a_module in _coconut.jax_numpy_modules:
             from jax.numpy import concatenate as matconcat
             break
-        if a.__class__.__module__ in _coconut.numpy_modules:
+        if a_module in _coconut.numpy_modules:
             matconcat = _coconut.numpy.concatenate
             break
-        if _coconut.hasattr(a.__class__, "__matconcat__"):
-            matconcat = a.__class__.__matconcat__
-            break
     if matconcat is not None:
-        return matconcat(arrs, axis)
+        return matconcat(arrs, axis=axis)
     if not axis:
         return _coconut.list(_coconut.itertools.chain.from_iterable(arrs))
     return [_coconut_concatenate(rows, axis - 1) for rows in _coconut.zip(*arrs)]
 def _coconut_multi_dim_arr(arrs, dim):
     arr_dims = [_coconut_ndim(a) for a in arrs]
     arrs = [_coconut_expand_arr(a, dim - d) if d < dim else a for a, d in _coconut.zip(arrs, arr_dims)]
     arr_dims.append(dim)
     max_arr_dim = _coconut.max(arr_dims)
     return _coconut_concatenate(arrs, max_arr_dim - dim)
 def _coconut_call_or_coefficient(func, *args):
     if _coconut.callable(func):
         return func(*args)
-    if not _coconut.isinstance(func, (_coconut.int, _coconut.float, _coconut.complex)) and func.__class__.__module__ not in _coconut.numpy_modules:
+    if not _coconut.isinstance(func, (_coconut.int, _coconut.float, _coconut.complex)) and _coconut_get_base_module(func) not in _coconut.numpy_modules:
         raise _coconut.TypeError("implicit function application and coefficient syntax only supported for Callable, int, float, complex, and numpy objects")
     func = func
     for x in args:
         func = func * x{COMMENT.no_times_equals_to_avoid_modification}
     return func
+class _coconut_SupportsAdd(_coconut.typing.Protocol):
+    """Coconut (+) Protocol. Equivalent to:
+
+        class SupportsAdd[T, U, V](Protocol):
+            def __add__(self: T, other: U) -> V:
+                raise NotImplementedError(...)
+    """
+    def __add__(self, other):
+        raise NotImplementedError("Protocol methods cannot be called at runtime ((+) in a typing context is a Protocol)")
+class _coconut_SupportsMinus(_coconut.typing.Protocol):
+    """Coconut (-) Protocol. Equivalent to:
+
+        class SupportsMinus[T, U, V](Protocol):
+            def __sub__(self: T, other: U) -> V:
+                raise NotImplementedError
+            def __neg__(self: T) -> V:
+                raise NotImplementedError
+    """
+    def __sub__(self, other):
+        raise NotImplementedError("Protocol methods cannot be called at runtime ((-) in a typing context is a Protocol)")
+    def __neg__(self):
+        raise NotImplementedError("Protocol methods cannot be called at runtime ((-) in a typing context is a Protocol)")
+class _coconut_SupportsMul(_coconut.typing.Protocol):
+    """Coconut (*) Protocol. Equivalent to:
+
+        class SupportsMul[T, U, V](Protocol):
+            def __mul__(self: T, other: U) -> V:
+                raise NotImplementedError(...)
+    """
+    def __mul__(self, other):
+        raise NotImplementedError("Protocol methods cannot be called at runtime ((*) in a typing context is a Protocol)")
+class _coconut_SupportsPow(_coconut.typing.Protocol):
+    """Coconut (**) Protocol. Equivalent to:
+
+        class SupportsPow[T, U, V](Protocol):
+            def __pow__(self: T, other: U) -> V:
+                raise NotImplementedError(...)
+    """
+    def __pow__(self, other):
+        raise NotImplementedError("Protocol methods cannot be called at runtime ((**) in a typing context is a Protocol)")
+class _coconut_SupportsTruediv(_coconut.typing.Protocol):
+    """Coconut (/) Protocol. Equivalent to:
+
+        class SupportsTruediv[T, U, V](Protocol):
+            def __truediv__(self: T, other: U) -> V:
+                raise NotImplementedError(...)
+    """
+    def __truediv__(self, other):
+        raise NotImplementedError("Protocol methods cannot be called at runtime ((/) in a typing context is a Protocol)")
+class _coconut_SupportsFloordiv(_coconut.typing.Protocol):
+    """Coconut (//) Protocol. Equivalent to:
+
+        class SupportsFloordiv[T, U, V](Protocol):
+            def __floordiv__(self: T, other: U) -> V:
+                raise NotImplementedError(...)
+    """
+    def __floordiv__(self, other):
+        raise NotImplementedError("Protocol methods cannot be called at runtime ((//) in a typing context is a Protocol)")
+class _coconut_SupportsMod(_coconut.typing.Protocol):
+    """Coconut (%) Protocol. Equivalent to:
+
+        class SupportsMod[T, U, V](Protocol):
+            def __mod__(self: T, other: U) -> V:
+                raise NotImplementedError(...)
+    """
+    def __mod__(self, other):
+        raise NotImplementedError("Protocol methods cannot be called at runtime ((%) in a typing context is a Protocol)")
+class _coconut_SupportsAnd(_coconut.typing.Protocol):
+    """Coconut (&) Protocol. Equivalent to:
+
+        class SupportsAnd[T, U, V](Protocol):
+            def __and__(self: T, other: U) -> V:
+                raise NotImplementedError(...)
+    """
+    def __and__(self, other):
+        raise NotImplementedError("Protocol methods cannot be called at runtime ((&) in a typing context is a Protocol)")
+class _coconut_SupportsXor(_coconut.typing.Protocol):
+    """Coconut (^) Protocol. Equivalent to:
+
+        class SupportsXor[T, U, V](Protocol):
+            def __xor__(self: T, other: U) -> V:
+                raise NotImplementedError(...)
+    """
+    def __xor__(self, other):
+        raise NotImplementedError("Protocol methods cannot be called at runtime ((^) in a typing context is a Protocol)")
+class _coconut_SupportsOr(_coconut.typing.Protocol):
+    """Coconut (|) Protocol. Equivalent to:
+
+        class SupportsOr[T, U, V](Protocol):
+            def __or__(self: T, other: U) -> V:
+                raise NotImplementedError(...)
+    """
+    def __or__(self, other):
+        raise NotImplementedError("Protocol methods cannot be called at runtime ((|) in a typing context is a Protocol)")
+class _coconut_SupportsLshift(_coconut.typing.Protocol):
+    """Coconut (<<) Protocol. Equivalent to:
+
+        class SupportsLshift[T, U, V](Protocol):
+            def __lshift__(self: T, other: U) -> V:
+                raise NotImplementedError(...)
+    """
+    def __lshift__(self, other):
+        raise NotImplementedError("Protocol methods cannot be called at runtime ((<<) in a typing context is a Protocol)")
+class _coconut_SupportsRshift(_coconut.typing.Protocol):
+    """Coconut (>>) Protocol. Equivalent to:
+
+        class SupportsRshift[T, U, V](Protocol):
+            def __rshift__(self: T, other: U) -> V:
+                raise NotImplementedError(...)
+    """
+    def __rshift__(self, other):
+        raise NotImplementedError("Protocol methods cannot be called at runtime ((>>) in a typing context is a Protocol)")
+class _coconut_SupportsMatmul(_coconut.typing.Protocol):
+    """Coconut (@) Protocol. Equivalent to:
+
+        class SupportsMatmul[T, U, V](Protocol):
+            def __matmul__(self: T, other: U) -> V:
+                raise NotImplementedError(...)
+    """
+    def __matmul__(self, other):
+        raise NotImplementedError("Protocol methods cannot be called at runtime ((@) in a typing context is a Protocol)")
+class _coconut_SupportsInv(_coconut.typing.Protocol):
+    """Coconut (~) Protocol. Equivalent to:
+
+        class SupportsInv[T, V](Protocol):
+            def __invert__(self: T) -> V:
+                raise NotImplementedError(...)
+    """
+    def __invert__(self):
+        raise NotImplementedError("Protocol methods cannot be called at runtime ((~) in a typing context is a Protocol)")
 _coconut_self_match_types = {self_match_types}
-_coconut_Expected, _coconut_MatchError, _coconut_count, _coconut_enumerate, _coconut_flatten, _coconut_filter, _coconut_ident, _coconut_map, _coconut_multiset, _coconut_range, _coconut_reiterable, _coconut_reversed, _coconut_starmap, _coconut_tee, _coconut_zip, TYPE_CHECKING, reduce, takewhile, dropwhile = Expected, MatchError, count, enumerate, flatten, filter, ident, map, multiset, range, reiterable, reversed, starmap, tee, zip, False, _coconut.functools.reduce, _coconut.itertools.takewhile, _coconut.itertools.dropwhile
+_coconut_Expected, _coconut_MatchError, _coconut_cartesian_product, _coconut_count, _coconut_cycle, _coconut_enumerate, _coconut_flatten, _coconut_filter, _coconut_groupsof, _coconut_ident, _coconut_lift, _coconut_map, _coconut_multiset, _coconut_range, _coconut_reiterable, _coconut_reversed, _coconut_scan, _coconut_starmap, _coconut_tee, _coconut_windowsof, _coconut_zip, _coconut_zip_longest, TYPE_CHECKING, reduce, takewhile, dropwhile = Expected, MatchError, cartesian_product, count, cycle, enumerate, flatten, filter, groupsof, ident, lift, map, multiset, range, reiterable, reversed, scan, starmap, tee, windowsof, zip, zip_longest, False, _coconut.functools.reduce, _coconut.itertools.takewhile, _coconut.itertools.dropwhile{COMMENT.anything_added_here_should_be_copied_to_stub_file}
```

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/compiler/util.py` & `coconut-develop-3.0.1.post0.dev1/coconut/compiler/util.py`

 * *Files 2% similar despite different names*

```diff
@@ -49,14 +49,15 @@
     ParseException,
     ParseBaseException,
     ParseResults,
     Combine,
     Regex,
     Empty,
     Literal,
+    CaselessLiteral,
     Group,
     ParserElement,
     _trim_arity,
     _ParseResultsWithOffset,
     line as _line,
 )
 
@@ -89,14 +90,15 @@
     reserved_vars,
     use_packrat_parser,
     packrat_cache_size,
     temp_grammar_item_ref_count,
     indchars,
     comment_chars,
     non_syntactic_newline,
+    allow_explicit_keyword_vars,
 )
 from coconut.exceptions import (
     CoconutException,
     CoconutInternalException,
     CoconutDeferredSyntaxError,
 )
 
@@ -384,16 +386,17 @@
         ParserElement._packratEnabled = False
         ParserElement.enablePackrat(packrat_cache_size)
     try:
         yield
     finally:
         if inner_parse and use_packrat_parser:
             ParserElement.packrat_cache = old_cache
-            ParserElement.packrat_cache_stats[0] += old_cache_stats[0]
-            ParserElement.packrat_cache_stats[1] += old_cache_stats[1]
+            if logger.verbose:
+                ParserElement.packrat_cache_stats[0] += old_cache_stats[0]
+                ParserElement.packrat_cache_stats[1] += old_cache_stats[1]
 
 
 def prep_grammar(grammar, streamline=False):
     """Prepare a grammar item to be used as the root of a parse."""
     if streamline:
         grammar.streamlined = False
         grammar.streamline()
@@ -581,15 +584,15 @@
 
 def disable_inside(item, *elems, **kwargs):
     """Prevent elems from matching inside of item.
 
     Returns (item with elem disabled, *new versions of elems).
     """
     _invert = kwargs.pop("_invert", False)
-    internal_assert(not kwargs, "excess keyword arguments passed to disable_inside")
+    internal_assert(not kwargs, "excess keyword arguments passed to disable_inside", kwargs)
 
     level = [0]  # number of wrapped items deep we are; in a list to allow modification
 
     @contextmanager
     def manage_item(self, original, loc):
         level[0] += 1
         try:
@@ -790,47 +793,39 @@
 always_match = Empty()
 stores_loc_item = attach(always_match, stores_loc_action)
 
 
 def disallow_keywords(kwds, with_suffix=None):
     """Prevent the given kwds from matching."""
     item = ~(
-        keyword(kwds[0], explicit_prefix=False)
+        base_keyword(kwds[0])
         if with_suffix is None else
-        keyword(kwds[0], explicit_prefix=False) + with_suffix
+        base_keyword(kwds[0]) + with_suffix
     )
     for k in kwds[1:]:
         item += ~(
-            keyword(k, explicit_prefix=False)
+            base_keyword(k)
             if with_suffix is None else
-            keyword(k, explicit_prefix=False) + with_suffix
+            base_keyword(k) + with_suffix
         )
     return item
 
 
 def any_keyword_in(kwds):
     """Match any of the given keywords."""
     return regex_item(r"|".join(k + r"\b" for k in kwds))
 
 
-@memoize()
-def keyword(name, explicit_prefix=None, require_whitespace=False):
+def base_keyword(name, explicit_prefix=False, require_whitespace=False):
     """Construct a grammar which matches name as a Python keyword."""
-    if explicit_prefix is not False:
-        internal_assert(
-            (name in reserved_vars) is (explicit_prefix is not None),
-            "invalid keyword call for", name,
-            extra="pass explicit_prefix to keyword for all reserved_vars and only reserved_vars",
-        )
-
     base_kwd = regex_item(name + r"\b" + (r"(?=\s)" if require_whitespace else ""))
-    if explicit_prefix in (None, False):
-        return base_kwd
-    else:
+    if explicit_prefix and name in reserved_vars + allow_explicit_keyword_vars:
         return combine(Optional(explicit_prefix.suppress()) + base_kwd)
+    else:
+        return base_kwd
 
 
 boundary = regex_item(r"\b")
 
 
 def any_len_perm_with_one_of_each_group(*groups_and_elems):
     """Matches any len permutation of elems that contains at least one of each group."""
@@ -877,14 +872,33 @@
 
     groups_and_elems = []
     groups_and_elems.extend(optional)
     groups_and_elems.extend(enumerate(required))
     return any_len_perm_with_one_of_each_group(*groups_and_elems)
 
 
+def any_len_perm_at_least_one(*elems, **kwargs):
+    """Any length permutation of elems that includes at least one of the elems and all the required."""
+    required = kwargs.pop("required", ())
+    internal_assert(not kwargs, "invalid any_len_perm kwargs", kwargs)
+
+    groups_and_elems = []
+    groups_and_elems.extend((-1, e) for e in elems)
+    groups_and_elems.extend(enumerate(required))
+    return any_len_perm_with_one_of_each_group(*groups_and_elems)
+
+
+def caseless_literal(literalstr, suppress=False):
+    """Version of CaselessLiteral that always parses to the given literalstr."""
+    if suppress:
+        return CaselessLiteral(literalstr).suppress()
+    else:
+        return fixto(CaselessLiteral(literalstr), literalstr)
+
+
 # -----------------------------------------------------------------------------------------------------------------------
 # UTILITIES:
 # -----------------------------------------------------------------------------------------------------------------------
 
 def ordered(items):
     """Return the items in a deterministic order."""
     if PY2:
@@ -1031,35 +1045,57 @@
         indent = ""
     for i, c in enumerate(append_it(line, None)):
         if c in comment_chars:
             break
     return line[:i] + indent, line[i:]
 
 
+def extract_line_num_from_comment(line, default=None):
+    """Extract the line number from a line with a line number comment, else return default."""
+    _, all_comments = split_comment(line)
+    for comment in all_comments.split("#"):
+        words = comment.strip().split(None, 1)
+        if words:
+            first_word = words[0].strip(":")
+            try:
+                return int(first_word)
+            except ValueError:
+                pass
+    logger.log("failed to extract line num comment from", line)
+    return default
+
+
 def rem_comment(line):
     """Remove a comment from a line."""
     base, comment = split_comment(line)
     return base
 
 
 def should_indent(code):
     """Determines whether the next line should be indented."""
     last_line = rem_comment(code.splitlines()[-1])
     return last_line.endswith((":", "=", "\\")) or paren_change(last_line) < 0
 
 
-def split_leading_comment(inputstr):
-    """Split into leading comment and rest.
-    Comment must be at very start of string."""
-    if inputstr.startswith(comment_chars):
-        comment_line, rest = inputstr.split("\n", 1)
-        comment, indent = split_trailing_indent(comment_line)
-        return comment + "\n", indent + rest
-    else:
-        return "", inputstr
+def split_leading_comments(inputstr):
+    """Split into leading comments and rest."""
+    comments = ""
+    indent, base = split_leading_indent(inputstr)
+
+    while base.startswith(comment_chars):
+        comment_line, rest = base.split("\n", 1)
+
+        got_comment, got_indent = split_trailing_indent(comment_line)
+        comments += got_comment + "\n"
+        indent += got_indent
+
+        got_indent, base = split_leading_indent(rest)
+        indent += got_indent
+
+    return comments, indent + base
 
 
 def split_trailing_comment(inputstr):
     """Split into rest and trailing comment."""
     parts = inputstr.rsplit("\n", 1)
     if len(parts) == 1:
         return parts[0], ""
@@ -1067,45 +1103,45 @@
         rest, last_line = parts
         last_line, comment = split_comment(last_line)
         return rest + "\n" + last_line, comment
 
 
 def split_leading_indent(inputstr, max_indents=None):
     """Split inputstr into leading indent and main."""
-    indent = ""
+    indents = []
     while (
         (max_indents is None or max_indents > 0)
         and inputstr.startswith(indchars)
     ) or inputstr.lstrip() != inputstr:
         got_ind, inputstr = inputstr[0], inputstr[1:]
         # max_indents only refers to openindents/closeindents, not all indchars
         if max_indents is not None and got_ind in (openindent, closeindent):
             max_indents -= 1
-        indent += got_ind
-    return indent, inputstr
+        indents.append(got_ind)
+    return "".join(indents), inputstr
 
 
 def split_trailing_indent(inputstr, max_indents=None, handle_comments=True):
     """Split inputstr into leading indent and main."""
-    indent = ""
+    indents_from_end = []
     while (
         (max_indents is None or max_indents > 0)
         and inputstr.endswith(indchars)
     ) or inputstr.rstrip() != inputstr:
         inputstr, got_ind = inputstr[:-1], inputstr[-1]
         # max_indents only refers to openindents/closeindents, not all indchars
         if max_indents is not None and got_ind in (openindent, closeindent):
             max_indents -= 1
-        indent = got_ind + indent
+        indents_from_end.append(got_ind)
     if handle_comments:
         inputstr, comment = split_trailing_comment(inputstr)
         inputstr, inner_indent = split_trailing_indent(inputstr, max_indents, handle_comments=False)
         inputstr = inputstr + comment
-        indent = inner_indent + indent
-    return inputstr, indent
+        indents_from_end.append(inner_indent)
+    return inputstr, "".join(reversed(indents_from_end))
 
 
 def split_leading_trailing_indent(line, max_indents=None):
     """Split leading and trailing indent."""
     leading_indent, line = split_leading_indent(line, max_indents)
     line, trailing_indent = split_trailing_indent(line, max_indents)
     return leading_indent, line, trailing_indent
@@ -1276,14 +1312,16 @@
     annotation = getattr(func, "trim_arity", None)
     if annotation is not None:
         return annotation
     try:
         func_args = get_func_args(func)
     except TypeError:
         return True
+    if not func_args:
+        return True
     if func_args[0] == "self":
         func_args.pop(0)
     if func_args[:3] == ["original", "loc", "tokens"]:
         return False
     return True
```

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/constants.py` & `coconut-develop-3.0.1.post0.dev1/coconut/constants.py`

 * *Files 2% similar despite different names*

```diff
@@ -75,15 +75,16 @@
 PY38 = sys.version_info >= (3, 8)
 PY39 = sys.version_info >= (3, 9)
 PY310 = sys.version_info >= (3, 10)
 PY311 = sys.version_info >= (3, 11)
 IPY = (
     ((PY2 and not PY26) or PY35)
     and not (PYPY and WINDOWS)
-    and not (PY311 and not WINDOWS)
+    and (PY37 or not PYPY)
+    and sys.version_info[:2] != (3, 7)
 )
 MYPY = (
     PY37
     and not WINDOWS
     and not PYPY
 )
 XONSH = (
@@ -123,28 +124,34 @@
 embed_on_internal_exc = False
 assert not embed_on_internal_exc or DEVELOP, "embed_on_internal_exc should never be enabled on non-develop build"
 
 # should be the minimal ref count observed by attach
 temp_grammar_item_ref_count = 3 if PY311 else 5
 
 minimum_recursion_limit = 128
-default_recursion_limit = 2090
+# shouldn't be raised any higher to avoid stack overflows
+default_recursion_limit = 1920
 
 if sys.getrecursionlimit() < default_recursion_limit:
     sys.setrecursionlimit(default_recursion_limit)
 
 # modules that numpy-like arrays can live in
+pandas_numpy_modules = (
+    "pandas",
+)
 jax_numpy_modules = (
-    "jaxlib.xla_extension",
+    "jaxlib",
 )
 numpy_modules = (
     "numpy",
-    "pandas",
     "torch",
-) + jax_numpy_modules
+) + (
+    pandas_numpy_modules
+    + jax_numpy_modules
+)
 
 legal_indent_chars = " \t"  # the only Python-legal indent chars
 
 non_syntactic_newline = "\f"  # must be a single character
 
 # both must be in ascending order and must be unbroken with no missing 2 num vers
 supported_py2_vers = (
@@ -182,14 +189,15 @@
     "312",
 )
 pseudo_targets = {
     "universal": "",
     "26": "2",
     "32": "3",
 }
+assert all(v in specific_targets or v in pseudo_targets for v in ROOT_HEADER_VERSIONS)
 
 targets = ("",) + specific_targets
 
 template_ext = ".py_template"
 
 default_encoding = "utf-8"
 
@@ -204,14 +212,15 @@
 format_var = reserved_prefix + "_format"
 is_data_var = reserved_prefix + "_is_data"
 custom_op_var = reserved_prefix + "_op"
 is_data_var = reserved_prefix + "_is_data"
 data_defaults_var = reserved_prefix + "_data_defaults"
 
 # prefer Matcher.get_temp_var to proliferating more vars here
+match_first_arg_var = reserved_prefix + "_match_first_arg"
 match_to_args_var = reserved_prefix + "_match_args"
 match_to_kwargs_var = reserved_prefix + "_match_kwargs"
 function_match_error_var = reserved_prefix + "_FunctionMatchError"
 match_set_name_var = reserved_prefix + "_match_set_name"
 
 # should match reserved_compiler_symbols below
 openindent = "\u204b"  # reverse pilcrow
@@ -272,14 +281,36 @@
     "..?>=": "_coconut_forward_none_compose",
     "<*?..=": "_coconut_back_none_star_compose",
     "..?*>=": "_coconut_forward_none_star_compose",
     "<**?..=": "_coconut_back_none_dubstar_compose",
     "..?**>=": "_coconut_forward_none_dubstar_compose",
 }
 
+op_func_protocols = {
+    "add": "_coconut_SupportsAdd",
+    "minus": "_coconut_SupportsMinus",
+    "mul": "_coconut_SupportsMul",
+    "pow": "_coconut_SupportsPow",
+    "truediv": "_coconut_SupportsTruediv",
+    "floordiv": "_coconut_SupportsFloordiv",
+    "mod": "_coconut_SupportsMod",
+    "and": "_coconut_SupportsAnd",
+    "xor": "_coconut_SupportsXor",
+    "or": "_coconut_SupportsOr",
+    "lshift": "_coconut_SupportsLshift",
+    "rshift": "_coconut_SupportsRshift",
+    "matmul": "_coconut_SupportsMatmul",
+    "inv": "_coconut_SupportsInv",
+}
+
+allow_explicit_keyword_vars = (
+    "async",
+    "await",
+)
+
 keyword_vars = (
     "and",
     "as",
     "assert",
     "break",
     "class",
     "continue",
@@ -303,35 +334,34 @@
     "raise",
     "return",
     "try",
     "while",
     "with",
     "yield",
     "nonlocal",
-)
+) + allow_explicit_keyword_vars
 
 const_vars = (
     "True",
     "False",
     "None",
 )
 
 # names that can be backslash-escaped
 reserved_vars = (
-    "async",
-    "await",
     "data",
     "match",
     "case",
     "cases",
     "where",
     "addpattern",
     "then",
     "operator",
     "type",
+    "copyclosure",
     "\u03bb",  # lambda
 )
 
 # names that trigger __class__ to be bound to local vars
 super_names = (
     # we would include py_super, but it's not helpful, since
     #  py_super is unsatisfied by a simple local __class__ var
@@ -572,18 +602,19 @@
 coconut_run_verbose_args = ("--run", "--target=sys", "--line-numbers")
 coconut_import_hook_args = ("--target=sys", "--line-numbers", "--keep-lines", "--quiet")
 
 default_mypy_args = (
     "--pretty",
 )
 verbose_mypy_args = (
+    "--show-traceback",
+    "--show-error-context",
     "--warn-unused-configs",
     "--warn-redundant-casts",
     "--warn-return-any",
-    "--show-error-context",
     "--warn-incomplete-stub",
 )
 
 mypy_silent_non_err_prefixes = (
     "Success:",
 )
 mypy_silent_err_prefixes = (
@@ -594,27 +625,35 @@
 )
 mypy_non_err_infixes = (
     ": note: ",
 )
 
 oserror_retcode = 127
 
+kilobyte = 1024
+min_stack_size_kbs = 160
+
+default_jobs = "sys" if not PY26 else 0
+
 mypy_install_arg = "install"
 
 mypy_builtin_regex = re.compile(r"\b(reveal_type|reveal_locals)\b")
 
 interpreter_uses_auto_compilation = True
 interpreter_uses_coconut_breakpoint = True
 
-coconut_pth_file = os.path.join(base_dir, "command", "resources", "zcoconut.pth")
+command_resources_dir = os.path.join(base_dir, "command", "resources")
+coconut_pth_file = os.path.join(command_resources_dir, "zcoconut.pth")
 
 interpreter_compiler_var = "__coconut_compiler__"
 
 jupyter_console_commands = ("console", "qtconsole")
 
+create_package_retries = 1
+
 # -----------------------------------------------------------------------------------------------------------------------
 # HIGHLIGHTER CONSTANTS:
 # -----------------------------------------------------------------------------------------------------------------------
 
 shebang_regex = r'coconut(?:-run)?'
 
 interp_only_builtins = (
@@ -658,14 +697,15 @@
     "collectby",
     "multi_enumerate",
     "cartesian_product",
     "multiset",
     "cycle",
     "windowsof",
     "py_chr",
+    "py_dict",
     "py_hex",
     "py_input",
     "py_int",
     "py_map",
     "py_object",
     "py_oct",
     "py_open",
@@ -682,14 +722,19 @@
     "py_repr",
     "py_breakpoint",
     "_namedtuple_of",
     "reveal_type",
     "reveal_locals",
 )
 
+# builtins that must be imported from the exact right target header
+must_use_specific_target_builtins = (
+    "super",
+)
+
 coconut_exceptions = (
     "MatchError",
 )
 
 all_builtins = frozenset(python_builtins + coconut_specific_builtins + coconut_exceptions)
 
 magic_methods = (
@@ -705,14 +750,15 @@
     r";+",
     r"(?:<\*?\*?\??)?(?!\.\.\.)\.\.(?:\??\*?\*?>)?",  # ..
     r"\|\??\*?\*?>",
     r"<\*?\*?\??\|",
     r"->",
     r"\?\??",
     r"<:",
+    r"&:",
     "\u2192",  # ->
     "\\??\\*?\\*?\u21a6",  # |>
     "\u21a4\\*?\\*?\\??",  # <|
     "<?\\*?\\*?\\??\u2218\\??\\*?\\*?>?",  # ..
     "\xd7",  # *
     "\u2191",  # **
     "\xf7",  # /
@@ -762,191 +808,213 @@
     "cpython": (
         "cPyparsing",
     ),
     "purepython": (
         "pyparsing",
     ),
     "non-py26": (
-        "pygments",
+        "psutil",
     ),
     "py2": (
         "futures",
         "backports.functools-lru-cache",
         ("prompt_toolkit", "mark2"),
     ),
     "py3": (
         ("prompt_toolkit", "mark3"),
     ),
     "py26": (
         "argparse",
     ),
-    "jobs": (
-        "psutil",
+    "py<39": (
+        ("pygments", "mark<39"),
+    ),
+    "py39": (
+        ("pygments", "mark39"),
     ),
     "kernel": (
         ("ipython", "py2"),
-        ("ipython", "py3"),
+        ("ipython", "py3;py<37"),
+        ("ipython", "py==37"),
+        ("ipython", "py38"),
         ("ipykernel", "py2"),
-        ("ipykernel", "py3"),
+        ("ipykernel", "py3;py<38"),
+        ("ipykernel", "py38"),
         ("jupyter-client", "py<35"),
         ("jupyter-client", "py==35"),
         ("jupyter-client", "py36"),
-        ("jedi", "py<37"),
-        ("jedi", "py37"),
+        ("jedi", "py<39"),
+        ("jedi", "py39"),
         ("pywinpty", "py2;windows"),
     ),
     "jupyter": (
         "jupyter",
         ("jupyter-console", "py<35"),
-        ("jupyter-console", "py==35"),
-        ("jupyter-console", "py36"),
+        ("jupyter-console", "py>=35;py<37"),
+        ("jupyter-console", "py37"),
         ("jupyterlab", "py35"),
         ("jupytext", "py3"),
         "papermill",
     ),
     "mypy": (
         "mypy[python2]",
         "types-backports",
         ("typing_extensions", "py==35"),
-        ("typing_extensions", "py36"),
+        ("typing_extensions", "py==36"),
+        ("typing_extensions", "py37"),
     ),
     "watch": (
         "watchdog",
     ),
     "xonsh": (
         "xonsh",
     ),
     "backports": (
         ("trollius", "py2;cpy"),
         ("aenum", "py<34"),
         ("dataclasses", "py==36"),
         ("typing", "py<35"),
         ("typing_extensions", "py==35"),
-        ("typing_extensions", "py36"),
+        ("typing_extensions", "py==36"),
+        ("typing_extensions", "py37"),
     ),
     "dev": (
         ("pre-commit", "py3"),
         "requests",
         "vprof",
     ),
     "docs": (
         "sphinx",
-        "pygments",
+        ("pygments", "mark<39"),
+        ("pygments", "mark39"),
         "myst-parser",
         "pydata-sphinx-theme",
     ),
     "tests": (
         "pytest",
         "pexpect",
         ("numpy", "py34"),
         ("numpy", "py2;cpy"),
+        ("pandas", "py36"),
     ),
 }
 
 # min versions are inclusive
 min_versions = {
-    "cPyparsing": (2, 4, 7, 1, 2, 0),
-    ("pre-commit", "py3"): (2, 21),
+    "cPyparsing": (2, 4, 7, 1, 2, 1),
+    ("pre-commit", "py3"): (3,),
     "psutil": (5,),
     "jupyter": (1, 0),
     "types-backports": (0, 1),
     "futures": (3, 4),
     "backports.functools-lru-cache": (1, 6),
     "argparse": (1, 4),
     "pexpect": (4,),
     ("trollius", "py2;cpy"): (2, 2),
-    "requests": (2, 28),
+    "requests": (2, 31),
     ("numpy", "py34"): (1,),
     ("numpy", "py2;cpy"): (1,),
     ("dataclasses", "py==36"): (0, 8),
     ("aenum", "py<34"): (3,),
-    "pydata-sphinx-theme": (0, 12),
-    "myst-parser": (0, 18),
-    "sphinx": (5, 3),  # don't upgrade until myst-parser works with it
-    "mypy[python2]": (0, 991),
-    ("jupyter-console", "py36"): (6, 4),
+    "pydata-sphinx-theme": (0, 13),
+    "myst-parser": (1,),
+    "mypy[python2]": (1, 3),
+    ("jupyter-console", "py37"): (6, 6),
     ("typing", "py<35"): (3, 10),
-    ("jedi", "py37"): (0, 18),
+    ("typing_extensions", "py37"): (4, 6),
+    ("ipython", "py38"): (8,),
+    ("ipykernel", "py38"): (6,),
+    ("jedi", "py39"): (0, 18),
+    ("pygments", "mark39"): (2, 15),
 
     # pinned reqs: (must be added to pinned_reqs below)
 
-    # don't upgrade this; it breaks on Python 3.6
+    # don't upgrade until myst-parser supports the new version
+    "sphinx": (6,),
+    # don't upgrade this; it breaks on Python 3.7
+    ("ipython", "py==37"): (7, 34),
+    # don't upgrade these; it breaks on Python 3.6
+    ("pandas", "py36"): (1,),
     ("jupyter-client", "py36"): (7, 1, 2),
-    ("typing_extensions", "py36"): (4, 1),
+    ("typing_extensions", "py==36"): (4, 1),
     # don't upgrade these; they break on Python 3.5
-    ("ipykernel", "py3"): (5, 5),
-    ("ipython", "py3"): (7, 9),
-    ("jupyter-console", "py==35"): (6, 1),
+    ("ipykernel", "py3;py<38"): (5, 5),
+    ("ipython", "py3;py<37"): (7, 9),
+    ("jupyter-console", "py>=35;py<37"): (6, 1),
     ("jupyter-client", "py==35"): (6, 1, 12),
     ("jupytext", "py3"): (1, 8),
     ("jupyterlab", "py35"): (2, 2),
     "xonsh": (0, 9),
     ("typing_extensions", "py==35"): (3, 10),
     # don't upgrade this to allow all versions
     ("prompt_toolkit", "mark3"): (1,),
     # don't upgrade this; it breaks on Python 2.6
     "pytest": (3,),
     # don't upgrade this; it breaks on unix
     "vprof": (0, 36),
     # don't upgrade this; it breaks on Python 3.4
-    "pygments": (2, 3),
+    ("pygments", "mark<39"): (2, 3),
     # don't upgrade these; they break on Python 2
     ("jupyter-client", "py<35"): (5, 3),
     ("pywinpty", "py2;windows"): (0, 5),
     ("jupyter-console", "py<35"): (5, 2),
     ("ipython", "py2"): (5, 4),
     ("ipykernel", "py2"): (4, 10),
     ("prompt_toolkit", "mark2"): (1,),
     "watchdog": (0, 10),
     "papermill": (1, 2),
     # don't upgrade this; it breaks with old IPython versions
-    ("jedi", "py<37"): (0, 17),
+    ("jedi", "py<39"): (0, 17),
     # Coconut requires pyparsing 2
     "pyparsing": (2, 4, 7),
 }
 
 # should match the reqs with comments above
 pinned_reqs = (
+    "sphinx",
+    ("ipython", "py==37"),
+    ("pandas", "py36"),
     ("jupyter-client", "py36"),
-    ("typing_extensions", "py36"),
+    ("typing_extensions", "py==36"),
     ("jupyter-client", "py<35"),
-    ("ipykernel", "py3"),
-    ("ipython", "py3"),
-    ("jupyter-console", "py==35"),
+    ("ipykernel", "py3;py<38"),
+    ("ipython", "py3;py<37"),
+    ("jupyter-console", "py>=35;py<37"),
     ("jupyter-client", "py==35"),
     ("jupytext", "py3"),
     ("jupyterlab", "py35"),
     "xonsh",
     ("typing_extensions", "py==35"),
     ("prompt_toolkit", "mark3"),
     "pytest",
     "vprof",
-    "pygments",
+    ("pygments", "mark<39"),
     ("pywinpty", "py2;windows"),
     ("jupyter-console", "py<35"),
     ("ipython", "py2"),
     ("ipykernel", "py2"),
     ("prompt_toolkit", "mark2"),
     "watchdog",
     "papermill",
-    ("jedi", "py<37"),
+    ("jedi", "py<39"),
     "pyparsing",
 )
 
 # max versions are exclusive; None implies that the max version should
 #  be generated by incrementing the min version; multiple Nones implies
 #  that the element corresponding to the last None should be incremented
 _ = None
 max_versions = {
     ("jupyter-client", "py==35"): _,
     "pyparsing": _,
     "cPyparsing": (_, _, _),
     ("prompt_toolkit", "mark2"): _,
-    ("jedi", "py<37"): _,
+    ("jedi", "py<39"): _,
     ("pywinpty", "py2;windows"): _,
+    ("ipython", "py3;py<37"): _,
 }
 
 classifiers = (
     "Development Status :: 5 - Production/Stable",
     "License :: OSI Approved :: Apache Software License",
     "Intended Audience :: Developers",
     "Topic :: Software Development",
@@ -1074,15 +1142,15 @@
 
 requests_sleep_times = (0, 0.1, 0.2, 0.3, 0.4, 1)
 
 # -----------------------------------------------------------------------------------------------------------------------
 # INTEGRATION CONSTANTS:
 # -----------------------------------------------------------------------------------------------------------------------
 
-# must be replicated in DOCS
+# must be replicated in DOCS; must include --line-numbers for xonsh line number extraction
 coconut_kernel_kwargs = dict(target="sys", line_numbers=True, keep_lines=True, no_wrap=True)
 
 icoconut_dir = os.path.join(base_dir, "icoconut")
 
 icoconut_custom_kernel_name = "coconut"
 icoconut_custom_kernel_dir = os.path.join(icoconut_dir, icoconut_custom_kernel_name)
 
@@ -1107,14 +1175,16 @@
 py_syntax_version = 3
 mimetype = "text/x-python3"
 
 all_keywords = keyword_vars + const_vars + reserved_vars
 
 conda_build_env_var = "CONDA_BUILD"
 
+disabled_xonsh_modes = ("exec", "eval")
+
 # -----------------------------------------------------------------------------------------------------------------------
 # DOCUMENTATION CONSTANTS:
 # -----------------------------------------------------------------------------------------------------------------------
 
 without_toc = """
 ..
     <insert toctree here>
```

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/convenience.py` & `coconut-develop-3.0.1.post0.dev1/coconut/convenience.py`

 * *Files identical despite different names*

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/convenience.pyi` & `coconut-develop-3.0.1.post0.dev1/coconut/convenience.pyi`

 * *Files identical despite different names*

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/exceptions.py` & `coconut-develop-3.0.1.post0.dev1/coconut/exceptions.py`

 * *Files 2% similar despite different names*

```diff
@@ -93,15 +93,15 @@
     def __init__(self, message, source=None, point=None, ln=None, extra=None, endpoint=None, filename=None):
         """Creates the Coconut SyntaxError."""
         self.args = (message, source, point, ln, extra, endpoint, filename)
 
     @property
     def kwargs(self):
         """Get the arguments as keyword arguments."""
-        return dict(zip(self.args, self.argnames))
+        return dict(zip(self.argnames, self.args))
 
     def message(self, message, source, point, ln, extra=None, endpoint=None, filename=None):
         """Creates a SyntaxError-like message."""
         if message is None:
             message = "parsing failed"
         if extra is not None:
             message += " (" + str(extra) + ")"
@@ -181,24 +181,26 @@
 
         return message
 
     def syntax_err(self):
         """Creates a SyntaxError."""
         kwargs = self.kwargs
         if self.point_to_endpoint and "endpoint" in kwargs:
-            point = kwargs.pop("endpoint")
+            point = kwargs["endpoint"]
         else:
-            point = kwargs.pop("point")
-        kwargs["point"] = kwargs["endpoint"] = None
-        ln = kwargs.pop("ln")
-        filename = kwargs.pop("filename", None)
+            point = kwargs.get("point")
+        ln = kwargs.get("ln")
+        filename = kwargs.get("filename")
+        kwargs["point"] = kwargs["endpoint"] = kwargs["ln"] = kwargs["filename"] = None
 
         err = SyntaxError(self.message(**kwargs))
-        err.offset = point
-        err.lineno = ln
+        if point is not None:
+            err.offset = point
+        if ln is not None:
+            err.lineno = ln
         if filename is not None:
             err.filename = filename
         return err
 
     def set_point_to_endpoint(self, point_to_endpoint):
         """Sets whether to point to the endpoint."""
         self.point_to_endpoint = point_to_endpoint
```

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/highlighter.py` & `coconut-develop-3.0.1.post0.dev1/coconut/highlighter.py`

 * *Files identical despite different names*

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/icoconut/__init__.py` & `coconut-develop-3.0.1.post0.dev1/coconut/icoconut/__init__.py`

 * *Files identical despite different names*

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/icoconut/__main__.py` & `coconut-develop-3.0.1.post0.dev1/coconut/icoconut/__main__.py`

 * *Files identical despite different names*

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/icoconut/embed.py` & `coconut-develop-3.0.1.post0.dev1/coconut/icoconut/embed.py`

 * *Files identical despite different names*

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/icoconut/root.py` & `coconut-develop-3.0.1.post0.dev1/coconut/icoconut/root.py`

 * *Files 5% similar despite different names*

```diff
@@ -17,14 +17,15 @@
 
 from __future__ import print_function, absolute_import, unicode_literals, division
 
 from coconut.root import *  # NOQA
 
 import os
 import sys
+import logging
 
 try:
     import asyncio
 except ImportError:
     asyncio = None
 
 from coconut.exceptions import (
@@ -40,19 +41,16 @@
     version_banner,
     tutorial_url,
     documentation_url,
     code_exts,
     conda_build_env_var,
     coconut_kernel_kwargs,
 )
-from coconut.terminal import (
-    logger,
-    internal_assert,
-)
-from coconut.util import override
+from coconut.terminal import logger
+from coconut.util import override, memoize_with_exceptions
 from coconut.compiler import Compiler
 from coconut.compiler.util import should_indent
 from coconut.command.util import Runner
 
 if WINDOWS and PY38 and asyncio is not None:  # attempt to fix zmq warning
     asyncio.set_event_loop_policy(asyncio.WindowsSelectorEventLoopPolicy())
 
@@ -90,33 +88,18 @@
 # UTILITIES:
 # -----------------------------------------------------------------------------------------------------------------------
 
 COMPILER = Compiler(**coconut_kernel_kwargs)
 
 RUNNER = Runner(COMPILER)
 
-parse_block_memo = {}
-
 
+@memoize_with_exceptions(128)
 def memoized_parse_block(code):
-    """Memoized version of parse_block."""
-    internal_assert(lambda: code not in parse_block_memo.values(), "attempted recompilation of", code)
-    success, result = parse_block_memo.get(code, (None, None))
-    if success is None:
-        try:
-            parsed = COMPILER.parse_block(code, keep_state=True)
-        except Exception as err:
-            success, result = False, err
-        else:
-            success, result = True, parsed
-        parse_block_memo[code] = (success, result)
-    if success:
-        return result
-    else:
-        raise result
+    return COMPILER.parse_block(code, keep_state=True)
 
 
 def syntaxerr_memoized_parse_block(code):
     """Version of memoized_parse_block that raises SyntaxError without any __cause__."""
     to_raise = None
     try:
         return memoized_parse_block(code)
@@ -210,15 +193,15 @@
     """Version of run_cell that always uses shell_futures."""
     # cell_id is just ignored because we don't use it but we have to have it because
     #  the presence of **kwargs means ipykernel.kernelbase._accepts_cell_id thinks we do
     return super({cls}, self).run_cell(raw_cell, store_history, silent, shell_futures=True, **kwargs)
 
 if asyncio is not None:
     @override
-    {async_}def run_cell_async(self, raw_cell, store_history=False, silent=False, shell_futures=True, cell_id=None, **kwargs):
+    {coroutine}def run_cell_async(self, raw_cell, store_history=False, silent=False, shell_futures=True, cell_id=None, **kwargs):
         """Version of run_cell_async that always uses shell_futures."""
         # same as above
         return super({cls}, self).run_cell_async(raw_cell, store_history, silent, shell_futures=True, **kwargs)
 
 @override
 def user_expressions(self, expressions):
     """Version of user_expressions that compiles Coconut code first."""
@@ -229,16 +212,16 @@
         except CoconutException:
             compiled_expressions[key] = expr
     return super({cls}, self).user_expressions(compiled_expressions)
 '''
 
     format_dict = dict(
         dict="{}",
-        async_=(
-            "async " if PY311 else
+        coroutine=(
+            "" if PY311 else
             """@asyncio.coroutine
     """
         ),
     )
 
     class CoconutShell(ZMQInteractiveShell, object):
         """ZMQInteractiveShell for Coconut."""
@@ -279,14 +262,19 @@
             },
             {
                 "text": "Coconut Documentation",
                 "url": documentation_url,
             },
         ]
 
+        def __init__(self, *args, **kwargs):
+            super(CoconutKernel, self).__init__(*args, **kwargs)
+            if self.log is None:
+                self.log = logging.getLogger(__name__)
+
         @override
         def do_complete(self, code, cursor_pos):
             # first try with Jedi completions
             self.use_experimental_completions = True
             try:
                 return super(CoconutKernel, self).do_complete(code, cursor_pos)
             except Exception:
```

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/main.py` & `coconut-develop-3.0.1.post0.dev1/coconut/main.py`

 * *Files identical despite different names*

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/requirements.py` & `coconut-develop-3.0.1.post0.dev1/coconut/requirements.py`

 * *Files 3% similar despite different names*

```diff
@@ -19,17 +19,17 @@
 
 import sys
 import time
 import traceback
 
 from coconut.integrations import embed
 from coconut.constants import (
-    PYPY,
     CPYTHON,
     PY34,
+    PY39,
     IPY,
     MYPY,
     XONSH,
     WINDOWS,
     PURE_PYTHON,
     all_reqs,
     min_versions,
@@ -182,15 +182,14 @@
 # -----------------------------------------------------------------------------------------------------------------------
 
 requirements = get_reqs("main")
 
 extras = {
     "kernel": get_reqs("kernel"),
     "watch": get_reqs("watch"),
-    "jobs": get_reqs("jobs"),
     "mypy": get_reqs("mypy"),
     "backports": get_reqs("backports"),
     "xonsh": get_reqs("xonsh"),
 }
 
 extras["jupyter"] = uniqueify_all(
     extras["kernel"],
@@ -201,15 +200,14 @@
 
 extras.update({
     "ipython": extras["jupyter"],
     "docs": unique_wrt(get_reqs("docs"), requirements),
     "tests": uniqueify_all(
         get_reqs("tests"),
         extras["backports"],
-        extras["jobs"] if not PYPY else [],
         extras["jupyter"] if IPY else [],
         extras["mypy"] if MYPY else [],
         extras["xonsh"] if XONSH else [],
     ),
 })
 
 extras["dev"] = uniqueify_all(
@@ -236,24 +234,30 @@
 
 if using_modern_setuptools:
     # modern method
     extras[":python_version<'2.7'"] = get_reqs("py26")
     extras[":python_version>='2.7'"] = get_reqs("non-py26")
     extras[":python_version<'3'"] = get_reqs("py2")
     extras[":python_version>='3'"] = get_reqs("py3")
+    extras[":python_version<'3.9'"] = get_reqs("py<39")
+    extras[":python_version>='3.9'"] = get_reqs("py39")
 else:
     # old method
     if PY26:
         requirements += get_reqs("py26")
     else:
         requirements += get_reqs("non-py26")
     if PY2:
         requirements += get_reqs("py2")
     else:
         requirements += get_reqs("py3")
+    if PY39:
+        requirements += get_reqs("py39")
+    else:
+        requirements += get_reqs("py<39")
 
 # -----------------------------------------------------------------------------------------------------------------------
 # MAIN:
 # -----------------------------------------------------------------------------------------------------------------------
 
 
 def all_versions(req):
```

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/root.py` & `coconut-develop-3.0.1.post0.dev1/coconut/root.py`

 * *Files 12% similar despite different names*

```diff
@@ -19,19 +19,22 @@
 
 import sys as _coconut_sys
 
 # -----------------------------------------------------------------------------------------------------------------------
 # VERSION:
 # -----------------------------------------------------------------------------------------------------------------------
 
-VERSION = "3.0.0"
+VERSION = "3.0.1"
 VERSION_NAME = None
 # False for release, int >= 1 for develop
-DEVELOP = 9
-ALPHA = True  # for pre releases rather than post releases
+DEVELOP = 1
+ALPHA = False  # for pre releases rather than post releases
+
+assert DEVELOP is False or DEVELOP >= 1, "DEVELOP must be False or an int >= 1"
+assert DEVELOP or not ALPHA, "alpha releases are only for develop"
 
 # -----------------------------------------------------------------------------------------------------------------------
 # UTILITIES:
 # -----------------------------------------------------------------------------------------------------------------------
 
 
 def _indent(code, by=1, tabsize=4, strip=False, newline=False, initial_newline=False):
@@ -39,71 +42,31 @@
     return ("\n" if initial_newline else "") + "".join(
         (" " * (tabsize * by) if line.strip() else "") + line
         for line in (code.strip() if strip else code).splitlines(True)
     ) + ("\n" if newline else "")
 
 
 # -----------------------------------------------------------------------------------------------------------------------
-# CONSTANTS:
+# HEADER:
 # -----------------------------------------------------------------------------------------------------------------------
 
-assert isinstance(DEVELOP, int) or DEVELOP is False, "DEVELOP must be an int or False"
-assert DEVELOP or not ALPHA, "alpha releases are only for develop"
-
-if DEVELOP:
-    VERSION += "-" + ("a" if ALPHA else "post") + "_dev" + str(int(DEVELOP))
-VERSION_STR = VERSION + (" [" + VERSION_NAME + "]" if VERSION_NAME else "")
-
-PY2 = _coconut_sys.version_info < (3,)
-PY26 = _coconut_sys.version_info < (2, 7)
-PY37 = _coconut_sys.version_info >= (3, 7)
-
-_non_py37_extras = r'''def _coconut_default_breakpointhook(*args, **kwargs):
-    hookname = _coconut.os.getenv("PYTHONBREAKPOINT")
-    if hookname != "0":
-        if not hookname:
-            hookname = "pdb.set_trace"
-        modname, dot, funcname = hookname.rpartition(".")
-        if not dot:
-            modname = "builtins" if _coconut_sys.version_info >= (3,) else "__builtin__"
-        if _coconut_sys.version_info >= (2, 7):
-            import importlib
-            module = importlib.import_module(modname)
-        else:
-            import imp
-            module = imp.load_module(modname, *imp.find_module(modname))
-        hook = _coconut.getattr(module, funcname)
-        return hook(*args, **kwargs)
-if not hasattr(_coconut_sys, "__breakpointhook__"):
-    _coconut_sys.__breakpointhook__ = _coconut_default_breakpointhook
-def breakpoint(*args, **kwargs):
-    return _coconut.getattr(_coconut_sys, "breakpointhook", _coconut_default_breakpointhook)(*args, **kwargs)
-'''
-
 # if a new assignment is added below, a new builtins import should be added alongside it
-_base_py3_header = r'''from builtins import chr, hex, input, int, map, object, oct, open, print, range, str, super, zip, filter, reversed, enumerate, repr
-py_chr, py_hex, py_input, py_int, py_map, py_object, py_oct, py_open, py_print, py_range, py_str, py_super, py_zip, py_filter, py_reversed, py_enumerate, py_repr = chr, hex, input, int, map, object, oct, open, print, range, str, super, zip, filter, reversed, enumerate, repr
-_coconut_py_str, _coconut_py_super = str, super
+_base_py3_header = r'''from builtins import chr, dict, hex, input, int, map, object, oct, open, print, range, str, super, zip, filter, reversed, enumerate, repr
+py_chr, py_dict, py_hex, py_input, py_int, py_map, py_object, py_oct, py_open, py_print, py_range, py_str, py_super, py_zip, py_filter, py_reversed, py_enumerate, py_repr = chr, dict, hex, input, int, map, object, oct, open, print, range, str, super, zip, filter, reversed, enumerate, repr
+_coconut_py_str, _coconut_py_super, _coconut_py_dict = str, super, dict
 from functools import wraps as _coconut_wraps
 exec("_coconut_exec = exec")
 '''
 
-PY37_HEADER = _base_py3_header + r'''py_breakpoint = breakpoint
-'''
-
-PY3_HEADER = _base_py3_header + r'''if _coconut_sys.version_info < (3, 7):
-''' + _indent(_non_py37_extras) + r'''else:
-    py_breakpoint = breakpoint
-'''
-
 # if a new assignment is added below, a new builtins import should be added alongside it
-PY27_HEADER = r'''from __builtin__ import chr, hex, input, int, map, object, oct, open, print, range, str, super, zip, filter, reversed, enumerate, raw_input, xrange, repr, long
-py_chr, py_hex, py_input, py_int, py_map, py_object, py_oct, py_open, py_print, py_range, py_str, py_super, py_zip, py_filter, py_reversed, py_enumerate, py_raw_input, py_xrange, py_repr = chr, hex, input, int, map, object, oct, open, print, range, str, super, zip, filter, reversed, enumerate, raw_input, xrange, repr
-_coconut_py_raw_input, _coconut_py_xrange, _coconut_py_int, _coconut_py_long, _coconut_py_print, _coconut_py_str, _coconut_py_super, _coconut_py_unicode, _coconut_py_repr = raw_input, xrange, int, long, print, str, super, unicode, repr
+_base_py2_header = r'''from __builtin__ import chr, dict, hex, input, int, map, object, oct, open, print, range, str, super, zip, filter, reversed, enumerate, raw_input, xrange, repr, long
+py_chr, py_dict, py_hex, py_input, py_int, py_map, py_object, py_oct, py_open, py_print, py_range, py_str, py_super, py_zip, py_filter, py_reversed, py_enumerate, py_raw_input, py_xrange, py_repr = chr, dict, hex, input, int, map, object, oct, open, print, range, str, super, zip, filter, reversed, enumerate, raw_input, xrange, repr
+_coconut_py_raw_input, _coconut_py_xrange, _coconut_py_int, _coconut_py_long, _coconut_py_print, _coconut_py_str, _coconut_py_super, _coconut_py_unicode, _coconut_py_repr, _coconut_py_dict = raw_input, xrange, int, long, print, str, super, unicode, repr, dict
 from functools import wraps as _coconut_wraps
+from collections import Sequence as _coconut_Sequence
 from future_builtins import *
 chr, str = unichr, unicode
 from io import open
 class object(object):
     __slots__ = ()
     def __ne__(self, other):
         eq = self == other
@@ -185,15 +148,14 @@
         return self.__reduce_ex__(_coconut.pickle.DEFAULT_PROTOCOL)
     def __hash__(self):
         return _coconut.hash(self._args)
     def __copy__(self):
         return self.__class__(*self._args)
     def __eq__(self, other):
         return self.__class__ is other.__class__ and self._args == other._args
-from collections import Sequence as _coconut_Sequence
 _coconut_Sequence.register(range)
 @_coconut_wraps(_coconut_py_print)
 def print(*args, **kwargs):
     file = kwargs.get("file", _coconut_sys.stdout)
     if "flush" in kwargs:
         flush = kwargs["flush"]
         del kwargs["flush"]
@@ -232,29 +194,152 @@
 def _coconut_exec(obj, globals=None, locals=None):
     """Execute the given source in the context of globals and locals."""
     if locals is None:
         locals = _coconut_sys._getframe(1).f_locals if globals is None else globals
     if globals is None:
         globals = _coconut_sys._getframe(1).f_globals
     exec(obj, globals, locals)
-''' + _non_py37_extras
+'''
+
+_non_py37_extras = r'''def _coconut_default_breakpointhook(*args, **kwargs):
+    hookname = _coconut.os.getenv("PYTHONBREAKPOINT")
+    if hookname != "0":
+        if not hookname:
+            hookname = "pdb.set_trace"
+        modname, dot, funcname = hookname.rpartition(".")
+        if not dot:
+            modname = "builtins" if _coconut_sys.version_info >= (3,) else "__builtin__"
+        if _coconut_sys.version_info >= (2, 7):
+            import importlib
+            module = importlib.import_module(modname)
+        else:
+            import imp
+            module = imp.load_module(modname, *imp.find_module(modname))
+        hook = _coconut.getattr(module, funcname)
+        return hook(*args, **kwargs)
+if not hasattr(_coconut_sys, "__breakpointhook__"):
+    _coconut_sys.__breakpointhook__ = _coconut_default_breakpointhook
+def breakpoint(*args, **kwargs):
+    return _coconut.getattr(_coconut_sys, "breakpointhook", _coconut_default_breakpointhook)(*args, **kwargs)
+'''
+
+_finish_dict_def = '''
+    def __or__(self, other):
+        out = self.copy()
+        out.update(other)
+        return out
+    def __ror__(self, other):
+        out = self.__class__(other)
+        out.update(self)
+        return out
+    def __ior__(self, other):
+        self.update(other)
+        return self
+class _coconut_dict_meta(type):
+    def __instancecheck__(cls, inst):
+        return _coconut.isinstance(inst, _coconut_py_dict)
+    def __subclasscheck__(cls, subcls):
+        return _coconut.issubclass(subcls, _coconut_py_dict)
+dict = _coconut_dict_meta(py_str("dict"), _coconut_dict_base.__bases__, _coconut_dict_base.__dict__.copy())
+'''
+
+_below_py37_extras = '''from collections import OrderedDict as _coconut_OrderedDict
+class _coconut_dict_base(_coconut_OrderedDict):
+    __slots__ = ()
+    __doc__ = getattr(_coconut_OrderedDict, "__doc__", "<see help(py_dict)>")
+    __eq__ = _coconut_py_dict.__eq__
+    def __repr__(self):
+        return "{" + ", ".join("{k!r}: {v!r}".format(k=k, v=v) for k, v in self.items()) + "}"''' + _finish_dict_def
+
+_py37_py38_extras = '''class _coconut_dict_base(_coconut_py_dict):
+    __slots__ = ()
+    __doc__ = getattr(_coconut_py_dict, "__doc__", "<see help(py_dict)>")''' + _finish_dict_def
 
-PY2_HEADER = PY27_HEADER + '''if _coconut_sys.version_info < (2, 7):
+_py26_extras = '''if _coconut_sys.version_info < (2, 7):
     import functools as _coconut_functools, copy_reg as _coconut_copy_reg
     def _coconut_new_partial(func, args, keywords):
         return _coconut_functools.partial(func, *(args if args is not None else ()), **(keywords if keywords is not None else {}))
     _coconut_copy_reg.constructor(_coconut_new_partial)
     def _coconut_reduce_partial(self):
         return (_coconut_new_partial, (self.func, self.args, self.keywords))
     _coconut_copy_reg.pickle(_coconut_functools.partial, _coconut_reduce_partial)
 '''
 
-PYCHECK_HEADER = r'''if _coconut_sys.version_info < (3,):
-''' + _indent(PY2_HEADER) + '''else:
-''' + _indent(PY3_HEADER)
+
+# whenever new versions are added here, header.py must be updated to use them
+ROOT_HEADER_VERSIONS = (
+    "universal",
+    "2",
+    "3",
+    "27",
+    "37",
+    "39",
+)
+
+
+def _get_root_header(version="universal"):
+    assert version in ROOT_HEADER_VERSIONS, version
+
+    if version == "universal":
+        return r'''if _coconut_sys.version_info < (3,):
+''' + _indent(_get_root_header("2")) + '''else:
+''' + _indent(_get_root_header("3"))
+
+    header = ""
+
+    if version.startswith("3"):
+        header += _base_py3_header
+    else:
+        assert version.startswith("2"), version
+        # if a new assignment is added below, a new builtins import should be added alongside it
+        header += _base_py2_header
+
+    if version in ("37", "39"):
+        header += r'''py_breakpoint = breakpoint
+'''
+    elif version == "3":
+        header += r'''if _coconut_sys.version_info < (3, 7):
+''' + _indent(_non_py37_extras) + r'''else:
+    py_breakpoint = breakpoint
+'''
+    else:
+        assert version.startswith("2"), version
+        header += _non_py37_extras
+        if version == "2":
+            header += _py26_extras
+
+    if version == "3":
+        header += r'''if _coconut_sys.version_info < (3, 7):
+''' + _indent(_below_py37_extras) + r'''elif _coconut_sys.version_info < (3, 9):
+''' + _indent(_py37_py38_extras)
+    elif version == "37":
+        header += r'''if _coconut_sys.version_info < (3, 9):
+''' + _indent(_py37_py38_extras)
+    elif version.startswith("2"):
+        header += _below_py37_extras + '''dict.keys = _coconut_OrderedDict.viewkeys
+dict.values = _coconut_OrderedDict.viewvalues
+dict.items = _coconut_OrderedDict.viewitems
+'''
+    else:
+        assert version == "39", version
+
+    return header
+
+
+# -----------------------------------------------------------------------------------------------------------------------
+# CONSTANTS:
+# -----------------------------------------------------------------------------------------------------------------------
+
+if DEVELOP:
+    VERSION += "-" + ("a" if ALPHA else "post") + "_dev" + str(int(DEVELOP))
+VERSION_STR = VERSION + (" [" + VERSION_NAME + "]" if VERSION_NAME else "")
+
+PY2 = _coconut_sys.version_info < (3,)
+PY26 = _coconut_sys.version_info < (2, 7)
+PY37 = _coconut_sys.version_info >= (3, 7)
 
 # -----------------------------------------------------------------------------------------------------------------------
 # SETUP:
 # -----------------------------------------------------------------------------------------------------------------------
 
 if PY2:
     import __builtin__ as _coconut  # NOQA
@@ -263,15 +348,8 @@
 
 import pickle
 _coconut.pickle = pickle
 
 import os
 _coconut.os = os
 
-if PY26:
-    exec(PY2_HEADER)
-elif PY2:
-    exec(PY27_HEADER)
-elif PY37:
-    exec(PY37_HEADER)
-else:
-    exec(PY3_HEADER)
+exec(_get_root_header())
```

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/terminal.py` & `coconut-develop-3.0.1.post0.dev1/coconut/terminal.py`

 * *Files 3% similar despite different names*

```diff
@@ -20,14 +20,16 @@
 from coconut.root import *  # NOQA
 
 import sys
 import os
 import traceback
 import logging
 from contextlib import contextmanager
+from collections import defaultdict
+from functools import wraps
 if sys.version_info < (2, 7):
     from StringIO import StringIO
 else:
     from io import StringIO
 
 from coconut._pyparsing import (
     MODERN_PYPARSING,
@@ -193,15 +195,15 @@
     @classmethod
     def enable_colors(cls):
         """Attempt to enable CLI colors."""
         if not cls.colors_enabled:
             # necessary to resolve https://bugs.python.org/issue40134
             try:
                 os.system("")
-            except Exception:
+            except BaseException:
                 logger.log_exc()
             cls.colors_enabled = True
 
     def copy_from(self, other):
         """Copy other onto self."""
         self.verbose, self.quiet, self.path, self.name, self.tracing, self.trace_ind = other.verbose, other.quiet, other.path, other.name, other.tracing, other.trace_ind
 
@@ -209,15 +211,26 @@
         """Completely reset the logger."""
         self.copy_from(Logger())
 
     def copy(self):
         """Make a copy of the logger."""
         return Logger(self)
 
-    def display(self, messages, sig="", end="\n", file=None, level="normal", color=None, **kwargs):
+    def display(
+        self,
+        messages,
+        sig="",
+        end="\n",
+        file=None,
+        level="normal",
+        color=None,
+        # flush by default to ensure our messages show up when printing from a child process
+        flush=True,
+        **kwargs
+    ):
         """Prints an iterator of messages."""
         if level == "normal":
             file = file or sys.stdout
         elif level == "logging":
             file = file or sys.stderr
             color = color or log_color_code
         elif level == "error":
@@ -245,16 +258,17 @@
                 line = sig + line
             components.append(line)
         if color:
             components.append(ansii_reset)
         components.append(end)
         full_message = "".join(components)
 
-        # we use end="" to ensure atomic printing (and so we add the end in earlier)
-        print(full_message, file=file, end="", **kwargs)
+        if full_message:
+            # we use end="" to ensure atomic printing (and so we add the end in earlier)
+            print(full_message, file=file, end="", flush=flush, **kwargs)
 
     def print(self, *messages, **kwargs):
         """Print messages to stdout."""
         self.display(messages, **kwargs)
 
     def printerr(self, *messages, **kwargs):
         """Print errors to stderr."""
@@ -487,28 +501,55 @@
                 self.printlog("Time while parsing:", elapsed_time, "secs")
                 if use_packrat_parser:
                     hits, misses = ParserElement.packrat_cache_stats
                     self.printlog("\tPackrat parsing stats:", hits, "hits;", misses, "misses")
         else:
             yield
 
+    total_block_time = defaultdict(int)
+
+    @contextmanager
+    def time_block(self, name):
+        start_time = get_clock_time()
+        try:
+            yield
+        finally:
+            elapsed_time = get_clock_time() - start_time
+            self.total_block_time[name] += elapsed_time
+            self.printlog("Time while running", name + ":", elapsed_time, "secs (total so far:", self.total_block_time[name], "secs)")
+
     def time_func(self, func):
         """Decorator to print timing info for a function."""
+        @wraps(func)
         def timed_func(*args, **kwargs):
             """Function timed by logger.time_func."""
             if not DEVELOP or self.quiet:
                 return func(*args, **kwargs)
-            start_time = get_clock_time()
-            try:
+            with self.time_block(func.__name__):
                 return func(*args, **kwargs)
-            finally:
-                elapsed_time = get_clock_time() - start_time
-                self.printlog("Time while running", func.__name__ + ":", elapsed_time, "secs")
         return timed_func
 
+    def debug_func(self, func):
+        """Decorates a function to print the input/output behavior."""
+        @wraps(func)
+        def printing_func(*args, **kwargs):
+            """Function decorated by logger.debug_func."""
+            if not DEVELOP or self.quiet:
+                return func(*args, **kwargs)
+            if not kwargs:
+                self.printerr(func, "<*|", args)
+            elif not args:
+                self.printerr(func, "<**|", kwargs)
+            else:
+                self.printerr(func, "<<|", args, kwargs)
+            out = func(*args, **kwargs)
+            self.printerr(func, "=>", repr(out))
+            return out
+        return printing_func
+
     def patch_logging(self):
         """Patches built-in Python logging if necessary."""
         if not hasattr(logging, "getLogger"):
             def getLogger(name=None):
                 other = Logger(self)
                 if name is not None:
                     other.name = name
```

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/tests/__init__.py` & `coconut-develop-3.0.1.post0.dev1/coconut/tests/__init__.py`

 * *Files identical despite different names*

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/tests/__main__.py` & `coconut-develop-3.0.1.post0.dev1/coconut/tests/__main__.py`

 * *Files identical despite different names*

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/tests/constants_test.py` & `coconut-develop-3.0.1.post0.dev1/coconut/tests/constants_test.py`

 * *Files identical despite different names*

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/tests/main_test.py` & `coconut-develop-3.0.1.post0.dev1/coconut/tests/main_test.py`

 * *Files 4% similar despite different names*

```diff
@@ -45,32 +45,47 @@
 from coconut.constants import (
     WINDOWS,
     PYPY,
     IPY,
     MYPY,
     PY35,
     PY36,
-    PY39,
+    PY38,
+    PY310,
     icoconut_default_kernel_names,
     icoconut_custom_kernel_name,
     mypy_err_infixes,
     get_bool_env_var,
 )
 
 from coconut.convenience import (
     auto_compilation,
     setup,
 )
+
+
+# -----------------------------------------------------------------------------------------------------------------------
+# SETUP:
+# -----------------------------------------------------------------------------------------------------------------------
+
+
 auto_compilation(False)
 
+logger.verbose = property(lambda self: True, lambda self, value: print("WARNING: ignoring attempt to set logger.verbose = {value}".format(value=value)))
+
+os.environ["PYDEVD_DISABLE_FILE_VALIDATION"] = "1"
+
+
 # -----------------------------------------------------------------------------------------------------------------------
 # CONSTANTS:
 # -----------------------------------------------------------------------------------------------------------------------
 
-logger.verbose = property(lambda self: True, lambda self, value: print("WARNING: ignoring attempt to set logger.verbose = {value}".format(value=value)))
+
+default_recursion_limit = "4096"
+default_stack_size = "4096"
 
 base = os.path.dirname(os.path.relpath(__file__))
 src = os.path.join(base, "src")
 dest = os.path.join(base, "dest")
 additional_dest = os.path.join(base, "dest", "additional_dest")
 
 runnable_coco = os.path.join(src, "runnable.coco")
@@ -81,15 +96,16 @@
 bbopt = os.path.join(os.curdir, "bbopt")
 
 pyston_git = "https://github.com/evhub/pyston.git"
 pyprover_git = "https://github.com/evhub/pyprover.git"
 prelude_git = "https://github.com/evhub/coconut-prelude"
 bbopt_git = "https://github.com/evhub/bbopt.git"
 
-coconut_snip = r"msg = '<success>'; pmsg = print$(msg); `pmsg`"
+coconut_snip = "msg = '<success>'; pmsg = print$(msg); `pmsg`"
+target_3_snip = "assert super is py_super; print('<success>')"
 
 always_err_strs = (
     "CoconutInternalException",
     "<unprintable",
     "*** glibc detected ***",
     "INTERNAL ERROR",
 )
@@ -234,15 +250,23 @@
     i = 0
     while True:
         if i >= len(raw_lines):
             break
         line = raw_lines[i]
 
         # ignore https://bugs.python.org/issue39098 errors
-        if sys.version_info < (3, 9) and line == "Error in atexit._run_exitfuncs:":
+        if sys.version_info < (3, 9) and (
+            line == "Error in atexit._run_exitfuncs:"
+            or (
+                line == "Traceback (most recent call last):"
+                and i + 1 < len(raw_lines)
+                and "concurrent/futures/process.py" in raw_lines[i + 1]
+                and "_python_exit" in raw_lines[i + 1]
+            )
+        ):
             while True:
                 i += 1
                 if i >= len(raw_lines):
                     break
 
                 new_line = raw_lines[i]
                 if not new_line.startswith(" ") and not any(test in new_line for test in ignore_atexit_errors_with):
@@ -299,16 +323,18 @@
 def call_python(args, **kwargs):
     """Calls the current Python."""
     call([sys.executable] + args, **kwargs)
 
 
 def call_coconut(args, **kwargs):
     """Calls Coconut."""
-    if "--jobs" not in args and not PYPY and not PY26:
-        args = ["--jobs", "sys"] + args
+    if default_recursion_limit is not None and "--recursion-limit" not in args:
+        args = ["--recursion-limit", default_recursion_limit] + args
+    if default_stack_size is not None and "--stack-size" not in args:
+        args = ["--stack-size", default_stack_size] + args
     if "--mypy" in args and "check_mypy" not in kwargs:
         kwargs["check_mypy"] = True
     if PY26:
         call(["coconut"] + args, **kwargs)
     else:
         call_python(["-m", "coconut"] + args, **kwargs)
 
@@ -641,14 +667,18 @@
 
 @add_test_func_names
 class TestShell(unittest.TestCase):
 
     def test_code(self):
         call(["coconut", "-s", "-c", coconut_snip], assert_output=True)
 
+    if not PY2:
+        def test_target_3_snip(self):
+            call(["coconut", "-t3", "-c", target_3_snip], assert_output=True)
+
     def test_pipe(self):
         call('echo ' + escape(coconut_snip) + "| coconut -s", shell=True, assert_output=True)
 
     def test_convenience(self):
         call_python(["-c", 'from coconut.convenience import parse; exec(parse("' + coconut_snip + '"))'], assert_output=True)
 
     def test_import_hook(self):
@@ -684,14 +714,16 @@
         def test_xontrib(self):
             p = spawn_cmd("xonsh")
             p.expect("$")
             p.sendline("xontrib load coconut")
             p.expect("$")
             p.sendline("!(ls -la) |> bool")
             p.expect("True")
+            p.sendline("xontrib unload coconut")
+            p.expect("$")
             p.sendeof()
             if p.isalive():
                 p.terminate()
 
     if IPY and (not WINDOWS or PY35):
         def test_ipython_extension(self):
             call(
@@ -812,40 +844,41 @@
     def test_simple_minify(self):
         run_runnable(["-n", "--minify"])
 
 
 @add_test_func_names
 class TestExternal(unittest.TestCase):
 
-    # more appveyor timeout prevention
-    if not (WINDOWS and PY2):
-        def test_pyprover(self):
-            with using_path(pyprover):
-                comp_pyprover()
-                run_pyprover()
-
     if not PYPY or PY2:
         def test_prelude(self):
             with using_path(prelude):
                 comp_prelude()
-                if MYPY:
+                if MYPY and PY38:
                     run_prelude()
 
-    def test_pyston(self):
-        with using_path(pyston):
-            comp_pyston(["--no-tco"])
-            if PYPY and PY2:
-                run_pyston()
-
     def test_bbopt(self):
         with using_path(bbopt):
             comp_bbopt()
-            if not PYPY and (PY2 or PY36) and not PY39:
+            if not PYPY and PY38 and not PY310:
                 install_bbopt()
 
+    # more appveyor timeout prevention
+    if not WINDOWS:
+        def test_pyprover(self):
+            with using_path(pyprover):
+                comp_pyprover()
+                if PY38:
+                    run_pyprover()
+
+        def test_pyston(self):
+            with using_path(pyston):
+                comp_pyston(["--no-tco"])
+                if PYPY and PY2:
+                    run_pyston()
+
 
 # -----------------------------------------------------------------------------------------------------------------------
 # MAIN:
 # -----------------------------------------------------------------------------------------------------------------------
 
 if __name__ == "__main__":
     unittest.main()
```

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/tests/src/cocotest/agnostic/main.coco` & `coconut-develop-3.0.1.post0.dev1/coconut/tests/src/cocotest/agnostic/main.coco`

 * *Files 2% similar despite different names*

```diff
@@ -52,24 +52,27 @@
     assert primary_test() is True
 
     print_dot()  # ...
     from .specific import (
         non_py26_test,
         non_py32_test,
         py3_spec_test,
+        py33_spec_test,
         py36_spec_test,
         py37_spec_test,
         py38_spec_test,
     )
     if sys.version_info >= (2, 7):
         assert non_py26_test() is True
     if not (3,) <= sys.version_info < (3, 3):
         assert non_py32_test() is True
     if sys.version_info >= (3,):
         assert py3_spec_test() is True
+    if sys.version_info >= (3, 3):
+        assert py33_spec_test() is True
     if sys.version_info >= (3, 6):
         assert py36_spec_test(tco=using_tco) is True
     if sys.version_info >= (3, 7):
         assert py37_spec_test() is True
     if sys.version_info >= (3, 8):
         assert py38_spec_test() is True
```

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/tests/src/cocotest/agnostic/primary.coco` & `coconut-develop-3.0.1.post0.dev1/coconut/tests/src/cocotest/agnostic/primary.coco`

 * *Files 2% similar despite different names*

```diff
@@ -93,15 +93,14 @@
         return x + y
     assert multiline_backslash_test(1, 2) == 3
     \\ assert True
     class one_line_class: pass
     assert isinstance(one_line_class(), one_line_class)
     assert (.join)("")(["1", "2", "3"]) == "123"
     assert "" |> .join <| ["1","2","3"] == "123"
-    assert "". <| "join" <| ["1","2","3"] == "123"
     assert 1 |> [1,2,3][] == 2 == 1 |> [1,2,3]$[]
     assert 1 |> "123"[] == "2" == 1 |> "123"$[]
     assert (| -1, 0, |) :: range(1, 5) |> list == [-1, 0, 1, 2, 3, 4]
     assert (| 1 |) :: (| 2 |) |> list == [1, 2]
     assert not isinstance(map((+)$(2), [1,2,3]), list)
     assert not isinstance(range(10), list)
     longint: int = 10**100
@@ -444,15 +443,14 @@
     price = 100
     assert 0 == (requested_quantity ?? default_quantity) * price
     assert range(10) |> .[1] .. .[1:] == 2 == range(10) |> .[1:] |> .[1]
     assert None?.herp(derp) is None  # type: ignore
     assert None?[herp].derp is None  # type: ignore
     assert None?(derp)[herp] is None  # type: ignore
     assert None?$(herp)(derp) is None  # type: ignore
-    assert "a b c" == (" ". ?? "not gonna happen")("join")("abc")
     a: int[]? = None  # type: ignore
     assert a is None
     assert range(5) |> iter |> reiterable |> .[1] == 1
     assert range(5) |> reiterable |> fmap$(-> _ + 1) |> list == [1, 2, 3, 4, 5]
 
     a: Iterable[int] = [1] :: [2] :: [3]  # type: ignore
     a = a |> reiterable
@@ -1546,8 +1544,61 @@
     assert_raises(-> five (two + three), TypeError)
     assert_raises(-> 5 (10), TypeError)
     assert_raises(-> 5 [0], TypeError)
     assert five ** 2 two == 50
     assert 2i x == 20i
     some_str = "some"
     assert_raises(-> some_str five, TypeError)
+    assert (not in)("a", "bcd")
+    assert not (not in)("a", "abc")
+    assert ("a" not in .)("bcd")
+    assert (. not in "abc")("d")
+    assert (is not)(1, True)
+    assert not (is not)(False, False)
+    assert (True is not .)(1)
+    assert (. is not True)(1)
+    a_dict = {}
+    a_dict[1] = 1
+    a_dict[3] = 2
+    a_dict[2] = 3
+    assert a_dict |> str == "{1: 1, 3: 2, 2: 3}" == a_dict |> repr, a_dict
+    assert a_dict.keys() |> tuple == (1, 3, 2)
+    assert not a_dict.keys() `isinstance` list
+    assert not a_dict.values() `isinstance` list
+    assert not a_dict.items() `isinstance` list
+    assert len(a_dict.keys()) == len(a_dict.values()) == len(a_dict.items()) == 3
+    assert {1: 1, 3: 2, 2: 3}.keys() |> tuple == (1, 3, 2)
+    assert {**{1: 0, 3: 0}, 2: 0}.keys() |> tuple == (1, 3, 2) == {**dict([(1, 1), (3, 2), (2, 3)])}.keys() |> tuple
+    assert a_dict == {1: 1, 2: 3, 3: 2}
+    assert {1: 1} |> str == "{1: 1}" == {1: 1} |> repr
+    assert py_dict `issubclass` dict
+    assert py_dict() `isinstance` dict
+    assert {5:0, 3:0, **{2:0, 6:0}, 8:0}.keys() |> tuple == (5, 3, 2, 6, 8)
+    a_multiset = m{1,1,2}
+    assert not a_multiset.keys() `isinstance` list
+    assert not a_multiset.values() `isinstance` list
+    assert not a_multiset.items() `isinstance` list
+    assert len(a_multiset.keys()) == len(a_multiset.values()) == len(a_multiset.items()) == 2
+    assert (in)(1, [1, 2])
+    assert not (1 not in .)([1, 2])
+    assert not (in)([[]], [])
+    assert ("{a}" . .)("format")(a=1) == "1"
+    a_dict = {"a": 1, "b": 2}
+    a_dict |= {"a": 10, "c": 20}
+    assert a_dict == {"a": 10, "b": 2, "c": 20} == {"a": 1, "b": 2} | {"a": 10, "c": 20}
+    assert ["abc" ; "def"] == ['abc', 'def']
+    assert ["abc" ;; "def"] == [['abc'], ['def']]
+    assert {"a":0, "b":1}$[0] == "a"
+    assert (|0, NotImplemented, 2|)$[1] is NotImplemented
+    assert m{1, 1, 2} |> fmap$(.+1) == m{2, 2, 3}
+    assert (+) ..> ((*) ..> (/)) == (+) ..> (*) ..> (/) == ((+) ..> (*)) ..> (/)
+    def f(x, y=1) = x, y  # type: ignore
+    f.is_f = True  # type: ignore
+    assert (f ..*> (+)).is_f  # type: ignore
+    really_long_var = 10
+    assert (...=really_long_var) == (10,)
+    assert (...=really_long_var, abc="abc") == (10, "abc")
+    assert (abc="abc", ...=really_long_var) == ("abc", 10)
+    assert (...=really_long_var).really_long_var == 10
+    n = [0]
+    assert n[0] == 0
     return True
```

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/tests/src/cocotest/agnostic/specific.coco` & `coconut-develop-3.0.1.post0.dev1/coconut/tests/src/cocotest/agnostic/specific.coco`

 * *Files 19% similar despite different names*

```diff
@@ -40,14 +40,27 @@
         def Inner.f(x) = x
     assert Outer.Inner.f(2) == 2
     assert Outer.Inner.f.__name__ == "f"
     assert Outer.Inner.f.__qualname__.endswith("Outer.Inner.f"), Outer.Inner.f.__qualname__
     return True
 
 
+def py33_spec_test() -> bool:
+    """Tests for any py33+ version."""
+    from inspect import signature
+    def f(x, y=1) = x, y
+    def g(a, b=2) = a, b
+    assert signature(f ..*> g) == signature(f) == signature(f ..> g)
+    assert signature(f <*.. g) == signature(g) == signature(f <.. g)
+    assert signature(f$(0) ..> g) == signature(f$(0))
+    assert signature(f ..*> (+)) == signature(f)
+    assert signature((f ..*> g) ..*> g) == signature(f)
+    return True
+
+
 def py36_spec_test(tco: bool) -> bool:
     """Tests for any py36+ version."""
     from dataclasses import dataclass
     from typing import Any, Literal
 
     outfile = StringIO()
```

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/tests/src/cocotest/agnostic/suite.coco` & `coconut-develop-3.0.1.post0.dev1/coconut/tests/src/cocotest/agnostic/suite.coco`

 * *Files 2% similar despite different names*

```diff
@@ -88,15 +88,15 @@
     assert preN(range(-5, 0))$[1:10] |> list == [-4,-3,-2,-1,0,1,2,3,4]
     assert map_iter((*)$(2), N())$[:5] |> list == [0,2,4,6,8]
     assert N()$[:100] |> tuple == N_()$[:100] |> tuple == N__()$[:100] |> tuple
     assert 12 |> next_mul_of $(5) == 15
     assert collatz(27)
     assert preop(1, 2).add() == 3
     assert vector(3, 4) |> abs == 5 == vector_with_id(3, 4, 1) |> abs
-    assert vector(1, 2) |> ((v) -> map(v., ("x", "y"))) |> tuple == (1, 2)  # type: ignore
+    assert vector(1, 2) |> ((v) -> map(getattr$(v), ("x", "y"))) |> tuple == (1, 2)  # type: ignore
     assert vector(3, 1) |> vector(1, 2).transform |> ((v) -> map(v[], (0, 1))) |> tuple == (4, 3)  # type: ignore
     assert vector(1, 2) |> vector(1, 2).__eq__
     assert not vector(1, 2) |> vector(3, 4).__eq__
     assert not (1, 2) |> vector(1, 2).__eq__
     assert vector(vector(4, 3)) == vector(4, 3)
     assert not vector(4, 3) != vector(4, 3)
     assert not vector(1, 2) == (1, 2)
@@ -206,15 +206,15 @@
     assert is_empty(())
     assert not is_empty([1])
     assert is_one(iter([1]))
     assert not is_one(iter(()))
     assert not is_one([])
     assert is_one([1])
     assert trilen(3, 4).h == 5 == datamaker(trilen)(5).h
-    assert A().true() is True
+    assert clsA().true() is True
     inh_a = inh_A()
     assert inh_a.true() is True
     assert inh_a.inh_true1() is True
     assert inh_a.inh_true2() is True
     assert inh_a.inh_true3() is True
     assert inh_a.inh_true4() is True
     assert inh_a.inh_true5() is True
@@ -433,15 +433,15 @@
     assert a?.b?.c?.m?() == "method"
     assert a.b.c.none?.derp.herp is None  # type: ignore
     assert tco_chain([1, 2, 3]) |> list == ["last"]
     assert partition([1, 2, 3], 2) |> map$(tuple) |> list == [(1,), (3, 2)] == partition_([1, 2, 3], 2) |> map$(tuple) |> list
     assert myreduce((+), (1, 2, 3)) == 6
     assert recurse_n_times(10000)
     assert fake_recurse_n_times(10000)
-    a = A()
+    a = clsA()
     assert ((not)..a.true)() is False
     assert 10 % 4 % 3 == 2 == 10 `mod` 4 `mod` 3
     assert square_times2_plus1(3) == 19 == square_times2_plus1_(3)
     assert plus1_cube(2) == 27
     assert square ..> times2 ..> plus1 |> repr == square ..> (times2 ..> plus1) |> repr
     assert range(1, 5) |> map$(range) |> starmap$(toprint) |> tuple == ('0', '0 1', '0 1 2', '0 1 2 3')
     assert range(1, 5) |> map$(range) |> starmap$(toprint) |> fmap$(.strip(" 0")) |> tuple == ("", "1", "1 2", "1 2 3")
@@ -702,15 +702,15 @@
         assert False
     it = (|1, (|2, 3|), 4, (|5, 6|)|)
     assert eval_iters(it) == [1, [2, 3], 4, [5, 6]] == eval_iters_(it)
     assert inf_rec(5) == 10 == inf_rec_(5)
     m = methtest2()
     assert m.inf_rec(5) == 10 == m.inf_rec_(5)
     assert reqs(lazy_client)$[:10] |> list == range(10) |> list == reqs(lazy_client_)$[:10] |> list
-    class T(A, B, *(C, D), metaclass=Meta, e=5)  # type: ignore
+    class T(clsA, clsB, *(clsC, clsD), metaclass=Meta, e=5)  # type: ignore
     assert T.a == 1
     assert T.b == 2
     assert T.c == 3
     assert T.d == 4
     assert T.e == 5
     d1 = {"a": 1}
     assert ret_args_kwargs(*[1], *[2], **d1, **{"b": 2}) == ((1, 2), {"a": 1, "b": 2})
@@ -739,16 +739,16 @@
         assert False
     (-> 3) -> _ `isinstance` int = "a"  # type: ignore
     assert empty_it() |> list == [] == empty_it_of_int(1) |> list
     assert just_it(1) |> list == [1]
     assert just_it_of_int(1) |> list == [1] == just_it_of_int_(1) |> list
     assert must_be_int(4) == 4 == must_be_int_(4)
     assert typed_plus(1, 2) == 3
-    (class inh_A() `isinstance` A) `isinstance` object = inh_A()
-    class inh_A() `isinstance` A `isinstance` object = inh_A()
+    (class inh_A() `isinstance` clsA) `isinstance` object = inh_A()
+    class inh_A() `isinstance` clsA `isinstance` object = inh_A()
     for maxdiff in (maxdiff1, maxdiff2, maxdiff3, maxdiff_):
         assert maxdiff([7,1,4,5]) == 4, "failed for " + repr(maxdiff)
     assert all(r == 4 for r in parallel_map(call$(?, [7,1,4,5]), [maxdiff1, maxdiff2, maxdiff3]))
     assert ret_ret_func(1) == ((), {"func": 1}) == ret_args_kwargs$(func=1)()  # type: ignore
     assert ret_args_kwargs$(?, func=2)(1) == ((1,), {"func": 2})
     assert lift(ret_args_kwargs)(ident, plus1, times2, sq=square)(3) == ((3, 4, 6), {"sq": 9})
     assert plus1 `call` 2 == 3
@@ -915,20 +915,20 @@
             HasThreeVals(
                 val1=[HasTwoVals("a", "c")],
                 val2=[],
                 val3=[],
             )
         ),
     ))
-    A(.a=1) = A()
-    match A(.a=2) in A():
+    clsA(.a=1) = clsA()
+    match clsA(.a=2) in clsA():
         assert False
-    assert_raises((def -> A(.b=1) = A()), AttributeError)
+    assert_raises((def -> clsA(.b=1) = clsA()), AttributeError)
     assert MySubExc("derp") `isinstance` Exception
-    assert A().not_super() is True
+    assert clsA().not_super() is True
     match class store.A(1) = store.A(1)
     match data store.A(1) = store.A(1)
     match store.A(1) = store.A(1)
     match store.A(1) in store.A(1):
         pass
     else:
         assert False
@@ -1011,14 +1011,49 @@
     assert reduce_n(4, (run, new) -> run + [new], "123456", []) |> map$("".join) |> list == ["1234", "2345", "3456"]
     assert cycle_slide("123", slide=1)$[:9] |> "".join == "123231312"
     assert "1234" |> windowsof_$(2) |> map$("".join) |> list == ["12", "23", "34"] == "1234" |> windowsof$(2) |> map$("".join) |> list
     assert try_divide(1, 2) |> fmap$(.+1) == Expected(1.5)
     assert sum_evens(0, 5) == 6 == sum_evens(1, 6)
     assert sum_evens(7, 3) == 0 == sum_evens(4, 4)
     assert num_it() |> list == [5]
+    assert left_right_diff([10,4,8,3]) |> list == [15, 1, 11, 22]
+    assert num_until_neg_sum([2,-1,0,1,-3,3,-3]) == 6
+    assert S((+), (.*10)) <| 2 == 22
+    assert K 1 <| 2 == 1
+    assert I 1 == 1
+    assert KI 1 <| 2 == 2
+    assert W(+) <| 3 == 6
+    assert C((/), 5) <| 20 == 4
+    assert B((.+1), (.*2)) <| 3 == 7
+    assert B1((.*2), (+), 3) <| 4 == 14
+    assert B2(((0,)+.), (,), 1, 2) <| 3 == (0, 1, 2, 3)
+    assert B3((.+1), (.*2), (.**2)) <| 3 == 19
+    assert D((+), 5, (.+1)) <| 2 == 8
+    assert Phi((,), (.+1), (.-1)) <| 5 == (6, 4)
+    assert Psi((,), (.+1), 3) <| 4 == (4, 5)
+    assert D1((,), 0, 1, (.+1)) <| 1 == (0, 1, 2)
+    assert D2((+), (.*2), 3, (.+1)) <| 4 == 11
+    assert E((+), 10, (*), 2) <| 3 == 16
+    assert Phi1((,), (+), (*), 2) <| 3 == (5, 6)
+    assert BE((,), (+), 10, 2, (*), 2) <| 3 == (12, 6)
+    assert (+) `on` (.*2) <*| (3, 5) == 16
+    assert test_super_B().method({'somekey': 'string', 'someotherkey': 42})
+    assert outer_func_normal() |> map$(call) |> list == [4] * 5
+    for outer_func in (outer_func_1, outer_func_2, outer_func_3, outer_func_4, outer_func_5):
+        assert outer_func() |> map$(call) |> list == range(5) |> list
+    assert get_glob() == 0
+    assert wrong_get_set_glob(10) == 0
+    assert get_glob() == 0
+    assert wrong_get_set_glob(20) == 10
+    assert take_xy(xy("a", "b")) == ("a", "b")
+    assert InitAndIter(range(3)) |> fmap$((.+1), fallback_to_init=True) == InitAndIter(range(1, 4))
+    assert_raises(-> InitAndIter(range(3)) |> fmap$(.+1), TypeError)
+    really_long_var = 10
+    assert ret_args_kwargs(...=really_long_var) == ((), {"really_long_var": 10}) == ret_args_kwargs$(...=really_long_var)()
+    assert ret_args_kwargs(123, ...=really_long_var, abc="abc") == ((123,), {"really_long_var": 10, "abc": "abc"}) == ret_args_kwargs$(123, ...=really_long_var, abc="abc")()
 
     # must come at end
     assert fibs_calls[0] == 1
     assert lols[0] == 5
     return True
 
 def tco_test() -> bool:
```

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/tests/src/cocotest/agnostic/tutorial.coco` & `coconut-develop-3.0.1.post0.dev1/coconut/tests/src/cocotest/agnostic/tutorial.coco`

 * *Files identical despite different names*

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/tests/src/cocotest/agnostic/util.coco` & `coconut-develop-3.0.1.post0.dev1/coconut/tests/src/cocotest/agnostic/util.coco`

 * *Files 3% similar despite different names*

```diff
@@ -221,15 +221,15 @@
 def CONST = 10
 
 operator 
 operator 
 () = () = (,) ..> map$(str) ..> "".join
 
 operator !
-match def (int(x))! = 0 if x else 1
+addpattern def (int(x))! = 0 if x else 1  # type: ignore
 addpattern def (float(x))! = 0.0 if x else 1.0  # type: ignore
 addpattern def x! if x = False  # type: ignore
 addpattern def x! = True  # type: ignore
 
 # Type aliases:
 if sys.version_info >= (3, 5) or TYPE_CHECKING:
     import typing
@@ -526,14 +526,21 @@
 
 def summer():
     if not summer.args:
         return summer.acc
     summer.acc += summer.args.pop()
     return summer()
 
+class InitAndIter:
+    def __init__(self, it):
+        self.it = tuple(it)
+    def __iter__(self) = iter(self.it)
+    def __eq__(self, other) =
+        self.__class__ == other.__class__ and self.it == other.it
+
 
 # Data Blocks:
 try:
     datamaker()  # type: ignore
 except NameError, TypeError:
     def datamaker(data_type):  # type: ignore
         """Get the original constructor of the given data type or class."""
@@ -613,15 +620,15 @@
         return None
     raise TypeError()
 
 match def fact(n) = fact(n, 1)  # type: ignore
 match addpattern def fact(0, acc) = acc  # type: ignore
 addpattern match def fact(n, acc) = fact(n-1, acc*n)  # type: ignore
 
-def factorial(0, acc=1) = acc
+addpattern def factorial(0, acc=1) = acc  # type: ignore
 addpattern def factorial(int() as n, acc=1 if n > 0) =  # type: ignore
     """this is a docstring"""
     factorial(n-1, acc*n)
 
 # Match Functions:
 def classify(value):
     match tuple() in value:
@@ -825,50 +832,61 @@
 
 # Constructed Data Types:
 data trilen(h):
     def __new__(cls, a, b):
         return (a**2 + b**2)**0.5 |> datamaker(cls)
 
 # Inheritance:
-class A:
+class clsA:
     a = 1
     def true(self):
         return True
     def not_super(self):
         def \super() = self
         return super().true()
     @classmethod
     def cls_true(cls) = True
-class inh_A(A):
+class inh_A(clsA):
     def inh_true1(self) =
         super().true()
     def inh_true2(self) =
         super(inh_A, self).true()
     def inh_true3(nonstandard_self) =
         super().true()
     def inh_true4(self) =
         py_super(inh_A, self).true()
     inh_true5 = def (self) -> super().true()
     @classmethod
     def inh_cls_true(cls) = super().cls_true()
-class B:
+class clsB:
     b = 2
-class C:
+class clsC:
     c = 3
-class D:
+class clsD:
     d = 4
 
 class MyExc(Exception):
     def __init__(self, m):
         super().__init__(m)
 
 class MySubExc(MyExc):
     def __init__(self, m):
         super().__init__(m)
 
+class test_super_A:
+    @classmethod
+    addpattern def method(cls, {'somekey': str()}) = True
+
+
+class test_super_B(test_super_A):
+    @classmethod
+    addpattern def method(cls, {'someotherkey': int(), **rest}) =
+        super().method(rest)
+
+
 # Nesting:
 class Nest:
     class B:
         class C:
             d = "data"
             def m(self) = "method"
             none = None
@@ -1029,18 +1047,62 @@
 class unrepresentable:
     class Fail(Exception)
     def __repr__(self):
         raise Fail("unrepresentable")
 
 # Typing
 if TYPE_CHECKING or sys.version_info >= (3, 5):
-    from typing import List, Dict, Any, cast
+    from typing import (
+        List,
+        Dict,
+        Any,
+        cast,
+        Protocol,
+        TypeVar,
+        Generic,
+    )
+
+    T = TypeVar("T", covariant=True)
+    U = TypeVar("U", contravariant=True)
+    V = TypeVar("V", covariant=True)
+
+    class SupportsAdd(Protocol, Generic[T, U, V]):
+        def __add__(self: T, other: U) -> V:
+            raise NotImplementedError
+
+    class SupportsMul(Protocol, Generic[T, U, V]):
+        def __mul__(self: T, other: U) -> V:
+            raise NotImplementedError
+
+    class X(Protocol):
+        x: str
+
+    class Y(Protocol):
+        y: str
+
 else:
     def cast(typ, value) = value
 
+obj_with_add_and_mul: SupportsAdd &: SupportsMul = 10
+an_int: (
+    (+)
+    &: (-)
+    &: (*)
+    &: (**)
+    &: (/)
+    &: (//)
+    &: (%)
+    &: (&)
+    &: (^)
+    &: (|)
+    &: (<<)
+    &: (>>)
+    &: (~)
+) = 10
+
 def args_kwargs_func(args: List[Any]=[], kwargs: Dict[Any, Any]={}) -> typing.Literal[True] =
     True
 
 def int_func(*args: int, **kwargs: int) -> int =
     0
 
 def one_int_or_str(x: int | str) -> int | str = x
@@ -1052,14 +1114,23 @@
 
 def try_divide(x: float, y: float) -> Expected[float]:
     try:
         return Expected(x / y)
     except Exception as err:
         return Expected(error=err)
 
+class xy:
+    def __init__(self, x: str, y: str):
+        self.x: str = x
+        self.y: str = y
+
+def take_xy(xy: X &: Y) -> (str; str) =
+    xy.x, xy.y
+
+
 # Enhanced Pattern-Matching
 
 def fact_(0, acc=1) = acc
 addpattern def fact_(int() as n, acc=1 if n > 0) = fact_(n-1, acc*n)  # type: ignore
 
 def x_is_int(int() as x) = x
 
@@ -1287,14 +1358,21 @@
 def ret_locals() =
     abc = 1
     locals()
 def ret_globals() =
     abc = 1
     locals()
 
+global glob = 0
+copyclosure def wrong_get_set_glob(x):
+    global glob
+    old_glob, glob = glob, x
+    return old_glob
+def get_glob() = glob
+
 
 # Pos/kwd only args
 match def pos_only(a, b, /) = a, b
 
 match def kwd_only(*, a) = a
 
 
@@ -1378,25 +1456,49 @@
 
 match yield def just_it_of_int_(int() as x):
     yield x
 
 yield def num_it() -> int$[]:
     yield 5
 
+
+# combinators
+
+def S(f, g) = lift(f)(ident, g)
+K = const
+I = ident
+KI = const(ident)
+def W(f) = lift(f)(ident, ident)
+def C(f, x) = flip(f)$(x)
+B = (..)
+def B1(f, g, x) = f .. g$(x)
+def B2(f, g, x, y) = f .. g$(x, y)
+def B3(f, g, h) = f .. g .. h
+def D(f, x, g) = lift(f)(const x, g)
+def Phi(f, g, h) = lift(f)(g, h)
+def Psi(f, g, x) = g ..> lift(f)(const(g x), ident)
+def D1(f, x, y, g) = lift(f)(const x, const y, g)
+def D2(f, g, x, h) = lift(f)(const(g x), h)
+def E(f, x, g, y) = lift(f)(const x, g$(y))
+def Phi1(f, g, h, x) = lift(f)(g$(x), h$(x))
+def BE(f, g, x, y, h, z) = lift(f)(const(g x y), h$(z))
+
+def on(b, u) = (,) ..> map$(u) ..*> b
+
+
 # maximum difference
 def maxdiff1(ns) = (
     ns
     |> scan$(min)
     |> zip$(ns)
     |> starmap$(-)
     |> filter$(->_ != 0)
     |> reduce$(max, ?, -1)
 )
 
-def S(binop, unop) = lift(binop)(ident, unop)
 def ne_zero(x) = x != 0
 
 maxdiff2 = (
     reduce$(max, ?, -1)
     <.. filter$(ne_zero)
     <.. starmap$(-)
     <.. S(zip, scan$(min))
@@ -1539,15 +1641,15 @@
     def __index__(self if self.offset < 0) = self.offset
     def __call__(self) = self.offset or None
     def __bool__(self) = self.offset != 0
 
 end = End()
 
 
-# advent of code
+# coding challenges
 proc_moves = (
     .strip()
     ..> .splitlines()
     ..> map$(
         .split()
         ..*> (def (move, num) ->
             n = int(num);
@@ -1657,14 +1759,41 @@
     |> map$(set)
     |> enumerate
     |> filter$(.[1] ..> len ..> (.==n))
     |> map$(.[0] ..> (.+n))
     |> .$[0]
 )
 
+shifted_left_sum = (
+    scan$((+), ?, 0)
+    ..> .$[:-1]
+)
+
+shifted_right_sum = (
+    reversed
+    ..> shifted_left_sum
+    ..> list
+    ..> reversed
+)
+
+left_right_diff = (
+    lift(zip)(shifted_left_sum, shifted_right_sum)
+    ..> starmap$(-)
+    ..> map$(abs)
+)  # type: ignore
+
+num_until_neg_sum = (
+    sorted
+    ..> reversed
+    ..> scan$(+)
+    ..> filter$(.>0)
+    ..> list
+    ..> len
+)
+
 
 # Search patterns
 def first_twin(_ + [p, (.-2) -> p] + _) = (p, p+2)
 def first_twin_((*_, p, (.-2) -> p, *_)) = (p, p+2)
 
 def has_abc(s):
     match _ + "abc" + _ in s:
@@ -1786,7 +1915,54 @@
         return cls(new_shape, new_arr)
     def __fmap__(self, func):
         new_arr = zeros(self.shape)
         for ind in indices(self.shape):
             setind(new_arr, ind, func(getind(self.arr, ind)))
         return self.__class__(self.shape, new_arr)
     def __neg__(self) = self |> fmap$(-)
+
+
+# copyclosure
+
+def outer_func_normal():
+    funcs = []
+    for x in range(5):
+        def inner_func() = x
+        funcs.append(inner_func)
+    return funcs
+
+def outer_func_1():
+    funcs = []
+    for x in range(5):
+        copyclosure def inner_func() = x
+        funcs.append(inner_func)
+    return funcs
+
+def outer_func_2():
+    funcs = []
+    for x in range(5):
+        funcs.append(copyclosure def -> x)
+    return funcs
+
+def outer_func_3():
+    funcs = []
+    for x in range(5):
+        class inner_cls
+        @staticmethod
+        copyclosure def inner_cls.inner_func() = x
+        funcs.append(inner_cls.inner_func)
+    return funcs
+
+def outer_func_4():
+    funcs = []
+    for x in range(5):
+        match def inner_func(x) = x
+        addpattern copyclosure def inner_func() = x
+        funcs.append(inner_func)
+    return funcs
+
+def outer_func_5() -> (() -> int)[]:
+    funcs = []
+    for x in range(5):
+        copyclosure def inner_func() -> int = x
+        funcs.append(inner_func)
+    return funcs
```

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/tests/src/cocotest/non_strict/non_strict_test.coco` & `coconut-develop-3.0.1.post0.dev1/coconut/tests/src/cocotest/non_strict/non_strict_test.coco`

 * *Files 4% similar despite different names*

```diff
@@ -41,15 +41,15 @@
         assert False
     match [A.CONST] in [10]:  # type: ignore
         pass
     else:
         assert False
     match A.CONST in 11:  # type: ignore
         assert False
-    assert A.CONST == 10
+    assert A.CONST == 10 == A.("CONST")
     match {"a": 1, "b": 2}:  # type: ignore
         case {"a": a}:
             pass
         case _:
             assert False
     assert a == 1  # type: ignore
     x is int = 10
@@ -76,11 +76,13 @@
             pass
     else:
         assert False
     def weird_func(f:lambda g=->_:g=lambda h=->_:h) = f  # type: ignore
     assert weird_func()()(5) == 5
     a_dict: TextMap[str, int] = {"a": 1}
     assert a_dict["a"] == 1
+    assert "". <| "join" <| ["1","2","3"] == "123"
+    assert "a b c" == (" ". ?? "not gonna happen")("join")("abc")
     return True
 
 if __name__ == "__main__":
     assert non_strict_test()
```

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/tests/src/cocotest/target_3/py3_test.coco` & `coconut-develop-3.0.1.post0.dev1/coconut/tests/src/cocotest/target_3/py3_test.coco`

 * *Files identical despite different names*

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/tests/src/cocotest/target_sys/target_sys_test.coco` & `coconut-develop-3.0.1.post0.dev1/coconut/tests/src/cocotest/target_sys/target_sys_test.coco`

 * *Files identical despite different names*

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/tests/src/extras.coco` & `coconut-develop-3.0.1.post0.dev1/coconut/tests/src/extras.coco`

 * *Files 9% similar despite different names*

```diff
@@ -2,15 +2,15 @@
 
 from coconut.__coconut__ import consume as coc_consume
 from coconut.constants import (
     IPY,
     PY2,
     PY34,
     PY35,
-    WINDOWS,
+    PY36,
     PYPY,
 )  # type: ignore
 from coconut._pyparsing import USE_COMPUTATION_GRAPH  # type: ignore
 from coconut.exceptions import (
     CoconutSyntaxError,
     CoconutStyleError,
     CoconutTargetError,
@@ -21,46 +21,53 @@
     cmd,
     version,
     setup,
     parse,
     coconut_eval,
 )
 
-if IPY and not WINDOWS:
+if IPY:
     if PY35:
         import asyncio
     from coconut.icoconut import CoconutKernel  # type: ignore
+    from jupyter_client.session import Session
 else:
     CoconutKernel = None  # type: ignore
+    Session = object  # type: ignore
 
 
-def assert_raises(c, exc, not_exc=None, err_has=None):
-    """Test whether callable c raises an exception of type exc."""
-    if not_exc is None and exc is CoconutSyntaxError:
-        not_exc = CoconutParseError
+def assert_raises(c, Exc, not_Exc=None, err_has=None):
+    """Test whether callable c raises an exception of type Exc."""
+    if not_Exc is None and Exc is CoconutSyntaxError:
+        not_Exc = CoconutParseError
     # we don't check err_has without the computation graph since errors can be quite different
     if not USE_COMPUTATION_GRAPH:
         err_has = None
 
     try:
         c()
-    except exc as err:
-        if not_exc is not None:
-            assert not isinstance(err, not_exc), f"{err} instance of {not_exc}"
+    except Exc as err:
+        if not_Exc is not None:
+            assert not isinstance(err, not_Exc), f"{err} instance of {not_Exc}"
         if err_has is not None:
             if isinstance(err_has, tuple):
                 assert any(has in str(err) for has in err_has), f"{str(err)!r} does not contain any of {err_has!r}"
             else:
                 assert err_has in str(err), f"{err_has!r} not in {str(err)!r}"
-        if exc `isinstance` CoconutSyntaxError:
-            assert "SyntaxError" in str(exc.syntax_err())
+        if err `isinstance` CoconutSyntaxError:
+            syntax_err = err.syntax_err()
+            assert syntax_err `isinstance` SyntaxError
+            syntax_err_str = str(syntax_err)
+            assert syntax_err_str.splitlines()$[0] in str(err), (syntax_err_str, str(err))
+            assert "unprintable" not in syntax_err_str, syntax_err_str
+            assert "<exception" not in syntax_err_str, syntax_err_str
     except BaseException as err:
-        raise AssertionError(f"got wrong exception {err} (expected {exc})")
+        raise AssertionError(f"got wrong exception {err} (expected {Exc})")
     else:
-        raise AssertionError(f"{c} failed to raise exception {exc}")
+        raise AssertionError(f"{c} failed to raise exception {Exc}")
 
 
 def unwrap_future(event_loop, maybe_future):
     """
     If the passed value looks like a Future, return its result, otherwise return the value unchanged.
 
     This is needed for the CoconutKernel test to be compatible with ipykernel version 5 and newer,
@@ -70,14 +77,23 @@
         return maybe_future.result()
     elif event_loop is not None:
         return event_loop.run_until_complete(maybe_future)
     else:
         return maybe_future
 
 
+class FakeSession(Session):
+    if TYPE_CHECKING:
+        captured_messages: list[tuple] = []
+    else:
+        captured_messages: list = []
+    def send(self, stream, msg_or_type, content, *args, **kwargs):
+        self.captured_messages.append((msg_or_type, content))
+
+
 def test_setup_none() -> bool:
     assert_raises((def -> import \(_coconut)), ImportError, err_has="should never be done at runtime")  # NOQA
     assert_raises((def -> import \_coconut), ImportError, err_has="should never be done at runtime")  # NOQA
 
     assert consume(range(10), keep_last=1)[0] == 9 == coc_consume(range(10), keep_last=1)[0]
     assert version() == version("num")
     assert version("spec")
@@ -168,14 +184,16 @@
     assert_raises(-> parse("(..*?>)"), CoconutSyntaxError, err_has="'..?*>'")
     assert_raises(-> parse("(..**?>)"), CoconutSyntaxError, err_has="'..?**>'")
     assert_raises(-> parse("(<?*..)"), CoconutSyntaxError, err_has="'<*?..'")
     assert_raises(-> parse("(<?**..)"), CoconutSyntaxError, err_has="'<**?..'")
     assert_raises(-> parse("(.+1) .. x -> x * 2"), CoconutSyntaxError, err_has="<..")
     assert_raises(-> parse('f"Black holes {*all_black_holes} and revelations"'), CoconutSyntaxError, err_has="format string")
     assert_raises(-> parse("operator ++\noperator ++"), CoconutSyntaxError, err_has="custom operator already declared")
+    assert_raises(-> parse("type HasIn = (in)"), CoconutSyntaxError, err_has="not supported")
+
     assert_raises(
         -> parse("type abc[T,T] = T | T"),
         CoconutSyntaxError,
         err_has=r"""
 cannot reassign type variable 'T' (use explicit '\T' syntax if intended) (line 1)
   type abc[T,T] = T | T
              ^
@@ -186,23 +204,29 @@
     assert_raises(-> parse("range(1,10) |> reduce$(*, initializer = 1000) |> print"), CoconutParseError, err_has=" ~~~~~~~~~~~~~~~~~~~~~~~~^")
     assert_raises(-> parse("a := b"), CoconutParseError, err_has=" ~~^")
     assert_raises(-> parse("1 + return"), CoconutParseError, err_has=" ~~~~~^")
     assert_raises(-> parse("""
 def f() =
     assert 1
     assert 2
-    """.strip()), CoconutParseError, err_has="""
+    """.strip()), CoconutParseError, err_has=(
+        """
       assert 2
 
   ~~~~~~~~~~~~^
         """.strip(),
-    )
+        """
+  assert 2
+          ^
+        """.strip()
+    ))
     assert_raises(-> parse('b"abc" "def"'), CoconutParseError, err_has=" ~~~~~~~^")
     assert_raises(-> parse('"abc" b"def"'), CoconutParseError, err_has=" ~~~~~~^")
     assert_raises(-> parse('"a" 10'), CoconutParseError, err_has=" ~~~~^")
+    assert_raises(-> parse("A. ."), CoconutParseError, err_has=" ~~~^")
 
     assert_raises(-> parse("return = 1"), CoconutParseError, err_has='invalid use of the keyword "return"')
     assert_raises(-> parse("if a = b: pass"), CoconutParseError, err_has="misplaced assignment")
     assert_raises(-> parse("while a == b"), CoconutParseError, err_has="misplaced newline")
 
     try:
         parse("""
@@ -219,20 +243,21 @@
     |> map$(int(?, 2))
     |*> (*)
 )
         """.strip())
     except CoconutParseError as err:
         err_str = str(err)
         assert "misplaced '?'" in err_str
-        assert """
+        if not PYPY:
+            assert """
   |> map$(int(?, 2))
          ~~~~~^""" in err_str or """
       |> map$(int(?, 2))
 
-  ~~~~~~~~~~~~~~~~~^""" in err_str
+  ~~~~~~~~~~~~~~~~~^""" in err_str, err_str
     else:
         assert False
 
     assert parse("def f(x):\n ${var}", "xonsh") == "def f(x):\n    ${var}\n"
     assert "data ABC" not in parse("data ABC:\n ${var}", "xonsh")
 
     assert parse('"abc" "xyz"', "lenient") == "'abcxyz'"
@@ -286,14 +311,15 @@
         """.strip())
     except CoconutStyleError as err:
         assert str(err) == """found deprecated isinstance-checking 'x is int is str' pattern; rewrite to use class patterns (try 'int(x) and str(x)') or explicit isinstance-checking ('x `isinstance` int and x `isinstance` str' should always work) (remove --strict to downgrade to a warning) (line 2)
   x is int is str = x""", err
     assert_raises(-> parse("""case x:
     match x:
         pass"""), CoconutStyleError, err_has="case x:")
+    assert_raises(-> parse("obj."), CoconutStyleError, err_has="getattr")
 
     setup(strict=True, target="sys")
     assert_raises(-> parse("await f x"), CoconutParseError, err_has='invalid use of the keyword "await"')
 
     setup(target="2.7")
     assert parse("from io import BytesIO", mode="lenient") == "from io import BytesIO"
     assert_raises(-> parse("def f(*, x=None) = x"), CoconutTargetError, err_has="\n        ^")
@@ -345,38 +371,58 @@
 
 def test_kernel() -> bool:
     if PY35:
         loop = asyncio.new_event_loop()
         asyncio.set_event_loop(loop)
     else:
         loop = None  # type: ignore
+
     k = CoconutKernel()
+    fake_session = FakeSession()
+    k.shell.displayhook.session = fake_session
+
     exec_result = k.do_execute("derp = pow$(?, 2)", False, True, {"two": "(+)(1, 1)"}, True) |> unwrap_future$(loop)
     assert exec_result["status"] == "ok"
     assert exec_result["user_expressions"]["two"]["data"]["text/plain"] == "2"
-    assert k.do_execute("operator ++", False, True, {}, True) |> unwrap_future$(loop)
-    assert k.do_execute("(++) = 1", False, True, {}, True) |> unwrap_future$(loop)
+
+    assert k.do_execute("operator ++", False, True, {}, True) |> unwrap_future$(loop) |> .["status"] == "ok"
+    assert k.do_execute("(++) = 1", False, True, {}, True) |> unwrap_future$(loop) |> .["status"] == "ok"
+
+    fail_result = k.do_execute("f([] {})", False, True, {}, True) |> unwrap_future$(loop)
+    captured_msg_type, captured_msg_content = fake_session.captured_messages[-1]
+    assert fail_result["status"] == "error" == captured_msg_type, fail_result
+    assert fail_result["ename"] == "SyntaxError" == captured_msg_content["ename"], fail_result
+    assert fail_result["traceback"] == captured_msg_content["traceback"], fail_result
+    assert len(fail_result["traceback"]) == 1, fail_result
+    assert "parsing failed" in fail_result["traceback"][0], fail_result
+    assert fail_result["evalue"] == captured_msg_content["evalue"], fail_result
+    assert "parsing failed" in fail_result["evalue"], fail_result
+
     assert k.do_is_complete("if abc:")["status"] == "incomplete"
     assert k.do_is_complete("f(")["status"] == "incomplete"
     assert k.do_is_complete("abc")["status"] == "complete"
+
     inspect_result = k.do_inspect("derp", 4, 0)
     assert inspect_result["status"] == "ok"
     assert inspect_result["found"]
     assert inspect_result["data"]["text/plain"]
+
     complete_result = k.do_complete("der", 1)
     assert complete_result["status"] == "ok"
     assert "derp" in complete_result["matches"]
     assert complete_result["cursor_start"] == 0
     assert complete_result["cursor_end"] == 1
+
     keyword_complete_result = k.do_complete("ma", 1)
     assert keyword_complete_result["status"] == "ok"
     assert "match" in keyword_complete_result["matches"]
     assert "map" in keyword_complete_result["matches"]
     assert keyword_complete_result["cursor_start"] == 0
     assert keyword_complete_result["cursor_end"] == 1
+
     return True
 
 
 def test_numpy() -> bool:
     import numpy as np
     A = np.array([1, 2;; 3, 4])
     B = np.array([5, 6;; 7, 8])
@@ -418,15 +464,15 @@
     assert not non_zero_diags([1,0,0;;0,1,0;;1,0,1])
     enumeration = multi_enumerate(np.array([1, 2;; 3, 4]))
     assert len(enumeration) == 4  # type: ignore
     assert enumeration[2] == ((1, 0), 3)  # type: ignore
     assert list(enumeration) == [((0, 0), 1), ((0, 1), 2), ((1, 0), 3), ((1, 1), 4)]
     for ind, x in multi_enumerate(np.array([1, 2])):
         assert ind `isinstance` tuple, (type(ind), ind)
-        assert x `isinstance` np.int32, (type(x), x)
+        assert x `isinstance` (np.int32, np.int64), (type(x), x)
     assert all_equal(np.array([]))
     assert all_equal(np.array([1]))
     assert all_equal(np.array([1, 1]))
     assert all_equal(np.array([1, 1;; 1, 1]))
     assert not all_equal(np.array([1, 1;; 1, 2]))
     assert (
         cartesian_product(np.array([1, 2]), np.array([3, 4]))
@@ -450,17 +496,49 @@
 
     # must come at end; checks no modification
     assert A `np.array_equal` np.array([1, 2;; 3, 4])
     assert B `np.array_equal` np.array([5, 6;; 7, 8])
     return True
 
 
+def test_pandas() -> bool:
+    import pandas as pd
+    import numpy as np
+    d1 = pd.DataFrame({"nums": [1, 2, 3], "chars": ["a", "b", "c"]})
+    assert d1$[0] == "nums"
+    assert [d1; d1].keys() |> list == ["nums", "chars"] * 2  # type: ignore
+    assert [d1;; d1].itertuples() |> list == [(0, 1, 'a'), (1, 2, 'b'), (2, 3, 'c'), (0, 1, 'a'), (1, 2, 'b'), (2, 3, 'c')]  # type: ignore
+    d2 = pd.DataFrame({"a": range(3) |> list, "b": range(1, 4) |> list})
+    d3 = d2 |> fmap$(fmap$(.+1))
+    assert d3["a"] |> list == range(1, 4) |> list
+    assert d3["b"] |> list == range(2, 5) |> list
+    assert multi_enumerate(d1) |> list == [((0, 0), 1), ((1, 0), 2), ((2, 0), 3), ((0, 1), 'a'), ((1, 1), 'b'), ((2, 1), 'c')]
+    assert not all_equal(d1)
+    assert not all_equal(d2)
+    assert cartesian_product(d1["nums"], d1["chars"]) `np.array_equal` np.array([
+        1; 'a';;
+        1; 'b';;
+        1; 'c';;
+        2; 'a';;
+        2; 'b';;
+        2; 'c';;
+        3; 'a';;
+        3; 'b';;
+        3; 'c';;
+    ], dtype=object)  # type: ignore
+    d4 = d1 |> fmap$(def r -> r["nums2"] = r["nums"]*2; r)
+    assert (d4["nums"] * 2 == d4["nums2"]).all()
+    return True
+
+
 def test_extras() -> bool:
     if not PYPY and (PY2 or PY34):
         assert test_numpy() is True
+    if not PYPY and PY36:
+        assert test_pandas() is True
     if CoconutKernel is not None:
         assert test_kernel() is True
     assert test_setup_none() is True
     assert test_convenience() is True
     return True
```

### Comparing `coconut-develop-3.0.0a0.dev9/coconut/util.py` & `coconut-develop-3.0.1.post0.dev1/coconut/util.py`

 * *Files 5% similar despite different names*

```diff
@@ -26,14 +26,15 @@
 import traceback
 import time
 import ast
 from zlib import crc32
 from warnings import warn
 from types import MethodType
 from contextlib import contextmanager
+from collections import defaultdict
 
 if sys.version_info >= (3, 2):
     from functools import lru_cache
 else:
     try:
         from backports.functools_lru_cache import lru_cache
     except ImportError:
@@ -52,19 +53,14 @@
 
 
 # -----------------------------------------------------------------------------------------------------------------------
 # UTILITIES:
 # -----------------------------------------------------------------------------------------------------------------------
 
 
-def printerr(*args, **kwargs):
-    """Prints to standard error."""
-    print(*args, file=sys.stderr, **kwargs)
-
-
 def univ_open(filename, opentype="r+", encoding=None, **kwargs):
     """Open a file using default_encoding."""
     if encoding is None:
         encoding = default_encoding
     if "b" not in opentype:
         kwargs["encoding"] = encoding
     # we use io.open from coconut.root here
@@ -205,20 +201,51 @@
     """A context manager that does nothing."""
     yield
 
 
 def memoize(maxsize=None, *args, **kwargs):
     """Decorator that memoizes a function, preventing it from being recomputed
     if it is called multiple times with the same arguments."""
+    assert maxsize is None or isinstance(maxsize, int), maxsize
     if lru_cache is None:
         return lambda func: func
     else:
         return lru_cache(maxsize, *args, **kwargs)
 
 
+def memoize_with_exceptions(*memo_args, **memo_kwargs):
+    """Decorator that works like memoize but also memoizes exceptions."""
+    def memoizer(func):
+        @memoize(*memo_args, **memo_kwargs)
+        def memoized_safe_func(*args, **kwargs):
+            res = exc = None
+            try:
+                res = func(*args, **kwargs)
+            except Exception as exc:
+                return res, exc
+            else:
+                return res, exc
+
+        def memoized_func(*args, **kwargs):
+            res, exc = memoized_safe_func(*args, **kwargs)
+            if exc is not None:
+                raise exc
+            return res
+        return memoized_func
+    return memoizer
+
+
+class keydefaultdict(defaultdict, object):
+    """Version of defaultdict that calls the factory with the key."""
+
+    def __missing__(self, key):
+        self[key] = self.default_factory(key)
+        return self[key]
+
+
 # -----------------------------------------------------------------------------------------------------------------------
 # VERSIONING:
 # -----------------------------------------------------------------------------------------------------------------------
 
 
 def ver_tuple_to_str(req_ver):
     """Converts a requirement version tuple into a version string."""
```

### Comparing `coconut-develop-3.0.0a0.dev9/coconut_develop.egg-info/SOURCES.txt` & `coconut-develop-3.0.1.post0.dev1/coconut_develop.egg-info/SOURCES.txt`

 * *Files identical despite different names*

### Comparing `coconut-develop-3.0.0a0.dev9/conf.py` & `coconut-develop-3.0.1.post0.dev1/conf.py`

 * *Files identical despite different names*

### Comparing `coconut-develop-3.0.0a0.dev9/setup.py` & `coconut-develop-3.0.1.post0.dev1/setup.py`

 * *Files identical despite different names*

### Comparing `coconut-develop-3.0.0a0.dev9/xontrib/coconut.py` & `coconut-develop-3.0.1.post0.dev1/xontrib/coconut.py`

 * *Files 24% similar despite different names*

```diff
@@ -15,15 +15,15 @@
 # IMPORTS:
 # ----------------------------------------------------------------------------------
 
 from __future__ import print_function, absolute_import, unicode_literals, division
 
 from coconut.root import *  # NOQA
 
-from coconut.integrations import _load_xontrib_
+from coconut.integrations import _load_xontrib_, _unload_xontrib_  # NOQA
 
 # -----------------------------------------------------------------------------------------------------------------------
 # MAIN:
 # -----------------------------------------------------------------------------------------------------------------------
 
 try:
     __xonsh__
```

