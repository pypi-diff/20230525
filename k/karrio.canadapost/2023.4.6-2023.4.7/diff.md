# Comparing `tmp/karrio.canadapost-2023.4.6-py3-none-any.whl.zip` & `tmp/karrio.canadapost-2023.4.7-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,25 +1,25 @@
-Zip file size: 23173 bytes, number of entries: 23
+Zip file size: 23225 bytes, number of entries: 23
 -rw-rw-r--  2.0 unx      572 b- defN 23-Apr-23 04:04 karrio/mappers/canadapost/__init__.py
 -rw-rw-r--  2.0 unx     3357 b- defN 23-Apr-23 04:04 karrio/mappers/canadapost/mapper.py
 -rw-rw-r--  2.0 unx    10326 b- defN 23-Apr-23 04:04 karrio/mappers/canadapost/proxy.py
 -rw-rw-r--  2.0 unx      510 b- defN 23-Apr-23 04:04 karrio/mappers/canadapost/settings.py
 -rw-rw-r--  2.0 unx      688 b- defN 22-Nov-15 19:21 karrio/providers/canadapost/__init__.py
 -rw-rw-r--  2.0 unx     1304 b- defN 23-Feb-18 18:30 karrio/providers/canadapost/error.py
--rw-rw-r--  2.0 unx     6302 b- defN 23-May-24 17:23 karrio/providers/canadapost/rate.py
+-rw-rw-r--  2.0 unx     6359 b- defN 23-May-25 18:20 karrio/providers/canadapost/rate.py
 -rw-rw-r--  2.0 unx     2769 b- defN 23-Apr-23 04:04 karrio/providers/canadapost/tracking.py
 -rw-rw-r--  2.0 unx     8116 b- defN 23-Apr-23 04:04 karrio/providers/canadapost/units.py
 -rw-rw-r--  2.0 unx     1447 b- defN 23-Apr-23 04:04 karrio/providers/canadapost/utils.py
 -rw-rw-r--  2.0 unx      304 b- defN 22-Nov-15 19:21 karrio/providers/canadapost/pickup/__init__.py
 -rw-rw-r--  2.0 unx     1001 b- defN 23-Apr-23 04:04 karrio/providers/canadapost/pickup/cancel.py
 -rw-rw-r--  2.0 unx     7056 b- defN 23-Apr-23 04:04 karrio/providers/canadapost/pickup/create.py
 -rw-rw-r--  2.0 unx     1675 b- defN 23-Apr-23 04:04 karrio/providers/canadapost/pickup/update.py
 -rw-rw-r--  2.0 unx      236 b- defN 22-Nov-15 19:21 karrio/providers/canadapost/shipment/__init__.py
 -rw-rw-r--  2.0 unx     2467 b- defN 23-Apr-23 04:04 karrio/providers/canadapost/shipment/cancel.py
--rw-rw-r--  2.0 unx    10360 b- defN 23-May-24 17:21 karrio/providers/canadapost/shipment/contract.py
+-rw-rw-r--  2.0 unx    10413 b- defN 23-May-25 18:20 karrio/providers/canadapost/shipment/contract.py
 -rw-rw-r--  2.0 unx     2135 b- defN 23-Apr-23 04:04 karrio/providers/canadapost/shipment/create.py
--rw-rw-r--  2.0 unx     7999 b- defN 23-May-24 17:22 karrio/providers/canadapost/shipment/non_contract.py
--rw-rw-r--  2.0 unx     1016 b- defN 23-May-25 14:30 karrio.canadapost-2023.4.6.dist-info/METADATA
--rw-rw-r--  2.0 unx       92 b- defN 23-May-25 14:30 karrio.canadapost-2023.4.6.dist-info/WHEEL
--rw-rw-r--  2.0 unx        7 b- defN 23-May-25 14:30 karrio.canadapost-2023.4.6.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     2211 b- defN 23-May-25 14:30 karrio.canadapost-2023.4.6.dist-info/RECORD
-23 files, 71950 bytes uncompressed, 19479 bytes compressed:  72.9%
+-rw-rw-r--  2.0 unx     8052 b- defN 23-May-25 18:20 karrio/providers/canadapost/shipment/non_contract.py
+-rw-rw-r--  2.0 unx     1016 b- defN 23-May-25 18:21 karrio.canadapost-2023.4.7.dist-info/METADATA
+-rw-rw-r--  2.0 unx       92 b- defN 23-May-25 18:21 karrio.canadapost-2023.4.7.dist-info/WHEEL
+-rw-rw-r--  2.0 unx        7 b- defN 23-May-25 18:21 karrio.canadapost-2023.4.7.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     2211 b- defN 23-May-25 18:21 karrio.canadapost-2023.4.7.dist-info/RECORD
+23 files, 72113 bytes uncompressed, 19531 bytes compressed:  72.9%
```

## zipnote {}

```diff
@@ -51,20 +51,20 @@
 
 Filename: karrio/providers/canadapost/shipment/create.py
 Comment: 
 
 Filename: karrio/providers/canadapost/shipment/non_contract.py
 Comment: 
 
-Filename: karrio.canadapost-2023.4.6.dist-info/METADATA
+Filename: karrio.canadapost-2023.4.7.dist-info/METADATA
 Comment: 
 
-Filename: karrio.canadapost-2023.4.6.dist-info/WHEEL
+Filename: karrio.canadapost-2023.4.7.dist-info/WHEEL
 Comment: 
 
-Filename: karrio.canadapost-2023.4.6.dist-info/top_level.txt
+Filename: karrio.canadapost-2023.4.7.dist-info/top_level.txt
 Comment: 
 
-Filename: karrio.canadapost-2023.4.6.dist-info/RECORD
+Filename: karrio.canadapost-2023.4.7.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## karrio/providers/canadapost/rate.py

```diff
@@ -90,33 +90,36 @@
     ).single
     services = lib.to_services(payload.services, provider_units.ServiceType)
     options = lib.to_shipping_options(
         payload.options,
         package_options=package.options,
         initializer=provider_units.shipping_options_initializer,
     )
+    options_items = [
+        option for _, option in options.items()
+        if option.state is not False
+    ]
 
     request = mailing_scenario(
         customer_number=settings.customer_number,
         contract_id=settings.contract_id,
         promo_code=None,
         quote_type=None,
         expected_mailing_date=options.shipment_date.state,
         options=(
             optionsType(
                 option=[
                     optionType(
                         option_code=option.code,
                         option_amount=lib.to_money(option.state),
                     )
-                    for _, option in options.items()
-                    if option.state is not False
+                    for option in options_items
                 ]
             )
-            if any(options.items())
+            if any(options_items)
             else None
         ),
         parcel_characteristics=parcel_characteristicsType(
             weight=package.weight.map(provider_units.MeasurementOptions).KG,
             dimensions=dimensionsType(
                 length=package.length.map(provider_units.MeasurementOptions).CM,
                 width=package.width.map(provider_units.MeasurementOptions).CM,
```

## karrio/providers/canadapost/shipment/contract.py

```diff
@@ -82,14 +82,18 @@
         options=payload.options,
         package_options=package.options,
         is_international=(
             recipient.country_code is not None and recipient.country_code != "CA"
         ),
         initializer=provider_units.shipping_options_initializer,
     )
+    options_items = [
+        option for _, option in options.items()
+        if option.state is not False
+    ]
 
     customs = lib.to_customs_info(payload.customs)
     duty = getattr(customs, "duty", None) or models.Duty()
     label_encoding, label_format = provider_units.LabelType[
         payload.label_type or "PDF_4x6"
     ].value
 
@@ -153,19 +157,18 @@
                     option=[
                         OptionType(
                             option_code=option.code,
                             option_amount=lib.to_money(option.state),
                             option_qualifier_1=None,
                             option_qualifier_2=None,
                         )
-                        for _, option in options.items()
-                        if option.state is not False
+                        for option in options_items
                     ]
                 )
-                if any(options.items())
+                if any(options_items)
                 else None
             ),
             notification=(
                 NotificationType(
                     email=(options.email_notification_to.state or recipient.email),
                     on_shipment=True,
                     on_exception=True,
```

## karrio/providers/canadapost/shipment/non_contract.py

```diff
@@ -58,14 +58,18 @@
         options=payload.options,
         package_options=package.options,
         is_international=(
             recipient.country_code is not None and recipient.country_code != "CA"
         ),
         initializer=provider_units.shipping_options_initializer,
     )
+    options_items = [
+        option for _, option in options.items()
+        if option.state is not False
+    ]
 
     request = canadapost.NonContractShipmentType(
         requested_shipping_point=None,
         delivery_spec=canadapost.DeliverySpecType(
             service_code=service,
             sender=canadapost.SenderType(
                 name=shipper.person_name,
@@ -102,19 +106,18 @@
                     option=[
                         canadapost.OptionType(
                             option_code=option.code,
                             option_amount=lib.to_money(option.state),
                             option_qualifier_1=None,
                             option_qualifier_2=None,
                         )
-                        for _, option in options.items()
-                        if option.state is not False
+                        for option in options_items
                     ]
                 )
-                if any(options.items())
+                if any(options_items)
                 else None
             ),
             parcel_characteristics=canadapost.ParcelCharacteristicsType(
                 weight=lib.to_decimal(package.weight.KG, 0.1),
                 dimensions=canadapost.dimensionsType(
                     length=lib.to_decimal(package.length.CM, 0.1),
                     width=lib.to_decimal(package.width.CM, 0.1),
```

## Comparing `karrio.canadapost-2023.4.6.dist-info/METADATA` & `karrio.canadapost-2023.4.7.dist-info/METADATA`

 * *Files 2% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: karrio.canadapost
-Version: 2023.4.6
+Version: 2023.4.7
 Summary: Karrio - Canada Post Shipping Extension
 Home-page: https://github.com/karrioapi/karrio
 Author: karrio
 Author-email: hello@karrio.io
 License: Apache-2.0
 Platform: UNKNOWN
 Classifier: Intended Audience :: Developers
```

## Comparing `karrio.canadapost-2023.4.6.dist-info/RECORD` & `karrio.canadapost-2023.4.7.dist-info/RECORD`

 * *Files 16% similar despite different names*

```diff
@@ -1,23 +1,23 @@
 karrio/mappers/canadapost/__init__.py,sha256=hNFl2YQ_uPnU4o9z0ijVC50tHMYLGy8wDQC-QVcZv-0,572
 karrio/mappers/canadapost/mapper.py,sha256=7qJcrL4Y4EUlzm90ze-MOK8LNJ1NZLIFuM9P_4uGXnQ,3357
 karrio/mappers/canadapost/proxy.py,sha256=dJ7l6R_gqiRNcS9oXitKjJ4WEgOes_P2mDEvjl3aeSY,10326
 karrio/mappers/canadapost/settings.py,sha256=oJd4dxBErIjO9E9dseG7CFdw0Z6It4OgbPzRSuZIhlU,510
 karrio/providers/canadapost/__init__.py,sha256=VPGPLfVtfjRnwrUlQVnR8rmkp1fMIPmDIxiqhOvDKpg,688
 karrio/providers/canadapost/error.py,sha256=DTGhD7NRllKDQ55SMnH4-O1z6jLY_9AyZVvcWN5v6VQ,1304
-karrio/providers/canadapost/rate.py,sha256=o8E4z6w2MZRmzF4ELn-jfwuy7O0lOSWjUr9ZeKWya1U,6302
+karrio/providers/canadapost/rate.py,sha256=VLVOSQOisO8g5lddGjfEbSvw9KFp7hnhOh1PCk6TVOY,6359
 karrio/providers/canadapost/tracking.py,sha256=0hh8HalsKTWXwJVec-v7QoS-gSpyzBpGak3YDV6tRog,2769
 karrio/providers/canadapost/units.py,sha256=QOKO6nrU-MkqPoi5rs2xkQa_vKFU98f3GNIPJ7Zdit4,8116
 karrio/providers/canadapost/utils.py,sha256=teT0hKrQs7_s7LgoL-RZagQv7ETCeZQ9NPp70U7HWGY,1447
 karrio/providers/canadapost/pickup/__init__.py,sha256=uLN8GzjaW1ezPty1NxIKKFouHwkMGeYsdK_yAg7OwxE,304
 karrio/providers/canadapost/pickup/cancel.py,sha256=io3_KxVzwAkH1zcIc1ycPwf_Up16mI_pgT84BCu0P3k,1001
 karrio/providers/canadapost/pickup/create.py,sha256=oBdmlodve9cyaQMZVT1fwT6reuHjJ7ftKonFemriB6o,7056
 karrio/providers/canadapost/pickup/update.py,sha256=S0SfblN6LPkSl_1SyVmuELJIqOPEuKLFFzwYU3fs0K0,1675
 karrio/providers/canadapost/shipment/__init__.py,sha256=kITqJglgqlnoHrBdCr8iQXugr0PfZwaoTK9kiuYlkGQ,236
 karrio/providers/canadapost/shipment/cancel.py,sha256=swI8kAgTPwWIEvJHx4Y9FJRQTtHZD-SAhTIZkZSZ08w,2467
-karrio/providers/canadapost/shipment/contract.py,sha256=48jBxb23ovIqKorMJcz6GFfcfpqpj0CEYxlIFi90f5g,10360
+karrio/providers/canadapost/shipment/contract.py,sha256=UHNN0NNeo0_BOFV1RsKWAP975ojhV3K5gbts66JE-z4,10413
 karrio/providers/canadapost/shipment/create.py,sha256=VV-FM-d0qjjT-RbMqVcDNvgOKSVrGKY3yGAH90-XtSU,2135
-karrio/providers/canadapost/shipment/non_contract.py,sha256=5QYo0zfJMKELC1-07v8uj6xwk8T8FNuI9LY8QjCeOZM,7999
-karrio.canadapost-2023.4.6.dist-info/METADATA,sha256=l10s9dAOtFOjmv8-t5_5AzGSn9QV3OW3_8VAZA1OAHk,1016
-karrio.canadapost-2023.4.6.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-karrio.canadapost-2023.4.6.dist-info/top_level.txt,sha256=mfkVZXzNuVRmA7NRlck_Ub-C8Zgtqxbx3gX1Rq_W-i0,7
-karrio.canadapost-2023.4.6.dist-info/RECORD,,
+karrio/providers/canadapost/shipment/non_contract.py,sha256=R1_2if-B8LCy-f97edp-5Hcff202_xgSVehMzxsEdLk,8052
+karrio.canadapost-2023.4.7.dist-info/METADATA,sha256=VUHManZVUgjZgmfp1f0ri3jL2UiCQBZzFQWedY4pBKE,1016
+karrio.canadapost-2023.4.7.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+karrio.canadapost-2023.4.7.dist-info/top_level.txt,sha256=mfkVZXzNuVRmA7NRlck_Ub-C8Zgtqxbx3gX1Rq_W-i0,7
+karrio.canadapost-2023.4.7.dist-info/RECORD,,
```

